diff --git a/TMessagesProj/TMessagesProj-x86-release.apk b/TMessagesProj/TMessagesProj-x86-release.apk
index 192b9b28a..62ca1c766 100644
Binary files a/TMessagesProj/TMessagesProj-x86-release.apk and b/TMessagesProj/TMessagesProj-x86-release.apk differ
diff --git a/TMessagesProj/build.gradle b/TMessagesProj/build.gradle
index 20908b302..a90990e05 100644
--- a/TMessagesProj/build.gradle
+++ b/TMessagesProj/build.gradle
@@ -32,6 +32,12 @@ android {
         }
 
     }
+        lintOptions {
+            checkReleaseBuilds false
+            // Or, if you prefer, you can continue to check for errors in release builds,
+            // but continue the build even when errors are found:
+            abortOnError false
+        }
     compileSdkVersion 25
     buildToolsVersion '25.0.2'
 
diff --git a/TMessagesProj/config/release/AndroidManifest.xml b/TMessagesProj/config/release/AndroidManifest.xml
index 5ecab4d22..bddee984c 100644
--- a/TMessagesProj/config/release/AndroidManifest.xml
+++ b/TMessagesProj/config/release/AndroidManifest.xml
@@ -18,6 +18,7 @@
 
     <permission android:name="org.telegram.multi.permission.MAPS_RECEIVE" android:protectionLevel="signature"/>
     <permission android:name="org.telegram.multi.permission.C2D_MESSAGE" android:protectionLevel="signature" />
+    <permission android:name="org.telegram.multi.android.provider.ACCESS" android:protectionLevel="signature"/>
 
     <application
         android:allowBackup="true"
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/AndroidUtilities.java b/TMessagesProj/src/main/java/org/telegram/messenger/AndroidUtilities.java
index c26316e61..278754127 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/AndroidUtilities.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/AndroidUtilities.java
@@ -388,7 +388,7 @@ public static void unlockOrientation(Activity activity) {
         }
         try {
             if (prevOrientation != -10) {
-                activity.setRequestedOrientation(prevOrientation);
+                activity.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_FULL_SENSOR);
                 prevOrientation = -10;
             }
         } catch (Exception e) {
@@ -1686,8 +1686,8 @@ public static void setListViewEdgeEffectColor(AbsListView listView, int color) {
     }
 
     public static void brandGlowEffect(Context context, int brandColor) {
-        context.getResources().getDrawable(context.getResources().getIdentifier("overscroll_glow", "drawable", "android")).setColorFilter(brandColor, Mode.SRC_IN);
-        context.getResources().getDrawable(context.getResources().getIdentifier("overscroll_edge", "drawable", "android")).setColorFilter(brandColor, Mode.SRC_IN);
+        context.getResources().getDrawable(context.getResources().getIdentifier("overscroll_glow", "drawable", "android")).setColorFilter(brandColor, PorterDuff.Mode.SRC_IN);
+        context.getResources().getDrawable(context.getResources().getIdentifier("overscroll_edge", "drawable", "android")).setColorFilter(brandColor, PorterDuff.Mode.SRC_IN);
     }
 
     public static int getIntColor(String key) {
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/FileLoadOperation.java b/TMessagesProj/src/main/java/org/telegram/messenger/FileLoadOperation.java
index 96d363fb1..ab16aa037 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/FileLoadOperation.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/FileLoadOperation.java
@@ -3,18 +3,19 @@
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
- * Copyright Nikolai Kudashov, 2013-2016.
+ * Copyright Nikolai Kudashov, 2013-2017.
  */
 
 package org.telegram.messenger;
 
 import org.telegram.tgnet.ConnectionsManager;
+import org.telegram.tgnet.NativeByteBuffer;
 import org.telegram.tgnet.RequestDelegate;
 import org.telegram.tgnet.TLObject;
 import org.telegram.tgnet.TLRPC;
 
-import java.io.File;
 import java.io.RandomAccessFile;
+import java.io.File;
 import java.nio.channels.FileChannel;
 import java.util.ArrayList;
 import java.util.Scanner;
@@ -25,6 +26,7 @@
         private int requestToken;
         private int offset;
         private TLRPC.TL_upload_file response;
+        private TLRPC.TL_upload_webFile responseWeb;
     }
 
     private final static int stateIdle = 0;
@@ -38,11 +40,14 @@
     private final static int maxDownloadRequestsBig = 2;
     private final static int bigFileSizeFrom = 1024 * 1024;
 
+    private boolean started;
     private int datacenter_id;
     private TLRPC.InputFileLocation location;
+    private TLRPC.TL_inputWebFileLocation webLocation;
     private volatile int state = stateIdle;
     private int downloadedBytes;
     private int totalBytesCount;
+    private int bytesCountPadding;
     private FileLoadOperationDelegate delegate;
     private byte[] key;
     private byte[] iv;
@@ -66,7 +71,7 @@
     private File tempPath;
     private boolean isForceRequest;
 
-    private static String orgName = null;
+    private int currentType;
 
     public interface FileLoadOperationDelegate {
         void didFinishLoadingFile(FileLoadOperation operation, File finalFile);
@@ -92,9 +97,28 @@ public FileLoadOperation(TLRPC.FileLocation photoLocation, String extension, int
             location.local_id = photoLocation.local_id;
             datacenter_id = photoLocation.dc_id;
         }
+        currentType = ConnectionsManager.FileTypePhoto;
         totalBytesCount = size;
         ext = extension != null ? extension : "jpg";
-        orgName = null;
+    }
+
+    public FileLoadOperation(TLRPC.TL_webDocument webDocument) {
+        webLocation = new TLRPC.TL_inputWebFileLocation();
+        webLocation.url = webDocument.url;
+        webLocation.access_hash = webDocument.access_hash;
+        totalBytesCount = webDocument.size;
+        datacenter_id = webDocument.dc_id;
+        String defaultExt = FileLoader.getExtensionByMime(webDocument.mime_type);
+        if (webDocument.mime_type.startsWith("image/")) {
+            currentType = ConnectionsManager.FileTypePhoto;
+        } else if (webDocument.mime_type.equals("audio/ogg")) {
+            currentType = ConnectionsManager.FileTypeAudio;
+        } else if (webDocument.mime_type.startsWith("video/")) {
+            currentType = ConnectionsManager.FileTypeVideo;
+        } else {
+            currentType = ConnectionsManager.FileTypeFile;
+        }
+        ext = ImageLoader.getHttpUrlExtension(webDocument.url, defaultExt);
     }
 
     public FileLoadOperation(TLRPC.Document documentLocation) {
@@ -113,8 +137,13 @@ public FileLoadOperation(TLRPC.Document documentLocation) {
                 location.access_hash = documentLocation.access_hash;
                 datacenter_id = documentLocation.dc_id;
             }
-            if (totalBytesCount <= 0) {
-                totalBytesCount = documentLocation.size;
+            totalBytesCount = documentLocation.size;
+            if (key != null) {
+                int toAdd = 0;
+                if (totalBytesCount % 16 != 0) {
+                    bytesCountPadding = 16 - totalBytesCount % 16;
+                    totalBytesCount += bytesCountPadding;
+                }
             }
             ext = FileLoader.getDocumentFileName(documentLocation);
             int idx;
@@ -123,6 +152,13 @@ public FileLoadOperation(TLRPC.Document documentLocation) {
             } else {
                 ext = ext.substring(idx);
             }
+            if ("audio/ogg".equals(documentLocation.mime_type)) {
+                currentType = ConnectionsManager.FileTypeAudio;
+            } else if ("video/mp4".equals(documentLocation.mime_type)) {
+                currentType = ConnectionsManager.FileTypeVideo;
+            } else {
+                currentType = ConnectionsManager.FileTypeFile;
+            }
             if (ext.length() <= 1) {
                 if (documentLocation.mime_type != null) {
                     switch (documentLocation.mime_type) {
@@ -140,20 +176,9 @@ public FileLoadOperation(TLRPC.Document documentLocation) {
                     ext = "";
                 }
             }
-
-            if(ext.length() > 1 && ApplicationLoader.KEEP_ORIGINAL_FILENAME && !ext.contains("webp") && !ext.contains(".mp4") && !ext.contains(".gif") && !ext.contains(".ogg")) {
-                orgName = FileLoader.getDocName(documentLocation);
-            }
         } catch (Exception e) {
-            FileLog.e("tmessages", e);
-            state = stateFailed;
-            cleanup();
-            Utilities.stageQueue.postRunnable(new Runnable() {
-                @Override
-                public void run() {
-                    delegate.didFailedLoadingFile(FileLoadOperation.this, 0);
-                }
-            });
+            FileLog.e(e);
+            onFail(true, 0);
         }
     }
 
@@ -170,74 +195,74 @@ public void setPaths(File store, File temp) {
         tempPath = temp;
     }
 
-    public void start() {
+    public boolean wasStarted() {
+        return started;
+    }
+
+    public int getCurrentType() {
+        return currentType;
+    }
+
+    public String getFileName() {
+        if (location != null) {
+            return location.volume_id + "_" + location.local_id + "." + ext;
+        } else {
+            return Utilities.MD5(webLocation.url) + "." + ext;
+        }
+    }
+
+    public boolean start() {
         if (state != stateIdle) {
-            return;
+            return false;
         }
-        currentDownloadChunkSize = totalBytesCount >= bigFileSizeFrom ? downloadChunkSizeBig : downloadChunkSize;
-        currentMaxDownloadRequests = totalBytesCount >= bigFileSizeFrom ? maxDownloadRequestsBig : maxDownloadRequests;
-        requestInfos = new ArrayList<>(currentMaxDownloadRequests);
-        delayedRequestInfos = new ArrayList<>(currentMaxDownloadRequests - 1);
-        state = stateDownloading;
-        if (location == null) {
-            cleanup();
-            Utilities.stageQueue.postRunnable(new Runnable() {
-                @Override
-                public void run() {
-                    delegate.didFailedLoadingFile(FileLoadOperation.this, 0);
-                }
-            });
-            return;
+        if (location == null && webLocation == null) {
+            onFail(true, 0);
+            return false;
         }
+
         String fileNameFinal;
         String fileNameTemp;
         String fileNameIv = null;
-        if (location.volume_id != 0 && location.local_id != 0) {
-            fileNameTemp = location.volume_id + "_" + location.local_id + ".temp";
-            fileNameFinal = location.volume_id + "_" + location.local_id + "." + ext;
+        if (webLocation != null) {
+            String md5 = Utilities.MD5(webLocation.url);
+            fileNameTemp = md5 + ".temp";
+            fileNameFinal = md5 + "." + ext;
             if (key != null) {
-                fileNameIv = location.volume_id + "_" + location.local_id + ".iv";
-            }
-            if (datacenter_id == Integer.MIN_VALUE || location.volume_id == Integer.MIN_VALUE || datacenter_id == 0) {
-                cleanup();
-                Utilities.stageQueue.postRunnable(new Runnable() {
-                    @Override
-                    public void run() {
-                        delegate.didFailedLoadingFile(FileLoadOperation.this, 0);
-                    }
-                });
-                return;
+                fileNameIv = md5 + ".iv";
             }
         } else {
-            fileNameTemp = datacenter_id + "_" + location.id + ".temp";
-            fileNameFinal = datacenter_id + "_" + location.id + ext;
-            if (key != null) {
-                fileNameIv = datacenter_id + "_" + location.id + ".iv";
-            }
-            if (datacenter_id == 0 || location.id == 0) {
-                cleanup();
-                Utilities.stageQueue.postRunnable(new Runnable() {
-                    @Override
-                    public void run() {
-                        delegate.didFailedLoadingFile(FileLoadOperation.this, 0);
-                    }
-                });
-                return;
+            if (location.volume_id != 0 && location.local_id != 0) {
+                if (datacenter_id == Integer.MIN_VALUE || location.volume_id == Integer.MIN_VALUE || datacenter_id == 0) {
+                    onFail(true, 0);
+                    return false;
+                }
+
+                fileNameTemp = location.volume_id + "_" + location.local_id + ".temp";
+                fileNameFinal = location.volume_id + "_" + location.local_id + "." + ext;
+                if (key != null) {
+                    fileNameIv = location.volume_id + "_" + location.local_id + ".iv";
+                }
+            } else {
+                if (datacenter_id == 0 || location.id == 0) {
+                    onFail(true, 0);
+                    return false;
+                }
+
+                fileNameTemp = datacenter_id + "_" + location.id + ".temp";
+                fileNameFinal = datacenter_id + "_" + location.id + ext;
+                if (key != null) {
+                    fileNameIv = datacenter_id + "_" + location.id + ".iv";
+                }
             }
         }
-        //
-        if(ApplicationLoader.KEEP_ORIGINAL_FILENAME && orgName != null){
-            fileNameFinal = orgName;
-        }
-        //
+        currentDownloadChunkSize = totalBytesCount >= bigFileSizeFrom ? downloadChunkSizeBig : downloadChunkSize;
+        currentMaxDownloadRequests = totalBytesCount >= bigFileSizeFrom ? maxDownloadRequestsBig : maxDownloadRequests;
+        requestInfos = new ArrayList<>(currentMaxDownloadRequests);
+        delayedRequestInfos = new ArrayList<>(currentMaxDownloadRequests - 1);
+        state = stateDownloading;
+
         cacheFileFinal = new File(storePath, fileNameFinal);
         boolean exist = cacheFileFinal.exists();
-        //
-        if(exist && orgName != null && ApplicationLoader.KEEP_ORIGINAL_FILENAME){
-            exist = false;
-            cacheFileFinal.delete();
-        }
-        //
         if (exist && totalBytesCount != 0 && totalBytesCount != cacheFileFinal.length()) {
             cacheFileFinal.delete();
         }
@@ -250,7 +275,7 @@ public void run() {
             }
 
             if (BuildVars.DEBUG_VERSION) {
-//                FileLog.d("tmessages", "start loading file to temp = " + cacheFileTemp + " final = " + cacheFileFinal);
+                FileLog.d("start loading file to temp = " + cacheFileTemp + " final = " + cacheFileFinal);
             }
 
             if (fileNameIv != null) {
@@ -264,7 +289,7 @@ public void run() {
                         downloadedBytes = 0;
                     }
                 } catch (Exception e) {
-                    FileLog.e("tmessages", e);
+                    FileLog.e(e);
                     downloadedBytes = 0;
                 }
             }
@@ -274,26 +299,21 @@ public void run() {
                     fileOutputStream.seek(downloadedBytes);
                 }
             } catch (Exception e) {
-                FileLog.e("tmessages", e);
+                FileLog.e(e);
             }
             if (fileOutputStream == null) {
-                cleanup();
-                Utilities.stageQueue.postRunnable(new Runnable() {
-                    @Override
-                    public void run() {
-                        delegate.didFailedLoadingFile(FileLoadOperation.this, 0);
-                    }
-                });
-                return;
+                onFail(true, 0);
+                return false;
             }
+            started = true;
             Utilities.stageQueue.postRunnable(new Runnable() {
                 @Override
                 public void run() {
                     if (totalBytesCount != 0 && downloadedBytes == totalBytesCount) {
                         try {
-                            onFinishLoadingFile();
+                            onFinishLoadingFile(false);
                         } catch (Exception e) {
-                            delegate.didFailedLoadingFile(FileLoadOperation.this, 0);
+                            onFail(true, 0);
                         }
                     } else {
                         startDownloadRequest();
@@ -301,12 +321,14 @@ public void run() {
                 }
             });
         } else {
+            started = true;
             try {
-                onFinishLoadingFile();
+                onFinishLoadingFile(false);
             } catch (Exception e) {
-                delegate.didFailedLoadingFile(FileLoadOperation.this, 0);
+                onFail(true, 0);
             }
         }
+        return true;
     }
 
     public void cancel() {
@@ -316,8 +338,6 @@ public void run() {
                 if (state == stateFinished || state == stateFailed) {
                     return;
                 }
-                state = stateFailed;
-                cleanup();
                 if (requestInfos != null) {
                     for (int a = 0; a < requestInfos.size(); a++) {
                         RequestInfo requestInfo = requestInfos.get(a);
@@ -326,7 +346,7 @@ public void run() {
                         }
                     }
                 }
-                delegate.didFailedLoadingFile(FileLoadOperation.this, 1);
+                onFail(false, 1);
             }
         });
     }
@@ -337,13 +357,13 @@ private void cleanup() {
                 try {
                     fileOutputStream.getChannel().close();
                 } catch (Exception e) {
-                    FileLog.e("tmessages", e);
+                    FileLog.e(e);
                 }
                 fileOutputStream.close();
                 fileOutputStream = null;
             }
         } catch (Exception e) {
-            FileLog.e("tmessages", e);
+            FileLog.e(e);
         }
 
         try {
@@ -352,7 +372,7 @@ private void cleanup() {
                 fiv = null;
             }
         } catch (Exception e) {
-            FileLog.e("tmessages", e);
+            FileLog.e(e);
         }
         if (delayedRequestInfos != null) {
             for (int a = 0; a < delayedRequestInfos.size(); a++) {
@@ -360,13 +380,16 @@ private void cleanup() {
                 if (requestInfo.response != null) {
                     requestInfo.response.disableFree = false;
                     requestInfo.response.freeResources();
+                } else if (requestInfo.responseWeb != null) {
+                    requestInfo.responseWeb.disableFree = false;
+                    requestInfo.responseWeb.freeResources();
                 }
             }
             delayedRequestInfos.clear();
         }
     }
 
-    private void onFinishLoadingFile() throws Exception {
+    private void onFinishLoadingFile(final boolean increment) throws Exception {
         if (state != stateDownloading) {
             return;
         }
@@ -380,7 +403,7 @@ private void onFinishLoadingFile() throws Exception {
             boolean renameResult = cacheFileTemp.renameTo(cacheFileFinal);
             if (!renameResult) {
                 if (BuildVars.DEBUG_VERSION) {
-//                    FileLog.e("tmessages", "unable to rename temp = " + cacheFileTemp + " to final = " + cacheFileFinal + " retry = " + renameRetryCount);
+                    FileLog.e("unable to rename temp = " + cacheFileTemp + " to final = " + cacheFileFinal + " retry = " + renameRetryCount);
                 }
                 renameRetryCount++;
                 if (renameRetryCount < 3) {
@@ -389,9 +412,9 @@ private void onFinishLoadingFile() throws Exception {
                         @Override
                         public void run() {
                             try {
-                                onFinishLoadingFile();
+                                onFinishLoadingFile(increment);
                             } catch (Exception e) {
-                                delegate.didFailedLoadingFile(FileLoadOperation.this, 0);
+                                onFail(false, 0);
                             }
                         }
                     }, 200);
@@ -401,9 +424,20 @@ public void run() {
             }
         }
         if (BuildVars.DEBUG_VERSION) {
-//            FileLog.e("tmessages", "finished downloading file to " + cacheFileFinal);
+            FileLog.e("finished downloading file to " + cacheFileFinal);
         }
         delegate.didFinishLoadingFile(FileLoadOperation.this, cacheFileFinal);
+        if (increment) {
+            if (currentType == ConnectionsManager.FileTypeAudio) {
+                StatsController.getInstance().incrementReceivedItemsCount(ConnectionsManager.getCurrentNetworkType(), StatsController.TYPE_AUDIOS, 1);
+            } else if (currentType == ConnectionsManager.FileTypeVideo) {
+                StatsController.getInstance().incrementReceivedItemsCount(ConnectionsManager.getCurrentNetworkType(), StatsController.TYPE_VIDEOS, 1);
+            } else if (currentType == ConnectionsManager.FileTypePhoto) {
+                StatsController.getInstance().incrementReceivedItemsCount(ConnectionsManager.getCurrentNetworkType(), StatsController.TYPE_PHOTOS, 1);
+            } else if (currentType == ConnectionsManager.FileTypeFile) {
+                StatsController.getInstance().incrementReceivedItemsCount(ConnectionsManager.getCurrentNetworkType(), StatsController.TYPE_FILES, 1);
+            }
+        }
     }
 
     private void processRequestResult(RequestInfo requestInfo, TLRPC.TL_error error) {
@@ -413,30 +447,45 @@ private void processRequestResult(RequestInfo requestInfo, TLRPC.TL_error error)
                 if (downloadedBytes != requestInfo.offset) {
                     if (state == stateDownloading) {
                         delayedRequestInfos.add(requestInfo);
-                        requestInfo.response.disableFree = true;
+                        if (requestInfo.response != null) {
+                            requestInfo.response.disableFree = true;
+                        } else {
+                            requestInfo.responseWeb.disableFree = true;
+                        }
                     }
                     return;
                 }
 
-                if (requestInfo.response.bytes == null || requestInfo.response.bytes.limit() == 0) {
-                    onFinishLoadingFile();
+                NativeByteBuffer bytes;
+                if (requestInfo.response != null) {
+                    bytes = requestInfo.response.bytes;
+                } else {
+                    bytes = requestInfo.responseWeb.bytes;
+                }
+                if (bytes == null || bytes.limit() == 0) {
+                    onFinishLoadingFile(true);
                     return;
                 }
+                int currentBytesSize = bytes.limit();
+                downloadedBytes += currentBytesSize;
+                boolean finishedDownloading = currentBytesSize != currentDownloadChunkSize || (totalBytesCount == downloadedBytes || downloadedBytes % currentDownloadChunkSize != 0) && (totalBytesCount <= 0 || totalBytesCount <= downloadedBytes);
+
                 if (key != null) {
-                    Utilities.aesIgeEncryption(requestInfo.response.bytes.buffer, key, iv, false, true, 0, requestInfo.response.bytes.limit());
+                    Utilities.aesIgeEncryption(bytes.buffer, key, iv, false, true, 0, bytes.limit());
+                    if (finishedDownloading && bytesCountPadding != 0) {
+                        bytes.limit(bytes.limit() - bytesCountPadding);
+                    }
                 }
                 if (fileOutputStream != null) {
                     FileChannel channel = fileOutputStream.getChannel();
-                    channel.write(requestInfo.response.bytes.buffer);
+                    channel.write(bytes.buffer);
                 }
                 if (fiv != null) {
                     fiv.seek(0);
                     fiv.write(iv);
                 }
-                int currentBytesSize = requestInfo.response.bytes.limit();
-                downloadedBytes += currentBytesSize;
                 if (totalBytesCount > 0 && state == stateDownloading) {
-                    delegate.didChangedLoadProgress(FileLoadOperation.this,  Math.min(1.0f, (float)downloadedBytes / (float)totalBytesCount));
+                    delegate.didChangedLoadProgress(FileLoadOperation.this, Math.min(1.0f, (float) downloadedBytes / (float) totalBytesCount));
                 }
 
                 for (int a = 0; a < delayedRequestInfos.size(); a++) {
@@ -444,25 +493,25 @@ private void processRequestResult(RequestInfo requestInfo, TLRPC.TL_error error)
                     if (downloadedBytes == delayedRequestInfo.offset) {
                         delayedRequestInfos.remove(a);
                         processRequestResult(delayedRequestInfo, null);
-                        delayedRequestInfo.response.disableFree = false;
-                        delayedRequestInfo.response.freeResources();
+                        if (delayedRequestInfo.response != null) {
+                            delayedRequestInfo.response.disableFree = false;
+                            delayedRequestInfo.response.freeResources();
+                        } else {
+                            delayedRequestInfo.responseWeb.disableFree = false;
+                            delayedRequestInfo.responseWeb.freeResources();
+                        }
                         break;
                     }
                 }
 
-                if (currentBytesSize != currentDownloadChunkSize) {
-                    onFinishLoadingFile();
+                if (finishedDownloading) {
+                    onFinishLoadingFile(true);
                 } else {
-                    if (totalBytesCount != downloadedBytes && downloadedBytes % currentDownloadChunkSize == 0 || totalBytesCount > 0 && totalBytesCount > downloadedBytes) {
-                        startDownloadRequest();
-                    } else {
-                        onFinishLoadingFile();
-                    }
+                    startDownloadRequest();
                 }
             } catch (Exception e) {
-                cleanup();
-                delegate.didFailedLoadingFile(FileLoadOperation.this, 0);
-                FileLog.e("tmessages", e);
+                onFail(false, 0);
+                FileLog.e(e);
             }
         } else {
             if (error.text.contains("FILE_MIGRATE_")) {
@@ -476,8 +525,7 @@ private void processRequestResult(RequestInfo requestInfo, TLRPC.TL_error error)
                     val = null;
                 }
                 if (val == null) {
-                    cleanup();
-                    delegate.didFailedLoadingFile(FileLoadOperation.this, 0);
+                    onFail(false, 0);
                 } else {
                     datacenter_id = val;
                     nextDownloadOffset = 0;
@@ -486,36 +534,49 @@ private void processRequestResult(RequestInfo requestInfo, TLRPC.TL_error error)
             } else if (error.text.contains("OFFSET_INVALID")) {
                 if (downloadedBytes % currentDownloadChunkSize == 0) {
                     try {
-                        onFinishLoadingFile();
+                        onFinishLoadingFile(true);
                     } catch (Exception e) {
-                        FileLog.e("tmessages", e);
-                        cleanup();
-                        delegate.didFailedLoadingFile(FileLoadOperation.this, 0);
+                        FileLog.e(e);
+                        onFail(false, 0);
                     }
                 } else {
-                    cleanup();
-                    delegate.didFailedLoadingFile(FileLoadOperation.this, 0);
+                    onFail(false, 0);
                 }
             } else if (error.text.contains("RETRY_LIMIT")) {
-                cleanup();
-                delegate.didFailedLoadingFile(FileLoadOperation.this, 2);
+                onFail(false, 2);
             } else {
                 if (location != null) {
-//                    FileLog.e("tmessages", "" + location + " id = " + location.id + " local_id = " + location.local_id + " access_hash = " + location.access_hash + " volume_id = " + location.volume_id + " secret = " + location.secret);
+                    FileLog.e("" + location + " id = " + location.id + " local_id = " + location.local_id + " access_hash = " + location.access_hash + " volume_id = " + location.volume_id + " secret = " + location.secret);
+                } else if (webLocation != null) {
+                    FileLog.e("" + webLocation + " id = " + webLocation.url + " access_hash = " + webLocation.access_hash);
                 }
-                cleanup();
-                delegate.didFailedLoadingFile(FileLoadOperation.this, 0);
+                onFail(false, 0);
             }
         }
     }
 
+    private void onFail(boolean thread, final int reason) {
+        cleanup();
+        state = stateFailed;
+        if (thread) {
+            Utilities.stageQueue.postRunnable(new Runnable() {
+                @Override
+                public void run() {
+                    delegate.didFailedLoadingFile(FileLoadOperation.this, reason);
+                }
+            });
+        } else {
+            delegate.didFailedLoadingFile(FileLoadOperation.this, reason);
+        }
+    }
+
     private void startDownloadRequest() {
         if (state != stateDownloading || totalBytesCount > 0 && nextDownloadOffset >= totalBytesCount || requestInfos.size() + delayedRequestInfos.size() >= currentMaxDownloadRequests) {
             return;
         }
         int count = 1;
         if (totalBytesCount > 0) {
-            count = Math.max(0, currentMaxDownloadRequests - requestInfos.size() - delayedRequestInfos.size());
+            count = Math.max(0, currentMaxDownloadRequests - requestInfos.size()/* - delayedRequestInfos.size()*/);
         }
 
         for (int a = 0; a < count; a++) {
@@ -523,22 +584,51 @@ private void startDownloadRequest() {
                 break;
             }
             boolean isLast = totalBytesCount <= 0 || a == count - 1 || totalBytesCount > 0 && nextDownloadOffset + currentDownloadChunkSize >= totalBytesCount;
-            TLRPC.TL_upload_getFile req = new TLRPC.TL_upload_getFile();
-            req.location = location;
-            req.offset = nextDownloadOffset;
-            req.limit = currentDownloadChunkSize;
+            TLObject request;
+            int offset;
+            int flags;
+            if (webLocation != null) {
+                TLRPC.TL_upload_getWebFile req = new TLRPC.TL_upload_getWebFile();
+                req.location = webLocation;
+                req.offset = offset = nextDownloadOffset;
+                req.limit = currentDownloadChunkSize;
+                request = req;
+                //flags = ConnectionsManager.ConnectionTypeGeneric;
+                flags = requestsCount % 2 == 0 ? ConnectionsManager.ConnectionTypeDownload : ConnectionsManager.ConnectionTypeDownload2;
+            } else {
+                TLRPC.TL_upload_getFile req = new TLRPC.TL_upload_getFile();
+                req.location = location;
+                req.offset = offset = nextDownloadOffset;
+                req.limit = currentDownloadChunkSize;
+                request = req;
+                flags = requestsCount % 2 == 0 ? ConnectionsManager.ConnectionTypeDownload : ConnectionsManager.ConnectionTypeDownload2;
+            }
             nextDownloadOffset += currentDownloadChunkSize;
-
             final RequestInfo requestInfo = new RequestInfo();
             requestInfos.add(requestInfo);
-            requestInfo.offset = req.offset;
-            requestInfo.requestToken = ConnectionsManager.getInstance().sendRequest(req, new RequestDelegate() {
+            requestInfo.offset = offset;
+            requestInfo.requestToken = ConnectionsManager.getInstance().sendRequest(request, new RequestDelegate() {
                 @Override
                 public void run(TLObject response, TLRPC.TL_error error) {
-                    requestInfo.response = (TLRPC.TL_upload_file) response;
+                    if (response instanceof TLRPC.TL_upload_file) {
+                        requestInfo.response = (TLRPC.TL_upload_file) response;
+                    }else {
+                        requestInfo.responseWeb = (TLRPC.TL_upload_webFile) response;
+                    }
+                    if (response != null) {
+                        if (currentType == ConnectionsManager.FileTypeAudio) {
+                            StatsController.getInstance().incrementReceivedBytesCount(response.networkType, StatsController.TYPE_AUDIOS, response.getObjectSize() + 4);
+                        } else if (currentType == ConnectionsManager.FileTypeVideo) {
+                            StatsController.getInstance().incrementReceivedBytesCount(response.networkType, StatsController.TYPE_VIDEOS, response.getObjectSize() + 4);
+                        } else if (currentType == ConnectionsManager.FileTypePhoto) {
+                            StatsController.getInstance().incrementReceivedBytesCount(response.networkType, StatsController.TYPE_PHOTOS, response.getObjectSize() + 4);
+                        } else if (currentType == ConnectionsManager.FileTypeFile) {
+                            StatsController.getInstance().incrementReceivedBytesCount(response.networkType, StatsController.TYPE_FILES, response.getObjectSize() + 4);
+                        }
+                    }
                     processRequestResult(requestInfo, error);
                 }
-            }, null, (isForceRequest ? ConnectionsManager.RequestFlagForceDownload : 0) | ConnectionsManager.RequestFlagFailOnServerErrors, datacenter_id, requestsCount % 2 == 0 ? ConnectionsManager.ConnectionTypeDownload : ConnectionsManager.ConnectionTypeDownload2, isLast);
+            }, null, (isForceRequest ? ConnectionsManager.RequestFlagForceDownload : 0) | ConnectionsManager.RequestFlagFailOnServerErrors, datacenter_id, flags, isLast);
             requestsCount++;
         }
     }
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/FileLoader.java b/TMessagesProj/src/main/java/org/telegram/messenger/FileLoader.java
index 89a37429e..42f6f20fe 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/FileLoader.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/FileLoader.java
@@ -3,7 +3,7 @@
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
- * Copyright Nikolai Kudashov, 2013-2016.
+ * Copyright Nikolai Kudashov, 2013-2017.
  */
 
 package org.telegram.messenger;
@@ -12,12 +12,9 @@
 import org.telegram.tgnet.TLRPC;
 
 import java.io.File;
-import java.text.SimpleDateFormat;
 import java.util.ArrayList;
-import java.util.Calendar;
 import java.util.HashMap;
 import java.util.LinkedList;
-import java.util.Locale;
 import java.util.concurrent.ConcurrentHashMap;
 import java.util.concurrent.Semaphore;
 
@@ -25,15 +22,10 @@
 
     public interface FileLoaderDelegate {
         void fileUploadProgressChanged(String location, float progress, boolean isEncrypted);
-
         void fileDidUploaded(String location, TLRPC.InputFile inputFile, TLRPC.InputEncryptedFile inputEncryptedFile, byte[] key, byte[] iv, long totalFileSize);
-
         void fileDidFailedUpload(String location, boolean isEncrypted);
-
         void fileDidLoaded(String location, File finalFile, int type);
-
         void fileDidFailedLoad(String location, int state);
-
         void fileLoadProgressChanged(String location, float progress);
     }
 
@@ -42,7 +34,6 @@
     public static final int MEDIA_DIR_VIDEO = 2;
     public static final int MEDIA_DIR_DOCUMENT = 3;
     public static final int MEDIA_DIR_CACHE = 4;
-    public static final int MEDIA_DIR_THEME = 5;
 
     private HashMap<Integer, File> mediaDirs = null;
     private volatile DispatchQueue fileLoaderQueue = new DispatchQueue("fileUploadQueue");
@@ -143,11 +134,11 @@ public void run() {
         });
     }
 
-    public void uploadFile(final String location, final boolean encrypted, final boolean small) {
-        uploadFile(location, encrypted, small, 0);
+    public void uploadFile(final String location, final boolean encrypted, final boolean small, final int type) {
+        uploadFile(location, encrypted, small, 0, type);
     }
 
-    public void uploadFile(final String location, final boolean encrypted, final boolean small, final int estimatedSize) {
+    public void uploadFile(final String location, final boolean encrypted, final boolean small, final int estimatedSize, final int type) {
         if (location == null) {
             return;
         }
@@ -171,13 +162,13 @@ public void run() {
                         uploadSizes.remove(location);
                     }
                 }
-                FileUploadOperation operation = new FileUploadOperation(location, encrypted, esimated, 0); //TODO Multi change from 0
+                FileUploadOperation operation = new FileUploadOperation(location, encrypted, esimated, type);
                 if (encrypted) {
                     uploadOperationPathsEnc.put(location, operation);
                 } else {
                     uploadOperationPaths.put(location, operation);
                 }
-                operation.delegate = new FileUploadOperation.FileUploadOperationDelegate() {
+                operation.setDelegate(new FileUploadOperation.FileUploadOperationDelegate() {
                     @Override
                     public void didFinishUploadingFile(final FileUploadOperation operation, final TLRPC.InputFile inputFile, final TLRPC.InputEncryptedFile inputEncryptedFile, final byte[] key, final byte[] iv) {
                         fileLoaderQueue.postRunnable(new Runnable() {
@@ -256,7 +247,7 @@ public void didChangedUploadProgress(FileUploadOperation operation, final float
                             delegate.fileUploadProgressChanged(location, progress, encrypted);
                         }
                     }
-                };
+                });
                 if (small) {
                     if (currentUploadSmallOperationsCount < 1) {
                         currentUploadSmallOperationsCount++;
@@ -277,18 +268,22 @@ public void didChangedUploadProgress(FileUploadOperation operation, final float
     }
 
     public void cancelLoadFile(TLRPC.Document document) {
-        cancelLoadFile(document, null, null);
+        cancelLoadFile(document, null, null, null);
+    }
+
+    public void cancelLoadFile(TLRPC.TL_webDocument document) {
+        cancelLoadFile(null, document, null, null);
     }
 
     public void cancelLoadFile(TLRPC.PhotoSize photo) {
-        cancelLoadFile(null, photo.location, null);
+        cancelLoadFile(null, null, photo.location, null);
     }
 
     public void cancelLoadFile(TLRPC.FileLocation location, String ext) {
-        cancelLoadFile(null, location, ext);
+        cancelLoadFile(null, null, location, ext);
     }
 
-    private void cancelLoadFile(final TLRPC.Document document, final TLRPC.FileLocation location, final String locationExt) {
+    private void cancelLoadFile(final TLRPC.Document document, final TLRPC.TL_webDocument webDocument, final TLRPC.FileLocation location, final String locationExt) {
         if (location == null && document == null) {
             return;
         }
@@ -300,18 +295,26 @@ public void run() {
                     fileName = getAttachFileName(location, locationExt);
                 } else if (document != null) {
                     fileName = getAttachFileName(document);
+                } else if (webDocument != null) {
+                    fileName = getAttachFileName(webDocument);
                 }
                 if (fileName == null) {
                     return;
                 }
                 FileLoadOperation operation = loadOperationPaths.remove(fileName);
                 if (operation != null) {
-                    if (MessageObject.isVoiceDocument(document)) {
-                        audioLoadOperationQueue.remove(operation);
+                    if (MessageObject.isVoiceDocument(document) || MessageObject.isVoiceWebDocument(webDocument)) {
+                        if (!audioLoadOperationQueue.remove(operation)) {
+                            currentAudioLoadOperationsCount--;
+                        }
                     } else if (location != null) {
-                        photoLoadOperationQueue.remove(operation);
+                        if (!photoLoadOperationQueue.remove(operation) || MessageObject.isImageWebDocument(webDocument)) {
+                            currentPhotoLoadOperationsCount--;
+                        }
                     } else {
-                        loadOperationQueue.remove(operation);
+                        if (!loadOperationQueue.remove(operation)) {
+                            currentLoadOperationsCount--;
+                        }
                     }
                     operation.cancel();
                 }
@@ -332,24 +335,28 @@ public void run() {
         try {
             semaphore.acquire();
         } catch (Exception e) {
-            FileLog.e("tmessages", e);
+            FileLog.e(e);
         }
         return result[0];
     }
 
     public void loadFile(TLRPC.PhotoSize photo, String ext, boolean cacheOnly) {
-        loadFile(null, photo.location, ext, photo.size, false, cacheOnly || (photo != null && photo.size == 0 || photo.location.key != null));
+        loadFile(null, null, photo.location, ext, photo.size, false, cacheOnly || (photo != null && photo.size == 0 || photo.location.key != null));
     }
 
     public void loadFile(TLRPC.Document document, boolean force, boolean cacheOnly) {
-        loadFile(document, null, null, 0, force, cacheOnly || document != null && document.key != null);
+        loadFile(document, null, null, null, 0, force, cacheOnly || document != null && document.key != null);
+    }
+
+    public void loadFile(TLRPC.TL_webDocument document, boolean force, boolean cacheOnly) {
+        loadFile(null, document, null, null, 0, force, cacheOnly);
     }
 
     public void loadFile(TLRPC.FileLocation location, String ext, int size, boolean cacheOnly) {
-        loadFile(null, location, ext, size, true, cacheOnly || size == 0 || (location != null && location.key != null));
+        loadFile(null, null, location, ext, size, true, cacheOnly || size == 0 || (location != null && location.key != null));
     }
 
-    private void loadFile(final TLRPC.Document document, final TLRPC.FileLocation location, final String locationExt, final int locationSize, final boolean force, final boolean cacheOnly) {
+    private void loadFile(final TLRPC.Document document, final TLRPC.TL_webDocument webDocument, final TLRPC.FileLocation location, final String locationExt, final int locationSize, final boolean force, final boolean cacheOnly) {
         fileLoaderQueue.postRunnable(new Runnable() {
             @Override
             public void run() {
@@ -358,6 +365,8 @@ public void run() {
                     fileName = getAttachFileName(location, locationExt);
                 } else if (document != null) {
                     fileName = getAttachFileName(document);
+                } else if (webDocument != null) {
+                    fileName = getAttachFileName(webDocument);
                 }
                 if (fileName == null || fileName.contains("" + Integer.MIN_VALUE)) {
                     return;
@@ -367,20 +376,20 @@ public void run() {
                 operation = loadOperationPaths.get(fileName);
                 if (operation != null) {
                     if (force) {
+                        operation.setForceRequest(true);
                         LinkedList<FileLoadOperation> downloadQueue;
-                        if (MessageObject.isVoiceDocument(document)) {
+                        if (MessageObject.isVoiceDocument(document) || MessageObject.isVoiceWebDocument(webDocument)) {
                             downloadQueue = audioLoadOperationQueue;
-                        } else if (location != null) {
+                        } else if (location != null || MessageObject.isImageWebDocument(webDocument)) {
                             downloadQueue = photoLoadOperationQueue;
                         } else {
                             downloadQueue = loadOperationQueue;
                         }
                         if (downloadQueue != null) {
                             int index = downloadQueue.indexOf(operation);
-                            if (index != -1) {
+                            if (index > 0) {
                                 downloadQueue.remove(index);
                                 downloadQueue.add(0, operation);
-                                operation.setForceRequest(true);
                             }
                         }
                     }
@@ -403,6 +412,17 @@ public void run() {
                     } else {
                         type = MEDIA_DIR_DOCUMENT;
                     }
+                } else if (webDocument != null) {
+                    operation = new FileLoadOperation(webDocument);
+                    if (MessageObject.isVoiceWebDocument(webDocument)) {
+                        type = MEDIA_DIR_AUDIO;
+                    } else if (MessageObject.isVideoWebDocument(webDocument)) {
+                        type = MEDIA_DIR_VIDEO;
+                    } else if (MessageObject.isImageWebDocument(webDocument)) {
+                        type = MEDIA_DIR_IMAGE;
+                    } else {
+                        type = MEDIA_DIR_DOCUMENT;
+                    }
                 }
                 if (!cacheOnly) {
                     storeDir = getDirectory(type);
@@ -411,21 +431,20 @@ public void run() {
 
                 final String finalFileName = fileName;
                 final int finalType = type;
-                loadOperationPaths.put(fileName, operation);
-                operation.setDelegate(new FileLoadOperation.FileLoadOperationDelegate() {
+                FileLoadOperation.FileLoadOperationDelegate fileLoadOperationDelegate = new FileLoadOperation.FileLoadOperationDelegate() {
                     @Override
                     public void didFinishLoadingFile(FileLoadOperation operation, File finalFile) {
                         if (delegate != null) {
                             delegate.fileDidLoaded(finalFileName, finalFile, finalType);
                         }
-                        checkDownloadQueue(document, location, finalFileName);
+                        checkDownloadQueue(document, webDocument, location, finalFileName);
                     }
 
                     @Override
-                    public void didFailedLoadingFile(FileLoadOperation operation, int canceled) {
-                        checkDownloadQueue(document, location, finalFileName);
+                    public void didFailedLoadingFile(FileLoadOperation operation, int reason) {
+                        checkDownloadQueue(document, webDocument, location, finalFileName);
                         if (delegate != null) {
-                            delegate.fileDidFailedLoad(finalFileName, canceled);
+                            delegate.fileDidFailedLoad(finalFileName, reason);
                         }
                     }
 
@@ -435,12 +454,45 @@ public void didChangedLoadProgress(FileLoadOperation operation, float progress)
                             delegate.fileLoadProgressChanged(finalFileName, progress);
                         }
                     }
-                });
+                };
+                operation.setDelegate(fileLoadOperationDelegate);
+
+                /*if (location != null) {
+                    operation = new FileLoadOperation(location.dc_id, location.volume_id, location.volume_id, location.secret, location.local_id, location.key, location.iv, locationExt != null ? locationExt : "jpg", 0, locationSize, !cacheOnly ? getDirectory(type) : tempDir, tempDir, fileLoadOperationDelegate);
+                } else if (document != null) {
+                    String ext = FileLoader.getDocumentFileName(document);
+                    int idx;
+                    if (ext == null || (idx = ext.lastIndexOf('.')) == -1) {
+                        ext = "";
+                    } else {
+                        ext = ext.substring(idx + 1);
+                    }
+                    if (ext.length() <= 0) {
+                        if (document.mime_type != null) {
+                            switch (document.mime_type) {
+                                case "video/mp4":
+                                    ext = "mp4";
+                                    break;
+                                case "audio/ogg":
+                                    ext = "ogg";
+                                    break;
+                                default:
+                                    ext = "";
+                                    break;
+                            }
+                        } else {
+                            ext = "";
+                        }
+                    }
+                    operation = new FileLoadOperation(document.dc_id, document.id, 0, document.access_hash, 0, document.key, document.iv, ext, document.version, document.size, !cacheOnly ? getDirectory(type) : tempDir, tempDir, fileLoadOperationDelegate);
+                }*/
+                loadOperationPaths.put(fileName, operation);
                 int maxCount = force ? 3 : 1;
                 if (type == MEDIA_DIR_AUDIO) {
                     if (currentAudioLoadOperationsCount < maxCount) {
-                        currentAudioLoadOperationsCount++;
-                        operation.start();
+                        if (operation.start()) {
+                            currentAudioLoadOperationsCount++;
+                        }
                     } else {
                         if (force) {
                             audioLoadOperationQueue.add(0, operation);
@@ -450,8 +502,9 @@ public void didChangedLoadProgress(FileLoadOperation operation, float progress)
                     }
                 } else if (location != null) {
                     if (currentPhotoLoadOperationsCount < maxCount) {
-                        currentPhotoLoadOperationsCount++;
-                        operation.start();
+                        if (operation.start()) {
+                            currentPhotoLoadOperationsCount++;
+                        }
                     } else {
                         if (force) {
                             photoLoadOperationQueue.add(0, operation);
@@ -461,8 +514,9 @@ public void didChangedLoadProgress(FileLoadOperation operation, float progress)
                     }
                 } else {
                     if (currentLoadOperationsCount < maxCount) {
-                        currentLoadOperationsCount++;
-                        operation.start();
+                        if (operation.start()) {
+                            currentLoadOperationsCount++;
+                        }
                     } else {
                         if (force) {
                             loadOperationQueue.add(0, operation);
@@ -475,49 +529,69 @@ public void didChangedLoadProgress(FileLoadOperation operation, float progress)
         });
     }
 
-    private void checkDownloadQueue(final TLRPC.Document document, final TLRPC.FileLocation location, final String arg1) {
+    private void checkDownloadQueue(final TLRPC.Document document, final TLRPC.TL_webDocument webDocument, final TLRPC.FileLocation location, final String arg1) {
         fileLoaderQueue.postRunnable(new Runnable() {
             @Override
             public void run() {
-                loadOperationPaths.remove(arg1);
-                FileLoadOperation operation;
-                if (MessageObject.isVoiceDocument(document)) {
-                    currentAudioLoadOperationsCount--;
-                    if (!audioLoadOperationQueue.isEmpty()) {
+                FileLoadOperation operation = loadOperationPaths.remove(arg1);
+                if (MessageObject.isVoiceDocument(document) || MessageObject.isVoiceWebDocument(webDocument)) {
+                    if (operation != null) {
+                        if (operation.wasStarted()) {
+                            currentAudioLoadOperationsCount--;
+                        } else {
+                            audioLoadOperationQueue.remove(operation);
+                        }
+                    }
+                    while (!audioLoadOperationQueue.isEmpty()) {
                         operation = audioLoadOperationQueue.get(0);
                         int maxCount = operation.isForceRequest() ? 3 : 1;
                         if (currentAudioLoadOperationsCount < maxCount) {
                             operation = audioLoadOperationQueue.poll();
-                            if (operation != null) {
+                            if (operation != null && operation.start()) {
                                 currentAudioLoadOperationsCount++;
-                                operation.start();
                             }
+                        } else {
+                            break;
                         }
                     }
-                } else if (location != null) {
-                    currentPhotoLoadOperationsCount--;
-                    if (!photoLoadOperationQueue.isEmpty()) {
+                } else if (location != null || MessageObject.isImageWebDocument(webDocument)) {
+                    if (operation != null) {
+                        if (operation.wasStarted()) {
+                            currentPhotoLoadOperationsCount--;
+                        } else {
+                            photoLoadOperationQueue.remove(operation);
+                        }
+                    }
+                    while (!photoLoadOperationQueue.isEmpty()) {
                         operation = photoLoadOperationQueue.get(0);
                         int maxCount = operation.isForceRequest() ? 3 : 1;
                         if (currentPhotoLoadOperationsCount < maxCount) {
                             operation = photoLoadOperationQueue.poll();
-                            if (operation != null) {
+                            if (operation != null && operation.start()) {
                                 currentPhotoLoadOperationsCount++;
-                                operation.start();
                             }
+                        } else {
+                            break;
                         }
                     }
                 } else {
-                    currentLoadOperationsCount--;
-                    if (!loadOperationQueue.isEmpty()) {
+                    if (operation != null) {
+                        if (operation.wasStarted()) {
+                            currentLoadOperationsCount--;
+                        } else {
+                            loadOperationQueue.remove(operation);
+                        }
+                    }
+                    while (!loadOperationQueue.isEmpty()) {
                         operation = loadOperationQueue.get(0);
                         int maxCount = operation.isForceRequest() ? 3 : 1;
                         if (currentLoadOperationsCount < maxCount) {
                             operation = loadOperationQueue.poll();
-                            if (operation != null) {
+                            if (operation != null && operation.start()) {
                                 currentLoadOperationsCount++;
-                                operation.start();
                             }
+                        } else {
+                            break;
                         }
                     }
                 }
@@ -565,6 +639,13 @@ public static String getMessageFileName(TLRPC.Message message) {
                     }
                 } else if (message.media.webpage.document != null) {
                     return getAttachFileName(message.media.webpage.document);
+                } else if (message.media instanceof TLRPC.TL_messageMediaInvoice) {
+                    return getAttachFileName(((TLRPC.TL_messageMediaInvoice) message.media).photo);
+                }
+            } else if (message.media instanceof TLRPC.TL_messageMediaInvoice) {
+                TLRPC.TL_webDocument document = ((TLRPC.TL_messageMediaInvoice) message.media).photo;
+                if (document != null) {
+                    return Utilities.MD5(document.url) + "." + ImageLoader.getHttpUrlExtension(document.url, getExtensionByMime(document.mime_type));
                 }
             }
         }
@@ -608,6 +689,8 @@ public static File getPathToMessage(TLRPC.Message message) {
                         }
                     }
                 }
+            } else if (message.media instanceof TLRPC.TL_messageMediaInvoice) {
+                return getPathToAttach(((TLRPC.TL_messageMediaInvoice) message.media).photo, true);
             }
         }
         return new File("");
@@ -653,6 +736,17 @@ public static File getPathToAttach(TLObject attach, String ext, boolean forceCac
                 } else {
                     dir = getInstance().getDirectory(MEDIA_DIR_IMAGE);
                 }
+            } else if (attach instanceof TLRPC.TL_webDocument) {
+                TLRPC.TL_webDocument document = (TLRPC.TL_webDocument) attach;
+                if (document.mime_type.startsWith("image/")) {
+                    dir = getInstance().getDirectory(MEDIA_DIR_IMAGE);
+                } else if (document.mime_type.startsWith("audio/")) {
+                    dir = getInstance().getDirectory(MEDIA_DIR_AUDIO);
+                } else if (document.mime_type.startsWith("video/")) {
+                    dir = getInstance().getDirectory(MEDIA_DIR_VIDEO);
+                } else {
+                    dir = getInstance().getDirectory(MEDIA_DIR_DOCUMENT);
+                }
             }
         }
         if (dir == null) {
@@ -717,6 +811,14 @@ public static String getDocumentFileName(TLRPC.Document document) {
         return "";
     }
 
+    public static String getExtensionByMime(String mime) {
+        int index;
+        if ((index = mime.indexOf('/')) != -1) {
+            return mime.substring(index + 1);
+        }
+        return "";
+    }
+
     public static String getDocumentExtension(TLRPC.Document document) {
         String fileName = getDocumentFileName(document);
         int idx = fileName.lastIndexOf('.');
@@ -768,76 +870,22 @@ public static String getAttachFileName(TLObject attach, String ext) {
                     docExt = "";
                 }
             }
-            if (docExt.length() > 1) {
-                if(ApplicationLoader.KEEP_ORIGINAL_FILENAME && !docExt.contains("webp") && !docExt.contains(".mp4") && !docExt.contains(".gif") && !docExt.contains(".ogg"))return getDocName(document); //Plus
-                return document.dc_id + "_" + document.id + docExt;
-            } else {
-                return document.dc_id + "_" + document.id;
-            }
-        } else if (attach instanceof TLRPC.PhotoSize) {
-            TLRPC.PhotoSize photo = (TLRPC.PhotoSize) attach;
-            if (photo.location == null || photo.location instanceof TLRPC.TL_fileLocationUnavailable) {
-                return "";
-            }
-            return photo.location.volume_id + "_" + photo.location.local_id + "." + (ext != null ? ext : "jpg");
-        } else if (attach instanceof TLRPC.FileLocation) {
-            if (attach instanceof TLRPC.TL_fileLocationUnavailable) {
-                return "";
-            }
-            TLRPC.FileLocation location = (TLRPC.FileLocation) attach;
-            return location.volume_id + "_" + location.local_id + "." + (ext != null ? ext : "jpg");
-        }
-        return "";
-    }
-    //Plus
-
-    public static boolean isGif(TLRPC.Document document){
-        String s = getDocumentFileName(document);
-        if(s.contains(".mp4") || s.contains(".gif")){
-            //if(s.contains("giphy.") || s.contains("animation.") || s.contains("gif.")){
-            return true;
-            //}
-        }
-        return false;
-    }
-    //Plus
-    public static String getAttachFileName(TLObject attach, String ext, boolean out) {
-        if (attach instanceof TLRPC.Document) {
-            TLRPC.Document document = (TLRPC.Document) attach;
-            String docExt = null;
-            if (docExt == null) {
-                docExt = getDocumentFileName(document);
-                int idx;
-                if (docExt == null || (idx = docExt.lastIndexOf(".")) == -1) {
-                    docExt = "";
+            if (document.version == 0) {
+                if (docExt.length() > 1) {
+                    return document.dc_id + "_" + document.id + docExt;
                 } else {
-                    docExt = docExt.substring(idx);
+                    return document.dc_id + "_" + document.id;
                 }
-            }
-            if (docExt.length() <= 1) {
-                if (document.mime_type != null) {
-                    switch (document.mime_type) {
-                        case "video/mp4":
-                            docExt = ".mp4";
-                            break;
-                        case "audio/ogg":
-                            docExt = ".ogg";
-                            break;
-                        default:
-                            docExt = "";
-                            break;
-                    }
+            } else {
+                if (docExt.length() > 1) {
+                    return document.dc_id + "_" + document.id + "_" + document.version + docExt;
                 } else {
-                    docExt = "";
+                    return document.dc_id + "_" + document.id + "_" + document.version;
                 }
             }
-            if (docExt.length() > 1) {
-                //Log.e("FileLoader","1 docExt " + docExt + " mime_type " + document.mime_type + " getDocumentFileName " + getDocumentFileName(document));
-                if(!out && ApplicationLoader.KEEP_ORIGINAL_FILENAME && !docExt.contains("webp") && !docExt.contains(".mp4") && !docExt.contains(".gif") && !docExt.contains(".ogg"))return getDocName(document);
-                return document.dc_id + "_" + document.id + docExt;
-            } else {
-                return document.dc_id + "_" + document.id;
-            }
+        } else if (attach instanceof TLRPC.TL_webDocument) {
+            TLRPC.TL_webDocument document = (TLRPC.TL_webDocument) attach;
+            return Utilities.MD5(document.url) + "." + ImageLoader.getHttpUrlExtension(document.url, getExtensionByMime(document.mime_type));
         } else if (attach instanceof TLRPC.PhotoSize) {
             TLRPC.PhotoSize photo = (TLRPC.PhotoSize) attach;
             if (photo.location == null || photo.location instanceof TLRPC.TL_fileLocationUnavailable) {
@@ -854,30 +902,6 @@ public static String getAttachFileName(TLObject attach, String ext, boolean out)
         return "";
     }
 
-    public static String getDocName(TLRPC.Document document) {
-        String name = getDocumentFileName(document);
-        //Log.e("FileLoader","name " + name);
-        //boolean org = false;
-        //if(org)return name;
-        String date = document.date +"";
-        String ext = name;
-        int idx = -1;
-        if (ext == null || (idx = ext.lastIndexOf(".")) == -1) {
-            ext = "";
-        } else {
-            ext = ext.substring(idx);
-        }
-        int pos = name.lastIndexOf(".");
-        SimpleDateFormat formatter  = new SimpleDateFormat("ddMMyyHHmmss", Locale.US);
-        Calendar calendar = Calendar.getInstance();
-        calendar.setTimeInMillis(document.date * 1000L);
-        date = formatter.format(calendar.getTime());
-        if (pos > 0) {
-            name = name.substring(0, pos) + "_" +  date + ext;
-        }
-        return name;
-    }
-
     public void deleteFiles(final ArrayList<File> files, final int type) {
         if (files == null || files.isEmpty()) {
             return;
@@ -893,7 +917,7 @@ public void run() {
                                 file.deleteOnExit();
                             }
                         } catch (Exception e) {
-                            FileLog.e("tmessages", e);
+                            FileLog.e(e);
                         }
                     }
                     try {
@@ -904,7 +928,7 @@ public void run() {
                             }
                         }
                     } catch (Exception e) {
-                        FileLog.e("tmessages", e);
+                        FileLog.e(e);
                     }
                 }
                 if (type == 2) {
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/ImageLoader.java b/TMessagesProj/src/main/java/org/telegram/messenger/ImageLoader.java
index dc474535d..cb9308dae 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/ImageLoader.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/ImageLoader.java
@@ -1021,7 +1021,7 @@ public void removeImageReceiver(ImageReceiver imageReceiver) {
                     } else if (location instanceof TLRPC.Document) {
                         FileLoader.getInstance().cancelLoadFile((TLRPC.Document) location);
                     } else if (location instanceof TLRPC.TL_webDocument) {
-                        FileLoader.getInstance().cancelLoadFile((TLRPC.TL_webDocument) location);
+//                        FileLoader.getInstance().cancelLoadFile((TLRPC.TL_webDocument   ) location) //TODO Multi;
                     }
                 }
                 if (cacheTask != null) {
@@ -1776,7 +1776,7 @@ public void run() {
                                 } else if (imageLocation instanceof TLRPC.Document) {
                                     FileLoader.getInstance().loadFile((TLRPC.Document) imageLocation, true, cacheOnly);
                                 } else if (imageLocation instanceof TLRPC.TL_webDocument) {
-                                    FileLoader.getInstance().loadFile((TLRPC.TL_webDocument) imageLocation, true, cacheOnly);
+                                    FileLoader.getInstance().loadFile((TLRPC.Document) imageLocation, true, cacheOnly);
                                 }
                             } else {
                                 String file = Utilities.MD5(httpLocation);
@@ -1846,12 +1846,7 @@ public void loadImageForImageReceiver(ImageReceiver imageReceiver) {
                 if (imageReceiver.getExt() != null || location.key != null || location.volume_id == Integer.MIN_VALUE && location.local_id < 0) {
                     saveImageToCache = true;
                 }
-            } else if (imageLocation instanceof TLRPC.TL_webDocument) {
-                TLRPC.TL_webDocument document = (TLRPC.TL_webDocument) imageLocation;
-                String defaultExt = FileLoader.getExtensionByMime(document.mime_type);
-                key = Utilities.MD5(document.url);
-                url = key + "." + getHttpUrlExtension(document.url, defaultExt);
-            } else if (imageLocation instanceof TLRPC.Document) {
+            }  else if (imageLocation instanceof TLRPC.Document) {
                 TLRPC.Document document = (TLRPC.Document) imageLocation;
                 if (document.id == 0 || document.dc_id == 0) {
                     return;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/ModuleContentProvider.java b/TMessagesProj/src/main/java/org/telegram/messenger/ModuleContentProvider.java
index 40f97cf90..bd145d1b1 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/ModuleContentProvider.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/ModuleContentProvider.java
@@ -8,9 +8,12 @@
 import android.net.Uri;
 import android.os.Environment;
 import android.util.Log;
-import java.io.File;
+
 import org.telegram.ui.ActionBar.Theme;
 
+import java.io.File;
+import java.io.IOException;
+
 public class ModuleContentProvider extends ContentProvider {
     private static final String AUTHORITY = "org.telegram.plus.android.provider.content";
     private static final String AUTHORITY_BETA = "org.telegram.plus.beta.android.provider.content";
@@ -60,7 +63,11 @@ public int update(Uri uri, ContentValues values, String selection, String[] sele
                 Theme.applyThemeFile(themeFile, themeFile.getName(), false);
                 return 11;
             }
-            applyTheme(theme);
+            try {
+                applyTheme(theme);
+            } catch (IOException e) {
+                e.printStackTrace();
+            }
             return 10;
         }
         throw new UnsupportedOperationException();
@@ -71,7 +78,7 @@ public int delete(Uri uri, String where, String[] selectionArgs) {
         throw new UnsupportedOperationException();
     }
 
-    private void applyTheme(String xmlFile) {
+    private void applyTheme(String xmlFile) throws IOException {
         String wName = xmlFile.substring(0, xmlFile.lastIndexOf(".")) + "_wallpaper.jpg";
         if (new File(wName).exists()) {
             SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", 0);
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/SendMessagesHelper.java b/TMessagesProj/src/main/java/org/telegram/messenger/SendMessagesHelper.java
index 3a5b976bc..e0a1f8918 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/SendMessagesHelper.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/SendMessagesHelper.java
@@ -2233,7 +2233,9 @@ private void performSendDelayedMessage(final DelayedMessage message) {
                         }
                         putToDelayedMessages(location, message);
                         if (message.obj.videoEditedInfo != null) {
-                            FileLoader.getInstance().uploadFile(location, false, false, message.documentLocation.size, ConnectionsManager.FileTypeVideo);
+//                            FileLoader.getInstance().uploadFile(location, false, false, ConnectionsManager.FileTypeVideo);
+//TODO Multi
+                            FileLoader.getInstance().uploadFile(location, false, false,ConnectionsManager.FileTypeVideo , message.documentLocation.size);
                         } else {
                             FileLoader.getInstance().uploadFile(location, false, false, ConnectionsManager.FileTypeVideo);
                         }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/DrawerLayoutAdapter.java b/TMessagesProj/src/main/java/org/telegram/ui/Adapters/DrawerLayoutAdapter.java
index 7108245cb..320453795 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/DrawerLayoutAdapter.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Adapters/DrawerLayoutAdapter.java
@@ -35,17 +35,6 @@
 import java.util.Locale;
 
 public class DrawerLayoutAdapter extends RecyclerListView.SelectionAdapter {
-    private static final int callsRow = 10;
-    private static final int channelRow = 12;
-    private static final int chatsStatsRow = 14;
-    private static final int communityRow = 13;
-    private static final int contactsRow = 6;
-    private static final int plusSettingsRow = 11;
-    private static final int settingsRow = 9;
-    private static final int themesRow = 7;
-    private static final int themingRow = 8;
-    private static final int versionRow = 15;
-    private static final int versionType = 4;
     private SharedPreferences themePrefs;
     private Context mContext;
     private ArrayList<Item> items = new ArrayList<>(11);
@@ -174,30 +163,51 @@ public int getItemViewType(int i) {
             return 3;
         }    }
 
+//    private void resetItems() {
+//        items.clear();
+//        if (!UserConfig.isClientActivated()) {
+//            return;
+//        }
+//        items.add(null); // profile
+//        items.add(null); // padding
+//        items.add(new Item(2, LocaleController.getString("NewGroup", R.string.NewGroup), R.drawable.menu_newgroup));
+//        items.add(new Item(3, LocaleController.getString("NewSecretChat", R.string.NewSecretChat), R.drawable.menu_secret));
+//        items.add(new Item(4, LocaleController.getString("NewChannel", R.string.NewChannel), R.drawable.menu_broadcast));
+//        items.add(null); // divider
+//        items.add(new Item(6, LocaleController.getString("Contacts", R.string.Contacts), R.drawable.menu_contacts));
+//
+//        this.items.add(new Item(7, LocaleController.getString("DownloadThemes", R.string.DownloadThemes), R.drawable.menu_themes));
+//
+//        this.items.add(new Item(8, LocaleController.getString("Theming", R.string.Theming), R.drawable.menu_theming));
+//        this.items.add(new Item(9, LocaleController.getString("Settings", R.string.Settings), R.drawable.menu_settings));
+//        if (MessagesController.getInstance().callsEnabled) {
+//            items.add(new Item(10, LocaleController.getString("Calls", R.string.Calls), R.drawable.menu_calls));
+//        }
+//        items.add(new Item(11, LocaleController.getString("Change_another_user", R.string.Change_another_user), R.drawable.menu_invite));
+
+
     private void resetItems() {
-        items.clear();
-        if (!UserConfig.isClientActivated()) {
-            return;
-        }
-        items.add(null); // profile
-        items.add(null); // padding
-        items.add(new Item(2, LocaleController.getString("NewGroup", R.string.NewGroup), R.drawable.menu_newgroup));
-        items.add(new Item(3, LocaleController.getString("NewSecretChat", R.string.NewSecretChat), R.drawable.menu_secret));
-        items.add(new Item(4, LocaleController.getString("NewChannel", R.string.NewChannel), R.drawable.menu_broadcast));
-        items.add(null); // divider
-        items.add(new Item(6, LocaleController.getString("Contacts", R.string.Contacts), R.drawable.menu_contacts));
-        if (MessagesController.getInstance().callsEnabled) {
-            items.add(new Item(10, LocaleController.getString("Calls", R.string.Calls), R.drawable.menu_calls));
+        this.items.clear();
+        if (UserConfig.isClientActivated()) {
+            this.items.add(null);
+            this.items.add(null);
+            this.items.add(new Item(2, LocaleController.getString("NewGroup", R.string.NewGroup), R.drawable.menu_newgroup));
+            this.items.add(new Item(3, LocaleController.getString("NewSecretChat", R.string.NewSecretChat), R.drawable.menu_secret));
+            this.items.add(new Item(4, LocaleController.getString("NewChannel", R.string.NewChannel), R.drawable.menu_broadcast));
+            this.items.add(null);
+            this.items.add(new Item(6, LocaleController.getString("Contacts", R.string.Contacts), R.drawable.menu_contacts));
+            if (MessagesController.getInstance().callsEnabled) {
+                this.items.add(new Item(10, LocaleController.getString("Calls", R.string.Calls), R.drawable.menu_calls));
+            }
+            this.items.add(new Item(7, LocaleController.getString("DownloadThemes", R.string.DownloadThemes), R.drawable.menu_themes));
+            this.items.add(new Item(8, LocaleController.getString("Theming", R.string.Theming), R.drawable.menu_theming));
+            this.items.add(new Item(9, LocaleController.getString("Settings", R.string.Settings), R.drawable.menu_settings));
+            this.items.add(new Item(11, LocaleController.getString("PlusSettings", R.string.PlusSettings), R.drawable.menu_plus));
+            this.items.add(new Item(12, LocaleController.getString("OfficialChannel", R.string.OfficialChannel), R.drawable.menu_broadcast));
+            this.items.add(new Item(13, LocaleController.getString("Change_another_user", R.string.Change_another_user), R.drawable.menu_invite));
+            this.items.add(new Item(14, LocaleController.getString("ChatsCounters", R.string.ChatsCounters), R.drawable.profile_list));
+            this.items.add(null);
         }
-        this.items.add(new Item(7, LocaleController.getString("DownloadThemes", R.string.DownloadThemes), R.drawable.menu_themes));
-        items.add(new Item(11, LocaleController.getString("Change_another_user", R.string.Change_another_user), R.drawable.menu_invite));
-        this.items.add(new Item(8, LocaleController.getString("Theming", R.string.Theming), R.drawable.menu_theming));
-        this.items.add(new Item(9, LocaleController.getString("Settings", R.string.Settings), R.drawable.menu_settings));
-        this.items.add(new Item(11, LocaleController.getString("PlusSettings", R.string.PlusSettings), R.drawable.menu_plus));
-        this.items.add(new Item(12, LocaleController.getString("OfficialChannel", R.string.OfficialChannel), R.drawable.menu_broadcast));
-        this.items.add(new Item(13, LocaleController.getString("Community", R.string.Community), R.drawable.menu_forum));
-        this.items.add(new Item(14, LocaleController.getString("ChatsCounters", R.string.ChatsCounters), R.drawable.profile_list));
-        this.items.add(null);
     }
 
     public int getId(int position) {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMessageCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMessageCell.java
index fd615564a..4b5a51475 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMessageCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMessageCell.java
@@ -5176,8 +5176,8 @@ public void updateButtonState(boolean animated) {
             if (currentPhotoObject == null) {
                 return;
             }
-            fileName = ApplicationLoader.KEEP_ORIGINAL_FILENAME ? FileLoader.getAttachFileName(this.currentPhotoObject, null, this.currentMessageObject.isOutOwner()) : FileLoader.getAttachFileName(this.currentPhotoObject);
-//            fileName = FileLoader.getAttachFileName(currentPhotoObject);
+            fileName = FileLoader.getAttachFileName(this.currentPhotoObject);
+//            fileName = FileLoader.getAttachFileName(currentPhotoObject); //TODO Multi keep original filename
             fileExists = currentMessageObject.mediaExists;
         } else if (currentMessageObject.type == 8 || documentAttachType == DOCUMENT_ATTACH_TYPE_VIDEO || currentMessageObject.type == 9 || documentAttachType == DOCUMENT_ATTACH_TYPE_AUDIO || documentAttachType == DOCUMENT_ATTACH_TYPE_MUSIC) {
             if (currentMessageObject.useCustomPhoto) {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/DrawerProfileCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/DrawerProfileCell.java
index 88c6e3a2d..d41ceda6c 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/DrawerProfileCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/DrawerProfileCell.java
@@ -13,6 +13,7 @@
 import android.content.SharedPreferences;
 import android.graphics.Bitmap;
 import android.graphics.Canvas;
+import android.graphics.Color;
 import android.graphics.Paint;
 import android.graphics.PorterDuff;
 import android.graphics.PorterDuffColorFilter;
@@ -119,7 +120,7 @@ public void onClick(View v) {
                 TLRPC.User user = MessagesController.getInstance().getUser(Integer.valueOf(UserConfig.getClientUserId()));
                 if (user.photo != null && user.photo.photo_big != null) {
                     PhotoViewer.getInstance().setParentActivity(activity);
-                    PhotoViewer.getInstance().openPhoto(user.photo.photo_big, (PhotoViewer.PhotoViewerProvider) DrawerProfileCell.this);
+                    PhotoViewer.getInstance().openPhoto(user.photo.photo_big, (PhotoViewer.PhotoViewerProvider) DrawerProfileCell.this); //TODO Multi error in open profile
                 }
             }
         });
@@ -302,7 +303,7 @@ public boolean scaleToFill() {
         }
         int[] coords = new int[2];
         this.avatarImageView.getLocationInWindow(coords);
-        PhotoViewer.PlaceProviderObject object = new PlaceProviderObject();
+        PhotoViewer.PlaceProviderObject object = new PhotoViewer.PlaceProviderObject();
         object.viewX = coords[0];
         object.viewY = coords[1] - AndroidUtilities.statusBarHeight;
         object.parentView = this.avatarImageView;
@@ -364,6 +365,7 @@ private void updateTheme() {
                     break;
             }
             int gradColor = themePrefs.getInt("drawerHeaderGradientColor", tColor);
+            int hColor = Color.BLACK;//TODO Multi colors
             setBackgroundDrawable(new GradientDrawable(go, new int[]{hColor, gradColor}));
         }
         this.nameTextView.setTextColor(themePrefs.getInt(Theme.pkey_drawerNameColor, -1));
@@ -371,16 +373,16 @@ private void updateTheme() {
         this.phoneTextView.setTextColor(themePrefs.getInt(Theme.pkey_drawerPhoneColor, Theme.lightColor));
         this.phoneTextView.setTextSize(1, (float) themePrefs.getInt("drawerPhoneSize", 13));
         if (!Theme.plusHideMobile || Theme.plusShowUsername) {
-            this.phoneTextView.setVisibility(0);
+            this.phoneTextView.setVisibility(VISIBLE);
         } else {
-            this.phoneTextView.setVisibility(8);
+            this.phoneTextView.setVisibility(VISIBLE);
         }
         TLRPC.User user = MessagesController.getInstance().getUser(Integer.valueOf(UserConfig.getClientUserId()));
         TLObject photo = null;
         if (!(user == null || user.photo == null || user.photo.photo_small == null)) {
             photo = user.photo.photo_small;
         }
-        Drawable avatarDrawable = new AvatarDrawable(user);
+        AvatarDrawable avatarDrawable = new AvatarDrawable(user);
         avatarDrawable.setColor(themePrefs.getInt("drawerAvatarColor", Theme.darkColor));
         int radius = AndroidUtilities.dp((float) themePrefs.getInt("drawerAvatarRadius", 32));
         avatarDrawable.setRadius(radius);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/HeaderCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/HeaderCell.java
index 9d56a10ef..9456cb482 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/HeaderCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/HeaderCell.java
@@ -29,11 +29,11 @@ public HeaderCell(Context context) {
         textView = new TextView(getContext());
         textView.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 15);
         textView.setTypeface(AndroidUtilities.getTypeface("fonts/rmedium.ttf"));
-        this.textView.setTextColor(Theme.usePlusTheme ? Theme.prefSectionColor : Theme.getColor(Theme.key_windowBackgroundWhiteBlueHeader));
-        if (Theme.usePlusTheme) {
-            setBackgroundColor(Theme.prefBGColor);
-        }
-
+//        this.textView.setTextColor(Theme.usePlusTheme ? Theme.prefSectionColor : Theme.getColor(Theme.key_windowBackgroundWhiteBlueHeader));
+//        if (Theme.usePlusTheme) {
+//            setBackgroundColor(Theme.prefBGColor);
+//        }
+        this.textView.setTextColor(Theme.getColor(Theme.key_windowBackgroundWhiteBlueHeader));
         textView.setGravity((LocaleController.isRTL ? Gravity.RIGHT : Gravity.LEFT) | Gravity.CENTER_VERTICAL);
         addView(textView, LayoutHelper.createFrame(LayoutHelper.MATCH_PARENT, LayoutHelper.MATCH_PARENT, (LocaleController.isRTL ? Gravity.RIGHT : Gravity.LEFT) | Gravity.TOP, 17, 15, 17, 0));
     }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
index 970fa4b79..f9477d681 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
@@ -30,7 +30,9 @@
 import android.graphics.PorterDuff;
 import android.graphics.PorterDuffColorFilter;
 import android.graphics.Rect;
+import android.graphics.drawable.ColorDrawable;
 import android.graphics.drawable.Drawable;
+import android.graphics.drawable.GradientDrawable;
 import android.media.ExifInterface;
 import android.net.Uri;
 import android.os.Build;
@@ -67,6 +69,7 @@
 
 import org.telegram.PhoneFormat.PhoneFormat;
 import org.telegram.messenger.AndroidUtilities;
+import org.telegram.messenger.AnimatorListenerAdapterProxy;
 import org.telegram.messenger.ApplicationLoader;
 import org.telegram.messenger.BuildConfig;
 import org.telegram.messenger.BuildVars;
@@ -141,7 +144,9 @@
 import org.telegram.ui.Components.EmbedBottomSheet;
 import org.telegram.ui.Components.EmojiView;
 import org.telegram.ui.Components.ExtendedGridLayoutManager;
+import org.telegram.ui.Components.Favorite;
 import org.telegram.ui.Components.FragmentContextView;
+import org.telegram.ui.Components.Glow;
 import org.telegram.ui.Components.InstantCameraView;
 import org.telegram.ui.Components.LayoutHelper;
 import org.telegram.ui.Components.NumberTextView;
@@ -173,6 +178,29 @@
 public class ChatActivity extends BaseFragment implements NotificationCenter.NotificationCenterDelegate, DialogsActivity.DialogsActivityDelegate,
         PhotoViewer.PhotoViewerProvider {
 
+    private static boolean QuoteForward = false;
+    private static final int add_favorites = 98;
+    private static final int add_member = 29;
+    private static final int backup = 27;
+    private static final int chat_background = 99;
+    private static final int goto_first_msg = 97;
+    private static final int leave_group = 28;
+    private static final int quoteforward = 111;
+    private int chatDialogsBottomPadding = TsExtractor.TS_STREAM_TYPE_HDMV_DTS;
+    private ChatDialogsView chatDialogsView;
+    private int chat_id;
+    private ImageView deleteIconImageView;
+    private boolean directShareReplies;
+    private boolean directShareToMenu;
+    private TextView favoritesItem;
+    private boolean goToFirstMsg;
+    private ItemTouchHelper itemTouchHelper;
+    private boolean quote;
+    private boolean refreshWallpaper;
+    private boolean showQuickBar;
+    private View lineView;
+    private int onlyId;
+    private int onlyIdMedia;
     protected TLRPC.Chat currentChat;
     protected TLRPC.User currentUser;
     protected TLRPC.EncryptedChat currentEncryptedChat;
@@ -343,66 +371,7 @@
     private int loadsCount;
     private int last_message_id = 0;
     private long mergeDialogId;
-    private static boolean QuoteForward = false;
-    private static final int add_favorites = 98;
-    private static final int add_member = 29;
-    private static final int backup = 27;
-    private static final int chat_background = 99;
-    private static final int goto_first_msg = 97;
-    private static final int leave_group = 28;
-    private static final int quoteforward = 111;
-    private int chatDialogsBottomPadding = TsExtractor.TS_STREAM_TYPE_HDMV_DTS;
-    private ImageView deleteIconImageView;
-    private boolean directShareReplies;
-    private boolean directShareToMenu;
-    private TextView favoritesItem;
-    private boolean goToFirstMsg;
-    private ItemTouchHelper itemTouchHelper;
-    private int onlyId;
-    private int onlyIdMedia;
-    private boolean quote;
-    private boolean refreshWallpaper;
-    private boolean showQuickBar;
-    private ItemTouchHelper.SimpleCallback simpleItemTouchCallback = new ItemTouchHelper.SimpleCallback(0, 16) {
-        private MessageObject message;
-
-        public int getSwipeDirs(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder) {
-            if (viewHolder.itemView instanceof ChatMessageCell) {
-                int type = ChatActivity.this.getMessageType(this.message);
-                boolean allowChatActions = true;
-                this.message = viewHolder.itemView.getMessageObject();
-                if ((ChatActivity.this.currentEncryptedChat != null && AndroidUtilities.getPeerLayerVersion(ChatActivity.this.currentEncryptedChat.layer) < 46) || ((type == 1 && this.message.getDialogId() == ChatActivity.this.mergeDialogId) || ((ChatActivity.this.currentEncryptedChat == null && this.message.getId() < 0) || ChatActivity.this.isBroadcast || ((ChatActivity.this.currentChat != null && (ChatObject.isNotInChat(ChatActivity.this.currentChat) || !(!ChatObject.isChannel(ChatActivity.this.currentChat) || ChatActivity.this.currentChat.creator || ChatActivity.this.currentChat.editor || ChatActivity.this.currentChat.megagroup))) || false)))) {
-                    allowChatActions = false;
-                }
-                if (allowChatActions) {
-                    ChatActivity.this.chatListView.cancelClickRunnables(true);
-                    return super.getSwipeDirs(recyclerView, viewHolder);
-                }
-            }
-            return 0;
-        }
-
-        public boolean onMove(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder, RecyclerView.ViewHolder target) {
-            return false;
-        }
 
-        public void onSwiped(RecyclerView.ViewHolder viewHolder, int swipeDir) {
-            ChatActivity.this.itemTouchHelper.attachToRecyclerView(null);
-            ChatActivity.this.itemTouchHelper.attachToRecyclerView(ChatActivity.this.chatListView);
-            MessageObject message = viewHolder.itemView.getMessageObject();
-            int type = ChatActivity.this.getMessageType(message);
-            if (type == 1) {
-                if (ChatActivity.this.currentChat != null && !ChatActivity.this.isBroadcast) {
-                    ChatActivity.this.showReplyPanel(true, message, null, null, false);
-                }
-            } else if (type != 0 && type != 20) {
-                ChatActivity.this.showReplyPanel(true, message, null, null, false);
-            }
-        }
-    };
-    private View lineView;
-    private ChatDialogsView chatDialogsView;
-    private int chat_id;
     private int startLoadFromMessageId;
     private int startLoadFromMessageOffset = Integer.MAX_VALUE;
     private boolean needSelectFromMessageId;
@@ -611,10 +580,7 @@ public ChatActivity(Bundle args) {
 
     @Override
     public boolean onFragmentCreate() {
-        final int chatId = arguments.getInt("chat_id", 0);
-        final int userId = arguments.getInt("user_id", 0);
-        final int encId = arguments.getInt("enc_id", 0);
-        this.chat_id = chatId;
+//        this.chat_id = chatId;
         this.onlyId = this.arguments.getInt("only_id", 0);
         this.onlyIdMedia = this.arguments.getInt("only_id_media", 0);
         this.showQuickBar = this.arguments.getBoolean("show_quickBar", false);
@@ -623,6 +589,9 @@ public boolean onFragmentCreate() {
         this.directShareReplies = plusPreferences.getBoolean("directShareReplies", false);
         this.directShareToMenu = plusPreferences.getBoolean("directShareToMenu", false);
 
+        final int chatId = arguments.getInt("chat_id", 0);
+        final int userId = arguments.getInt("user_id", 0);
+        final int encId = arguments.getInt("enc_id", 0);
         inlineReturn = arguments.getLong("inline_return", 0);
         String inlineQuery = arguments.getString("inline_query");
         startLoadFromMessageId = arguments.getInt("message_id", 0);
@@ -658,9 +627,9 @@ public void run() {
                 dialog_id = AndroidUtilities.makeBroadcastId(chatId);
             }
             if (ChatObject.isChannel(currentChat)) {
-                if (!this.currentChat.megagroup) {
+                if (!currentChat.megagroup) {
                     SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", 0);
-                    this.directShareReplies = false;
+                    directShareReplies = false;
                 }
                 MessagesController.getInstance().startShortPoll(chatId, false);
             }
@@ -741,12 +710,11 @@ public void run() {
         } else {
             return false;
         }
-        if (plusPreferences.getInt("unread_" + this.dialog_id, 0) == 1) {
+        if (plusPreferences.getInt("unread_" + dialog_id, 0) == 1) {
             SharedPreferences.Editor editor = plusPreferences.edit();
-            editor.remove("unread_" + this.dialog_id);
+            editor.remove("unread_" + dialog_id);
             editor.commit();
         }
-        NotificationCenter.getInstance().addObserver(this, NotificationCenter.wallpaperChanged);
         NotificationCenter.getInstance().addObserver(this, NotificationCenter.messagesDidLoaded);
         NotificationCenter.getInstance().addObserver(this, NotificationCenter.emojiDidLoaded);
         NotificationCenter.getInstance().addObserver(this, NotificationCenter.updateInterfaces);
@@ -787,6 +755,7 @@ public void run() {
         NotificationCenter.getInstance().addObserver(this, NotificationCenter.newDraftReceived);
         NotificationCenter.getInstance().addObserver(this, NotificationCenter.userInfoDidLoaded);
         NotificationCenter.getInstance().addObserver(this, NotificationCenter.didSetNewWallpapper);
+        NotificationCenter.getInstance().addObserver(this, NotificationCenter.wallpaperChanged);
 
         super.onFragmentCreate();
 
@@ -877,7 +846,6 @@ public void onFragmentDestroy() {
         if (chatAttachAlert != null) {
             chatAttachAlert.dismissInternal();
         }
-        NotificationCenter.getInstance().removeObserver(this, NotificationCenter.wallpaperChanged);
         MessagesController.getInstance().setLastCreatedDialogId(dialog_id, false);
         NotificationCenter.getInstance().removeObserver(this, NotificationCenter.messagesDidLoaded);
         NotificationCenter.getInstance().removeObserver(this, NotificationCenter.emojiDidLoaded);
@@ -919,6 +887,7 @@ public void onFragmentDestroy() {
         NotificationCenter.getInstance().removeObserver(this, NotificationCenter.newDraftReceived);
         NotificationCenter.getInstance().removeObserver(this, NotificationCenter.userInfoDidLoaded);
         NotificationCenter.getInstance().removeObserver(this, NotificationCenter.didSetNewWallpapper);
+        NotificationCenter.getInstance().removeObserver(this, NotificationCenter.wallpaperChanged);
 
         if (AndroidUtilities.isTablet()) {
             NotificationCenter.getInstance().postNotificationName(NotificationCenter.openedChatChanged, dialog_id, true);
@@ -943,6 +912,9 @@ public void onFragmentDestroy() {
         if (chatAttachAlert != null) {
             chatAttachAlert.onDestroy();
         }
+        if (chatDialogsView != null) {
+            chatDialogsView.onDestroy();
+        }
         AndroidUtilities.unlockOrientation(getParentActivity());
         /*MessageObject messageObject = MediaController.getInstance().getPlayingMessageObject();
         if (messageObject != null && !messageObject.isMusic()) {
@@ -951,15 +923,16 @@ public void onFragmentDestroy() {
         if (ChatObject.isChannel(currentChat)) {
             MessagesController.getInstance().startShortPoll(currentChat.id, true);
         }
-        if (this.chatDialogsView != null) {
-            this.chatDialogsView.onDestroy();
-        }
     }
 
     @Override
     public View createView(Context context) {
-        ChatActivityEnterView chatActivityEnterView;
         SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0);
+        int i;
+        int i2;
+        int i3;
+        boolean z;
+//        ChatActivityEnterView chatActivityEnterView;
         if (chatMessageCellsCache.isEmpty()) {
             for (int a = 0; a < 8; a++) {
                 chatMessageCellsCache.add(new ChatMessageCell(context));
@@ -1037,8 +1010,8 @@ public void onItemClick(final int id) {
                         return;
                     }
                     createDeleteMessagesAlert(null);
-                } else if (id == forward || id == ChatActivity.quoteforward) {
-                    if (id == ChatActivity.quoteforward) {
+                } else if (id == 11 || id == quoteforward) {
+                    if (id == quoteforward) {
                         ChatActivity.QuoteForward = true;
                     } else {
                         ChatActivity.QuoteForward = false;
@@ -1046,11 +1019,9 @@ public void onItemClick(final int id) {
                     Bundle args = new Bundle();
                     args.putBoolean("onlySelect", true);
                     args.putInt("dialogsType", 1);
-                    DialogsActivity fragment = new DialogsActivity(args);
-                    fragment.setDelegate(ChatActivity.this);
-                    presentFragment(fragment);
-
-
+                    DialogsActivity dialogsActivity = new DialogsActivity(args);
+                    dialogsActivity.setDelegate(ChatActivity.this);
+                    ChatActivity.this.presentFragment(dialogsActivity);
                 } else if (id == chat_enc_timer) {
                     if (getParentActivity() == null) {
                         return;
@@ -1093,19 +1064,22 @@ public void onClick(DialogInterface dialogInterface, int i) {
                     });
                     builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
                     showDialog(builder.create());
+                    //Multi
                 } else if (id == 28) {
                     if (ChatActivity.this.getParentActivity() != null) {
-                        boolean isChat = ((int) ChatActivity.this.dialog_id) < 0 && ((int) (ChatActivity.this.dialog_id >> 32)) != 1;
+                        boolean isChat;
+                        if((dialog_id < 0) && (dialog_id >> 32 !=1)) isChat = true;
+                        else isChat = false;
                         if (isChat) {
-                            AlertDialog.Builder r0 = new AlertDialog.Builder(ChatActivity.this.getParentActivity());
-                            r0.setTitle(LocaleController.getString("AppName", R.string.AppName));
-                            r0.setMessage(LocaleController.getString("LeaveWithoutDeleteMsg", R.string.LeaveWithoutDeleteMsg));
-                            r0.setPositiveButton(LocaleController.getString("OK", R.string.OK), new DialogInterface.OnClickListener() {
+                            AlertDialog.Builder b = new AlertDialog.Builder(ChatActivity.this.getParentActivity());
+                            b.setTitle(LocaleController.getString("AppName", R.string.AppName));
+                            b.setMessage(LocaleController.getString("LeaveWithoutDeleteMsg", R.string.LeaveWithoutDeleteMsg));
+                            b.setPositiveButton(LocaleController.getString("OK", R.string.OK), new DialogInterface.OnClickListener() {
                                 public void onClick(DialogInterface dialogInterface, int i) {
                                     TLRPC.User user = MessagesController.getInstance().getUser(Integer.valueOf(UserConfig.getClientUserId()));
                                     if (user != null && ChatActivity.this.chat_id > 0) {
-                                        TLObject req = new TLRPC.TL_messages_deleteChatUser();
-                                        req.chat_id = ChatActivity.this.chat_id;
+                                        TLRPC.TL_messages_deleteChatUser req = new TLRPC.TL_messages_deleteChatUser();
+                                        req.chat_id = chat_id;
                                         req.user_id = MessagesController.getInputUser(user);
                                         ConnectionsManager.getInstance().sendRequest(req, new RequestDelegate() {
                                             public void run(TLObject response, TLRPC.TL_error error) {
@@ -1115,24 +1089,21 @@ public void run(TLObject response, TLRPC.TL_error error) {
                                                         AndroidUtilities.runOnUIThread(new Runnable() {
                                                             public void run() {
                                                                 try {
-                                                                    ChatActivity.this.finishFragment();
+                                                                    finishFragment();
                                                                 } catch (Exception e) {
                                                                     FileLog.e("tmessages", e);
                                                                 }
                                                             }
                                                         });
                                                     }
-                                                } else if (error != null) {
-                                                    MessagesController.getInstance().processUpdates((Updates) response, false);
-                                                    AndroidUtilities.runOnUIThread(/* anonymous class already generated */);
                                                 }
                                             }
                                         }, 64);
                                     }
                                 }
                             });
-                            r0.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
-                            ChatActivity.this.showDialog(r0.create());
+                            b.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                            ChatActivity.this.showDialog(b.create());
                         }
                     }
                 } else if (id == 27) {
@@ -1182,6 +1153,7 @@ public void run() {
                             }
                         }
                     });
+                    //
                 } else if (id == share_contact) {
                     if (currentUser == null || getParentActivity() == null) {
                         return;
@@ -1226,6 +1198,26 @@ public void run() {
                 } else if(id == call) {
                     if(currentUser!=null)
                         VoIPHelper.startCall(currentUser, getParentActivity(), MessagesController.getInstance().getUserFull(currentUser.id));
+                } else if (id == 29) {
+                    ChatActivity.this.openAddMember();
+                } else if (id == ChatActivity.chat_background) {
+                    ChatActivity.this.presentFragment(new WallpapersActivity());
+                } else if (id == ChatActivity.add_favorites) {
+                    TLRPC.TL_dialog dialg = (TLRPC.TL_dialog) MessagesController.getInstance().dialogs_dict.get(Long.valueOf(ChatActivity.this.dialog_id));
+                    if (dialg != null) {
+                        boolean isFav = Favorite.getInstance().isFavorite(Long.valueOf(ChatActivity.this.dialog_id));
+                        if (isFav) {
+                            Favorite.getInstance().deleteFavorite(Long.valueOf(ChatActivity.this.dialog_id));
+                            MessagesController.getInstance().dialogsFavs.remove(dialg);
+                        } else {
+                            Favorite.getInstance().addFavorite(Long.valueOf(ChatActivity.this.dialog_id));
+                            MessagesController.getInstance().dialogsFavs.add(dialg);
+                        }
+                        ChatActivity.this.updateFavoriteTitle(isFav);
+                    }
+                } else if (id == ChatActivity.goto_first_msg) {
+                    ChatActivity.this.goToFirstMsg = true;
+                    ChatActivity.this.scrollToMessageId(1, 0, false, 0);
                 }
             }
         });
@@ -1314,6 +1306,27 @@ public void onSearchPressed(EditText editText) {
                 headerItem.hideSubItem(call);
             }
         }
+        if (this.chat_id > 0) {
+            if (ChatObject.isChannel(this.currentChat)) {
+                if ((this.currentChat.editor || this.currentChat.creator) && (this.info == null || this.info.participants_count < MessagesController.getInstance().maxMegagroupCount)) {
+                    this.headerItem.addSubItem(29, LocaleController.getString("AddMember", R.string.AddMember));
+                }
+            } else if (this.currentChat.admin || this.currentChat.creator || !this.currentChat.admins_enabled) {
+                this.headerItem.addSubItem(29, LocaleController.getString("AddMember", R.string.AddMember));
+            }
+        }
+        if (this.currentEncryptedChat == null) {
+            String string;
+            ActionBarMenuItem actionBarMenuItem = this.headerItem;
+            if (Favorite.getInstance().isFavorite(Long.valueOf(this.dialog_id))) {
+                string = LocaleController.getString("DeleteFromFavorites", R.string.DeleteFromFavorites);
+            } else {
+                string = LocaleController.getString("AddToFavorites", R.string.AddToFavorites);
+            }
+            this.favoritesItem = actionBarMenuItem.addSubItem(add_favorites, string);
+        }
+        this.headerItem.addSubItem(chat_background, LocaleController.getString("ChatBackground", R.string.ChatBackground));
+
         if (searchItem != null) {
             headerItem.addSubItem(search, LocaleController.getString("Search", R.string.Search));
         }
@@ -1330,6 +1343,7 @@ public void onSearchPressed(EditText editText) {
             headerItem.addSubItem(clear_history, LocaleController.getString("ClearHistory", R.string.ClearHistory));
             if (currentChat != null && !isBroadcast) {
                 headerItem.addSubItem(delete_chat, LocaleController.getString("DeleteAndExit", R.string.DeleteAndExit));
+                this.headerItem.addSubItem(28, LocaleController.getString("LeaveWithoutDelete", R.string.LeaveWithoutDelete));
             } else {
                 headerItem.addSubItem(delete_chat, LocaleController.getString("DeleteChatUser", R.string.DeleteChatUser));
             }
@@ -1342,7 +1356,7 @@ public void onSearchPressed(EditText editText) {
             headerItem.addSubItem(bot_help, LocaleController.getString("BotHelp", R.string.BotHelp));
             updateBotButtons();
         }
-
+        this.headerItem.addSubItem(goto_first_msg, LocaleController.getString("GoToFirstMessage", R.string.GoToFirstMessage));
         updateTitle();
         avatarContainer.updateOnlineCount();
         avatarContainer.updateSubtitle();
@@ -1350,15 +1364,24 @@ public void onSearchPressed(EditText editText) {
 
         attachItem = menu.addItem(chat_menu_attach, R.drawable.ic_ab_other).setOverrideMenuClick(true).setAllowCloseAnimation(false);
         attachItem.setVisibility(View.GONE);
-
+        getParentActivity().getResources().getDrawable(R.drawable.ic_ab_attach_white).setColorFilter(themePrefs.getInt(Theme.pkey_chatEditTextIconsColor, -5395027), PorterDuff.Mode.MULTIPLY); //TODO Multi color
         actionModeViews.clear();
-
+        int titleColor = themePrefs.getInt(Theme.pkey_chatNameColor, -1);
         final ActionBarMenu actionMode = actionBar.createActionMode();
-
+        if (Theme.usePlusTheme) {
+            actionMode.setBackgroundColor(Theme.chatHeaderColor);
+        }
         selectedMessagesCountTextView = new NumberTextView(actionMode.getContext());
         selectedMessagesCountTextView.setTextSize(18);
         selectedMessagesCountTextView.setTypeface(AndroidUtilities.getTypeface("fonts/rmedium.ttf"));
-        selectedMessagesCountTextView.setTextColor(Theme.getColor(Theme.key_actionBarActionModeDefaultIcon));
+//        selectedMessagesCountTextView.setTextColor(Theme.getColor(Theme.key_actionBarActionModeDefaultIcon));
+        NumberTextView numberTextView = this.selectedMessagesCountTextView;
+        if (Theme.usePlusTheme) {
+            i = Theme.chatHeaderIconsColor;
+        } else {
+            i = Theme.getColor(Theme.key_actionBarActionModeDefaultIcon);
+        }
+        numberTextView.setTextColor(i);
         actionMode.addView(selectedMessagesCountTextView, LayoutHelper.createLinear(0, LayoutHelper.MATCH_PARENT, 1.0f, 65, 0, 0, 0));
         selectedMessagesCountTextView.setOnTouchListener(new View.OnTouchListener() {
             @Override
@@ -1415,22 +1438,31 @@ public boolean onTouch(View v, MotionEvent event) {
         actionModeTextView = new SimpleTextView(context);
         actionModeTextView.setTextSize(18);
         actionModeTextView.setTypeface(AndroidUtilities.getTypeface("fonts/rmedium.ttf"));
-        actionModeTextView.setTextColor(Theme.getColor(Theme.key_actionBarActionModeDefaultIcon));
+//        actionModeTextView.setTextColor(Theme.getColor(Theme.key_actionBarActionModeDefaultIcon));
+        this.actionModeTextView.setTextColor(Theme.usePlusTheme ? titleColor : Theme.getColor(Theme.key_actionBarActionModeDefaultIcon));
         actionModeTextView.setText(LocaleController.getString("Edit", R.string.Edit));
         actionModeTitleContainer.addView(actionModeTextView, LayoutHelper.createFrame(LayoutHelper.MATCH_PARENT, LayoutHelper.MATCH_PARENT));
 
         actionModeSubTextView = new SimpleTextView(context);
         actionModeSubTextView.setGravity(Gravity.LEFT);
-        actionModeSubTextView.setTextColor(Theme.getColor(Theme.key_actionBarActionModeDefaultIcon));
+//        actionModeSubTextView.setTextColor(Theme.getColor(Theme.key_actionBarActionModeDefaultIcon));
+
+        if (!Theme.usePlusTheme) {
+            titleColor = Theme.getColor(Theme.key_actionBarActionModeDefaultIcon);
+        }
+        actionModeSubTextView.setTextColor(titleColor);
         actionModeTitleContainer.addView(actionModeSubTextView, LayoutHelper.createFrame(LayoutHelper.MATCH_PARENT, LayoutHelper.MATCH_PARENT));
 
         if (currentEncryptedChat == null) {
             if (!isBroadcast) {
                 actionModeViews.add(actionMode.addItemWithWidth(reply, R.drawable.ic_ab_reply, AndroidUtilities.dp(54)));
             }
-            actionModeViews.add(actionMode.addItemWithWidth(copy, R.drawable.ic_ab_copy, AndroidUtilities.dp(54)));
-            actionModeViews.add(actionMode.addItemWithWidth(forward, R.drawable.ic_ab_forward, AndroidUtilities.dp(54)));
-            actionModeViews.add(actionMode.addItemWithWidth(delete, R.drawable.ic_ab_delete, AndroidUtilities.dp(54)));
+            this.actionModeViews.add(actionMode.addItem(27, R.drawable.ic_backup, AndroidUtilities.dp(54.0f)));
+            this.actionModeViews.add(actionMode.addItemWithWidth(10, (int) R.drawable.ic_ab_copy, AndroidUtilities.dp(54.0f)));
+            this.actionModeViews.add(actionMode.addItem(quoteforward, R.drawable.ic_ab_fwd_quoteforward, AndroidUtilities.dp(54.0f)));
+            this.actionModeViews.add(actionMode.addItemWithWidth(11, (int) R.drawable.ic_ab_forward, AndroidUtilities.dp(54.0f)));
+            this.actionModeViews.add(actionMode.addItemWithWidth(12, (int) R.drawable.ic_ab_delete, AndroidUtilities.dp(54.0f)));
+
         } else {
             actionModeViews.add(actionMode.addItemWithWidth(reply, R.drawable.ic_ab_reply, AndroidUtilities.dp(54)));
             actionModeViews.add(actionMode.addItemWithWidth(copy, R.drawable.ic_ab_copy, AndroidUtilities.dp(54)));
@@ -1636,8 +1668,12 @@ protected void onLayout(boolean changed, int l, int t, int r, int b) {
 
         SizeNotifierFrameLayout contentView = (SizeNotifierFrameLayout) fragmentView;
 
-        contentView.setBackgroundImage(Theme.getCachedWallpaper());
-
+//        contentView.setBackgroundImage(Theme.getCachedWallpaper());
+        if (Theme.usePlusTheme) {
+            updateBackground(contentView);
+        } else {
+            contentView.setBackgroundImage(Theme.getCachedWallpaper());
+        }
         emptyViewContainer = new FrameLayout(context);
         emptyViewContainer.setVisibility(View.INVISIBLE);
         contentView.addView(emptyViewContainer, LayoutHelper.createFrame(LayoutHelper.MATCH_PARENT, LayoutHelper.WRAP_CONTENT, Gravity.CENTER));
@@ -1711,6 +1747,7 @@ public boolean drawChild(Canvas canvas, View child, long drawingTime) {
                 boolean result = super.drawChild(canvas, child, drawingTime);
                 if (child instanceof ChatMessageCell) {
                     ChatMessageCell chatMessageCell = (ChatMessageCell) child;
+                    GradientDrawable statusBG = chatMessageCell.getStatusBG();
                     ImageReceiver imageReceiver = chatMessageCell.getAvatarImage();
                     if (imageReceiver != null) {
                         int top = child.getTop();
@@ -1721,6 +1758,10 @@ public boolean drawChild(Canvas canvas, View child, long drawingTime) {
                                 if (holder != null) {
                                     imageReceiver.setImageY(-AndroidUtilities.dp(1000));
                                     imageReceiver.draw(canvas);
+                                    if (statusBG != null) {
+                                        statusBG.setBounds(imageReceiver.getDrawRegion().right - AndroidUtilities.dp(13.0f), imageReceiver.getDrawRegion().bottom - AndroidUtilities.dp(13.0f), imageReceiver.getDrawRegion().right, imageReceiver.getDrawRegion().bottom);
+                                        statusBG.draw(canvas);
+                                    }
                                     return result;
                                 }
                             }
@@ -1751,12 +1792,17 @@ public boolean drawChild(Canvas canvas, View child, long drawingTime) {
                         }
                         imageReceiver.setImageY(y - AndroidUtilities.dp(44));
                         imageReceiver.draw(canvas);
+                        if (statusBG != null) {
+                            statusBG.setBounds(imageReceiver.getDrawRegion().right - AndroidUtilities.dp(13.0f), imageReceiver.getDrawRegion().bottom - AndroidUtilities.dp(13.0f), imageReceiver.getDrawRegion().right, imageReceiver.getDrawRegion().bottom);
+                            statusBG.draw(canvas);
+                        }
                     }
                 }
                 return result;
             }
         };
         chatListView.setTag(1);
+        int nameColor = themePrefs.getInt(Theme.pkey_chatNameColor, -1);
         chatListView.setVerticalScrollBarEnabled(true);
         chatListView.setAdapter(chatAdapter = new ChatActivityAdapter(context));
         chatListView.setClipToPadding(false);
@@ -1775,6 +1821,9 @@ public boolean supportsPredictiveItemAnimations() {
         contentView.addView(chatListView, LayoutHelper.createFrame(LayoutHelper.MATCH_PARENT, LayoutHelper.MATCH_PARENT));
         chatListView.setOnItemLongClickListener(onItemLongClickListener);
         chatListView.setOnItemClickListener(onItemClickListener);
+        if (Theme.usePlusTheme) {
+            Glow.setEdgeGlowColor(this.chatListView, Theme.chatHeaderColor);
+        }
         chatListView.setOnScrollListener(new RecyclerView.OnScrollListener() {
 
             private float totalDy = 0;
@@ -1815,6 +1864,9 @@ public void onAnimationEnd(Animator animation) {
                             }
                         });
                         floatingDateAnimation.start();
+                        if (!(ChatActivity.this.chatDialogsView == null || !Theme.plusShowQuickBar || Theme.plusVerticalQuickBar || !Theme.plusCenterQuickBarBtn || ChatActivity.this.chatDialogsView.getAlpha() == 0.0f)) {
+                            ChatActivity.this.chatDialogsView.setAlpha(0.0f);
+                        }
                     }
                 }
                 checkScrollForLoad(true);
@@ -1846,6 +1898,9 @@ public void onAnimationEnd(Animator animation) {
                     }
                 }
                 updateMessagesVisisblePart();
+                if (dy != 0) {
+                    ChatActivity.this.updateFloatingDateViewPosition();
+                }
             }
         });
         chatListView.setOnTouchListener(new View.OnTouchListener() {
@@ -1962,7 +2017,10 @@ public void run() {
             chatLayoutManager.scrollToPositionWithOffset(scrollToPositionOnRecreate, scrollToOffsetOnRecreate);
             scrollToPositionOnRecreate = -1;
         }
-
+//        if (Theme.plusSwipeToReply) {
+//            this.itemTouchHelper = new ItemTouchHelper(this.simpleItemTouchCallback); //TODO Multi callback simpleItemTouchCallback
+//            this.itemTouchHelper.attachToRecyclerView(this.chatListView);
+//        }
         progressView = new FrameLayout(context);
         progressView.setVisibility(View.INVISIBLE);
         contentView.addView(progressView, LayoutHelper.createFrame(LayoutHelper.MATCH_PARENT, LayoutHelper.MATCH_PARENT, Gravity.TOP | Gravity.LEFT));
@@ -1997,7 +2055,77 @@ public void onClick(View view) {
                 jumpToDate((int) (calendar.getTime().getTime() / 1000));
             }
         });
+        //Multi
+        this.chatDialogsView = new ChatDialogsView(context, this, this.dialog_id);
+        if(Theme.plusShowQuickBar) this.chatDialogsView.setVisibility(View.VISIBLE);
+        else this.chatDialogsView.setVisibility(View.INVISIBLE);
+        this.chatDialogsView.setDelegate(new ChatDialogsView.ChatDialogsViewDelegate() {
+            public void didPressedOnSubDialog(long did) {
+                boolean z = true;
+                ChatActivity.this.chatDialogsView.needRefresh(true);
+                Bundle args = new Bundle();
+                int lower_part = (int) did;
+                int high_part = (int) (did >> 32);
+                if (lower_part == 0) {
+                    args.putInt("enc_id", high_part);
+                } else if (lower_part > 0) {
+                    args.putInt("user_id", lower_part);
+                } else if (lower_part < 0) {
+                    MessagesController.getInstance().loadFullChat(-lower_part, 0, false);
+                    args.putInt("chat_id", -lower_part);
+                }
+                if (Theme.plusDoNotCloseQuickBar) {
+                    args.putBoolean("show_quickBar", true);
+                }
+                ChatActivity chatActivity = ChatActivity.this;
+                BaseFragment chatActivity2 = new ChatActivity(args);
+                if (!(Theme.plusShowQuickBar && Theme.plusAlwaysBackToMain)) {
+                    z = false;
+                }
+                chatActivity.presentFragment(chatActivity2, z);
+            }
+
+            public void didPressedOnBtn(boolean visible) {
+                ChatActivity.this.updateChatDialogsView(visible);
+            }
+
+            public void didLongPressedOnSubDialog(long did, int type) {
+                Bundle args = new Bundle();
+                int lower_part = (int) did;
+                if (type >= 0) {
+                    int high_part = (int) (did >> 32);
+                    if (lower_part == 0) {
+                        args.putInt("enc_id", high_part);
+                    } else if (lower_part > 0) {
+                        args.putInt("user_id", lower_part);
+                    } else if (lower_part < 0) {
+                        MessagesController.getInstance().loadFullChat(-lower_part, 0, false);
+                        args.putInt("chat_id", -lower_part);
+                    }
+                    ChatActivity.this.presentFragment(new ProfileActivity(args));
+                } else if (lower_part > 0) {
+                    TLRPC.User user = MessagesController.getInstance().getUser(Integer.valueOf(lower_part));
+                    if (user != null && ChatActivity.this.chatAdapter != null) {
+                        ChatActivity.this.chatAdapter.createAvatarClickMenu(lower_part, user, true);
+                    }
+                }
+            }
+        });
+        View view = this.chatDialogsView;
+        i = Theme.plusVerticalQuickBar ? -2 : -1;
+        if (Theme.plusVerticalQuickBar) {
+            i2 = -1;
+        } else {
+            i2 = -2;
+        }
+        if (Theme.plusVerticalQuickBar) {
+            i3 = 53;
+        } else {
+            i3 = 48;
+        }
+        contentView.addView(view, LayoutHelper.createFrame(i, i2, i3));
 
+        //
         if (ChatObject.isChannel(currentChat)) {
             pinnedMessageView = new FrameLayout(context);
             pinnedMessageView.setTag(1);
@@ -2651,9 +2779,23 @@ public void onScrolled(RecyclerView recyclerView, int dx, int dy) {
         pagedownButtonCounter.setVisibility(View.INVISIBLE);
         pagedownButtonCounter.setTypeface(AndroidUtilities.getTypeface("fonts/rmedium.ttf"));
         pagedownButtonCounter.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 13);
-        pagedownButtonCounter.setTextColor(Theme.getColor(Theme.key_chat_goDownButtonCounter));
+//        pagedownButtonCounter.setTextColor(Theme.getColor(Theme.key_chat_goDownButtonCounter));
+//        TextView textView = this.pagedownButtonCounter;
+        if (!Theme.usePlusTheme) {
+            nameColor = Theme.getColor(Theme.key_chat_goDownButtonCounter);
+        }
+        pagedownButtonCounter.setTextColor(nameColor);
         pagedownButtonCounter.setGravity(Gravity.CENTER);
-        pagedownButtonCounter.setBackgroundDrawable(Theme.createRoundRectDrawable(AndroidUtilities.dp(11.5f), Theme.getColor(Theme.key_chat_goDownButtonCounterBackground)));
+//        pagedownButtonCounter.setBackgroundDrawable(Theme.createRoundRectDrawable(AndroidUtilities.dp(11.5f), Theme.getColor(Theme.key_chat_goDownButtonCounterBackground)));
+//        TextView textView2 = this.pagedownButtonCounter;
+        i3 = AndroidUtilities.dp(11.5f);
+        if (Theme.usePlusTheme) {
+            i = Theme.chatHeaderColor;
+        } else {
+            i = Theme.getColor(Theme.key_chat_goDownButtonCounterBackground);
+        }
+        pagedownButtonCounter.setBackgroundDrawable(Theme.createRoundRectDrawable(i3, i));
+
         pagedownButtonCounter.setMinWidth(AndroidUtilities.dp(23));
         pagedownButtonCounter.setPadding(AndroidUtilities.dp(8), 0, AndroidUtilities.dp(8), AndroidUtilities.dp(1));
         pagedownButton.addView(pagedownButtonCounter, LayoutHelper.createFrame(LayoutHelper.WRAP_CONTENT, 23, Gravity.TOP | Gravity.CENTER_HORIZONTAL));
@@ -2786,6 +2928,9 @@ public void onWindowSizeChanged(int size) {
 
                 allowContextBotPanel = !chatActivityEnterView.isPopupShowing();
                 checkContextBotPanel();
+                if (((double) size) < ((double) AndroidUtilities.displaySize.y) / 1.5d && Theme.plusShowQuickBar && ChatActivity.this.chatDialogsView != null && ChatActivity.this.chatDialogsView.isVisible()) {
+                    ChatActivity.this.chatDialogsView.btnPressed();
+                }
             }
 
             @Override
@@ -2868,6 +3013,15 @@ public void setVisibility(int visibility) {
         chatActivityEnterView.addTopView(replyLayout, 48);
 
         replyLineView = new View(context);
+//        int iColor = themePrefs.getInt(Theme.pkey_chatEditTextIconsColor, themePrefs.getInt(Theme.pkey_chatEditTextBGColor, -1) == -1 ? Theme.defColor : -5395027);
+        this.replyLineView = new View(context);
+//        int color = themePrefs.getInt(Theme.pkey_chatEditTextBGColor, -1);
+//        color = color == -1 ? Theme.pkey_chatEditTextIconsColor : AndroidUtilities.setDarkColor(color, 21);
+////        View view2 = this.replyLineView;
+//        if (!Theme.usePlusTheme) {
+//            color = Theme.getColor(Theme.key_chat_replyPanelLine);
+//        } //TODO Multi color + all method
+//        replyLineView.setBackgroundColor(color);
         replyLineView.setBackgroundColor(Theme.getColor(Theme.key_chat_replyPanelLine));
         replyLayout.addView(replyLineView, LayoutHelper.createFrame(LayoutHelper.MATCH_PARENT, 1, Gravity.BOTTOM | Gravity.LEFT));
 
@@ -2957,7 +3111,14 @@ public void onDraw(Canvas canvas) {
         searchUpButton = new ImageView(context);
         searchUpButton.setScaleType(ImageView.ScaleType.CENTER);
         searchUpButton.setImageResource(R.drawable.search_up);
-        searchUpButton.setColorFilter(new PorterDuffColorFilter(Theme.getColor(Theme.key_chat_searchPanelIcons), PorterDuff.Mode.MULTIPLY));
+        if (Theme.usePlusTheme) {
+            i = Theme.chatEditTextIconsColor;
+        } else {
+            i = Theme.getColor(Theme.key_chat_searchPanelIcons);
+        }
+        searchUpButton.setColorFilter(new PorterDuffColorFilter(i, PorterDuff.Mode.MULTIPLY));
+
+//        searchUpButton.setColorFilter(new PorterDuffColorFilter(Theme.getColor(Theme.key_chat_searchPanelIcons), PorterDuff.Mode.MULTIPLY));
         searchContainer.addView(searchUpButton, LayoutHelper.createFrame(48, 48));
         searchUpButton.setOnClickListener(new View.OnClickListener() {
             @Override
@@ -2969,7 +3130,15 @@ public void onClick(View view) {
         searchDownButton = new ImageView(context);
         searchDownButton.setScaleType(ImageView.ScaleType.CENTER);
         searchDownButton.setImageResource(R.drawable.search_down);
-        searchDownButton.setColorFilter(new PorterDuffColorFilter(Theme.getColor(Theme.key_chat_searchPanelIcons), PorterDuff.Mode.MULTIPLY));
+//        imageView = this.searchDownButton;
+        if (Theme.usePlusTheme) {
+            i = Theme.chatEditTextIconsColor;
+        } else {
+            i = Theme.getColor(Theme.key_chat_searchPanelIcons);
+        }
+        searchDownButton.setColorFilter(new PorterDuffColorFilter(i, PorterDuff.Mode.MULTIPLY));
+
+//        searchDownButton.setColorFilter(new PorterDuffColorFilter(Theme.getColor(Theme.key_chat_searchPanelIcons), PorterDuff.Mode.MULTIPLY));
         searchContainer.addView(searchDownButton, LayoutHelper.createFrame(48, 48, Gravity.LEFT | Gravity.TOP, 48, 0, 0, 0));
         searchDownButton.setOnClickListener(new View.OnClickListener() {
             @Override
@@ -2981,7 +3150,15 @@ public void onClick(View view) {
         searchCalendarButton = new ImageView(context);
         searchCalendarButton.setScaleType(ImageView.ScaleType.CENTER);
         searchCalendarButton.setImageResource(R.drawable.search_calendar);
-        searchCalendarButton.setColorFilter(new PorterDuffColorFilter(Theme.getColor(Theme.key_chat_searchPanelIcons), PorterDuff.Mode.MULTIPLY));
+//        imageView = this.searchCalendarButton;
+        if (Theme.usePlusTheme) {
+            i = Theme.chatEditTextIconsColor;
+        } else {
+            i = Theme.getColor(Theme.key_chat_searchPanelIcons);
+        }
+        searchCalendarButton.setColorFilter(new PorterDuffColorFilter(i, PorterDuff.Mode.MULTIPLY));
+
+//        searchCalendarButton.setColorFilter(new PorterDuffColorFilter(Theme.getColor(Theme.key_chat_searchPanelIcons), PorterDuff.Mode.MULTIPLY));
         searchContainer.addView(searchCalendarButton, LayoutHelper.createFrame(48, 48, Gravity.RIGHT | Gravity.TOP));
         searchCalendarButton.setOnClickListener(new View.OnClickListener() {
             @Override
@@ -3040,7 +3217,13 @@ public void onShow(DialogInterface dialog) {
         });
 
         searchCountText = new SimpleTextView(context);
-        searchCountText.setTextColor(Theme.getColor(Theme.key_chat_searchPanelText));
+//        searchCountText.setTextColor(Theme.getColor(Theme.key_chat_searchPanelText));
+        if (Theme.usePlusTheme) {
+            i = Theme.chatEditTextIconsColor;
+        } else {
+            i = Theme.getColor(Theme.key_chat_searchPanelText);
+        }
+        searchCountText.setTextColor(i);
         searchCountText.setTextSize(15);
         searchCountText.setTypeface(AndroidUtilities.getTypeface("fonts/rmedium.ttf"));
         searchContainer.addView(searchCountText, LayoutHelper.createFrame(LayoutHelper.MATCH_PARENT, LayoutHelper.WRAP_CONTENT, Gravity.LEFT | Gravity.CENTER_VERTICAL, 108, 0, 0, 0));
@@ -3083,69 +3266,76 @@ public void onDraw(Canvas canvas) {
         bottomOverlayChat.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View view) {
-                if (getParentActivity() == null) {
-                    return;
-                }
-                AlertDialog.Builder builder = null;
-                if (currentUser != null && userBlocked) {
-                    if (currentUser.bot) {
-                        String botUserLast = botUser;
-                        botUser = null;
-                        MessagesController.getInstance().unblockUser(currentUser.id);
-                        if (botUserLast != null && botUserLast.length() != 0) {
-                            MessagesController.getInstance().sendBotStart(currentUser, botUserLast);
+                if (ChatActivity.this.getParentActivity() != null) {
+                    AlertDialog.Builder builder = null;
+                    if (ChatActivity.this.currentUser == null || !ChatActivity.this.userBlocked) {
+                        if (ChatActivity.this.currentUser != null && ChatActivity.this.currentUser.bot && ChatActivity.this.botUser != null) {
+                            if (ChatActivity.this.botUser.length() != 0) {
+                                MessagesController.getInstance().sendBotStart(ChatActivity.this.currentUser, ChatActivity.this.botUser);
+                            } else {
+                                SendMessagesHelper.getInstance().sendMessage("/start", ChatActivity.this.dialog_id, null, null, false, null, null, null);
+                            }
+                            ChatActivity.this.botUser = null;
+                            ChatActivity.this.updateBottomOverlay();
+                        } else if (!ChatObject.isChannel(ChatActivity.this.currentChat) || (ChatActivity.this.currentChat instanceof TLRPC.TL_channelForbidden)) {
+                            builder = new AlertDialog.Builder(ChatActivity.this.getParentActivity());
+                            if (ChatActivity.this.dialog_id >= 0 || !ChatObject.isLeftFromChat(ChatActivity.this.currentChat)) {
+                                builder.setMessage(LocaleController.getString("AreYouSureDeleteThisChat", R.string.AreYouSureDeleteThisChat));
+                                builder.setPositiveButton(LocaleController.getString("OK", R.string.OK), new DialogInterface.OnClickListener() {
+                                    public void onClick(DialogInterface dialogInterface, int i) {
+                                        MessagesController.getInstance().deleteDialog(ChatActivity.this.dialog_id, 0);
+                                        ChatActivity.this.finishFragment();
+                                    }
+                                });
+                            } else {
+                                builder.setMessage(LocaleController.getString("ReturnToThisGroupMsg", R.string.ReturnToThisGroupMsg));
+                                builder.setPositiveButton(LocaleController.getString("OK", R.string.OK), new DialogInterface.OnClickListener() {
+                                    public void onClick(DialogInterface dialogInterface, int i) {
+                                        if (ChatActivity.this.currentChat != null) {
+                                            MessagesController.getInstance().addUserToChat(ChatActivity.this.currentChat.id, UserConfig.getCurrentUser(), null, 0, null, null);
+                                            ChatActivity.this.updateBottomOverlay();
+                                        }
+                                    }
+                                });
+                            }
+                        } else if (ChatObject.isNotInChat(ChatActivity.this.currentChat)) {
+                            MessagesController.getInstance().addUserToChat(ChatActivity.this.currentChat.id, UserConfig.getCurrentUser(), null, 0, null, null);
                         } else {
-                            SendMessagesHelper.getInstance().sendMessage("/start", dialog_id, null, null, false, null, null, null);
+                            ChatActivity.this.toggleMute(true);
+                        }
+                    } else if (ChatActivity.this.currentUser.bot) {
+                        String botUserLast = ChatActivity.this.botUser;
+                        ChatActivity.this.botUser = null;
+                        MessagesController.getInstance().unblockUser(ChatActivity.this.currentUser.id);
+                        if (botUserLast == null || botUserLast.length() == 0) {
+                            SendMessagesHelper.getInstance().sendMessage("/start", ChatActivity.this.dialog_id, null, null, false, null, null, null);
+                        } else {
+                            MessagesController.getInstance().sendBotStart(ChatActivity.this.currentUser, botUserLast);
                         }
                     } else {
-                        builder = new AlertDialog.Builder(getParentActivity());
+                        builder = new AlertDialog.Builder(ChatActivity.this.getParentActivity());
                         builder.setMessage(LocaleController.getString("AreYouSureUnblockContact", R.string.AreYouSureUnblockContact));
                         builder.setPositiveButton(LocaleController.getString("OK", R.string.OK), new DialogInterface.OnClickListener() {
-                            @Override
                             public void onClick(DialogInterface dialogInterface, int i) {
-                                MessagesController.getInstance().unblockUser(currentUser.id);
+                                MessagesController.getInstance().unblockUser(ChatActivity.this.currentUser.id);
                             }
                         });
                     }
-                } else if (currentUser != null && currentUser.bot && botUser != null) {
-                    if (botUser.length() != 0) {
-                        MessagesController.getInstance().sendBotStart(currentUser, botUser);
-                    } else {
-                        SendMessagesHelper.getInstance().sendMessage("/start", dialog_id, null, null, false, null, null, null);
-                    }
-                    botUser = null;
-                    updateBottomOverlay();
-                } else {
-                    if (ChatObject.isChannel(currentChat) && !(currentChat instanceof TLRPC.TL_channelForbidden)) {
-                        if (ChatObject.isNotInChat(currentChat)) {
-                            MessagesController.getInstance().addUserToChat(currentChat.id, UserConfig.getCurrentUser(), null, 0, null, null);
-                        } else {
-                            toggleMute(true);
-                        }
-                    } else {
-                        builder = new AlertDialog.Builder(getParentActivity());
-                        builder.setMessage(LocaleController.getString("AreYouSureDeleteThisChat", R.string.AreYouSureDeleteThisChat));
-                        builder.setPositiveButton(LocaleController.getString("OK", R.string.OK), new DialogInterface.OnClickListener() {
-                            @Override
-                            public void onClick(DialogInterface dialogInterface, int i) {
-                                MessagesController.getInstance().deleteDialog(dialog_id, 0);
-                                finishFragment();
-                            }
-                        });
+                    if (builder != null) {
+                        builder.setTitle(LocaleController.getString("AppName", R.string.AppName));
+                        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                        ChatActivity.this.showDialog(builder.create());
                     }
                 }
-                if (builder != null) {
-                    builder.setTitle(LocaleController.getString("AppName", R.string.AppName));
-                    builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
-                    showDialog(builder.create());
-                }
             }
         });
 
         bottomOverlayChatText = new TextView(context);
         bottomOverlayChatText.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 15);
         bottomOverlayChatText.setTypeface(AndroidUtilities.getTypeface("fonts/rmedium.ttf"));
-        bottomOverlayChatText.setTextColor(Theme.getColor(Theme.key_chat_fieldOverlayText));
+//        bottomOverlayChatText.setTextColor(Theme.getColor(Theme.key_chat_fieldOverlayText));
+        bottomOverlayChatText.setTextColor(Theme.usePlusTheme ? Theme.chatEditTextIconsColor == -5395027 ? Theme.defColor : Theme.chatEditTextIconsColor : Theme.getColor(Theme.key_chat_fieldOverlayText));
+//        bottomOverlayChatText.setTextColor(i);
         bottomOverlayChat.addView(bottomOverlayChatText, LayoutHelper.createFrame(LayoutHelper.WRAP_CONTENT, LayoutHelper.WRAP_CONTENT, Gravity.CENTER));
 
         chatAdapter.updateRows();
@@ -3168,7 +3358,9 @@ public void onClick(DialogInterface dialogInterface, int i) {
         updateSecretStatus();
         updateSpamView();
         updatePinnedMessageView(true);
-
+        if (this.showQuickBar) {
+            this.chatDialogsView.btnPressed();
+        }
         try {
             if (currentEncryptedChat != null && Build.VERSION.SDK_INT >= 23 && (UserConfig.passcodeHash.length() == 0 || UserConfig.allowScreenCapture)) {
                 getParentActivity().getWindow().setFlags(WindowManager.LayoutParams.FLAG_SECURE, WindowManager.LayoutParams.FLAG_SECURE);
@@ -3262,6 +3454,95 @@ private void jumpToDate(int date) {
         }
     }
 
+    //Multi
+    private void updateChatDialogsView(final boolean visible) {
+        ChatDialogsView chatDialogsView = this.chatDialogsView;
+        String str = Theme.plusVerticalQuickBar ? "translationX" : "translationY";
+        float[] fArr = new float[1];
+        float dp = visible ? Theme.plusVerticalQuickBar ? (float) AndroidUtilities.dp((float) this.chatDialogsView.getListWidth()) : (float) (-AndroidUtilities.dp((float) this.chatDialogsView.getListHeight())) : 0.0f;
+        fArr[0] = dp;
+        ObjectAnimator animator = ObjectAnimator.ofFloat(chatDialogsView, str, fArr).setDuration(200);
+        animator.addListener(new AnimatorListenerAdapterProxy() {
+            public void onAnimationEnd(Animator animation) {
+                ChatDialogsView access$8100 = ChatActivity.this.chatDialogsView;
+                int i = visible ? Theme.plusVerticalQuickBar ? R.drawable.ic_bar_open : R.drawable.search_down : Theme.plusVerticalQuickBar ? R.drawable.ic_bar_close : R.drawable.search_up;
+                access$8100.setBtnResId(i);
+            }
+        });
+        animator.start();
+    }
+
+    private void openAddMember() {
+        boolean z = true;
+        Bundle args = new Bundle();
+        args.putBoolean("onlyUsers", true);
+        args.putBoolean("destroyAfterSelect", true);
+        args.putBoolean("returnAsResult", true);
+        String str = "needForwardCount";
+        if (ChatObject.isChannel(this.currentChat)) {
+            z = false;
+        }
+        args.putBoolean(str, z);
+        if (this.chat_id > 0) {
+            if (this.currentChat.creator) {
+                args.putInt("chat_id", this.currentChat.id);
+            }
+            args.putString("selectAlertString", LocaleController.getString("AddToTheGroup", R.string.AddToTheGroup));
+        }
+        ContactsActivity fragment = new ContactsActivity(args);
+        fragment.setDelegate(new ContactsActivity.ContactsActivityDelegate() {
+            public void didSelectContact(TLRPC.User user, String param) {
+                MessagesController.getInstance().addUserToChat(ChatActivity.this.chat_id, user, ChatActivity.this.info, param != null ? Utilities.parseInt(param).intValue() : 0, null, ChatActivity.this);
+            }
+        });
+        if (this.info instanceof TLRPC.TL_chatFull) {
+            HashMap<Integer, TLRPC.User> users = new HashMap();
+            for (int a = 0; a < this.info.participants.participants.size(); a++) {
+                users.put(Integer.valueOf(((TLRPC.ChatParticipant) this.info.participants.participants.get(a)).user_id), null);
+            }
+            fragment.setIgnoreUsers(users);
+        }
+        presentFragment(fragment);
+    }
+
+    private void updateFloatingDateViewPosition() {
+        if (this.chatDialogsView != null && Theme.plusShowQuickBar && Theme.plusHideQuickBarOnScroll && this.chatDialogsView.isVisible()) {
+            this.chatDialogsView.btnPressed();
+        }
+    }
+
+    private void updateBackground(SizeNotifierFrameLayout contentView) {
+        SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0);
+        if (Theme.chatSolidBGColorCheck) {
+            int mainColor = themePrefs.getInt(Theme.pkey_chatSolidBGColor, -1);
+            int orientation = themePrefs.getInt(Theme.pkey_chatGradientBG, 0);
+            if (orientation == 0) {
+                contentView.setBackgroundDrawable(new ColorDrawable(mainColor));
+                return;
+            }
+            GradientDrawable.Orientation go;
+            switch (orientation) {
+                case 2:
+                    go = GradientDrawable.Orientation.LEFT_RIGHT;
+                    break;
+                case 3:
+                    go = GradientDrawable.Orientation.TL_BR;
+                    break;
+                case 4:
+                    go = GradientDrawable.Orientation.BL_TR;
+                    break;
+                default:
+                    go = GradientDrawable.Orientation.TOP_BOTTOM;
+                    break;
+            }
+            int gradColor = themePrefs.getInt(Theme.pkey_chatGradientBGColor, -1);
+            contentView.setBackgroundDrawable(new GradientDrawable(go, new int[]{mainColor, gradColor}));
+            return;
+        }
+        contentView.setBackgroundImage(Theme.getCachedWallpaper());
+    }
+    //
+
     public void processInlineBotContextPM(TLRPC.TL_inlineBotSwitchPM object) {
         if (object == null) {
             return;
@@ -3641,6 +3922,9 @@ public void onAnimationEnd(Animator animation) {
                         if (animation.equals(floatingDateAnimation)) {
                             floatingDateAnimation = null;
                         }
+                        if (ChatActivity.this.chatDialogsView != null && Theme.plusShowQuickBar && !Theme.plusVerticalQuickBar && Theme.plusCenterQuickBarBtn) {
+                            ChatActivity.this.chatDialogsView.setAlpha(1.0f);
+                        }
                     }
                 });
                 floatingDateAnimation.setStartDelay(500);
@@ -4071,6 +4355,9 @@ private void forwardMessages(ArrayList<MessageObject> arrayList, boolean fromMyN
         if (arrayList == null || arrayList.isEmpty()) {
             return;
         }
+        if (this.quote) {
+            fromMyName = false;
+        }
         if (!fromMyName) {
             SendMessagesHelper.getInstance().sendMessage(arrayList, dialog_id);
         } else {
@@ -4092,6 +4379,12 @@ public void showReplyPanel(boolean show, MessageObject messageObjectToReply, Arr
                 actionBar.closeSearchField();
                 chatActivityEnterView.setFieldFocused();
             }
+            SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0);
+            int iColor = themePrefs.getInt(Theme.pkey_chatEditTextIconsColor, themePrefs.getInt(Theme.pkey_chatEditTextBGColor, -1) == -1 ? Theme.defColor : -5395027);//TODO Multi colors
+            int textColor = themePrefs.getInt(Theme.pkey_chatEditTextColor, -6710887);
+            if (Theme.usePlusTheme) {
+                this.replyObjectTextView.setTextColor(textColor);
+            }
             boolean openKeyboard = false;
             if (messageObjectToReply != null && messageObjectToReply.getDialogId() != dialog_id) {
                 messageObjectsToForward = new ArrayList<>();
@@ -4327,7 +4620,8 @@ public void showReplyPanel(boolean show, MessageObject messageObjectToReply, Arr
                 }
             }
             if (forwardingMessages != null) {
-                forwardMessages(forwardingMessages, false);
+//                forwardMessages(forwardingMessages, false);
+                forwardMessages(this.forwardingMessages, !QuoteForward);
             }
             chatActivityEnterView.setForceShowSendButton(false, false);
             chatActivityEnterView.hideTopView(false);
@@ -4335,6 +4629,12 @@ public void showReplyPanel(boolean show, MessageObject messageObjectToReply, Arr
             replyingMessageObject = null;
             forwardingMessages = null;
             replyImageLocation = null;
+            if (Theme.usePlusTheme) {
+                this.replyImageView.setImageDrawable(null);
+                this.replyIconImageView.setImageDrawable(null);
+                this.replyNameTextView.setText("");
+                this.replyObjectTextView.setText("");
+            }
         }
     }
 
@@ -4480,6 +4780,9 @@ private void updateMessagesVisisblePart() {
                 if (floatingDateView.getAlpha() != 1.0f) {
                     floatingDateView.setAlpha(1.0f);
                 }
+                if (!(this.chatDialogsView == null || !Theme.plusShowQuickBar || Theme.plusVerticalQuickBar || !Theme.plusCenterQuickBarBtn || this.chatDialogsView.getAlpha() == 0.0f)) {
+                    this.chatDialogsView.setAlpha(0.0f);
+                }
                 currentFloatingDateOnScreen = true;
             }
             int offset = minDateChild.getBottom() - chatListView.getPaddingTop();
@@ -4929,64 +5232,92 @@ private void addToSelectedMessages(MessageObject messageObject) {
                 int newCopyVisible = actionBar.createActionMode().getItem(copy).getVisibility();
                 actionBar.createActionMode().getItem(delete).setVisibility(cantDeleteMessagesCount == 0 ? View.VISIBLE : View.GONE);
                 final ActionBarMenuItem replyItem = actionBar.createActionMode().getItem(reply);
+                final ActionBarMenuItem backupItem = this.actionBar.createActionMode().getItem(27);
+                //Multi
                 if (replyItem != null) {
                     boolean allowChatActions = true;
-                    if (currentEncryptedChat != null && AndroidUtilities.getPeerLayerVersion(currentEncryptedChat.layer) < 46 || isBroadcast || currentChat != null && (ChatObject.isNotInChat(currentChat) || ChatObject.isChannel(currentChat) && !currentChat.creator && !currentChat.editor && !currentChat.megagroup)) {
+                    if ((this.currentEncryptedChat != null && AndroidUtilities.getPeerLayerVersion(this.currentEncryptedChat.layer) < 46) || this.isBroadcast || (this.currentChat != null && (ChatObject.isNotInChat(this.currentChat) || !(!ChatObject.isChannel(this.currentChat) || this.currentChat.creator || this.currentChat.editor || this.currentChat.megagroup)))) {
                         allowChatActions = false;
                     }
-                    final int newVisibility = allowChatActions && selectedMessagesIds[0].size() + selectedMessagesIds[1].size() == 1 ? View.VISIBLE : View.GONE;
-                    if (replyItem.getVisibility() != newVisibility) {
-                        if (replyButtonAnimation != null) {
-                            replyButtonAnimation.cancel();
+                    View g = null;
+                    final int newVisibility = (allowChatActions && this.selectedMessagesIds[0].size() + this.selectedMessagesIds[1].size() == 1) ? 0 : 8;
+                    if(newVisibility == 0) g.setVisibility(View.VISIBLE);
+                    if(newVisibility == 4) g.setVisibility(View.INVISIBLE);
+                    if(newVisibility == 8) g.setVisibility(View.GONE);
+
+                    if (replyItem.getVisibility() != g.getVisibility()) {
+                        if (this.replyButtonAnimation != null) {
+                            this.replyButtonAnimation.cancel();
                         }
                         if (copyVisible != newCopyVisible) {
-                            if (newVisibility == View.VISIBLE) {
+                            if (newVisibility == 0) {
                                 replyItem.setAlpha(1.0f);
                                 replyItem.setScaleX(1.0f);
                             } else {
                                 replyItem.setAlpha(0.0f);
                                 replyItem.setScaleX(0.0f);
                             }
-                            replyItem.setVisibility(newVisibility);
+                            replyItem.setVisibility(g.getVisibility());
                         } else {
-                            replyButtonAnimation = new AnimatorSet();
-                            replyItem.setPivotX(AndroidUtilities.dp(54));
-                            if (newVisibility == View.VISIBLE) {
-                                replyItem.setVisibility(newVisibility);
-                                replyButtonAnimation.playTogether(
-                                        ObjectAnimator.ofFloat(replyItem, "alpha", 1.0f),
-                                        ObjectAnimator.ofFloat(replyItem, "scaleX", 1.0f)
-                                );
+                            this.replyButtonAnimation = new AnimatorSet();
+                            replyItem.setPivotX((float) AndroidUtilities.dp(54.0f));
+                            AnimatorSet animatorSet;
+                            Animator[] animatorArr;
+                            if (newVisibility == 0) {
+                                replyItem.setVisibility(g.getVisibility());
+                                animatorSet = this.replyButtonAnimation;
+                                animatorArr = new Animator[2];
+                                animatorArr[0] = ObjectAnimator.ofFloat(replyItem, "alpha", new float[]{1.0f});
+                                animatorArr[1] = ObjectAnimator.ofFloat(replyItem, "scaleX", new float[]{1.0f});
+                                animatorSet.playTogether(animatorArr);
                             } else {
-                                replyButtonAnimation.playTogether(
-                                        ObjectAnimator.ofFloat(replyItem, "alpha", 0.0f),
-                                        ObjectAnimator.ofFloat(replyItem, "scaleX", 0.0f)
-                                );
-                            }
-                            replyButtonAnimation.setDuration(100);
-                            replyButtonAnimation.addListener(new AnimatorListenerAdapter() {
-                                @Override
+                                animatorSet = this.replyButtonAnimation;
+                                animatorArr = new Animator[2];
+                                animatorArr[0] = ObjectAnimator.ofFloat(replyItem, "alpha", new float[]{0.0f});
+                                animatorArr[1] = ObjectAnimator.ofFloat(replyItem, "scaleX", new float[]{0.0f});
+                                animatorSet.playTogether(animatorArr);
+                            }
+                            this.replyButtonAnimation.setDuration(100);
+                            this.replyButtonAnimation.addListener(new AnimatorListenerAdapter() {
                                 public void onAnimationEnd(Animator animation) {
-                                    if (replyButtonAnimation != null && replyButtonAnimation.equals(animation)) {
-                                        if (newVisibility == View.GONE) {
+                                    View g = null;
+                                    g.setVisibility(View.GONE);       ;
+                                    if (ChatActivity.this.replyButtonAnimation != null && ChatActivity.this.replyButtonAnimation.equals(animation)) {
+                                        if (newVisibility == 8) {
                                             replyItem.setVisibility(View.GONE);
                                         }
+                                        if (backupItem != null) {
+                                            ActionBarMenuItem actionBarMenuItem = backupItem;
+                                            if ((ChatActivity.this.currentUser == null || !UserObject.isUserSelf(ChatActivity.this.currentUser)) && newVisibility == 8) {
+                                                g.setVisibility(View.VISIBLE);
+                                            }
+                                            actionBarMenuItem.setVisibility(g.getVisibility());
+                                        }
                                     }
                                 }
 
-                                @Override
                                 public void onAnimationCancel(Animator animation) {
-                                    if (replyButtonAnimation != null && replyButtonAnimation.equals(animation)) {
-                                        replyButtonAnimation = null;
+                                    if (ChatActivity.this.replyButtonAnimation != null && ChatActivity.this.replyButtonAnimation.equals(animation)) {
+                                        ChatActivity.this.replyButtonAnimation = null;
                                     }
                                 }
                             });
-                            replyButtonAnimation.start();
+                            this.replyButtonAnimation.start();
                         }
                     }
                 }
+                //
             }
         }
+//        if (backupItem != null && this.selectedMessagesIds[0].size() <= 1) {
+//            int i;
+//            if (this.actionBar.createActionMode().getItem(10).getVisibility() == View.VISIBLE && replyItem != null && (replyItem == null || replyItem.getVisibility() == 0)) {
+//                i = 8;
+//            } else {
+//                i = 0;
+//            }
+//            backupItem.setVisibility(i);
+//        } //TODO Multi
     }
 
     private void processRowSelect(View view) {
@@ -5356,7 +5687,9 @@ public boolean processSendingText(String text) {
 
     @Override
     public void didReceivedNotification(int id, final Object... args) {
+        boolean refreshQuickBar = false;
         if (id == NotificationCenter.messagesDidLoaded) {
+            refreshQuickBar = true;
             int guid = (Integer) args[10];
             if (guid == classGuid) {
                 if (!openAnimationEnded) {
@@ -5371,34 +5704,41 @@ public void didReceivedNotification(int id, final Object... args) {
                     waitingForLoad.remove(index);
                 }
                 ArrayList<MessageObject> messArr = (ArrayList<MessageObject>) args[2];
-                if (waitingForReplyMessageLoad) {
+                if (this.waitingForReplyMessageLoad) {
                     boolean found = false;
-                    for (int a = 0; a < messArr.size(); a++) {
-                        MessageObject obj = messArr.get(a);
-                        if (obj.getId() == startLoadFromMessageId) {
+                    int a = 0;
+                    while (a < messArr.size()) {
+                        if (this.goToFirstMsg && a >= 9) {
+                            this.startLoadFromMessageId = ((MessageObject) messArr.get(a)).getId();
+                            this.goToFirstMsg = false;
+                        }
+                        MessageObject obj = (MessageObject) messArr.get(a);
+                        if (obj.getId() == this.startLoadFromMessageId) {
                             found = true;
                             break;
                         }
                         if (a + 1 < messArr.size()) {
-                            MessageObject obj2 = messArr.get(a + 1);
-                            if (obj.getId() >= startLoadFromMessageId && obj2.getId() < startLoadFromMessageId) {
-                                startLoadFromMessageId = obj.getId();
+                            MessageObject obj2 = (MessageObject) messArr.get(a + 1);
+                            if (obj.getId() >= this.startLoadFromMessageId && obj2.getId() < this.startLoadFromMessageId) {
+                                this.startLoadFromMessageId = obj.getId();
                                 found = true;
                                 break;
                             }
                         }
+                        a++;
                     }
-                    if (!found) {
-                        startLoadFromMessageId = 0;
+                    if (found) {
+                        int startLoadFrom = this.startLoadFromMessageId;
+                        boolean needSelect = this.needSelectFromMessageId;
+                        int unreadAfterId = this.createUnreadMessageAfterId;
+                        clearChatData();
+                        this.createUnreadMessageAfterId = unreadAfterId;
+                        this.startLoadFromMessageId = startLoadFrom;
+                        this.needSelectFromMessageId = needSelect;
+                    } else {
+                        this.startLoadFromMessageId = 0;
                         return;
                     }
-                    int startLoadFrom = startLoadFromMessageId;
-                    boolean needSelect = needSelectFromMessageId;
-                    int unreadAfterId = createUnreadMessageAfterId;
-                    clearChatData();
-                    createUnreadMessageAfterId = unreadAfterId;
-                    startLoadFromMessageId = startLoadFrom;
-                    needSelectFromMessageId = needSelect;
                 }
 
                 loadsCount++;
@@ -5487,7 +5827,7 @@ public void run() {
                 if (currentEncryptedChat == null) {
                     MessagesQuery.loadReplyMessagesForMessages(messArr, dialog_id);
                 }
-                int approximateHeightSum = 0;
+                int approximateHeightSum = 0; //TODO Multi BIG
                 for (int a = 0; a < messArr.size(); a++) {
                     MessageObject obj = messArr.get(a);
                     approximateHeightSum += obj.getApproximateHeight();
@@ -6501,6 +6841,9 @@ public void run() {
                 if (mentionsAdapter != null) {
                     mentionsAdapter.setChatInfo(info);
                 }
+                if (this.chatDialogsView != null && Theme.plusShowQuickBar && Theme.plusQuickBarShowMembers) {
+                    this.chatDialogsView.setChatInfo(this.info);
+                }
                 if (args[3] instanceof MessageObject) {
                     pinnedMessageObject = (MessageObject) args[3];
                     updatePinnedMessageView(false);
@@ -6812,6 +7155,7 @@ public void run() {
             }
             updateVisibleRows();
         } else if (id == NotificationCenter.replaceMessagesObjects) {
+            refreshQuickBar = true;
             long did = (long) args[0];
             if (did != dialog_id && did != mergeDialogId) {
                 return;
@@ -6970,7 +7314,7 @@ public void run() {
                 }
                 updateBotButtons();
             }
-        } else if (id == NotificationCenter.botKeyboardDidLoaded) {
+        } else if (id == NotificationCenter.botKeyboardDidLoaded) { //TODO Multi BIG2
             if (dialog_id == (Long) args[1]) {
                 TLRPC.Message message = (TLRPC.Message) args[0];
                 if (message != null && !userBlocked) {
@@ -7060,12 +7404,21 @@ public void run() {
                 if (emptyView != null) {
                     emptyView.getBackground().setColorFilter(Theme.colorFilter);
                 }
+                if (this.bigEmptyView != null) {
+                    this.bigEmptyView.getBackground().setColorFilter(Theme.colorFilter);
+                }
+                this.chatListView.invalidateViews();
                 if (bigEmptyView != null) {
                     bigEmptyView.getBackground().setColorFilter(Theme.colorFilter);
                 }
                 chatListView.invalidateViews();
             }
         }
+        else if (id == NotificationCenter.wallpaperChanged) {
+        }
+        if (refreshQuickBar && Theme.plusShowQuickBar && this.chatDialogsView != null) {
+            this.chatDialogsView.refreshList();
+        }
     }
 
     public boolean processSwitchButton(TLRPC.TL_keyboardButtonSwitchInline button) {
@@ -7378,6 +7731,7 @@ public void onAnimationCancel(Animator animation) {
                 pinnedMessageView.setTranslationY(-AndroidUtilities.dp(50));
                 pinnedMessageView.setVisibility(View.GONE);
             }
+            updateChatDialogsViewPadding(0);
         }
     }
 
@@ -7429,6 +7783,7 @@ public void onAnimationCancel(Animator animation) {
                         pinnedMessageView.setTranslationY(0);
                         pinnedMessageView.setVisibility(View.VISIBLE);
                     }
+                    updateChatDialogsViewPadding(48);
                 }
                 FrameLayout.LayoutParams layoutParams1 = (FrameLayout.LayoutParams) pinnedMessageNameTextView.getLayoutParams();
                 FrameLayout.LayoutParams layoutParams2 = (FrameLayout.LayoutParams) pinnedMessageTextView.getLayoutParams();
@@ -7475,6 +7830,20 @@ public void onAnimationCancel(Animator animation) {
         checkListViewPaddings();
     }
 
+    private void updateChatDialogsViewPadding(final int i) {
+        if (Theme.plusShowQuickBar) {
+            AndroidUtilities.runOnUIThread(new Runnable() {
+                public void run() {
+                    try {
+                        ChatActivity.this.chatDialogsView.setPadding(0, AndroidUtilities.dp((float) i), 0, AndroidUtilities.dp((((float) (ChatActivity.this.chatDialogsView.getBottom() - ChatActivity.this.chatActivityEnterView.getTop())) / AndroidUtilities.density) - 1.0f));
+                    } catch (Exception e) {
+                        FileLog.e("tmessages", e);
+                    }
+                }
+            });
+        }
+    }
+
     private void updateSpamView() {
         if (reportSpamView == null) {
             return;
@@ -7518,6 +7887,7 @@ public void onAnimationCancel(Animator animation) {
                 reportSpamViewAnimator.start();
             }
         } else {
+            updateChatDialogsViewPadding(48);
             if (reportSpamView.getTag() != null) {
                 reportSpamView.setTag(null);
                 reportSpamView.setVisibility(View.VISIBLE);
@@ -7543,11 +7913,22 @@ public void onAnimationCancel(Animator animation) {
                     }
                 });
                 reportSpamViewAnimator.start();
+                updateChatDialogsViewPadding(0);
             }
         }
         checkListViewPaddings();
     }
 
+    private void updateFavoriteTitle(final boolean isFav) {
+        if (this.favoritesItem != null) {
+            AndroidUtilities.runOnUIThread(new Runnable() {
+                public void run() {
+                    ChatActivity.this.favoritesItem.setText(!isFav ? LocaleController.getString("DeleteFromFavorites", R.string.DeleteFromFavorites) : LocaleController.getString("AddToFavorites", R.string.AddToFavorites));
+                }
+            }, 500);
+        }
+    }
+
     private void updateContactStatus() {
         if (addContactItem == null) {
             return;
@@ -7719,10 +8100,52 @@ public void run() {
             chatListView.setLongClickable(true);
         }
         checkBotCommands();
+        if (Theme.usePlusTheme) {
+            updateTheme();
+        }
     }
 
-    @Override
-    public void onPause() {
+    private void updateTheme() {
+        try {
+            SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0);
+            this.actionBar.setBackgroundColor(Theme.chatHeaderColor);
+            int val = themePrefs.getInt(Theme.pkey_chatHeaderGradient, 0);
+            if (val > 0) {
+                GradientDrawable.Orientation go;
+                switch (val) {
+                    case 2:
+                        go = GradientDrawable.Orientation.LEFT_RIGHT;
+                        break;
+                    case 3:
+                        go = GradientDrawable.Orientation.TL_BR;
+                        break;
+                    case 4:
+                        go = GradientDrawable.Orientation.BL_TR;
+                        break;
+                    default:
+                        go = GradientDrawable.Orientation.TOP_BOTTOM;
+                        break;
+                }
+                int gradColor = themePrefs.getInt(Theme.pkey_chatHeaderGradientColor, Theme.defColor);
+                this.actionBar.setBackgroundDrawable(new GradientDrawable(go, new int[]{Theme.chatHeaderColor, gradColor}));
+            }
+            int nameColor = themePrefs.getInt(Theme.pkey_chatNameColor, -1);
+            this.avatarContainer.setTitleColor(nameColor);
+            this.avatarContainer.setTitleSize(themePrefs.getInt(Theme.pkey_chatNameSize, 18));
+            this.avatarContainer.setSubtitleSize(Theme.chatStatusSize);
+            if (this.searchItem != null) {
+                this.searchItem.getSearchField().setTextColor(Theme.chatHeaderIconsColor);
+            }
+            this.reportSpamView.setBackgroundColor(Theme.chatHeaderColor);
+            this.reportSpamButton.setTextColor(nameColor);
+            this.addToContactsButton.setTextColor(nameColor);
+        } catch (Exception e) {
+            FileLog.e("tmessages", e);
+        }
+    }
+
+    @Override
+    public void onPause() {
         super.onPause();
         AndroidUtilities.cancelRunOnUIThread(readRunnable);
         MediaController.getInstance().stopRaiseToEarSensors(this);
@@ -8172,6 +8595,7 @@ private void createMenu(View v, boolean single) {
         if (message == null) {
             return;
         }
+        TLRPC.User signUser;
         final int type = getMessageType(message);
         if (single) {
             if (message.messageOwner.action instanceof TLRPC.TL_messageActionPinMessage) {
@@ -8197,6 +8621,15 @@ private void createMenu(View v, boolean single) {
         if (currentEncryptedChat != null && AndroidUtilities.getPeerLayerVersion(currentEncryptedChat.layer) < 46 || type == 1 && message.getDialogId() == mergeDialogId || currentEncryptedChat == null && message.getId() < 0 || isBroadcast || currentChat != null && (ChatObject.isNotInChat(currentChat) || ChatObject.isChannel(currentChat) && !currentChat.creator && !currentChat.editor && !currentChat.megagroup)) {
             allowChatActions = false;
         }
+        boolean hasSign = ((!message.isOutOwner() ? true : false) & BuildVars.DEBUG_VERSION) != false && message.messageOwner.from_id > 0 && message.messageOwner.post;
+        if (hasSign) {
+            signUser = MessagesController.getInstance().getUser(Integer.valueOf(message.messageOwner.from_id));
+            if (signUser == null || UserObject.isDeleted(signUser)) {
+                hasSign = false;
+            }
+        }
+        boolean self = this.currentUser != null && UserObject.isUserSelf(this.currentUser);
+        boolean isPublic = ChatObject.isChannel(this.currentChat) && this.currentChat.username != null && this.currentChat.username.length() > 0;
 
         if (single || type < 2 || type == 20) {
             if (type >= 0) {
@@ -8220,6 +8653,14 @@ private void createMenu(View v, boolean single) {
                             items.add(LocaleController.getString("Reply", R.string.Reply));
                             options.add(8);
                         }
+                        if (this.directShareToMenu) {
+                            items.add(LocaleController.getString("DirectShare", R.string.DirectShare));
+                            options.add(Integer.valueOf(add_favorites));
+                        }
+                        if (isPublic) {
+                            items.add(LocaleController.getString("CopyLink", R.string.CopyLink));
+                            options.add(Integer.valueOf(96));
+                        }
                         if (allowUnpin) {
                             items.add(LocaleController.getString("UnpinMessage", R.string.UnpinMessage));
                             options.add(14);
@@ -8263,12 +8704,18 @@ private void createMenu(View v, boolean single) {
                             items.add(LocaleController.getString("Reply", R.string.Reply));
                             options.add(8);
                         }
+                        if (this.directShareToMenu) {
+                            items.add(LocaleController.getString("DirectShare", R.string.DirectShare));
+                            options.add(Integer.valueOf(add_favorites));
+                        }
                         if (selectedObject.type == 0 || selectedObject.caption != null) {
                             items.add(LocaleController.getString("Copy", R.string.Copy));
                             options.add(3);
                         }
                         if (type == 3) {
                             if (selectedObject.messageOwner.media instanceof TLRPC.TL_messageMediaWebPage && MessageObject.isNewGifDocument(selectedObject.messageOwner.media.webpage.document)) {
+                                items.add(LocaleController.getString("AutoplayGifs", R.string.AutoplayGifs) + ": " + MediaController.getInstance().canAutoplayGifs());
+                                options.add(Integer.valueOf(95));
                                 items.add(LocaleController.getString("SaveToGIFs", R.string.SaveToGIFs));
                                 options.add(11);
                             }
@@ -8285,6 +8732,8 @@ private void createMenu(View v, boolean single) {
                                 options.add(6);
                             } else if (selectedObject.getDocument() != null) {
                                 if (MessageObject.isNewGifDocument(selectedObject.getDocument())) {
+                                    items.add(LocaleController.getString("AutoplayGifs", R.string.AutoplayGifs) + ": " + MediaController.getInstance().canAutoplayGifs());
+                                    options.add(Integer.valueOf(95));
                                     items.add(LocaleController.getString("SaveToGIFs", R.string.SaveToGIFs));
                                     options.add(11);
                                 }
@@ -8299,6 +8748,8 @@ private void createMenu(View v, boolean single) {
                         } else if (type == 5) {
                             items.add(LocaleController.getString("ApplyLocalizationFile", R.string.ApplyLocalizationFile));
                             options.add(5);
+                            items.add(LocaleController.getString("ApplyThemeFile", R.string.ApplyThemeFile));
+                            options.add(Integer.valueOf(55));
                             items.add(LocaleController.getString("SaveToDownloads", R.string.SaveToDownloads));
                             options.add(10);
                             items.add(LocaleController.getString("ShareFile", R.string.ShareFile));
@@ -8338,7 +8789,12 @@ private void createMenu(View v, boolean single) {
                             }
                         }
                         items.add(LocaleController.getString("Forward", R.string.Forward));
-                        options.add(2);
+//                        options.add(2);
+                        options.add(Integer.valueOf(22));
+                        if (this.selectedObject.messageOwner.media == null || this.selectedObject.messageOwner.media.caption == null || this.selectedObject.messageOwner.media.caption.length() <= 0) {
+                            items.add(LocaleController.getString("ForwardNoQuote", R.string.ForwardNoQuote));
+                            options.add(Integer.valueOf(2));
+                        }
                         if (allowUnpin) {
                             items.add(LocaleController.getString("UnpinMessage", R.string.UnpinMessage));
                             options.add(14);
@@ -8350,6 +8806,31 @@ private void createMenu(View v, boolean single) {
                             items.add(LocaleController.getString("Edit", R.string.Edit));
                             options.add(12);
                         }
+                        //Multi
+                        if (!self) {
+                            items.add(LocaleController.getString("SaveToCloud", R.string.SaveToCloud));
+                            options.add(Integer.valueOf(goto_first_msg));
+                        }
+                        if (isPublic) {
+                            items.add(LocaleController.getString("CopyLink", R.string.CopyLink));
+                            options.add(Integer.valueOf(96));
+                        }
+                        if (hasSign) {
+                            CharSequence cs;
+                            signUser = MessagesController.getInstance().getUser(Integer.valueOf(message.messageOwner.from_id));
+                            if (signUser.username != null) {
+                                cs = signUser.username;
+                            } else {
+                                CharSequence[] name = UserObject.getUserName(signUser).split("\\s");
+                                cs = name.length < 2 ? name[0] : name[0] + " " + name[1];
+                                if (cs.length() > 26) {
+                                    cs = cs.subSequence(0, 25) + " ...";
+                                }
+                            }
+                            items.add(cs);
+                            options.add(Integer.valueOf(chat_background));
+                        }
+                        //
                         if (message.canDeleteMessage(currentChat)) {
                             items.add(LocaleController.getString("Delete", R.string.Delete));
                             options.add(1);
@@ -8384,6 +8865,8 @@ private void createMenu(View v, boolean single) {
                                 options.add(4);
                             }
                         } else if (type == 5) {
+                            items.add(LocaleController.getString("ApplyThemeFile", R.string.ApplyThemeFile));
+                            options.add(Integer.valueOf(55));
                             items.add(LocaleController.getString("ApplyLocalizationFile", R.string.ApplyLocalizationFile));
                             options.add(5);
                         } else if (type == 10) {
@@ -8412,8 +8895,22 @@ public void onClick(DialogInterface dialogInterface, int i) {
                     }
                 });
 
-                builder.setTitle(LocaleController.getString("Message", R.string.Message));
-                showDialog(builder.create());
+//                builder.setTitle(LocaleController.getString("Message", R.string.Message));
+//                showDialog(builder.create());
+                int d = (this.selectedObject == null || this.selectedObject.messageOwner.edit_date <= 0) ? 0 : this.selectedObject.messageOwner.edit_date;
+                builder.setTitle(LocaleController.getString("Message", R.string.Message) + (d > 0 ? " " + LocaleController.getString("Edited", R.string.Edited) + ": " + LocaleController.getInstance().formatterDay.format(((long) d) * 1000) : ""));
+                if (!(this.selectedObject.messageOwner.media == null || this.selectedObject.type == 13)) {
+                    String name2 = FileLoader.getDocumentFileName(this.selectedObject.messageOwner.media.document).replace("\n", " ");
+                    if (name2.length() > 0) {
+                        if (name2.length() > 50) {
+                            name2 = name2.substring(0, 50) + "..." + name2.substring(name2.length() - 3, name2.length());
+                        }
+                        builder.setTitle(name2);
+                    }
+                }
+                if (!ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).getBoolean("disableMessageClick", false) || type != 3) {
+                    showDialog(builder.create());
+                }
             }
             return;
         }
@@ -8475,6 +8972,12 @@ private String getMessageContent(MessageObject messageObject, int previousUid, b
     }
 
     private void processSelectedOption(int option) {
+//        File locFile;
+//        File file;
+//        File f;
+//        AlertDialog.Builder builder;
+//        Intent intent;
+//        TLObject req;
         if (selectedObject == null) {
             return;
         }
@@ -8493,7 +8996,10 @@ private void processSelectedOption(int option) {
                 createDeleteMessagesAlert(selectedObject);
                 break;
             }
-            case 2: {
+            case 2:
+            case 22:
+                {
+                QuoteForward = option == 22;
                 forwaringMessage = selectedObject;
                 Bundle args = new Bundle();
                 args.putBoolean("onlySelect", true);
@@ -8693,7 +9199,12 @@ private void processSelectedOption(int option) {
                 actionMode.getItem(copy).setVisibility(View.GONE);
                 actionMode.getItem(forward).setVisibility(View.GONE);
                 actionMode.getItem(delete).setVisibility(View.GONE);
-
+                if (actionMode.getItem(quoteforward) != null) {
+                    actionMode.getItem(quoteforward).setVisibility(View.GONE);
+                }
+                if (actionMode.getItem(27) != null) {
+                    actionMode.getItem(27).setVisibility(View.GONE);
+                }
                 actionBar.showActionMode();
                 updatePinnedMessageView(true);
                 updateVisibleRows();
@@ -8787,6 +9298,124 @@ public void onClick(DialogInterface dialogInterface, int i) {
                 AndroidUtilities.addToClipboard(selectedObject.messageOwner.media.phone_number);
                 break;
             }
+            //Multi
+            case 55:
+                File locFile = null;
+                if (!(this.selectedObject.messageOwner.attachPath == null || this.selectedObject.messageOwner.attachPath.length() == 0)) {
+                    File file = new File(this.selectedObject.messageOwner.attachPath);
+                    if (file.exists()) {
+                        locFile = file;
+                    }
+                }
+                if (locFile == null) {
+                    File f = FileLoader.getPathToMessage(this.selectedObject.messageOwner);
+                    if (f.exists()) {
+                        locFile = f;
+                    }
+                }
+                if (locFile != null) {
+                    String theme = Utilities.applyThemeFile(locFile);
+                    if (!theme.equals("")) {
+                        AlertDialog.Builder builder = new AlertDialog.Builder(getParentActivity());
+                        builder.setTitle(theme);
+                        builder.setMessage(LocaleController.getString("ThemeApplied", R.string.ThemeApplied) + "\n" + LocaleController.getString("ClickOkToRestart", R.string.ClickOkToRestart));
+                        builder.setPositiveButton(LocaleController.getString("OK", R.string.OK), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialogInterface, int i) {
+                                Theme.setUsePlusThemeKey(true);
+                                Utilities.restartApp();
+                            }
+                        });
+                        showDialog(builder.create());
+                        break;
+                    } else if (getParentActivity() != null) {
+                        AlertDialog.Builder builder = new AlertDialog.Builder(getParentActivity());
+                        builder.setTitle(LocaleController.getString("AppName", R.string.AppName));
+                        builder.setMessage(LocaleController.getString("ErrorOccurred", R.string.ErrorOccurred));
+                        builder.setPositiveButton(LocaleController.getString("OK", R.string.OK), null);
+                        showDialog(builder.create());
+                        break;
+                    } else {
+                        return;
+                    }
+                }
+                break;
+            case 95:
+                if (getParentActivity() != null) {
+                    MediaController.getInstance().toggleAutoplayGifs();
+                    updateVisibleRows();
+                    break;
+                }
+                this.selectedObject = null;
+                return;
+            case 96:
+                if (getParentActivity() != null) {
+                    TLRPC.TL_channels_exportMessageLink req = new TLRPC.TL_channels_exportMessageLink();
+
+                    req.id = this.selectedObject.getId();
+                    req.channel = MessagesController.getInputChannel(this.selectedObject.messageOwner.to_id.channel_id);
+                    ConnectionsManager.getInstance().sendRequest(req, new RequestDelegate() {
+//                        @Override
+//                        public void run(TLObject response, TLRPC.TL_error error) {
+//
+//                        }
+                        @Override
+                        public void run(final TLObject response, TLRPC.TL_error  error) {
+                            AndroidUtilities.runOnUIThread(new Runnable() {
+                                public void run() {
+                                    if (response != null) {
+                                        try {
+//                                            ((ClipboardManager) ApplicationLoader.applicationContext.getSystemService(CLIPBOARD_SERVICE)).setPrimaryClip(ClipData.newPlainText("label", response.link)); //TODO Multi
+                                            Toast.makeText(ChatActivity.this.getParentActivity(), LocaleController.getString("LinkCopied", R.string.LinkCopied), Toast.LENGTH_SHORT).show();
+                                        } catch (Exception e) {
+                                            FileLog.e("tmessages", e);
+                                        }
+                                    }
+                                }
+                            });
+                        }
+                    });
+                    break;
+                }
+                this.selectedObject = null;
+                return;
+            case goto_first_msg /*97*/:
+                if (getParentActivity() != null) {
+                    if (Theme.plusSaveToCloudQuote) {
+                        ArrayList<MessageObject> arrayList = new ArrayList();
+                        arrayList.add(this.selectedObject);
+                        SendMessagesHelper.getInstance().sendMessage(arrayList, (long) UserConfig.getClientUserId());
+                    } else {
+                        SendMessagesHelper.getInstance().processForwardFromMyName(this.selectedObject, (long) UserConfig.getClientUserId());
+                    }
+                    Toast.makeText(getParentActivity(), LocaleController.getString("MessageSaved", R.string.MessageSaved), Toast.LENGTH_SHORT).show();
+                    break;
+                }
+                this.selectedObject = null;
+                return;
+            case add_favorites /*98*/:
+                if (getParentActivity() != null) {
+                    if (this.chatActivityEnterView != null) {
+                        this.chatActivityEnterView.closeKeyboard();
+                    }
+                    Context parentActivity = getParentActivity();
+                    MessageObject messageObject = this.selectedObject;
+                    boolean z = ChatObject.isChannel(this.currentChat) && this.currentChat.username != null && this.currentChat.username.length() > 0;
+                    showDialog(new ShareAlert(parentActivity, messageObject, null, z, null, false));
+                    break;
+                }
+                this.selectedObject = null;
+                return;
+            case chat_background /*99*/:
+                if (getParentActivity() != null) {
+                    TLRPC.User signUser = MessagesController.getInstance().getUser(Integer.valueOf(this.selectedObject.messageOwner.from_id));
+                    Bundle args = new Bundle();
+                    args.putInt("user_id", signUser.id);
+                    presentFragment(new ProfileActivity(args));
+                    break;
+                }
+                this.selectedObject = null;
+                return;
+            //
             case 17: {
                 try {
                     Intent intent = new Intent(Intent.ACTION_DIAL, Uri.parse("tel:" + selectedObject.messageOwner.media.phone_number));
@@ -8909,7 +9538,8 @@ private void updateVisibleRows() {
                 if (actionBar.isActionModeShowed()) {
                     MessageObject messageObject = cell.getMessageObject();
                     if (messageObject == editingMessageObject || selectedMessagesIds[messageObject.getDialogId() == dialog_id ? 0 : 1].containsKey(messageObject.getId())) {
-                        view.setBackgroundColor(Theme.getColor(Theme.key_chat_selectedBackground));
+//                        view.setBackgroundColor(Theme.getColor(Theme.key_chat_selectedBackground));
+                        view.setBackgroundColor(Theme.usePlusTheme ? Theme.chatSelectedMsgBGColor : Theme.getColor(Theme.key_chat_selectedBackground));
                         selected = true;
                     } else {
                         view.setBackgroundDrawable(null);
@@ -9044,6 +9674,19 @@ public boolean isSecretChat() {
         return info;
     }
 
+    public int getCurrentClassGuid() {
+        return this.classGuid;
+    }
+
+    public int getOnlyId() {
+        return this.onlyId;
+    }
+
+    public int getOnlyIdMedia() {
+        return this.onlyIdMedia;
+    }
+
+
     @Override
     public boolean allowCaption() {
         return true;
@@ -9195,6 +9838,7 @@ public void onClick(DialogInterface dialogInterface, int i) {
                 WebviewActivity.openGameInBrowser(urlStr, messageObject, getParentActivity(), game.short_name, user != null && user.username != null ? user.username : "");
             }
         }
+        AndroidUtilities.playingAGame = Theme.plusHideNotificationsIfPlaying;
     }
 
     public void showOpenUrlAlert(final String url, boolean ask) {
@@ -9242,35 +9886,6 @@ public ChatActivityAdapter(Context context) {
             isBot = currentUser != null && currentUser.bot;
         }
 
-//        public void updateRows() {
-//            rowCount = 0;
-//            if (currentUser != null && currentUser.bot) {
-//                botInfoRow = rowCount++;
-//            } else {
-//                botInfoRow = -1;
-//            }
-//            if (!messages.isEmpty()) {
-//                if (!endReached[0] || mergeDialogId != 0 && !endReached[1]) {
-//                    loadingUpRow = rowCount++;
-//                } else {
-//                    loadingUpRow = -1;
-//                }
-//                messagesStartRow = rowCount;
-//                rowCount += messages.size();
-//                messagesEndRow = rowCount;
-//                if (!forwardEndReached[0] || mergeDialogId != 0 && !forwardEndReached[1]) {
-//                    loadingDownRow = rowCount++;
-//                } else {
-//                    loadingDownRow = -1;
-//                }
-//            } else {
-//                loadingUpRow = -1;
-//                loadingDownRow = -1;
-//                messagesStartRow = -1;
-//                messagesEndRow = -1;
-//            }
-//        }
-
         public void updateRows() {
             int i;
             this.rowCount = 0;
@@ -9317,140 +9932,457 @@ public long getItemId(int i) {
             return RecyclerListView.NO_ID;
         }
 
-        @Override
-        public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {
-            View view = null;
-            if (viewType == 0) {
-                if (!chatMessageCellsCache.isEmpty()) {
-                    view = chatMessageCellsCache.get(0);
-                    chatMessageCellsCache.remove(0);
-                } else {
-                    view = new ChatMessageCell(mContext);
-                }
-                ChatMessageCell chatMessageCell = (ChatMessageCell) view;
-                chatMessageCell.setDelegate(new ChatMessageCell.ChatMessageCellDelegate() {
-                    @Override
-                    public void didPressedShare(ChatMessageCell cell) {
-                        if (getParentActivity() == null) {
-                            return;
-                        }
-                        if (ChatActivity.this.directShareReplies) {
-                            ChatActivity.this.showReplyPanel(true, cell.getMessageObject(), null, null, false);
-                            return;
-                        }
-                        if (chatActivityEnterView != null) {
-                            chatActivityEnterView.closeKeyboard();
-                        }
-                        showDialog(new ShareAlert(mContext, cell.getMessageObject(), null, ChatObject.isChannel(currentChat) && !currentChat.megagroup && currentChat.username != null && currentChat.username.length() > 0, null, false));
-                    }
+        private void openUserProfile(TLRPC.User user) {
+            try {
+                Bundle args = new Bundle();
+                args.putInt("user_id", user.id);
+                ProfileActivity fragment = new ProfileActivity(args);
+                boolean z = ChatActivity.this.currentUser != null && ChatActivity.this.currentUser.id == user.id;
+                fragment.setPlayProfileAnimation(z);
+                ChatActivity.this.presentFragment(fragment);
+            } catch (Exception e) {
+                FileLog.e("tmessages", e);
+            }
+        }
 
-                    @Override
-                    public boolean needPlayAudio(MessageObject messageObject) {
-                        if (messageObject.isVoice()) {
-                            boolean result = MediaController.getInstance().playAudio(messageObject);
-                            MediaController.getInstance().setVoiceMessagesPlaylist(result ? createVoiceMessagesPlaylist(messageObject, false) : null, false);
-                            return result;
-                        } else if (messageObject.isMusic()) {
-                            return MediaController.getInstance().setPlaylist(messages, messageObject);
+        private void getChannelParticipants() {
+            final TLRPC.TL_channels_getParticipants req = new TLRPC.TL_channels_getParticipants();
+            req.channel = MessagesController.getInputChannel(ChatActivity.this.chat_id);
+            req.filter = new TLRPC.TL_channelParticipantsRecent();
+            req.offset = 0;
+            req.limit = 33;
+            ConnectionsManager.getInstance().bindRequestToGuid(ConnectionsManager.getInstance().sendRequest(req, new RequestDelegate() {
+                public void run(final TLObject response, final TLRPC.TL_error error) {
+                    long j;
+                    Runnable anonymousClass1 = new Runnable() {
+                        public void run() {
+                            if (error == null) {
+                                TLRPC.TL_channels_channelParticipants res = (TLRPC.TL_channels_channelParticipants) response;
+                                MessagesController.getInstance().putUsers(res.users, false);
+                                if (res.participants.size() == 33) {
+                                    res.participants.remove(32);
+                                }
+                                if (req.offset == 0) {
+                                    MessagesStorage.getInstance().putUsersAndChats(res.users, null, true, true);
+                                    MessagesStorage.getInstance().updateChannelUsers(ChatActivity.this.chat_id, res.participants);
+                                }
+                            }
                         }
-                        return false;
+                    };
+                    if (Build.VERSION.SDK_INT >= 11) {
+                        j = 300;
+                    } else {
+                        j = 0;
                     }
+                    AndroidUtilities.runOnUIThread(anonymousClass1, j);
+                }
+            }), ChatActivity.this.classGuid);
+        }
 
-                    @Override
-                    public void didPressedChannelAvatar(ChatMessageCell cell, TLRPC.Chat chat, int postId) {
-                        if (actionBar.isActionModeShowed()) {
-                            processRowSelect(cell);
-                            return;
-                        }
-                        if (chat != null && chat != currentChat) {
-                            Bundle args = new Bundle();
-                            args.putInt("chat_id", chat.id);
-                            if (postId != 0) {
-                                args.putInt("message_id", postId);
-                            }
-                            if (MessagesController.checkCanOpenChat(args, ChatActivity.this)) {
-                                presentFragment(new ChatActivity(args), true);
+        private void kickUser(final TLRPC.User user) {
+            AlertDialog.Builder builder = new AlertDialog.Builder(ChatActivity.this.getParentActivity());
+            builder.setMessage(LocaleController.getString("KickFromGroup", R.string.KickFromGroup) + '\n' + LocaleController.getString("AreYouSure", R.string.AreYouSure));
+            builder.setTitle(UserObject.getFirstName(user));
+            builder.setPositiveButton(LocaleController.getString("OK", R.string.OK), new DialogInterface.OnClickListener() {
+                public void onClick(DialogInterface dialogInterface, int i) {
+                    try {
+                        MessagesController.getInstance().deleteUserFromChat(ChatActivity.this.chat_id, user, ChatActivity.this.info);
+                        boolean changed = false;
+                        if (ChatActivity.this.info != null && ChatActivity.this.info.participants != null) {
+                            for (int a = 0; a < ChatActivity.this.info.participants.participants.size(); a++) {
+                                if (((TLRPC.ChatParticipant) ChatActivity.this.info.participants.participants.get(a)).user_id == user.id) {
+                                    ChatActivity.this.info.participants.participants.remove(a);
+                                    changed = true;
+                                    break;
+                                }
                             }
                         }
-                    }
-
-                    @Override
-                    public void didPressedOther(ChatMessageCell cell) {
-                        if (cell.getMessageObject().type == 16) {
-                            if(currentUser!=null)
-                                VoIPHelper.startCall(currentUser, getParentActivity(), MessagesController.getInstance().getUserFull(currentUser.id));
-                        } else {
-                            createMenu(cell, true);
+                        if (changed) {
+                            ChatActivity.this.chatAdapter.notifyDataSetChanged();
                         }
+                    } catch (Exception e) {
+                        FileLog.e("tmessages", e);
                     }
+                }
+            });
+            builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+            ChatActivity.this.showDialog(builder.create());
+        }
 
-                    @Override
-                    public void didPressedUserAvatar(ChatMessageCell cell, TLRPC.User user) {
-                        if (actionBar.isActionModeShowed()) {
-                            processRowSelect(cell);
-                            return;
-                        }
-                        if (user != null && user.id != UserConfig.getClientUserId()) {
-                            Bundle args = new Bundle();
-                            args.putInt("user_id", user.id);
-                            ProfileActivity fragment = new ProfileActivity(args);
-                            fragment.setPlayProfileAnimation(currentUser != null && currentUser.id == user.id);
-                            presentFragment(fragment);
-                        }
-                    }
+        private void showUserMsgs(int id) {
+            Bundle args = new Bundle();
+            args.putInt("chat_id", ChatActivity.this.currentChat.id);
+            args.putInt("only_id", id);
+            if (ChatActivity.this.onlyIdMedia > 0) {
+                args.putInt("only_id_media", ChatActivity.this.onlyIdMedia);
+            }
+            ChatActivity.this.presentFragment(new ChatActivity(args));
+        }
 
-                    @Override
-                    public void didPressedBotButton(ChatMessageCell cell, TLRPC.KeyboardButton button) {
-                        if (getParentActivity() == null || bottomOverlayChat.getVisibility() == View.VISIBLE &&
-                                !(button instanceof TLRPC.TL_keyboardButtonSwitchInline) && !(button instanceof TLRPC.TL_keyboardButtonCallback) &&
-                                !(button instanceof TLRPC.TL_keyboardButtonGame) && !(button instanceof TLRPC.TL_keyboardButtonUrl) &&
-                                !(button instanceof TLRPC.TL_keyboardButtonBuy)) {
-                            return;
+        private void showUserMedia(int id) {
+            Bundle args = new Bundle();
+            args.putInt("chat_id", ChatActivity.this.currentChat.id);
+            if (ChatActivity.this.onlyId > 0) {
+                args.putInt("only_id", ChatActivity.this.onlyId);
+            }
+            args.putInt("only_id_media", id);
+            ChatActivity.this.presentFragment(new ChatActivity(args));
+        }
+
+        private void createAvatarClickMenu(int fromId, TLRPC.User user, boolean long_click) {
+            boolean isChat = ((int) ChatActivity.this.dialog_id) < 0 && ((int) (ChatActivity.this.dialog_id >> 32)) != 1;
+            if (!isChat || ((user.id == UserConfig.getClientUserId() || long_click) && !long_click)) {
+                openUserProfile(user);
+                return;
+            }
+            String name = UserObject.getFirstName(user);
+            if (user.username != null) {
+                name = name + "\n@" + user.username;
+            }
+            boolean allowKick = false;
+            boolean allowSetAdmin = false;
+            boolean removeAdmin = false;
+            int index = -1;
+            TLRPC.ChatParticipant chatParticipant = null;
+            if (!(user.id == UserConfig.getClientUserId() || ChatActivity.this.info == null || ChatActivity.this.info.participants == null)) {
+                int a;
+                TLRPC.ChatParticipant p;
+                if (ChatActivity.this.currentChat.megagroup) {
+                    for (a = 0; a < ChatActivity.this.info.participants.participants.size(); a++) {
+                        p = (TLRPC.ChatParticipant) ChatActivity.this.info.participants.participants.get(a);
+                        if (p instanceof TLRPC.TL_chatChannelParticipant) {
+                            TLRPC.ChannelParticipant channelParticipant = ((TLRPC.TL_chatChannelParticipant) p).channelParticipant;
+                            if (channelParticipant.user_id == user.id) {
+                                index = a;
+                                if (ChatActivity.this.currentChat.creator || (!(!ChatActivity.this.currentChat.editor || (channelParticipant instanceof TLRPC.TL_channelParticipantEditor) || (channelParticipant instanceof TLRPC.TL_channelParticipantCreator)) || channelParticipant.inviter_id == UserConfig.getClientUserId())) {
+                                    allowKick = true;
+                                }
+                                allowSetAdmin = (!ChatActivity.this.currentChat.creator || (channelParticipant instanceof TLRPC.TL_channelParticipantEditor) || user.bot) ? false : true;
+                                removeAdmin = ChatActivity.this.currentChat.creator && (channelParticipant instanceof TLRPC.TL_channelParticipantEditor) && !user.bot;
+                            }
                         }
-                        chatActivityEnterView.didPressedBotButton(button, cell.getMessageObject(), cell.getMessageObject());
                     }
-
-                    @Override
-                    public void didPressedCancelSendButton(ChatMessageCell cell) {
-                        MessageObject message = cell.getMessageObject();
-                        if (message.messageOwner.send_state != 0) {
-                            SendMessagesHelper.getInstance().cancelSendingMessage(message);
+                } else {
+                    a = 0;
+                    while (a < ChatActivity.this.info.participants.participants.size()) {
+                        p = (TLRPC.ChatParticipant) ChatActivity.this.info.participants.participants.get(a);
+                        if (p.user_id == user.id) {
+                            chatParticipant = p;
+                            index = a;
+                            if (ChatActivity.this.currentChat.creator || ((ChatActivity.this.currentChat.admin && ChatActivity.this.currentChat.admins_enabled && !(p instanceof TLRPC.TL_chatParticipantAdmin) && !(p instanceof TLRPC.TL_chatParticipantCreator)) || p.inviter_id == UserConfig.getClientUserId())) {
+                                allowKick = true;
+                            }
+                            allowSetAdmin = ChatActivity.this.currentChat.creator && ChatActivity.this.currentChat.admins_enabled && !(p instanceof TLRPC.TL_chatParticipantAdmin);
+                            removeAdmin = ChatActivity.this.currentChat.creator && ChatActivity.this.currentChat.admins_enabled && (p instanceof TLRPC.TL_chatParticipantAdmin);
+                        } else {
+                            a++;
                         }
                     }
-
-                    @Override
-                    public void didLongPressed(ChatMessageCell cell) {
-                        createMenu(cell, false);
+                }
+            }
+            AlertDialog.Builder builder = new AlertDialog.Builder(ChatActivity.this.getParentActivity());
+            builder.setTitle(name);
+            final int finalIndex = index;
+            final TLRPC.ChatParticipant finalChatParticipant = chatParticipant;
+            final boolean finalRemoveAdmin = removeAdmin;
+            ArrayList<String> listItems;
+            if (allowSetAdmin || removeAdmin) {
+                Object string;
+                listItems = new ArrayList();
+                listItems.add(LocaleController.getString("ShowProfile", R.string.ShowProfile));
+                listItems.add(LocaleController.getString("KickFromGroup", R.string.KickFromGroup));
+                if (removeAdmin) {
+                    string = LocaleController.getString("RemoveUserAdmin", R.string.RemoveUserAdmin);
+                } else {
+                    string = LocaleController.getString("SetAsAdmin", R.string.SetAsAdmin);
+                }
+                listItems.add(string.toString());
+                if (ChatActivity.this.onlyId == 0 && ChatActivity.this.onlyIdMedia == 0) {
+                    listItems.add(LocaleController.getString("ShowUserMessages", R.string.ShowUserMessages));
+                    listItems.add(LocaleController.getString("ShowUserMedia", R.string.ShowUserMedia));
+                }
+                final TLRPC.User user2 = user;
+                final int i = fromId;
+                builder.setItems((CharSequence[]) listItems.toArray(new CharSequence[listItems.size()]), new DialogInterface.OnClickListener() {
+                    public void onClick(DialogInterface dialogInterface, int i) {
+                        if (i == 0) {
+                            openUserProfile(user2);
+                        } else if (i == 1) {
+                            kickUser(user2);
+                        } else if (i == 2) {
+                            String string;
+                            AlertDialog.Builder builder = new AlertDialog.Builder(ChatActivity.this.getParentActivity());
+                            StringBuilder stringBuilder = new StringBuilder();
+                            if (finalRemoveAdmin) {
+                                string = LocaleController.getString("RemoveUserAdmin", R.string.RemoveUserAdmin);
+                            } else {
+                                string = LocaleController.getString("SetAsAdmin", R.string.SetAsAdmin);
+                            }
+                            builder.setMessage(stringBuilder.append(string).append('\n').append(LocaleController.getString("AreYouSure", R.string.AreYouSure)).toString());
+                            builder.setTitle(UserObject.getFirstName(user2));
+                            builder.setPositiveButton(LocaleController.getString("OK", R.string.OK), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialogInterface, int i) {
+                                    if (ChatActivity.this.currentChat.megagroup) {
+                                        TLRPC.ChannelParticipantRole tL_channelRoleEmpty;
+                                        TLRPC.TL_channels_editAdmin req = new TLRPC.TL_channels_editAdmin();
+                                        req.channel = MessagesController.getInputChannel(ChatActivity.this.chat_id);
+                                        req.user_id = MessagesController.getInputUser(user2.id);
+                                        if (finalRemoveAdmin) {
+                                            tL_channelRoleEmpty = new TLRPC.TL_channelRoleEmpty();
+                                        } else {
+                                            tL_channelRoleEmpty = new TLRPC.TL_channelRoleEditor();
+                                        }
+                                        req.role = tL_channelRoleEmpty;
+                                        ConnectionsManager.getInstance().sendRequest(req, new RequestDelegate() {
+                                            public void run(TLObject response, final TLRPC.TL_error error) {
+                                                if (error == null) {
+                                                    MessagesController.getInstance().processUpdates((TLRPC.Updates) response, false);
+                                                    AndroidUtilities.runOnUIThread(new Runnable() {
+                                                        public void run() {
+                                                            MessagesController.getInstance().loadFullChat(ChatActivity.this.chat_id, 0, true);
+                                                            getChannelParticipants();
+                                                        }
+                                                    }, 1000);
+                                                    return;
+                                                }
+                                                AndroidUtilities.runOnUIThread(new Runnable() {
+                                                    public void run() {
+                                                        AlertsCreator.showAddUserAlert(error.text, ChatActivity.this, false);
+                                                    }
+                                                });
+                                            }
+                                        });
+                                    } else if (finalIndex != -1 && !(finalChatParticipant instanceof TLRPC.TL_chatParticipantCreator)) {
+                                        TLRPC.ChatParticipant newParticipant;
+                                        if (finalChatParticipant instanceof TLRPC.TL_chatParticipant) {
+                                            newParticipant = new TLRPC.TL_chatParticipantAdmin();
+                                            newParticipant.user_id = finalChatParticipant.user_id;
+                                            newParticipant.date = finalChatParticipant.date;
+                                            newParticipant.inviter_id = finalChatParticipant.inviter_id;
+                                        } else {
+                                            newParticipant = new TLRPC.TL_chatParticipant();
+                                            newParticipant.user_id = finalChatParticipant.user_id;
+                                            newParticipant.date = finalChatParticipant.date;
+                                            newParticipant.inviter_id = finalChatParticipant.inviter_id;
+                                        }
+                                        ChatActivity.this.info.participants.participants.set(finalIndex, newParticipant);
+                                        if (ChatActivity.this.currentChat != null && ChatActivity.this.currentChat.admins_enabled) {
+                                            boolean z;
+                                            MessagesController instance = MessagesController.getInstance();
+                                            int access$2200 = ChatActivity.this.chat_id;
+                                            int i2 = user2.id;
+                                            if (finalRemoveAdmin) {
+                                                z = false;
+                                            } else {
+                                                z = true;
+                                            }
+                                            instance.toggleUserAdmin(access$2200, i2, z);
+                                        }
+                                    }
+                                }
+                            });
+                            builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                            ChatActivity.this.showDialog(builder.create());
+                        } else if (i == 3) {
+                            showUserMsgs(i);
+                        } else if (i == 4) {
+                            showUserMedia(i);
+                        }
+                    }
+                });
+                ChatActivity.this.showDialog(builder.create());
+            } else if (allowKick) {
+                listItems = new ArrayList();
+                listItems.add(LocaleController.getString("ShowProfile", R.string.ShowProfile));
+                listItems.add(LocaleController.getString("KickFromGroup", R.string.KickFromGroup));
+                if (ChatActivity.this.onlyId == 0 && ChatActivity.this.onlyIdMedia == 0) {
+                    listItems.add(LocaleController.getString("ShowUserMessages", R.string.ShowUserMessages));
+                    listItems.add(LocaleController.getString("ShowUserMedia", R.string.ShowUserMedia));
+                }
+                final TLRPC.User user3 = user;
+                final int i2 = fromId;
+                builder.setItems((CharSequence[]) listItems.toArray(new CharSequence[listItems.size()]), new DialogInterface.OnClickListener() {
+                    public void onClick(DialogInterface dialogInterface, int i) {
+                        if (i == 0) {
+                            openUserProfile(user3);
+                        } else if (i == 1) {
+                            kickUser(user3);
+                        } else if (i == 2) {
+                            showUserMsgs(i2);
+                        } else if (i == 3) {
+                            showUserMedia(i2);
+                        }
                     }
+                });
+                ChatActivity.this.showDialog(builder.create());
+            } else if (long_click && ChatActivity.this.onlyId == 0 && ChatActivity.this.onlyIdMedia == 0) {
+                final int i3 = fromId;
+                builder.setItems(new CharSequence[]{LocaleController.getString("ShowUserMessages", R.string.ShowUserMessages), LocaleController.getString("ShowUserMedia", R.string.ShowUserMedia)}, new DialogInterface.OnClickListener() {
+                    public void onClick(DialogInterface dialogInterface, int i) {
+                        if (i == 0) {
+                            showUserMsgs(i3);
+                        } else if (i == 1) {
+                            showUserMedia(i3);
+                        }
+                    }
+                });
+                ChatActivity.this.showDialog(builder.create());
+            } else {
+                openUserProfile(user);
+            }
+        }
 
+        @Override
+        public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {
+            View view = null;
+            if (viewType == 0) {
+                if (!chatMessageCellsCache.isEmpty()) {
+                    view = chatMessageCellsCache.get(0);
+                    chatMessageCellsCache.remove(0);
+                } else {
+                    view = new ChatMessageCell(mContext);
+                }
+                ChatMessageCell chatMessageCell = (ChatMessageCell) view;
+                chatMessageCell.setDelegate(new ChatMessageCell.ChatMessageCellDelegate() {
                     @Override
-                    public void didLongPressedAvatar(ChatMessageCell cell, TLRPC.User user) {
-                        if (ChatActivity.this.actionBar.isActionModeShowed()) {
-                            ChatActivity.this.processRowSelect(cell);
-                        } else if (user != null) {
-                            ChatActivityAdapter.this.createAvatarClickMenu(cell.getMessageObject().messageOwner.from_id, user, true);
+                    public void didPressedShare(ChatMessageCell cell) {
+                        if (getParentActivity() == null) {
+                            return;
+                        }
+                        if (chatActivityEnterView != null) {
+                            if (directShareReplies) {
+                                showReplyPanel(true, cell.getMessageObject(), null, null, false);
+                                return;
+                            }
+                            chatActivityEnterView.closeKeyboard();
                         }
+                        boolean z = ChatObject.isChannel(ChatActivity.this.currentChat) && ChatActivity.this.currentChat.username != null && ChatActivity.this.currentChat.username.length() > 0;
+                        showDialog(new ShareAlert(mContext, cell.getMessageObject(), null, z, null, false));
+//                        showDialog(new ShareAlert(mContext, cell.getMessageObject(), null, ChatObject.isChannel(currentChat) && !currentChat.megagroup && currentChat.username != null && currentChat.username.length() > 0, null, false));
                     }
 
-
                     @Override
-                    public boolean canPerformActions() {
-                        return actionBar != null && !actionBar.isActionModeShowed();
+                    public boolean needPlayAudio(MessageObject messageObject) {
+                        if (messageObject.isVoice()) {
+                            boolean result = MediaController.getInstance().playAudio(messageObject);
+                            MediaController.getInstance().setVoiceMessagesPlaylist(result ? createVoiceMessagesPlaylist(messageObject, false) : null, false);
+                            return result;
+                        } else if (messageObject.isMusic()) {
+                            return MediaController.getInstance().setPlaylist(messages, messageObject);
+                        }
+                        return false;
                     }
 
                     @Override
-                    public void didPressedUrl(MessageObject messageObject, final CharacterStyle url, boolean longPress) {
-                        if (url == null) {
+                    public void didPressedChannelAvatar(ChatMessageCell cell, TLRPC.Chat chat, int postId) {
+                        if (actionBar.isActionModeShowed()) {
+                            processRowSelect(cell);
                             return;
                         }
-                        if (url instanceof URLSpanMono) {
-                            ((URLSpanMono) url).copyToClipboard();
-                            Toast.makeText(getParentActivity(), LocaleController.getString("TextCopied", R.string.TextCopied), Toast.LENGTH_SHORT).show();
-                        } else if (url instanceof URLSpanUserMention) {
-                            TLRPC.User user = MessagesController.getInstance().getUser(Utilities.parseInt(((URLSpanUserMention) url).getURL()));
-                            if (user != null) {
-                                MessagesController.openChatOrProfileWith(user, null, ChatActivity.this, 0, false);
-                            }
+                        if (chat != null && chat != currentChat) {
+                            Bundle args = new Bundle();
+                            args.putInt("chat_id", chat.id);
+                            if (postId != 0) {
+                                args.putInt("message_id", postId);
+                            }
+                            if (MessagesController.checkCanOpenChat(args, ChatActivity.this)) {
+                                presentFragment(new ChatActivity(args), true);
+                            }
+                        }
+                    }
+
+                    @Override
+                    public void didPressedOther(ChatMessageCell cell) {
+                        if (cell.getMessageObject().type == 16) {
+                            if(currentUser!=null)
+                                VoIPHelper.startCall(currentUser, getParentActivity(), MessagesController.getInstance().getUserFull(currentUser.id));
+                        } else {
+                            createMenu(cell, true);
+                        }
+                    }
+
+                    @Override
+                    public void didLongPressedAvatar(ChatMessageCell chatMessageCell, TLRPC.User user) {
+
+                    }
+
+//                    @Override
+//                    public void didPressedUserAvatar(ChatMessageCell cell, TLRPC.User user) {
+//                        if (actionBar.isActionModeShowed()) {
+//                            processRowSelect(cell);
+//                            return;
+//                        }
+//                        if (user != null && user.id != UserConfig.getClientUserId()) {
+//                            Bundle args = new Bundle();
+//                            args.putInt("user_id", user.id);
+//                            ProfileActivity fragment = new ProfileActivity(args);
+//                            fragment.setPlayProfileAnimation(currentUser != null && currentUser.id == user.id);
+//                            presentFragment(fragment);
+//                        }
+//                    }
+
+
+
+                    @Override
+                    public void didPressedUserAvatar(ChatMessageCell cell, TLRPC.User user) {
+                        if (ChatActivity.this.actionBar.isActionModeShowed()) {
+                            ChatActivity.this.processRowSelect(cell);
+                        } else if (user != null) {
+                            createAvatarClickMenu(cell.getMessageObject().messageOwner.from_id, user, false);
+                        }
+                    }
+
+//                    @Override
+//                    public void didLongPressedAvatar(ChatMessageCell cell, TLRPC.User user) {
+//                        if (ChatActivity.this.actionBar.isActionModeShowed()) {
+//                            ChatActivity.this.processRowSelect(cell);
+//                        } else if (user != null) {
+//                            createAvatarClickMenu(cell.getMessageObject().messageOwner.from_id, user, true);
+//                        }
+//                    }
+
+                    @Override
+                    public void didPressedBotButton(ChatMessageCell cell, TLRPC.KeyboardButton button) {
+                        if (getParentActivity() == null || bottomOverlayChat.getVisibility() == View.VISIBLE &&
+                                !(button instanceof TLRPC.TL_keyboardButtonSwitchInline) && !(button instanceof TLRPC.TL_keyboardButtonCallback) &&
+                                !(button instanceof TLRPC.TL_keyboardButtonGame) && !(button instanceof TLRPC.TL_keyboardButtonUrl) &&
+                                !(button instanceof TLRPC.TL_keyboardButtonBuy)) {
+                            return;
+                        }
+                        chatActivityEnterView.didPressedBotButton(button, cell.getMessageObject(), cell.getMessageObject());
+                    }
+
+                    @Override
+                    public void didPressedCancelSendButton(ChatMessageCell cell) {
+                        MessageObject message = cell.getMessageObject();
+                        if (message.messageOwner.send_state != 0) {
+                            SendMessagesHelper.getInstance().cancelSendingMessage(message);
+                        }
+                    }
+
+                    @Override
+                    public void didLongPressed(ChatMessageCell cell) {
+                        createMenu(cell, false);
+                    }
+
+                    @Override
+                    public boolean canPerformActions() {
+                        return actionBar != null && !actionBar.isActionModeShowed();
+                    }
+
+                    @Override
+                    public void didPressedUrl(MessageObject messageObject, final CharacterStyle url, boolean longPress) {
+                        if (url == null) {
+                            return;
+                        }
+                        if (url instanceof URLSpanMono) {
+                            ((URLSpanMono) url).copyToClipboard();
+                            Toast.makeText(getParentActivity(), LocaleController.getString("TextCopied", R.string.TextCopied), Toast.LENGTH_SHORT).show();
+                        } else if (url instanceof URLSpanUserMention) {
+                            TLRPC.User user = MessagesController.getInstance().getUser(Utilities.parseInt(((URLSpanUserMention) url).getURL()));
+                            if (user != null) {
+                                MessagesController.openChatOrProfileWith(user, null, ChatActivity.this, 0, false);
+                            }
                         } else if (url instanceof URLSpanNoUnderline) {
                             String str = ((URLSpanNoUnderline) url).getURL();
                             if (str.startsWith("@")) {
@@ -9698,496 +10630,193 @@ public void didPressedBotButton(MessageObject messageObject, TLRPC.KeyboardButto
                 view = new ChatUnreadCell(mContext);
             } else if (viewType == 3) {
                 view = new BotHelpCell(mContext);
-                ((BotHelpCell) view).setDelegate(new BotHelpCell.BotHelpCellDelegate() {
-                    @Override
-                    public void didPressUrl(String url) {
-                        if (url.startsWith("@")) {
-                            MessagesController.openByUserName(url.substring(1), ChatActivity.this, 0);
-                        } else if (url.startsWith("#")) {
-                            DialogsActivity fragment = new DialogsActivity(null);
-                            fragment.setSearchString(url);
-                            presentFragment(fragment);
-                        } else if (url.startsWith("/")) {
-                            chatActivityEnterView.setCommand(null, url, false, false);
-                        }
-                    }
-                });
-            } else if (viewType == 4) {
-                view = new ChatLoadingCell(mContext);
-            }
-            view.setLayoutParams(new RecyclerView.LayoutParams(RecyclerView.LayoutParams.MATCH_PARENT, RecyclerView.LayoutParams.WRAP_CONTENT));
-            return new RecyclerListView.Holder(view);
-        }
-
-        @Override
-        public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {
-            if (position == botInfoRow) {
-                BotHelpCell helpView = (BotHelpCell) holder.itemView;
-                helpView.setText(!botInfo.isEmpty() ? botInfo.get(currentUser.id).description : null);
-            } else if (position == loadingDownRow || position == loadingUpRow) {
-                ChatLoadingCell loadingCell = (ChatLoadingCell) holder.itemView;
-                loadingCell.setProgressVisible(loadsCount > 1);
-            } else if (position >= messagesStartRow && position < messagesEndRow) {
-                MessageObject message = messages.get(messages.size() - (position - messagesStartRow) - 1);
-                View view = holder.itemView;
-
-                if (view instanceof ChatMessageCell) {
-                    final ChatMessageCell messageCell = (ChatMessageCell) view;
-                    messageCell.isChat = currentChat != null;
-                    int nextType = getItemViewType(position + 1);
-                    int prevType = getItemViewType(position - 1);
-                    boolean pinnedBotton;
-                    boolean pinnedTop;
-                    if (!(message.messageOwner.reply_markup instanceof TLRPC.TL_replyInlineMarkup) && nextType == holder.getItemViewType()) {
-                        MessageObject nextMessage = messages.get(messages.size() - (position + 1 - messagesStartRow) - 1);
-                        pinnedBotton = nextMessage.isOutOwner() == message.isOutOwner() && (currentChat != null && nextMessage.messageOwner.from_id == message.messageOwner.from_id || currentChat == null) && Math.abs(nextMessage.messageOwner.date - message.messageOwner.date) <= 5 * 60;
-                    } else {
-                        pinnedBotton = false;
-                    }
-                    if (prevType == holder.getItemViewType()) {
-                        MessageObject prevMessage = messages.get(messages.size() - (position - messagesStartRow));
-                        pinnedTop = !(prevMessage.messageOwner.reply_markup instanceof TLRPC.TL_replyInlineMarkup) && prevMessage.isOutOwner() == message.isOutOwner() && (currentChat != null && prevMessage.messageOwner.from_id == message.messageOwner.from_id || currentChat == null) && Math.abs(prevMessage.messageOwner.date - message.messageOwner.date) <= 5 * 60;
-                    } else {
-                        pinnedTop = false;
-                    }
-                    messageCell.setMessageObject(message, pinnedBotton, pinnedTop);
-                    if (view instanceof ChatMessageCell && MediaController.getInstance().canDownloadMedia(MediaController.AUTODOWNLOAD_MASK_AUDIO)) {
-                        ((ChatMessageCell) view).downloadAudioIfNeed();
-                    }
-                    messageCell.setHighlighted(highlightMessageId != Integer.MAX_VALUE && message.getId() == highlightMessageId);
-                    if (searchContainer != null && searchContainer.getVisibility() == View.VISIBLE && MessagesSearchQuery.getLastSearchQuery() != null) {
-                        messageCell.setHighlightedText(MessagesSearchQuery.getLastSearchQuery());
-                    } else {
-                        messageCell.setHighlightedText(null);
-                    }
-                    int index;
-                    if (BuildVars.DEBUG_PRIVATE_VERSION && (index = animatingMessageObjects.indexOf(message)) != -1) {
-                        animatingMessageObjects.remove(index);
-                        final ChatMessageCell animatingView = messageCell;
-                        messageCell.getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener() {
-                            @Override
-                            public boolean onPreDraw() {
-                                animatingView.getViewTreeObserver().removeOnPreDrawListener(this); //TODO
-                                ImageReceiver imageReceiver = animatingView.getPhotoImage();
-                                int w = imageReceiver.getImageWidth();
-                                org.telegram.ui.Components.Rect rect = instantCameraView.getCameraRect();
-                                float scale = w / rect.width;
-                                int position[] = new int[2];
-                                messageCell.setAlpha(0.0f);
-                                messageCell.getLocationOnScreen(position);
-                                position[0] += imageReceiver.getImageX();
-                                position[1] += imageReceiver.getImageY();
-                                final View cameraContainer = instantCameraView.getCameraContainer();
-                                cameraContainer.setPivotX(0.0f);
-                                cameraContainer.setPivotY(0.0f);
-                                AnimatorSet animatorSet = new AnimatorSet();
-                                animatorSet.playTogether(
-                                        ObjectAnimator.ofFloat(actionBarOverlay, "alpha", 0.0f),
-                                        ObjectAnimator.ofFloat(instantCameraView, "alpha", 0.0f),
-                                        ObjectAnimator.ofFloat(cameraContainer, "scaleX", scale),
-                                        ObjectAnimator.ofFloat(cameraContainer, "scaleY", scale),
-                                        ObjectAnimator.ofFloat(cameraContainer, "translationX", position[0] - rect.x),
-                                        ObjectAnimator.ofFloat(cameraContainer, "translationY", position[1] - rect.y));
-                                animatorSet.setDuration(180);
-                                animatorSet.setInterpolator(new DecelerateInterpolator());
-                                animatorSet.addListener(new AnimatorListenerAdapter() {
-                                    @Override
-                                    public void onAnimationEnd(Animator animation) {
-                                        //messageCell.setAlpha(1.0f);
-                                        AnimatorSet animatorSet = new AnimatorSet();
-                                        animatorSet.playTogether(
-                                                ObjectAnimator.ofFloat(cameraContainer, "alpha", 0.0f),
-                                                ObjectAnimator.ofFloat(messageCell, "alpha", 1.0f)
-                                        );
-                                        animatorSet.setDuration(100);
-                                        animatorSet.setInterpolator(new DecelerateInterpolator());
-                                        animatorSet.addListener(new AnimatorListenerAdapter() {
-                                            @Override
-                                            public void onAnimationEnd(Animator animation) {
-                                                instantCameraView.hideCamera(true);
-                                                instantCameraView.setVisibility(View.GONE);
-                                            }
-                                        });
-                                        animatorSet.start();
-                                    }
-                                });
-                                animatorSet.start();
-                                return true;
-                            }
-                        });
-                    }
-                } else if (view instanceof ChatActionCell) {
-                    ChatActionCell actionCell = (ChatActionCell) view;
-                    actionCell.setMessageObject(message);
-                    actionCell.setAlpha(1.0f);
-                } else if (view instanceof ChatUnreadCell) {
-                    ChatUnreadCell unreadCell = (ChatUnreadCell) view;
-                    unreadCell.setText(LocaleController.formatPluralString("NewMessages", unread_to_load));
-                    if (createUnreadMessageAfterId != 0) {
-                        createUnreadMessageAfterId = 0;
-                    }
-                }
-            }
-        }
-
-        @Override
-        public int getItemViewType(int position) {
-            if (position >= messagesStartRow && position < messagesEndRow) {
-                return messages.get(messages.size() - (position - messagesStartRow) - 1).contentType;
-            } else if (position == botInfoRow) {
-                return 3;
-            }
-            return 4;
-        }
-
-        @Override
-        public void onViewAttachedToWindow(RecyclerView.ViewHolder holder) {
-            if (holder.itemView instanceof ChatMessageCell) {
-                final ChatMessageCell messageCell = (ChatMessageCell) holder.itemView;
-                MessageObject message = messageCell.getMessageObject();
-
-                boolean selected = false;
-                boolean disableSelection = false;
-                if (actionBar.isActionModeShowed()) {
-                    MessageObject messageObject = chatActivityEnterView != null ? chatActivityEnterView.getEditingMessageObject() : null;
-                    if (messageObject == message || selectedMessagesIds[message.getDialogId() == dialog_id ? 0 : 1].containsKey(message.getId())) {
-//                        messageCell.setBackgroundColor(Theme.getColor(Theme.key_chat_selectedBackground));
-                        messageCell.setBackgroundColor(Theme.usePlusTheme ? Theme.chatSelectedMsgBGColor : Theme.getColor(Theme.key_chat_selectedBackground));
-                        selected = true;
-                    } else {
-                        messageCell.setBackgroundDrawable(null);
-                    }
-                    disableSelection = true;
-                } else {
-                    messageCell.setBackgroundDrawable(null);
-                }
-                messageCell.setCheckPressed(!disableSelection, disableSelection && selected);
-
-                messageCell.getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener() {
-                    @Override
-                    public boolean onPreDraw() {
-                        messageCell.getViewTreeObserver().removeOnPreDrawListener(this);
-
-                        int height = chatListView.getMeasuredHeight();
-                        int top = messageCell.getTop();
-                        int bottom = messageCell.getBottom();
-                        int viewTop = top >= 0 ? 0 : -top;
-                        int viewBottom = messageCell.getMeasuredHeight();
-                        if (viewBottom > height) {
-                            viewBottom = viewTop + height;
-                        }
-                        messageCell.setVisiblePart(viewTop, viewBottom - viewTop);
-
-                        return true;
-                    }
-                });
-                messageCell.setHighlighted(highlightMessageId != Integer.MAX_VALUE && messageCell.getMessageObject().getId() == highlightMessageId);
-            }
-        }
-
-        //Multi
-        private void createAvatarClickMenu(int fromId, TLRPC.User user, boolean long_click) {
-            boolean isChat = ((int) ChatActivity.this.dialog_id) < 0 && ((int) (ChatActivity.this.dialog_id >> 32)) != 1;
-            if (!isChat || ((user.id == UserConfig.getClientUserId() || long_click) && !long_click)) {
-                openUserProfile(user);
-                return;
-            }
-            String name = UserObject.getFirstName(user);
-            if (user.username != null) {
-                name = name + "\n@" + user.username;
-            }
-            boolean allowKick = false;
-            boolean allowSetAdmin = false;
-            boolean removeAdmin = false;
-            int index = -1;
-            TLRPC.ChatParticipant chatParticipant = null;
-            if (!(user.id == UserConfig.getClientUserId() || ChatActivity.this.info == null || ChatActivity.this.info.participants == null)) {
-                int a;
-                TLRPC.ChatParticipant p;
-                if (ChatActivity.this.currentChat.megagroup) {
-                    for (a = 0; a < ChatActivity.this.info.participants.participants.size(); a++) {
-                        p = (TLRPC.ChatParticipant) ChatActivity.this.info.participants.participants.get(a);
-                        if (p instanceof TLRPC.TL_chatChannelParticipant) {
-                            TLRPC.ChannelParticipant channelParticipant = ((TLRPC.TL_chatChannelParticipant) p).channelParticipant;
-                            if (channelParticipant.user_id == user.id) {
-                                index = a;
-                                if (ChatActivity.this.currentChat.creator || (!(!ChatActivity.this.currentChat.editor || (channelParticipant instanceof TLRPC.TL_channelParticipantEditor) || (channelParticipant instanceof TLRPC.TL_channelParticipantCreator)) || channelParticipant.inviter_id == UserConfig.getClientUserId())) {
-                                    allowKick = true;
-                                }
-                                allowSetAdmin = (!ChatActivity.this.currentChat.creator || (channelParticipant instanceof TLRPC.TL_channelParticipantEditor) || user.bot) ? false : true;
-                                removeAdmin = ChatActivity.this.currentChat.creator && (channelParticipant instanceof TLRPC.TL_channelParticipantEditor) && !user.bot;
-                            }
-                        }
-                    }
-                } else {
-                    a = 0;
-                    while (a < ChatActivity.this.info.participants.participants.size()) {
-                        p = (TLRPC.ChatParticipant) ChatActivity.this.info.participants.participants.get(a);
-                        if (p.user_id == user.id) {
-                            chatParticipant = p;
-                            index = a;
-                            if (ChatActivity.this.currentChat.creator || ((ChatActivity.this.currentChat.admin && ChatActivity.this.currentChat.admins_enabled && !(p instanceof TLRPC.TL_chatParticipantAdmin) && !(p instanceof TLRPC.TL_chatParticipantCreator)) || p.inviter_id == UserConfig.getClientUserId())) {
-                                allowKick = true;
-                            }
-                            allowSetAdmin = ChatActivity.this.currentChat.creator && ChatActivity.this.currentChat.admins_enabled && !(p instanceof TLRPC.TL_chatParticipantAdmin);
-                            removeAdmin = ChatActivity.this.currentChat.creator && ChatActivity.this.currentChat.admins_enabled && (p instanceof TLRPC.TL_chatParticipantAdmin);
-                        } else {
-                            a++;
-                        }
-                    }
-                }
-            }
-            AlertDialog.Builder builder = new AlertDialog.Builder(ChatActivity.this.getParentActivity());
-            builder.setTitle(name);
-            final int finalIndex = index;
-            final TLRPC.ChatParticipant finalChatParticipant = chatParticipant;
-            final boolean finalRemoveAdmin = removeAdmin;
-            ArrayList<String> listItems;
-            if (allowSetAdmin || removeAdmin) {
-                Object string;
-                listItems = new ArrayList();
-                listItems.add(LocaleController.getString("ShowProfile", R.string.ShowProfile));
-                listItems.add(LocaleController.getString("KickFromGroup", R.string.KickFromGroup));
-                if (removeAdmin) {
-                    string = LocaleController.getString("RemoveUserAdmin", R.string.RemoveUserAdmin);
-                } else {
-                    string = LocaleController.getString("SetAsAdmin", R.string.SetAsAdmin);
-                }
-                listItems.add(string);
-                if (ChatActivity.this.onlyId == 0 && ChatActivity.this.onlyIdMedia == 0) {
-                    listItems.add(LocaleController.getString("ShowUserMessages", R.string.ShowUserMessages));
-                    listItems.add(LocaleController.getString("ShowUserMedia", R.string.ShowUserMedia));
-                }
-                final TLRPC.User user2 = user;
-                final int i = fromId;
-                builder.setItems((CharSequence[]) listItems.toArray(new CharSequence[listItems.size()]), new DialogInterface.OnClickListener() {
-                    public void onClick(DialogInterface dialogInterface, int i) {
-                        if (i == 0) {
-                            ChatActivityAdapter.this.openUserProfile(user2);
-                        } else if (i == 1) {
-                            ChatActivityAdapter.this.kickUser(user2);
-                        } else if (i == 2) {
-                            String string;
-                            AlertDialog.Builder builder = new AlertDialog.Builder(ChatActivity.this.getParentActivity());
-                            StringBuilder stringBuilder = new StringBuilder();
-                            if (finalRemoveAdmin) {
-                                string = LocaleController.getString("RemoveUserAdmin", R.string.RemoveUserAdmin);
-                            } else {
-                                string = LocaleController.getString("SetAsAdmin", R.string.SetAsAdmin);
-                            }
-                            builder.setMessage(stringBuilder.append(string).append('\n').append(LocaleController.getString("AreYouSure", R.string.AreYouSure)).toString());
-                            builder.setTitle(UserObject.getFirstName(user2));
-                            builder.setPositiveButton(LocaleController.getString("OK", R.string.OK), new DialogInterface.OnClickListener() {
-                                public void onClick(DialogInterface dialogInterface, int i) {
-                                    if (ChatActivity.this.currentChat.megagroup) {
-                                        TLRPC.ChannelParticipantRole tL_channelRoleEmpty;
-                                        TLRPC.TL_channels_editAdmin req = new TLRPC.TL_channels_editAdmin();
-                                        req.channel = MessagesController.getInputChannel(ChatActivity.this.chat_id);
-                                        req.user_id = MessagesController.getInputUser(user2.id);
-                                        if (finalRemoveAdmin) {
-                                            tL_channelRoleEmpty = new TLRPC.TL_channelRoleEmpty();
-                                        } else {
-                                            tL_channelRoleEmpty = new TLRPC.TL_channelRoleEditor();
-                                        }
-                                        req.role = tL_channelRoleEmpty;
-                                        ConnectionsManager.getInstance().sendRequest(req, new RequestDelegate() {
-                                            public void run(TLObject response, final TLRPC.TL_error error) {
-                                                if (error == null) {
-                                                    MessagesController.getInstance().processUpdates((TLRPC.Updates) response, false);
-                                                    AndroidUtilities.runOnUIThread(new Runnable() {
-                                                        public void run() {
-                                                            MessagesController.getInstance().loadFullChat(ChatActivity.this.chat_id, 0, true);
-                                                            ChatActivityAdapter.this.getChannelParticipants();
-                                                        }
-                                                    }, 1000);
-                                                    return;
-                                                }
-                                                AndroidUtilities.runOnUIThread(new Runnable() {
-                                                    public void run() {
-                                                        AlertsCreator.showAddUserAlert(error.text, ChatActivity.this, false);
-                                                    }
-                                                });
-                                            }
-                                        });
-                                    } else if (finalIndex != -1 && !(finalChatParticipant instanceof TLRPC.TL_chatParticipantCreator)) {
-                                        TLRPC.ChatParticipant newParticipant;
-                                        if (finalChatParticipant instanceof TLRPC.TL_chatParticipant) {
-                                            newParticipant = new TLRPC.TL_chatParticipantAdmin();
-                                            newParticipant.user_id = finalChatParticipant.user_id;
-                                            newParticipant.date = finalChatParticipant.date;
-                                            newParticipant.inviter_id = finalChatParticipant.inviter_id;
-                                        } else {
-                                            newParticipant = new TLRPC.TL_chatParticipant();
-                                            newParticipant.user_id = finalChatParticipant.user_id;
-                                            newParticipant.date = finalChatParticipant.date;
-                                            newParticipant.inviter_id = finalChatParticipant.inviter_id;
-                                        }
-                                        ChatActivity.this.info.participants.participants.set(finalIndex, newParticipant);
-                                        if (ChatActivity.this.currentChat != null && ChatActivity.this.currentChat.admins_enabled) {
-                                            boolean z;
-                                            MessagesController instance = MessagesController.getInstance();
-                                            int access$2200 = ChatActivity.this.chat_id;
-                                            int i2 = user2.id;
-                                            if (finalRemoveAdmin) {
-                                                z = false;
-                                            } else {
-                                                z = true;
-                                            }
-                                            instance.toggleUserAdmin(access$2200, i2, z);
-                                        }
-                                    }
-                                }
-                            });
-                            builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
-                            ChatActivity.this.showDialog(builder.create());
-                        } else if (i == 3) {
-                            ChatActivityAdapter.this.showUserMsgs(i);
-                        } else if (i == 4) {
-                            ChatActivityAdapter.this.showUserMedia(i);
-                        }
-                    }
-                });
-                ChatActivity.this.showDialog(builder.create());
-            } else if (allowKick) {
-                listItems = new ArrayList();
-                listItems.add(LocaleController.getString("ShowProfile", R.string.ShowProfile));
-                listItems.add(LocaleController.getString("KickFromGroup", R.string.KickFromGroup));
-                if (ChatActivity.this.onlyId == 0 && ChatActivity.this.onlyIdMedia == 0) {
-                    listItems.add(LocaleController.getString("ShowUserMessages", R.string.ShowUserMessages));
-                    listItems.add(LocaleController.getString("ShowUserMedia", R.string.ShowUserMedia));
-                }
-                final TLRPC.User user3 = user;
-                final int i2 = fromId;
-                builder.setItems((CharSequence[]) listItems.toArray(new CharSequence[listItems.size()]), new DialogInterface.OnClickListener() {
-                    public void onClick(DialogInterface dialogInterface, int i) {
-                        if (i == 0) {
-                            ChatActivityAdapter.this.openUserProfile(user3);
-                        } else if (i == 1) {
-                            ChatActivityAdapter.this.kickUser(user3);
-                        } else if (i == 2) {
-                            ChatActivityAdapter.this.showUserMsgs(i2);
-                        } else if (i == 3) {
-                            ChatActivityAdapter.this.showUserMedia(i2);
-                        }
-                    }
-                });
-                ChatActivity.this.showDialog(builder.create());
-            } else if (long_click && ChatActivity.this.onlyId == 0 && ChatActivity.this.onlyIdMedia == 0) {
-                final int i3 = fromId;
-                builder.setItems(new CharSequence[]{LocaleController.getString("ShowUserMessages", R.string.ShowUserMessages), LocaleController.getString("ShowUserMedia", R.string.ShowUserMedia)}, new DialogInterface.OnClickListener() {
-                    public void onClick(DialogInterface dialogInterface, int i) {
-                        if (i == 0) {
-                            ChatActivityAdapter.this.showUserMsgs(i3);
-                        } else if (i == 1) {
-                            ChatActivityAdapter.this.showUserMedia(i3);
+                ((BotHelpCell) view).setDelegate(new BotHelpCell.BotHelpCellDelegate() {
+                    @Override
+                    public void didPressUrl(String url) {
+                        if (url.startsWith("@")) {
+                            MessagesController.openByUserName(url.substring(1), ChatActivity.this, 0);
+                        } else if (url.startsWith("#")) {
+                            DialogsActivity fragment = new DialogsActivity(null);
+                            fragment.setSearchString(url);
+                            presentFragment(fragment);
+                        } else if (url.startsWith("/")) {
+                            chatActivityEnterView.setCommand(null, url, false, false);
                         }
                     }
                 });
-                ChatActivity.this.showDialog(builder.create());
-            } else {
-                openUserProfile(user);
+            } else if (viewType == 4) {
+                view = new ChatLoadingCell(mContext);
             }
+            view.setLayoutParams(new RecyclerView.LayoutParams(RecyclerView.LayoutParams.MATCH_PARENT, RecyclerView.LayoutParams.WRAP_CONTENT));
+            return new RecyclerListView.Holder(view);
         }
 
-        private void openUserProfile(TLRPC.User user) {
-            try {
-                Bundle args = new Bundle();
-                args.putInt("user_id", user.id);
-                ProfileActivity fragment = new ProfileActivity(args);
-                boolean z = ChatActivity.this.currentUser != null && ChatActivity.this.currentUser.id == user.id;
-                fragment.setPlayProfileAnimation(z);
-                ChatActivity.this.presentFragment(fragment);
-            } catch (Exception e) {
-                FileLog.e("tmessages", e);
-            }
-        }
+        @Override
+        public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {
+            if (position == botInfoRow) {
+                BotHelpCell helpView = (BotHelpCell) holder.itemView;
+                helpView.setText(!botInfo.isEmpty() ? botInfo.get(currentUser.id).description : null);
+            } else if (position == loadingDownRow || position == loadingUpRow) {
+                ChatLoadingCell loadingCell = (ChatLoadingCell) holder.itemView;
+                loadingCell.setProgressVisible(loadsCount > 1);
+            } else if (position >= messagesStartRow && position < messagesEndRow) {
+                MessageObject message = messages.get(messages.size() - (position - messagesStartRow) - 1);
+                View view = holder.itemView;
 
-        private void getChannelParticipants() {
-            final TLRPC.TL_channels_getParticipants req = new TLRPC.TL_channels_getParticipants();
-            req.channel = MessagesController.getInputChannel(ChatActivity.this.chat_id);
-            req.filter = new TLRPC.TL_channelParticipantsRecent();
-            req.offset = 0;
-            req.limit = 33;
-            ConnectionsManager.getInstance().bindRequestToGuid(ConnectionsManager.getInstance().sendRequest(req, new RequestDelegate() {
-                public void run(final TLObject response, final TLRPC.TL_error error) {
-                    long j;
-                    Runnable anonymousClass1 = new Runnable() {
-                        public void run() {
-                            if (error == null) {
-                                TLRPC.TL_channels_channelParticipants res = (TLRPC.TL_channels_channelParticipants) response;
-                                MessagesController.getInstance().putUsers(res.users, false);
-                                if (res.participants.size() == 33) {
-                                    res.participants.remove(32);
-                                }
-                                if (req.offset == 0) {
-                                    MessagesStorage.getInstance().putUsersAndChats(res.users, null, true, true);
-                                    MessagesStorage.getInstance().updateChannelUsers(ChatActivity.this.chat_id, res.participants);
-                                }
-                            }
-                        }
-                    };
-                    if (Build.VERSION.SDK_INT >= 11) {
-                        j = 300;
+                if (view instanceof ChatMessageCell) {
+                    final ChatMessageCell messageCell = (ChatMessageCell) view;
+                    messageCell.isChat = currentChat != null;
+                    int nextType = getItemViewType(position + 1);
+                    int prevType = getItemViewType(position - 1);
+                    boolean pinnedBotton;
+                    boolean pinnedTop;
+                    if (!(message.messageOwner.reply_markup instanceof TLRPC.TL_replyInlineMarkup) && nextType == holder.getItemViewType()) {
+                        MessageObject nextMessage = messages.get(messages.size() - (position + 1 - messagesStartRow) - 1);
+                        pinnedBotton = nextMessage.isOutOwner() == message.isOutOwner() && (currentChat != null && nextMessage.messageOwner.from_id == message.messageOwner.from_id || currentChat == null) && Math.abs(nextMessage.messageOwner.date - message.messageOwner.date) <= 5 * 60;
                     } else {
-                        j = 0;
+                        pinnedBotton = false;
                     }
-                    AndroidUtilities.runOnUIThread(anonymousClass1, j);
-                }
-            }), ChatActivity.this.classGuid);
-        }
-
-        private void kickUser(final TLRPC.User user) {
-            AlertDialog.Builder builder = new AlertDialog.Builder(ChatActivity.this.getParentActivity());
-            builder.setMessage(LocaleController.getString("KickFromGroup", R.string.KickFromGroup) + '\n' + LocaleController.getString("AreYouSure", R.string.AreYouSure));
-            builder.setTitle(UserObject.getFirstName(user));
-            builder.setPositiveButton(LocaleController.getString("OK", R.string.OK), new DialogInterface.OnClickListener() {
-                public void onClick(DialogInterface dialogInterface, int i) {
-                    try {
-                        MessagesController.getInstance().deleteUserFromChat(ChatActivity.this.chat_id, user, ChatActivity.this.info);
-                        boolean changed = false;
-                        if (ChatActivity.this.info != null && ChatActivity.this.info.participants != null) {
-                            for (int a = 0; a < ChatActivity.this.info.participants.participants.size(); a++) {
-                                if (((TLRPC.ChatParticipant) ChatActivity.this.info.participants.participants.get(a)).user_id == user.id) {
-                                    ChatActivity.this.info.participants.participants.remove(a);
-                                    changed = true;
-                                    break;
-                                }
+                    if (prevType == holder.getItemViewType()) {
+                        MessageObject prevMessage = messages.get(messages.size() - (position - messagesStartRow));
+                        pinnedTop = !(prevMessage.messageOwner.reply_markup instanceof TLRPC.TL_replyInlineMarkup) && prevMessage.isOutOwner() == message.isOutOwner() && (currentChat != null && prevMessage.messageOwner.from_id == message.messageOwner.from_id || currentChat == null) && Math.abs(prevMessage.messageOwner.date - message.messageOwner.date) <= 5 * 60;
+                    } else {
+                        pinnedTop = false;
+                    }
+                    messageCell.setMessageObject(message, pinnedBotton, pinnedTop);
+                    if (view instanceof ChatMessageCell && MediaController.getInstance().canDownloadMedia(MediaController.AUTODOWNLOAD_MASK_AUDIO)) {
+                        ((ChatMessageCell) view).downloadAudioIfNeed();
+                    }
+                    messageCell.setHighlighted(highlightMessageId != Integer.MAX_VALUE && message.getId() == highlightMessageId);
+                    if (searchContainer != null && searchContainer.getVisibility() == View.VISIBLE && MessagesSearchQuery.getLastSearchQuery() != null) {
+                        messageCell.setHighlightedText(MessagesSearchQuery.getLastSearchQuery());
+                    } else {
+                        messageCell.setHighlightedText(null);
+                    }
+                    int index;
+                    if (BuildVars.DEBUG_PRIVATE_VERSION && (index = animatingMessageObjects.indexOf(message)) != -1) {
+                        animatingMessageObjects.remove(index);
+                        final ChatMessageCell animatingView = messageCell;
+                        messageCell.getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener() {
+                            @Override
+                            public boolean onPreDraw() {
+                                animatingView.getViewTreeObserver().removeOnPreDrawListener(this); //TODO
+                                ImageReceiver imageReceiver = animatingView.getPhotoImage();
+                                int w = imageReceiver.getImageWidth();
+                                org.telegram.ui.Components.Rect rect = instantCameraView.getCameraRect();
+                                float scale = w / rect.width;
+                                int position[] = new int[2];
+                                messageCell.setAlpha(0.0f);
+                                messageCell.getLocationOnScreen(position);
+                                position[0] += imageReceiver.getImageX();
+                                position[1] += imageReceiver.getImageY();
+                                final View cameraContainer = instantCameraView.getCameraContainer();
+                                cameraContainer.setPivotX(0.0f);
+                                cameraContainer.setPivotY(0.0f);
+                                AnimatorSet animatorSet = new AnimatorSet();
+                                animatorSet.playTogether(
+                                        ObjectAnimator.ofFloat(actionBarOverlay, "alpha", 0.0f),
+                                        ObjectAnimator.ofFloat(instantCameraView, "alpha", 0.0f),
+                                        ObjectAnimator.ofFloat(cameraContainer, "scaleX", scale),
+                                        ObjectAnimator.ofFloat(cameraContainer, "scaleY", scale),
+                                        ObjectAnimator.ofFloat(cameraContainer, "translationX", position[0] - rect.x),
+                                        ObjectAnimator.ofFloat(cameraContainer, "translationY", position[1] - rect.y));
+                                animatorSet.setDuration(180);
+                                animatorSet.setInterpolator(new DecelerateInterpolator());
+                                animatorSet.addListener(new AnimatorListenerAdapter() {
+                                    @Override
+                                    public void onAnimationEnd(Animator animation) {
+                                        //messageCell.setAlpha(1.0f);
+                                        AnimatorSet animatorSet = new AnimatorSet();
+                                        animatorSet.playTogether(
+                                                ObjectAnimator.ofFloat(cameraContainer, "alpha", 0.0f),
+                                                ObjectAnimator.ofFloat(messageCell, "alpha", 1.0f)
+                                        );
+                                        animatorSet.setDuration(100);
+                                        animatorSet.setInterpolator(new DecelerateInterpolator());
+                                        animatorSet.addListener(new AnimatorListenerAdapter() {
+                                            @Override
+                                            public void onAnimationEnd(Animator animation) {
+                                                instantCameraView.hideCamera(true);
+                                                instantCameraView.setVisibility(View.GONE);
+                                            }
+                                        });
+                                        animatorSet.start();
+                                    }
+                                });
+                                animatorSet.start();
+                                return true;
                             }
-                        }
-                        if (changed) {
-                            ChatActivity.this.chatAdapter.notifyDataSetChanged();
-                        }
-                    } catch (Exception e) {
-                        FileLog.e("tmessages", e);
+                        });
+                    }
+                } else if (view instanceof ChatActionCell) {
+                    ChatActionCell actionCell = (ChatActionCell) view;
+                    actionCell.setMessageObject(message);
+                    actionCell.setAlpha(1.0f);
+                } else if (view instanceof ChatUnreadCell) {
+                    ChatUnreadCell unreadCell = (ChatUnreadCell) view;
+                    unreadCell.setText(LocaleController.formatPluralString("NewMessages", unread_to_load));
+                    if (createUnreadMessageAfterId != 0) {
+                        createUnreadMessageAfterId = 0;
                     }
                 }
-            });
-            builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
-            ChatActivity.this.showDialog(builder.create());
+            }
         }
 
-        private void showUserMsgs(int id) {
-            Bundle args = new Bundle();
-            args.putInt("chat_id", ChatActivity.this.currentChat.id);
-            args.putInt("only_id", id);
-            if (ChatActivity.this.onlyIdMedia > 0) {
-                args.putInt("only_id_media", ChatActivity.this.onlyIdMedia);
+        @Override
+        public int getItemViewType(int position) {
+            if (position >= messagesStartRow && position < messagesEndRow) {
+                return messages.get(messages.size() - (position - messagesStartRow) - 1).contentType;
+            } else if (position == botInfoRow) {
+                return 3;
             }
-            ChatActivity.this.presentFragment(new ChatActivity(args));
+            return 4;
         }
 
-        private void showUserMedia(int id) {
-            Bundle args = new Bundle();
-            args.putInt("chat_id", ChatActivity.this.currentChat.id);
-            if (ChatActivity.this.onlyId > 0) {
-                args.putInt("only_id", ChatActivity.this.onlyId);
+        @Override
+        public void onViewAttachedToWindow(RecyclerView.ViewHolder holder) {
+            if (holder.itemView instanceof ChatMessageCell) {
+                final ChatMessageCell messageCell = (ChatMessageCell) holder.itemView;
+                MessageObject message = messageCell.getMessageObject();
+
+                boolean selected = false;
+                boolean disableSelection = false;
+                if (actionBar.isActionModeShowed()) {
+                    MessageObject messageObject = chatActivityEnterView != null ? chatActivityEnterView.getEditingMessageObject() : null;
+                    if (messageObject == message || selectedMessagesIds[message.getDialogId() == dialog_id ? 0 : 1].containsKey(message.getId())) {
+//                        messageCell.setBackgroundColor(Theme.getColor(Theme.key_chat_selectedBackground));
+                        messageCell.setBackgroundColor(Theme.usePlusTheme ? Theme.chatSelectedMsgBGColor : Theme.getColor(Theme.key_chat_selectedBackground));
+                        selected = true;
+                    } else {
+                        messageCell.setBackgroundDrawable(null);
+                    }
+                    disableSelection = true;
+                } else {
+                    messageCell.setBackgroundDrawable(null);
+                }
+                messageCell.setCheckPressed(!disableSelection, disableSelection && selected);
+
+                messageCell.getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener() {
+                    @Override
+                    public boolean onPreDraw() {
+                        messageCell.getViewTreeObserver().removeOnPreDrawListener(this);
+
+                        int height = chatListView.getMeasuredHeight();
+                        int top = messageCell.getTop();
+                        int bottom = messageCell.getBottom();
+                        int viewTop = top >= 0 ? 0 : -top;
+                        int viewBottom = messageCell.getMeasuredHeight();
+                        if (viewBottom > height) {
+                            viewBottom = viewTop + height;
+                        }
+                        messageCell.setVisiblePart(viewTop, viewBottom - viewTop);
+
+                        return true;
+                    }
+                });
+                messageCell.setHighlighted(highlightMessageId != Integer.MAX_VALUE && messageCell.getMessageObject().getId() == highlightMessageId);
             }
-            args.putInt("only_id_media", id);
-            ChatActivity.this.presentFragment(new ChatActivity(args));
         }
 
-        //
-
         public void updateRowWithMessageObject(MessageObject messageObject) {
             int index = messages.indexOf(messageObject);
             if (index == -1) {
@@ -10338,7 +10967,10 @@ public void didSetColor(int color) {
                 new ThemeDescription(chatListView, 0, new Class[]{ChatMessageCell.class}, null, new Drawable[]{Theme.chat_msgOutShadowDrawable, Theme.chat_msgOutMediaShadowDrawable}, null, Theme.key_chat_outBubbleShadow),
                 new ThemeDescription(chatListView, ThemeDescription.FLAG_TEXTCOLOR, new Class[]{ChatActionCell.class}, Theme.chat_actionTextPaint, null, null, Theme.key_chat_serviceText),
                 new ThemeDescription(chatListView, ThemeDescription.FLAG_LINKCOLOR, new Class[]{ChatActionCell.class}, Theme.chat_actionTextPaint, null, null, Theme.key_chat_serviceLink),
-
+                new ThemeDescription(this.chatListView, 0, new Class[]{ChatMessageCell.class}, null, null, null, Theme.key_chat_inReplyLine),
+                new ThemeDescription(this.chatListView, 0, new Class[]{ChatMessageCell.class}, null, null, null, Theme.key_chat_outReplyLine),
+                new ThemeDescription(this.chatListView, 0, new Class[]{ChatMessageCell.class}, null, null, null, Theme.key_chat_stickerReplyLine),
+                new ThemeDescription(this.chatListView, 0, new Class[]{ChatMessageCell.class}, null, null, null, Theme.key_chat_outPreviewLine),
                 new ThemeDescription(chatListView, 0, new Class[]{ChatMessageCell.class}, null, new Drawable[]{Theme.chat_shareIconDrawable, Theme.chat_botInlineDrawable, Theme.chat_botLinkDrawalbe}, null, Theme.key_chat_serviceIcon),
 
                 new ThemeDescription(chatListView, 0, new Class[]{ChatMessageCell.class, ChatActionCell.class}, null, null, null, Theme.key_chat_serviceBackground),
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java
index 57086afeb..f0cc54e9a 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java
@@ -1101,7 +1101,7 @@ public void onClick(View view) {
 
     private void updateTheme() {
         SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0);
-        this.sendButton.setColorFilter(themePrefs.getInt(Theme.pkey_chatSendIconColor, themePrefs.getInt(Theme.pkey_chatEditTextIconsColor, themePrefs.getInt(Theme.pkey_themeColor, AndroidUtilities.defColor))), Mode.SRC_IN);
+        this.sendButton.setColorFilter(themePrefs.getInt(Theme.pkey_chatSendIconColor, themePrefs.getInt(Theme.pkey_chatEditTextIconsColor, themePrefs.getInt(Theme.pkey_themeColor, AndroidUtilities.defColor))), PorterDuff.Mode.SRC_IN);
         this.messageEditText.setTextColor(themePrefs.getInt(Theme.pkey_chatEditTextColor, -16777216));
         this.messageEditText.setHintTextColor(AndroidUtilities.getIntAlphaColor(Theme.pkey_chatEditTextColor, -16777216, 0.35f));
         this.messageEditText.setTextSize((float) themePrefs.getInt(Theme.pkey_chatEditTextSize, 18));
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatAttachAlert.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatAttachAlert.java
index a80659e85..77c80e41a 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatAttachAlert.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatAttachAlert.java
@@ -775,7 +775,7 @@ public void run() {
                             AndroidUtilities.runOnUIThread(videoRecordRunnable, 1000);
                         }
                     };
-                    AndroidUtilities.lockOrientation(parentFragment.getParentActivity());
+//                    AndroidUtilities.lockOrientation(getParentActivity()); //TODO multi
                     CameraController.getInstance().recordVideo(cameraView.getCameraSession(), cameraFile, new CameraController.VideoTakeCallback() {
                         @Override
                         public void onFinishVideoRecording(final Bitmap thumb) {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/ColorSelectorDialog.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/ColorSelectorDialog.java
index 4c2444817..76a53149b 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/ColorSelectorDialog.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/ColorSelectorDialog.java
@@ -6,13 +6,14 @@
 import android.os.Bundle;
 import android.view.MotionEvent;
 import android.view.View;
-import android.view.View.OnClickListener;
 import android.view.WindowManager.LayoutParams;
 import android.widget.Button;
 
 import org.telegram.messenger.R;
 
-public class ColorSelectorDialog extends Dialog implements org.telegram.ui.Components.ColorPickerView.OnColorChangedListener, OnClickListener {
+//import android.view.View.OnClickListener;
+
+public class ColorSelectorDialog extends Dialog implements org.telegram.ui.Components.ColorPickerView.OnColorChangedListener, View.OnClickListener {//TODO Multi View or Dialog??
     public static final int BOTTOM = 1;
     public static final int CENTER = 0;
     public static final int LEFT = 4;
@@ -64,13 +65,16 @@ protected void onCreate(Bundle savedInstanceState) {
         } else if (this.side == 1) {
         }
         this.btnOld = (Button) findViewById(R.id.button_old);
-        this.btnOld.setOnClickListener(new OnClickListener() {
+        this.btnOld.setOnClickListener(new View.OnClickListener() {
+            @Override
             public void onClick(View v) {
                 ColorSelectorDialog.this.dismiss();
             }
         });
+        ColorSelectorDialog.this.dismiss();
+
         this.btnNew = (Button) findViewById(R.id.button_new);
-        this.btnNew.setOnClickListener(new OnClickListener() {
+        this.btnNew.setOnClickListener(new View.OnClickListener() {
             public void onClick(View v) {
                 if (ColorSelectorDialog.this.listener != null) {
                     ColorSelectorDialog.this.listener.colorChanged(ColorSelectorDialog.this.color);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/SeekBarPreference.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/SeekBarPreference.java
index 672134ace..7819f45b7 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/SeekBarPreference.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/SeekBarPreference.java
@@ -1,8 +1,7 @@
 package org.telegram.ui.Components;
 
-import android.annotation.SuppressLint;
 import android.content.Context;
-import android.content.SharedPreferences.Editor;
+import android.content.SharedPreferences;
 import android.content.res.TypedArray;
 import android.preference.Preference;
 import android.util.AttributeSet;
@@ -20,19 +19,26 @@
 import org.telegram.messenger.R;
 
 public class SeekBarPreference extends Preference implements OnSeekBarChangeListener {
-    private static final String ANDROIDNS = "http://schemas.android.com/apk/res/android";
-    private static final int DEFAULT_VALUE = 50;
-    private static final String ROBOBUNNYNS = "http://robobunny.com";
+
+    //private static final String THEME_PREFS = "theme";
+
     private final String TAG = getClass().getName();
-    private RelativeLayout layout = null;
+
+    private static final String ANDROIDNS="http://schemas.android.com/apk/res/android";
+    private static final String ROBOBUNNYNS="http://robobunny.com";
+    private static final int DEFAULT_VALUE = 50;
+
+    private int mMaxValue      = 100;
+    private int mMinValue      = 0;
+    private int mInterval      = 1;
     private int mCurrentValue;
-    private int mInterval = 1;
-    private int mMaxValue = 100;
-    private int mMinValue = 0;
+    private String mUnitsLeft  = "";
+    private String mUnitsRight = "";
     private SeekBar mSeekBar;
+
     private TextView mStatusText;
-    private String mUnitsLeft = "";
-    private String mUnitsRight = "";
+
+    private RelativeLayout layout =  null;
 
     public SeekBarPreference(Context context, AttributeSet attrs) {
         super(context, attrs);
@@ -46,156 +52,213 @@ public SeekBarPreference(Context context, AttributeSet attrs, int defStyle) {
 
     private void initPreference(Context context, AttributeSet attrs) {
         setValuesFromXml(attrs);
-        this.mSeekBar = new SeekBar(context, attrs);
-        this.mSeekBar.setMax(this.mMaxValue - this.mMinValue);
-        this.mSeekBar.setOnSeekBarChangeListener(this);
+        mSeekBar = new SeekBar(context, attrs);
+        mSeekBar.setMax(mMaxValue - mMinValue);
+        mSeekBar.setOnSeekBarChangeListener(this);
     }
 
     private void setValuesFromXml(AttributeSet attrs) {
-        this.mMaxValue = attrs.getAttributeIntValue(ANDROIDNS, "max", 100);
-        this.mMinValue = attrs.getAttributeIntValue(ROBOBUNNYNS, "min", 0);
-        this.mUnitsLeft = getAttributeStringValue(attrs, ROBOBUNNYNS, "unitsLeft", "");
-        this.mUnitsRight = getAttributeStringValue(attrs, ROBOBUNNYNS, "unitsRight", getAttributeStringValue(attrs, ROBOBUNNYNS, "units", ""));
+        mMaxValue = attrs.getAttributeIntValue(ANDROIDNS, "max", 100);
+        mMinValue = attrs.getAttributeIntValue(ROBOBUNNYNS, "min", 0);
+
+        mUnitsLeft = getAttributeStringValue(attrs, ROBOBUNNYNS, "unitsLeft", "");
+        String units = getAttributeStringValue(attrs, ROBOBUNNYNS, "units", "");
+        mUnitsRight = getAttributeStringValue(attrs, ROBOBUNNYNS, "unitsRight", units);
+
         try {
             String newInterval = attrs.getAttributeValue(ROBOBUNNYNS, "interval");
-            if (newInterval != null) {
-                this.mInterval = Integer.parseInt(newInterval);
-            }
-        } catch (Exception e) {
-            Log.e(this.TAG, "Invalid interval value", e);
+            if(newInterval != null)
+                mInterval = Integer.parseInt(newInterval);
+        }
+        catch(Exception e) {
+            Log.e(TAG, "Invalid interval value", e);
         }
+
     }
 
     private String getAttributeStringValue(AttributeSet attrs, String namespace, String name, String defaultValue) {
         String value = attrs.getAttributeValue(namespace, name);
-        if (value == null) {
-            return defaultValue;
-        }
+        if(value == null)
+            value = defaultValue;
+
         return value;
     }
 
-    @SuppressLint("MissingSuperCall")
-    protected View onCreateView(ViewGroup parent) {
+    @Override
+    protected View onCreateView(ViewGroup parent){
+        super.onCreateView(parent);
         try {
-            this.layout = (RelativeLayout) ((LayoutInflater) getContext().getSystemService("layout_inflater")).inflate(R.layout.seek_bar_preference, parent, false);
-        } catch (Exception e) {
-            Log.e(this.TAG, "Error creating seek bar preference", e);
+            LayoutInflater mInflater = (LayoutInflater) getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
+
+            layout = (RelativeLayout)mInflater.inflate(R.layout.seek_bar_preference, parent, false);
         }
-        return this.layout;
+        catch(Exception e)
+        {
+            Log.e(TAG, "Error creating seek bar preference", e);
+        }
+
+        return layout;
+
     }
 
+    @Override
     public void onBindView(View view) {
-        try {
+        try{
             super.onBindView(view);
-            try {
-                ViewParent oldContainer = this.mSeekBar.getParent();
-                ViewParent newContainer = (ViewGroup) view.findViewById(R.id.seekBarPrefBarContainer);
+
+            try
+            {
+                // move our seekbar to the new view we've been given
+                ViewParent oldContainer = mSeekBar.getParent();
+                ViewGroup newContainer = (ViewGroup) view.findViewById(R.id.seekBarPrefBarContainer);
+
                 if (oldContainer != newContainer) {
+                    // remove the seekbar from the old view
                     if (oldContainer != null) {
-                        ((ViewGroup) oldContainer).removeView(this.mSeekBar);
+                        ((ViewGroup) oldContainer).removeView(mSeekBar);
                     }
+                    // remove the existing seekbar (there may not be one) and add ours
                     newContainer.removeAllViews();
-                    newContainer.addView(this.mSeekBar, -1, -2);
+	            /*
+	            newContainer.addView(mSeekBar, ViewGroup.LayoutParams.FILL_PARENT,
+	                    ViewGroup.LayoutParams.WRAP_CONTENT);*/
+                    newContainer.addView(mSeekBar, ViewGroup.LayoutParams.MATCH_PARENT,
+                            ViewGroup.LayoutParams.WRAP_CONTENT);
                 }
-            } catch (Exception ex) {
-                Log.e(this.TAG, "Error binding view: " + ex.toString());
             }
-            if (!(this.layout.isEnabled() || this.layout == null)) {
+
+            catch(Exception ex) {
+                Log.e(TAG, "Error binding view: " + ex.toString());
+            }
+
+            if(!this.layout.isEnabled() && this.layout != null){
                 this.mSeekBar.setEnabled(false);
             }
+
             updateView(view);
-        } catch (NullPointerException e) {
+        }catch(NullPointerException ex) {
+            return;
         }
     }
 
+
+    /**
+     * Update a SeekBarPreference view with our current state
+     * @param view
+     */
     protected void updateView(View view) {
+
         try {
-            RelativeLayout layout = (RelativeLayout) view;
-            this.mStatusText = (TextView) layout.findViewById(R.id.seekBarPrefValue);
-            this.mStatusText.setText(String.valueOf(this.mCurrentValue));
-            this.mStatusText.setMinimumWidth(30);
-            this.mSeekBar.setProgress(this.mCurrentValue - this.mMinValue);
-            ((TextView) layout.findViewById(R.id.seekBarPrefUnitsRight)).setText(this.mUnitsRight);
-            ((TextView) layout.findViewById(R.id.seekBarPrefUnitsLeft)).setText(this.mUnitsLeft);
-        } catch (Exception e) {
-            Log.e(this.TAG, "Error updating seek bar preference", e);
+            RelativeLayout layout = (RelativeLayout)view;
+
+            mStatusText = (TextView)layout.findViewById(R.id.seekBarPrefValue);
+            mStatusText.setText(String.valueOf(mCurrentValue));
+            mStatusText.setMinimumWidth(30);
+
+            mSeekBar.setProgress(mCurrentValue - mMinValue);
+
+            TextView unitsRight = (TextView)layout.findViewById(R.id.seekBarPrefUnitsRight);
+            unitsRight.setText(mUnitsRight);
+
+            TextView unitsLeft = (TextView)layout.findViewById(R.id.seekBarPrefUnitsLeft);
+            unitsLeft.setText(mUnitsLeft);
+
         }
+        catch(Exception e) {
+            Log.e(TAG, "Error updating seek bar preference", e);
+        }
+
     }
 
+    @Override
     public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {
-        try {
-            int newValue = progress + this.mMinValue;
-            if (newValue > this.mMaxValue) {
-                newValue = this.mMaxValue;
-            } else if (newValue < this.mMinValue) {
-                newValue = this.mMinValue;
-            } else if (!(this.mInterval == 1 || newValue % this.mInterval == 0)) {
-                newValue = Math.round(((float) newValue) / ((float) this.mInterval)) * this.mInterval;
-            }
-            if (callChangeListener(Integer.valueOf(newValue))) {
-                this.mCurrentValue = newValue;
-                this.mStatusText.setText(String.valueOf(newValue));
-                persistInt(newValue);
+        try{
+            int newValue = progress + mMinValue;
+
+            if(newValue > mMaxValue)
+                newValue = mMaxValue;
+            else if(newValue < mMinValue)
+                newValue = mMinValue;
+            else if(mInterval != 1 && newValue % mInterval != 0)
+                newValue = Math.round(((float) newValue) / mInterval)*mInterval;
+
+            // change rejected, revert to the previous value
+            if(!callChangeListener(newValue)){
+                seekBar.setProgress(mCurrentValue - mMinValue);
                 return;
             }
-            seekBar.setProgress(this.mCurrentValue - this.mMinValue);
-        } catch (NullPointerException e) {
+
+            // change accepted, store it
+            mCurrentValue = newValue;
+            mStatusText.setText(String.valueOf(newValue));
+            persistInt(newValue);
+        }catch(NullPointerException ex) {
+            return;
         }
     }
 
+    ///Added by Sergio 04/12/2012
+    @Override
     public void setEnabled(boolean enabled) {
         super.setEnabled(enabled);
-        this.mSeekBar.setEnabled(enabled);
+        mSeekBar.setEnabled(enabled);
     }
-
-    public void onDependencyChanged(Preference dependency, boolean disableDependent) {
-        boolean z = true;
+    @Override
+    public void onDependencyChanged(Preference dependency, boolean disableDependent)
+    {
         super.onDependencyChanged(dependency, disableDependent);
-        if (this.layout != null) {
-            boolean z2;
-            SeekBar seekBar = this.mSeekBar;
-            if (disableDependent) {
-                z2 = false;
-            } else {
-                z2 = true;
-            }
-            seekBar.setEnabled(z2);
-            TextView textView = this.mStatusText;
-            if (disableDependent) {
-                z = false;
-            }
-            textView.setEnabled(z);
+
+        // /see if it has been initialized
+        if (this.layout != null)
+        {
+            this.mSeekBar.setEnabled(!disableDependent);
+            this.mStatusText.setEnabled(!disableDependent);
         }
     }
+    ///
 
-    public void onStartTrackingTouch(SeekBar seekBar) {
-    }
+    @Override
+    public void onStartTrackingTouch(SeekBar seekBar) {}
 
+    @Override
     public void onStopTrackingTouch(SeekBar seekBar) {
         notifyChanged();
-        if (this.mUnitsRight.contains("r") || this.mUnitsRight.contains("Mb")) {
-            Editor e = this.mSeekBar.getContext().getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
-            e.putBoolean("need_reboot", true);
+        if(mUnitsRight.contains("r") || mUnitsRight.contains("Mb")){
+            SharedPreferences sharedPref = mSeekBar.getContext().getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
+            SharedPreferences.Editor e = sharedPref.edit();
+            e.putBoolean("need_reboot",true);
             e.commit();
         }
     }
 
-    protected Object onGetDefaultValue(TypedArray ta, int index) {
-        return Integer.valueOf(ta.getInt(index, 50));
+
+    @Override
+    protected Object onGetDefaultValue(TypedArray ta, int index){
+
+        int defaultValue = ta.getInt(index, DEFAULT_VALUE);
+        return defaultValue;
+
     }
 
+    @Override
     protected void onSetInitialValue(boolean restoreValue, Object defaultValue) {
-        if (restoreValue) {
-            this.mCurrentValue = getPersistedInt(this.mCurrentValue);
-            return;
+
+        if(restoreValue) {
+            mCurrentValue = getPersistedInt(mCurrentValue);
         }
-        int temp = 0;
-        try {
-            temp = ((Integer) defaultValue).intValue();
-        } catch (Exception e) {
-            Log.e(this.TAG, "Invalid default value: " + defaultValue.toString());
+        else {
+            int temp = 0;
+            try {
+                temp = (Integer)defaultValue;
+            }
+            catch(Exception ex) {
+                Log.e(TAG, "Invalid default value: " + defaultValue.toString());
+            }
+
+            persistInt(temp);
+            mCurrentValue = temp;
         }
-        persistInt(temp);
-        this.mCurrentValue = temp;
+
     }
-}
+
+}
\ No newline at end of file
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/DialogsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/DialogsActivity.java
index 24b355381..8fe072d8c 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/DialogsActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/DialogsActivity.java
@@ -26,7 +26,6 @@
 import android.graphics.drawable.Drawable;
 import android.os.Build;
 import android.os.Bundle;
-import android.util.DisplayMetrics;
 import android.util.TypedValue;
 import android.view.Gravity;
 import android.view.MotionEvent;
@@ -40,42 +39,33 @@
 import android.widget.LinearLayout;
 import android.widget.TextView;
 
-import com.google.android.gms.maps.model.BitmapDescriptorFactory;
-
 import org.telegram.messenger.AndroidUtilities;
 import org.telegram.messenger.ApplicationLoader;
 import org.telegram.messenger.BuildVars;
 import org.telegram.messenger.ChangeUserHelper;
 import org.telegram.messenger.ChatObject;
-import org.telegram.messenger.ContactsController;
 import org.telegram.messenger.DialogObject;
-import org.telegram.messenger.FileLog;
 import org.telegram.messenger.ImageLoader;
 import org.telegram.messenger.LocaleController;
 import org.telegram.messenger.MessageObject;
-import org.telegram.messenger.MessagesController;
-import org.telegram.messenger.MessagesStorage;
-import org.telegram.messenger.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.messenger.UserConfig;
 import org.telegram.messenger.UserObject;
 import org.telegram.messenger.query.SearchQuery;
 import org.telegram.messenger.query.StickersQuery;
 import org.telegram.messenger.support.widget.LinearLayoutManager;
 import org.telegram.messenger.support.widget.RecyclerView;
+import org.telegram.messenger.FileLog;
 import org.telegram.tgnet.TLRPC;
-import org.telegram.ui.ActionBar.ActionBar;
-import org.telegram.ui.ActionBar.ActionBarMenu;
-import org.telegram.ui.ActionBar.ActionBarMenuItem;
+import org.telegram.messenger.ContactsController;
+import org.telegram.messenger.MessagesController;
+import org.telegram.messenger.MessagesStorage;
+import org.telegram.messenger.NotificationCenter;
+import org.telegram.messenger.R;
+import org.telegram.messenger.UserConfig;
 import org.telegram.ui.ActionBar.AlertDialog;
-import org.telegram.ui.ActionBar.BaseFragment;
 import org.telegram.ui.ActionBar.BottomSheet;
-import org.telegram.ui.ActionBar.MenuDrawable;
-import org.telegram.ui.ActionBar.Theme;
 import org.telegram.ui.ActionBar.ThemeDescription;
 import org.telegram.ui.Adapters.DialogsAdapter;
 import org.telegram.ui.Adapters.DialogsSearchAdapter;
-import org.telegram.ui.Cells.DialogCell;
 import org.telegram.ui.Cells.DividerCell;
 import org.telegram.ui.Cells.DrawerActionCell;
 import org.telegram.ui.Cells.DrawerProfileCell;
@@ -85,19 +75,24 @@
 import org.telegram.ui.Cells.LoadingCell;
 import org.telegram.ui.Cells.ProfileSearchCell;
 import org.telegram.ui.Cells.UserCell;
-import org.telegram.ui.Components.BackupImageView;
+import org.telegram.ui.Cells.DialogCell;
+import org.telegram.ui.ActionBar.ActionBar;
+import org.telegram.ui.ActionBar.ActionBarMenu;
+import org.telegram.ui.ActionBar.ActionBarMenuItem;
+import org.telegram.ui.ActionBar.BaseFragment;
+import org.telegram.ui.ActionBar.MenuDrawable;
 import org.telegram.ui.Components.CombinedDrawable;
-import org.telegram.ui.Components.EmptyTextProgressView;
 import org.telegram.ui.Components.FragmentContextView;
+import org.telegram.ui.Components.EmptyTextProgressView;
 import org.telegram.ui.Components.LayoutHelper;
 import org.telegram.ui.Components.RadialProgressView;
 import org.telegram.ui.Components.RecyclerListView;
-import org.telegram.ui.Components.TabsView;
+import org.telegram.ui.ActionBar.Theme;
 
 import java.util.ArrayList;
 
 public class DialogsActivity extends BaseFragment implements NotificationCenter.NotificationCenterDelegate {
-    
+
     private RecyclerListView listView;
     private LinearLayoutManager layoutManager;
     private DialogsAdapter dialogsAdapter;
@@ -127,53 +122,7 @@
     private String selectAlertStringGroup;
     private String addToGroupAlertString;
     private int dialogsType;
-    private BackupImageView avatarImage;
-    private int chat_id = 0;
-    private TabsView newTabsView;
-    private DialogsOnTouch onTouchListener = null; //TODO Multi
-
-    private class DialogsOnTouch implements View.OnTouchListener {
-        private boolean changed;
-        private DisplayMetrics displayMetrics;
-        private float touchPosition;
-        private float vDPI;
-
-        private DialogsOnTouch(Context context) {
-            this.displayMetrics = context.getResources().getDisplayMetrics();
-            this.vDPI = this.displayMetrics.xdpi / 160.0f;
-        }
 
-        public boolean onTouch(View view, MotionEvent event) {
-            DialogsActivity.this.touchPositionDP = (float) Math.round(event.getX() / this.vDPI);
-            if (Theme.plusHideTabs || DialogsActivity.this.searching || Theme.plusDisableTabsScrolling) {
-                return false;
-            }
-            if (DialogsActivity.this.newTabsView != null) {
-                DialogsActivity.this.newTabsView.getPager().onTouchEvent(event);
-            }
-            switch (event.getAction()) {
-                case 0:
-                    this.touchPosition = (float) Math.round(event.getX() / this.vDPI);
-                    if (this.touchPosition > 50.0f) {
-                        DialogsActivity.this.parentLayout.getDrawerLayoutContainer().setAllowOpenDrawer(false, false);
-                        this.changed = true;
-                    }
-                    return view instanceof LinearLayout;
-                case 1:
-                    if (this.changed) {
-                        DialogsActivity.this.parentLayout.getDrawerLayoutContainer().setAllowOpenDrawer(true, false);
-                    }
-                    this.changed = false;
-                    return false;
-                default:
-                    return false;
-            }
-        }
-    }
-    private boolean tabsHidden;
-    private float touchPositionDP;
-    private boolean updateTabCounters = false;
-    private int user_id = 0;
     public static boolean dialogsLoaded;
     private boolean searching;
     private boolean searchWas;
@@ -237,14 +186,10 @@ public boolean onFragmentCreate() {
             NotificationCenter.getInstance().addObserver(this, NotificationCenter.needReloadRecentDialogsSearch);
             NotificationCenter.getInstance().addObserver(this, NotificationCenter.didLoadedReplyMessages);
             NotificationCenter.getInstance().addObserver(this, NotificationCenter.reloadHints);
-            NotificationCenter.getInstance().addObserver(this, NotificationCenter.refreshTabs);
-            NotificationCenter.getInstance().addObserver(this, NotificationCenter.updateDialogsTheme);
-
         }
 
 
         if (!dialogsLoaded) {
-            MessagesController.getInstance().loadDialogs(0, Theme.plusChatsToLoad, true);
             MessagesController.getInstance().loadDialogs(0, 100, true);
             ContactsController.getInstance().checkInviteText();
             MessagesController.getInstance().loadPinnedDialogs(0, null);
@@ -273,21 +218,10 @@ public void onFragmentDestroy() {
             NotificationCenter.getInstance().removeObserver(this, NotificationCenter.needReloadRecentDialogsSearch);
             NotificationCenter.getInstance().removeObserver(this, NotificationCenter.didLoadedReplyMessages);
             NotificationCenter.getInstance().removeObserver(this, NotificationCenter.reloadHints);
-            NotificationCenter.getInstance().removeObserver(this, NotificationCenter.refreshTabs);
-            NotificationCenter.getInstance().removeObserver(this, NotificationCenter.updateDialogsTheme);
-
         }
         delegate = null;
     }
 
-    void resetViews() {
-        PhotoViewer.getInstance().destroyPhotoViewer();
-        SecretPhotoViewer.getInstance().destroyPhotoViewer();
-        if (this.avatarImage != null) {
-            this.avatarImage = null;
-        }
-    }
-
     @Override
     public View createView(final Context context) {
         searching = false;
@@ -299,30 +233,15 @@ public void run() {
                 Theme.createChatResources(context, false);
             }
         });
-        int tColor = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).getInt(Theme.pkey_chatsHeaderTitleColor, -1);
-        if (Theme.usePlusTheme) {
-            this.avatarImage = new BackupImageView(context);
-            this.avatarImage.setRoundRadius(AndroidUtilities.dp(BitmapDescriptorFactory.HUE_ORANGE));
-        }
+
         ActionBarMenu menu = actionBar.createMenu();
         if (!onlySelect && searchString == null) {
             passcodeItem = menu.addItem(1, R.drawable.lock_close);
-            this.passcodeItem.setOnLongClickListener(new View.OnLongClickListener() {
-                public boolean onLongClick(View view) {
-                    if (UserConfig.passcodeHash.length() > 0) {
-                        DialogsActivity.this.presentFragment(new PasscodeActivity(2));
-                    } else {
-                        DialogsActivity.this.presentFragment(new PasscodeActivity(0));
-                    }
-                    return true;
-                }
-            });
             updatePasscodeButton();
         }
         final ActionBarMenuItem item = menu.addItem(0, R.drawable.ic_ab_search).setIsSearchField(true).setActionBarMenuItemSearchListener(new ActionBarMenuItem.ActionBarMenuItemSearchListener() {
             @Override
             public void onSearchExpand() {
-                DialogsActivity.this.refreshTabAndListViews(true);
                 searching = true;
                 if (listView != null) {
                     if (searchString != null) {
@@ -348,7 +267,6 @@ public boolean canCollapseSearch() {
 
             @Override
             public void onSearchCollapse() {
-                DialogsActivity.this.refreshTabAndListViews(false);
                 searching = false;
                 searchWas = false;
                 if (listView != null) {
@@ -363,7 +281,6 @@ public void onSearchCollapse() {
                     if (!onlySelect) {
                         floatingButton.setVisibility(View.VISIBLE);
                         floatingHidden = true;
-                        DialogsActivity.this.floatingButton.setTranslationY((float) AndroidUtilities.dp(Theme.plusTabsToBottom ? 150.0f : 100.0f));
                         floatingButton.setTranslationY(AndroidUtilities.dp(100));
                         hideFloatingButton(false);
                     }
@@ -412,16 +329,11 @@ public void onTextChanged(EditText editText) {
             if (BuildVars.DEBUG_VERSION) {
                 actionBar.setTitle(LocaleController.getString("AppNameBeta", R.string.AppNameBeta));
             } else {
-//                actionBar.setTitle(LocaleController.getString("AppName", R.string.AppName));
-                this.actionBar.setTitle(Theme.plusDoNotChangeHeaderTitle ? getHeaderTitle() : getTitle(this.dialogsType, false));
+                actionBar.setTitle(LocaleController.getString("AppName", R.string.AppName));
             }
         }
         actionBar.setAllowOverlayTitle(true);
-        boolean z = Theme.usePlusTheme ? !Theme.chatsHideHeaderShadow : Theme.plusHideTabs;
-        actionBar.setCastShadows(z);
-        if (Theme.usePlusTheme) {
-            this.actionBar.setItemsColor(Theme.chatsHeaderIconsColor, false);
-        }
+
         actionBar.setActionBarMenuOnItemClick(new ActionBar.ActionBarMenuOnItemClick() {
             @Override
             public void onItemClick(int id) {
@@ -447,7 +359,7 @@ public void onItemClick(int id) {
 
         FrameLayout frameLayout = new FrameLayout(context);
         fragmentView = frameLayout;
-        
+
         listView = new RecyclerListView(context);
         listView.setVerticalScrollBarEnabled(true);
         listView.setItemAnimator(null);
@@ -464,8 +376,6 @@ public boolean supportsPredictiveItemAnimations() {
         listView.setLayoutManager(layoutManager);
         listView.setVerticalScrollbarPosition(LocaleController.isRTL ? RecyclerListView.SCROLLBAR_POSITION_LEFT : RecyclerListView.SCROLLBAR_POSITION_RIGHT);
         frameLayout.addView(listView, LayoutHelper.createFrame(LayoutHelper.MATCH_PARENT, LayoutHelper.MATCH_PARENT));
-        this.onTouchListener = new DialogsOnTouch(context);
-        this.listView.setOnTouchListener(this.onTouchListener);
         listView.setOnItemClickListener(new RecyclerListView.OnItemClickListener() {
             @Override
             public void onItemClick(View view, int position) {
@@ -566,7 +476,7 @@ public void onItemClick(View view, int position) {
                             return;
                         }
                         if (dialogsAdapter != null) {
-                            dialogsAdapter.setOpenedDialogId(openedDialogId = dialog_id); //TODO Multi?
+                            dialogsAdapter.setOpenedDialogId(openedDialogId = dialog_id);
                             updateVisibleRows(MessagesController.UPDATE_MASK_SELECT_DIALOG);
                         }
                     }
@@ -1515,4 +1425,4 @@ public void didSetColor(int color) {
                 new ThemeDescription(null, 0, null, null, null, null, Theme.key_dialogGrayLine),
         };
     }
-}
+}
\ No newline at end of file
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ImageListActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ImageListActivity.java
new file mode 100644
index 000000000..6f1969d11
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ImageListActivity.java
@@ -0,0 +1,134 @@
+package org.telegram.ui;
+
+import android.content.Context;
+import android.content.SharedPreferences;
+import android.content.SharedPreferences.Editor;
+import android.graphics.Color;
+import android.graphics.PorterDuff.Mode;
+import android.os.Bundle;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.AdapterView;
+import android.widget.AdapterView.OnItemClickListener;
+import android.widget.ArrayAdapter;
+import android.widget.ImageView;
+import android.widget.ListView;
+import android.widget.TextView;
+
+import org.telegram.messenger.AndroidUtilities;
+import org.telegram.messenger.ApplicationLoader;
+import org.telegram.messenger.LocaleController;
+import org.telegram.messenger.R;
+import org.telegram.ui.ActionBar.ActionBar;
+import org.telegram.ui.ActionBar.ActionBar.ActionBarMenuOnItemClick;
+import org.telegram.ui.ActionBar.BaseFragment;
+import org.telegram.ui.ActionBar.Theme;
+
+public class ImageListActivity extends BaseFragment {
+    private int arrayId;
+    private CustomListAdapter listAdapter;
+
+    private class CustomListAdapter extends ArrayAdapter<String> {
+        private final Integer[] imgid;
+        private final String[] itemname;
+        private final Context mContext;
+
+        public CustomListAdapter(Context context, String[] itemname, Integer[] imgid) {
+            super(context, R.layout.imagelist, itemname);
+            this.mContext = context;
+            this.itemname = itemname;
+            this.imgid = imgid;
+        }
+
+        public View getView(int position, View view, ViewGroup parent) {
+            LayoutInflater inflater = (LayoutInflater) this.mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
+            String name = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).getString(ImageListActivity.this.arrayId == 0 ? "chatBubbleStyle" : "chatCheckStyle", this.itemname[0]);
+            view = inflater.inflate(R.layout.imagelist, parent, false);
+            if (name.equals(this.itemname[position])) {
+                view.setBackgroundColor(Color.BLACK); //TODO Multi colors
+            } else {
+                view.setBackgroundColor(Color.BLACK);
+            }
+            ImageView inImageView = (ImageView) view.findViewById(R.id.bubble_in);
+            ImageView outImageView = (ImageView) view.findViewById(R.id.bubble_out);
+            ((TextView) view.findViewById(R.id.bubble_title)).setText(this.itemname[position]);
+            inImageView.setImageResource(this.imgid[position].intValue());
+            outImageView.setImageResource(this.imgid[this.itemname.length + position].intValue());
+            if (ImageListActivity.this.arrayId == 1) {
+                view.setPadding(50, 0, 0, 0);
+                inImageView.getLayoutParams().width = 70;
+                inImageView.setColorFilter(0, Mode.SRC_ATOP);
+                outImageView.getLayoutParams().width = 70;
+                outImageView.setColorFilter(0, Mode.SRC_ATOP);
+                inImageView.setColorFilter(Theme.chatChecksColor, Mode.SRC_IN);
+                outImageView.setColorFilter(Theme.chatChecksColor, Mode.SRC_IN);
+            } else {
+                inImageView.setColorFilter(Theme.chatLBubbleColor, Mode.SRC_IN);
+                outImageView.setColorFilter(Theme.chatRBubbleColor, Mode.SRC_IN);
+            }
+            return view;
+        }
+    }
+
+    public ImageListActivity(Bundle args) {
+        super(args);
+    }
+
+    public boolean onFragmentCreate() {
+        this.arrayId = this.arguments.getInt("array_id", 0);
+        if (this.arrayId != 0) {
+            super.onFragmentCreate();
+        } else {
+            super.onFragmentCreate();
+        }
+        return true;
+    }
+
+    public View createView(Context context) {
+        CharSequence string;
+        this.actionBar.setBackButtonImage(R.drawable.ic_ab_back);
+        this.actionBar.setAllowOverlayTitle(true);
+        ActionBar actionBar = this.actionBar;
+        if (this.arrayId == 0) {
+            string = LocaleController.getString("BubbleStyle", R.string.BubbleStyle);
+        } else {
+            string = LocaleController.getString("CheckStyle", R.string.CheckStyle);
+        }
+        actionBar.setTitle(string);
+        this.actionBar.setActionBarMenuOnItemClick(new ActionBarMenuOnItemClick() {
+            public void onItemClick(int id) {
+                if (id == -1) {
+                    ImageListActivity.this.finishFragment();
+                }
+            }
+        });
+        this.fragmentView = getParentActivity().getLayoutInflater().inflate(R.layout.imagelistlayout, null, false);
+        this.listAdapter = new CustomListAdapter(context, this.arrayId == 0 ? Theme.bubblesNamesArray : Theme.checksNamesArray, this.arrayId == 0 ? Theme.imgid : Theme.checkid);
+        ListView list = (ListView) this.fragmentView.findViewById(R.id.list);
+        list.setAdapter(this.listAdapter);
+        list.setDivider(null);
+        list.setOnItemClickListener(new OnItemClickListener() {
+            public void onItemClick(AdapterView<?> adapterView, View view, int position, long id) {
+                String selectedItem = ImageListActivity.this.arrayId == 0 ? Theme.bubblesNamesArray[position] : Theme.checksNamesArray[position];
+                SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0);
+                String key = ImageListActivity.this.arrayId == 0 ? "chatBubbleStyle" : "chatCheckStyle";
+                if (!preferences.getString(key, "").equals(selectedItem)) {
+                    Editor editor = preferences.edit();
+                    editor.putString(key, selectedItem);
+                    editor.apply();
+                    if (ImageListActivity.this.arrayId == 0) {
+                        Theme.setBubbles(ImageListActivity.this.getParentActivity());
+                    } else {
+                        Theme.setChecks(ImageListActivity.this.getParentActivity());
+                    }
+                    Theme.applyChatTheme(false);
+                    Theme.applyDialogsTheme();
+                }
+                ImageListActivity.this.listAdapter.notifyDataSetChanged();
+                ImageListActivity.this.finishFragment();
+            }
+        });
+        return this.fragmentView;
+    }
+}
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/IntroActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/IntroActivity.java
index dd95ec924..d980072c5 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/IntroActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/IntroActivity.java
@@ -33,7 +33,6 @@
 
 import org.telegram.messenger.AndroidUtilities;
 import org.telegram.messenger.BuildVars;
-import org.telegram.messenger.ChangeUserHelper;
 import org.telegram.messenger.LocaleController;
 import org.telegram.messenger.R;
 import org.telegram.tgnet.ConnectionsManager;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
index f8eb09e7b..ecafbcf7b 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
@@ -40,25 +40,26 @@
 import android.widget.RelativeLayout;
 import android.widget.Toast;
 
-import org.telegram.messenger.AndroidUtilities;
 import org.telegram.PhoneFormat.PhoneFormat;
+import org.telegram.messenger.AndroidUtilities;
+import org.telegram.messenger.ApplicationLoader;
 import org.telegram.messenger.BuildVars;
 import org.telegram.messenger.ChangeUserHelper;
 import org.telegram.messenger.ChatObject;
 import org.telegram.messenger.ContactsController;
+import org.telegram.messenger.FileLog;
 import org.telegram.messenger.ImageLoader;
+import org.telegram.messenger.LocaleController;
 import org.telegram.messenger.MessageObject;
 import org.telegram.messenger.MessagesController;
 import org.telegram.messenger.MessagesStorage;
 import org.telegram.messenger.NativeCrashManager;
+import org.telegram.messenger.NotificationCenter;
+import org.telegram.messenger.R;
 import org.telegram.messenger.SendMessagesHelper;
+import org.telegram.messenger.UserConfig;
 import org.telegram.messenger.UserObject;
 import org.telegram.messenger.Utilities;
-import org.telegram.messenger.ApplicationLoader;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.LocaleController;
-import org.telegram.messenger.NotificationCenter;
-import org.telegram.messenger.R;
 import org.telegram.messenger.browser.Browser;
 import org.telegram.messenger.query.DraftQuery;
 import org.telegram.messenger.support.widget.LinearLayoutManager;
@@ -66,19 +67,18 @@
 import org.telegram.tgnet.RequestDelegate;
 import org.telegram.tgnet.TLObject;
 import org.telegram.tgnet.TLRPC;
-import org.telegram.messenger.UserConfig;
-import org.telegram.ui.ActionBar.AlertDialog;
-import org.telegram.ui.Adapters.DrawerLayoutAdapter;
 import org.telegram.ui.ActionBar.ActionBarLayout;
+import org.telegram.ui.ActionBar.AlertDialog;
 import org.telegram.ui.ActionBar.BaseFragment;
 import org.telegram.ui.ActionBar.DrawerLayoutContainer;
+import org.telegram.ui.ActionBar.Theme;
+import org.telegram.ui.Adapters.DrawerLayoutAdapter;
 import org.telegram.ui.Components.EmbedBottomSheet;
 import org.telegram.ui.Components.JoinGroupAlert;
 import org.telegram.ui.Components.LayoutHelper;
 import org.telegram.ui.Components.PasscodeView;
 import org.telegram.ui.Components.RecyclerListView;
 import org.telegram.ui.Components.StickersAlert;
-import org.telegram.ui.ActionBar.Theme;
 import org.telegram.ui.Components.ThemeEditorView;
 
 import java.io.BufferedReader;
@@ -336,67 +336,102 @@ public void onItemClick(View view, int position) {
                 if (position == 0) {
                     Bundle args = new Bundle();
                     args.putInt("user_id", UserConfig.getClientUserId());
-                    presentFragment(new ChatActivity(args));
-                    drawerLayoutContainer.closeDrawer(false);
+                    LaunchActivity.this.presentFragment(new ChatActivity(args));
+                    LaunchActivity.this.drawerLayoutContainer.closeDrawer(false);
                 } else if (id == 2) {
-                    if (!MessagesController.isFeatureEnabled("chat_create", actionBarLayout.fragmentsStack.get(actionBarLayout.fragmentsStack.size() - 1))) {
-                        return;
+                    if (MessagesController.isFeatureEnabled("chat_create", (BaseFragment) LaunchActivity.this.actionBarLayout.fragmentsStack.get(LaunchActivity.this.actionBarLayout.fragmentsStack.size() - 1))) {
+                        LaunchActivity.this.presentFragment(new GroupCreateActivity());
+                        LaunchActivity.this.drawerLayoutContainer.closeDrawer(false);
                     }
-                    presentFragment(new GroupCreateActivity());
-                    drawerLayoutContainer.closeDrawer(false);
                 } else if (id == 3) {
                     Bundle args = new Bundle();
                     args.putBoolean("onlyUsers", true);
                     args.putBoolean("destroyAfterSelect", true);
                     args.putBoolean("createSecretChat", true);
                     args.putBoolean("allowBots", false);
-                    presentFragment(new ContactsActivity(args));
-                    drawerLayoutContainer.closeDrawer(false);
+                    LaunchActivity.this.presentFragment(new ContactsActivity(args));
+                    LaunchActivity.this.drawerLayoutContainer.closeDrawer(false);
                 } else if (id == 4) {
-                    if (!MessagesController.isFeatureEnabled("broadcast_create", actionBarLayout.fragmentsStack.get(actionBarLayout.fragmentsStack.size() - 1))) {
-                        return;
-                    }
-                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig"+ ChangeUserHelper.getUserTag(), Activity.MODE_PRIVATE);
-                    if (!BuildVars.DEBUG_VERSION && preferences.getBoolean("channel_intro", false)) {
-                        Bundle args = new Bundle();
-                        args.putInt("step", 0);
-                        presentFragment(new ChannelCreateActivity(args));
-                    } else {
-                        presentFragment(new ChannelIntroActivity());
-                        preferences.edit().putBoolean("channel_intro", true).commit();
+                    if (MessagesController.isFeatureEnabled("broadcast_create", (BaseFragment) LaunchActivity.this.actionBarLayout.fragmentsStack.get(LaunchActivity.this.actionBarLayout.fragmentsStack.size() - 1))) {
+                        SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", 0);
+                        if (BuildVars.DEBUG_VERSION || !preferences.getBoolean("channel_intro", false)) {
+                            LaunchActivity.this.presentFragment(new ChannelIntroActivity());
+                            preferences.edit().putBoolean("channel_intro", true).commit();
+                        } else {
+                            Bundle args = new Bundle();
+                            args.putInt("step", 0);
+                            LaunchActivity.this.presentFragment(new ChannelCreateActivity(args));
+                        }
+                        LaunchActivity.this.drawerLayoutContainer.closeDrawer(false);
                     }
-                    drawerLayoutContainer.closeDrawer(false);
                 } else if (id == 6) {
-                    presentFragment(new ContactsActivity(null));
-                    drawerLayoutContainer.closeDrawer(false);
-                } else if (id == 7) {
+                    LaunchActivity.this.presentFragment(new ContactsActivity(null));
+                    LaunchActivity.this.drawerLayoutContainer.closeDrawer(false);
+                } else if (id == 17) {
                     try {
-                        Intent intent = new Intent(Intent.ACTION_SEND);
+                        Intent intent = new Intent("android.intent.action.SEND");
                         intent.setType("text/plain");
-                        intent.putExtra(Intent.EXTRA_TEXT, ContactsController.getInstance().getInviteText());
-                        startActivityForResult(Intent.createChooser(intent, LocaleController.getString("InviteFriends", R.string.InviteFriends)), 500);
-                    } catch (Exception e) {
+                        intent.putExtra("android.intent.extra.TEXT", ContactsController.getInstance().getInviteText());
+                        LaunchActivity.this.startActivityForResult(Intent.createChooser(intent, LocaleController.getString("InviteFriends", R.string.InviteFriends)), 500);
+                    } catch (Throwable e) {
                         FileLog.e(e);
                     }
-                    drawerLayoutContainer.closeDrawer(false);
-                } else if (id == 8) {
-                    presentFragment(new SettingsActivity());
-                    drawerLayoutContainer.closeDrawer(false);
+                    LaunchActivity.this.drawerLayoutContainer.closeDrawer(false);
                 } else if (id == 9) {
+                    LaunchActivity.this.presentFragment(new SettingsActivity());
+                    LaunchActivity.this.drawerLayoutContainer.closeDrawer(false);
+                } else if (id == 16) {
                     Browser.openUrl(LaunchActivity.this, LocaleController.getString("TelegramFaqUrl", R.string.TelegramFaqUrl));
-                    drawerLayoutContainer.closeDrawer(false);
+                    LaunchActivity.this.drawerLayoutContainer.closeDrawer(false);
                 } else if (id == 10) {
-                    presentFragment(new CallLogActivity());
-                    drawerLayoutContainer.closeDrawer(false);
+                    LaunchActivity.this.presentFragment(new CallLogActivity());
+                    LaunchActivity.this.drawerLayoutContainer.closeDrawer(false);
+                } else if (id == 7) {
+                    try {
+                        String packageName = "es.rafalense.themes";
+                        Intent intent = LaunchActivity.this.getPackageManager().getLaunchIntentForPackage(packageName);
+                        if (intent == null) {
+                            intent = new Intent("android.intent.action.VIEW", Uri.parse("market://details?id=" + packageName));
+                        }
+                        LaunchActivity.this.startActivityForResult(intent, 503);
+                    } catch (Exception e2) {
+                        LaunchActivity.this.startActivityForResult(new Intent("android.intent.action.VIEW", Uri.parse("https://play.google.com/store/apps/details?id=es.rafalense.themes")), 503);
+                        FileLog.e("tmessages", e2);
+                    }
+                    LaunchActivity.this.drawerLayoutContainer.closeDrawer(false);
+                } else if (id == 8) {
+                    LaunchActivity.this.presentFragment(new ThemingActivity());
+                    LaunchActivity.this.drawerLayoutContainer.closeDrawer(false);
                 } else if (id == 11) {
-//                    presentFragment(new CallLogActivityTest());
-//                    drawerLayoutContainer.closeDrawer(false);
+                    LaunchActivity.this.presentFragment(new PlusSettingsActivity());
+                    LaunchActivity.this.drawerLayoutContainer.closeDrawer(false);
+                } else if (id == 12) {
+                    try {
+                        LaunchActivity.this.startActivityForResult(new Intent("android.intent.action.VIEW", Uri.parse(LocaleController.getString("ChannelLink", R.string.ChannelLink))), 504);
+                    } catch (Exception e22) {
+                        FileLog.e("tmessages", e22);
+                    }
+                    LaunchActivity.this.drawerLayoutContainer.closeDrawer(false);
+                } else if (id == 13) {
                     Intent changeUser = new Intent(getApplicationContext(), ChangeUserActivity.class);
                     ChangeUserActivity.showPrepareDialog(LaunchActivity.this, getText(R.string.ScanningProfiles).toString());
                     startActivity(changeUser);
+                } else if (id == 15) {
+                    try {
+                        LaunchActivity.this.startActivityForResult(new Intent("android.intent.action.VIEW", Uri.parse("https://play.google.com/store/apps/details?id=org.telegram.plus")), 502);
+                    } catch (Exception e2222) {
+                        FileLog.e("tmessages", e2222);
+                    }
+                    LaunchActivity.this.drawerLayoutContainer.closeDrawer(false);
+                } else if (id == 14) {
+                    LaunchActivity.this.presentFragment(new PlusChatsStatsActivity());
+                    LaunchActivity.this.drawerLayoutContainer.closeDrawer(false);
                 }
             }
         });
+//                    Intent changeUser = new Intent(getApplicationContext(), ChangeUserActivity.class);
+//                    ChangeUserActivity.showPrepareDialog(LaunchActivity.this, getText(R.string.ScanningProfiles).toString());
+//                    startActivity(changeUser);
 
         drawerLayoutContainer.setParentActionBarLayout(actionBarLayout);
         actionBarLayout.setDrawerLayoutContainer(drawerLayoutContainer);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PlusChatsStatsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/PlusChatsStatsActivity.java
new file mode 100644
index 000000000..51d1f6899
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telegram/ui/PlusChatsStatsActivity.java
@@ -0,0 +1,755 @@
+package org.telegram.ui;
+
+import android.app.AlertDialog.Builder;
+import android.app.ProgressDialog;
+import android.content.Context;
+import android.content.DialogInterface;
+import android.content.DialogInterface.OnCancelListener;
+import android.content.DialogInterface.OnClickListener;
+import android.content.SharedPreferences;
+import android.content.SharedPreferences.Editor;
+import android.content.res.Configuration;
+import android.graphics.PorterDuff.Mode;
+import android.graphics.drawable.Drawable;
+import android.os.Bundle;
+import android.text.Html;
+import android.view.View;
+import android.view.ViewGroup;
+import android.view.ViewTreeObserver.OnPreDrawListener;
+import android.widget.AdapterView;
+import android.widget.AdapterView.OnItemClickListener;
+import android.widget.BaseAdapter;
+import android.widget.FrameLayout;
+import android.widget.ListView;
+
+import org.telegram.messenger.AndroidUtilities;
+import org.telegram.messenger.ApplicationLoader;
+import org.telegram.messenger.ChatObject;
+import org.telegram.messenger.DialogObject;
+import org.telegram.messenger.FileLog;
+import org.telegram.messenger.LocaleController;
+import org.telegram.messenger.MessagesController;
+import org.telegram.messenger.NotificationCenter;
+import org.telegram.messenger.NotificationCenter.NotificationCenterDelegate;
+import org.telegram.messenger.R;
+import org.telegram.messenger.UserObject;
+import org.telegram.tgnet.TLRPC;
+import org.telegram.tgnet.TLRPC.Chat;
+import org.telegram.tgnet.TLRPC.EncryptedChat;
+import org.telegram.tgnet.TLRPC.TL_dialog;
+import org.telegram.tgnet.TLRPC.TL_encryptedChat;
+import org.telegram.tgnet.TLRPC.User;
+import org.telegram.ui.ActionBar.ActionBar.ActionBarMenuOnItemClick;
+import org.telegram.ui.ActionBar.BaseFragment;
+import org.telegram.ui.ActionBar.Theme;
+import org.telegram.ui.Cells.EmptyCell;
+import org.telegram.ui.Cells.HeaderCell;
+import org.telegram.ui.Cells.ShadowSectionCell;
+import org.telegram.ui.Cells.TextSettingsCell;
+import org.telegram.ui.Components.LayoutHelper;
+
+import java.text.SimpleDateFormat;
+import java.util.ArrayList;
+import java.util.Date;
+import java.util.List;
+import java.util.Locale;
+
+public class PlusChatsStatsActivity extends BaseFragment implements NotificationCenterDelegate, OnCancelListener {
+    private static boolean dialogsDidLoad;
+    private int adminChannelsCount;
+    private int adminChannelsRow;
+    private int adminGroupsCount;
+    private int adminGroupsRow;
+    private int adminHeaderDividerRow;
+    private int adminHeaderRow;
+    private int adminSuperGroupsCount;
+    private int adminSuperGroupsRow;
+    private List<Integer> arrayIds;
+    private List<CharSequence> arrayType;
+    private int botsCount;
+    private int channelsCount;
+    private int count;
+    private Runnable dismissProgressRunnable;
+    private int favsCount;
+    private int groupsCount;
+    private ListAdapter listAdapter;
+    private int loadChatQ = 100;
+    private int loadSize;
+    private ArrayList<TL_dialog> other = new ArrayList();
+    private int otherCount;
+    private int otherPosition;
+    private int ownChannelsCount;
+    private int ownChannelsRow;
+    private int ownGroupsCount;
+    private int ownGroupsRow;
+    private int ownHeaderDividerRow;
+    private int ownHeaderRow;
+    private int ownSuperGroupsCount;
+    private int ownSuperGroupsRow;
+    private ProgressDialog pDialog;
+    private boolean progressCancelled;
+    private int rowCount;
+    private int secretsCount;
+    private int superGroupsCount;
+    private int totalBotsRow;
+    private int totalChannelsRow;
+    private int totalChatsCount;
+    private int totalFavsRow;
+    private int totalGroupsRow;
+    private int totalHeaderRow;
+    private int totalOtherRow;
+    private int totalRow;
+    private int totalSecretsRow;
+    private int totalSuperGroupsRow;
+    private int totalUsersRow;
+    private int usersCount;
+
+    private class ListAdapter extends BaseAdapter {
+        private Context mContext;
+
+        public ListAdapter(Context context) {
+            this.mContext = context;
+        }
+
+        public boolean areAllItemsEnabled() {
+            return false;
+        }
+
+        public boolean isEnabled(int i) {
+            return i == PlusChatsStatsActivity.this.totalHeaderRow || i == PlusChatsStatsActivity.this.totalRow || i == PlusChatsStatsActivity.this.totalUsersRow || i == PlusChatsStatsActivity.this.totalSecretsRow || i == PlusChatsStatsActivity.this.totalGroupsRow || i == PlusChatsStatsActivity.this.totalSuperGroupsRow || i == PlusChatsStatsActivity.this.totalChannelsRow || i == PlusChatsStatsActivity.this.totalBotsRow || i == PlusChatsStatsActivity.this.totalOtherRow || i == PlusChatsStatsActivity.this.totalFavsRow || i == PlusChatsStatsActivity.this.ownHeaderDividerRow || i == PlusChatsStatsActivity.this.ownHeaderRow || i == PlusChatsStatsActivity.this.ownGroupsRow || i == PlusChatsStatsActivity.this.ownSuperGroupsRow || i == PlusChatsStatsActivity.this.ownChannelsRow || i == PlusChatsStatsActivity.this.adminHeaderDividerRow || i == PlusChatsStatsActivity.this.adminHeaderRow || i == PlusChatsStatsActivity.this.adminGroupsRow || i == PlusChatsStatsActivity.this.adminSuperGroupsRow || i == PlusChatsStatsActivity.this.adminChannelsRow;
+        }
+
+        public int getCount() {
+            return PlusChatsStatsActivity.this.rowCount;
+        }
+
+        public Object getItem(int i) {
+            return null;
+        }
+
+        public long getItemId(int i) {
+            return (long) i;
+        }
+
+        public boolean hasStableIds() {
+            return false;
+        }
+
+        public View getView(int i, View view, ViewGroup viewGroup) {
+            int type = getItemViewType(i);
+            if (type == 0) {
+                return view == null ? new ShadowSectionCell(this.mContext) : view;
+            } else {
+                View headerCell;
+                if (type == 1) {
+                    if (view == null) {
+                        headerCell = new HeaderCell(this.mContext);
+                    }
+                    ((HeaderCell) view).setTextSize(16);
+                    int k;
+                    if (i == PlusChatsStatsActivity.this.totalHeaderRow) {
+                        k = PlusChatsStatsActivity.this.totalChatsCount;
+                        ((HeaderCell) view).setText(LocaleController.getString("Total", R.string.Total) + (k == 0 ? "" : ": " + k) + (PlusChatsStatsActivity.this.progressCancelled ? " / " + LocaleController.getString("Cancelled", R.string.Cancelled) : ""));
+                        return view;
+                    } else if (i == PlusChatsStatsActivity.this.ownHeaderRow) {
+                        k = (PlusChatsStatsActivity.this.ownGroupsCount + PlusChatsStatsActivity.this.ownSuperGroupsCount) + PlusChatsStatsActivity.this.ownChannelsCount;
+                        ((HeaderCell) view).setText(LocaleController.getString("Created", R.string.Created) + (k == 0 ? "" : ": " + k));
+                        return view;
+                    } else if (i != PlusChatsStatsActivity.this.adminHeaderRow) {
+                        return view;
+                    } else {
+                        k = (PlusChatsStatsActivity.this.adminGroupsCount + PlusChatsStatsActivity.this.adminSuperGroupsCount) + PlusChatsStatsActivity.this.adminChannelsCount;
+                        ((HeaderCell) view).setText(LocaleController.getString("Administrator", R.string.Administrator) + (k == 0 ? "" : ": " + k));
+                        return view;
+                    }
+                } else if (type == 2) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("chatsstats", 0);
+                    if (view == null) {
+                        headerCell = new TextSettingsCell(this.mContext);
+                    }
+                    TextSettingsCell textCell = (TextSettingsCell) view;
+                    int counter = 0;
+                    String title = "";
+                    String key = "";
+                    boolean div = false;
+                    if (i == PlusChatsStatsActivity.this.totalRow) {
+                        counter = PlusChatsStatsActivity.this.totalChatsCount;
+                        key = "totalChatsCount";
+                        title = LocaleController.getString("Total", R.string.Total);
+                    } else if (i == PlusChatsStatsActivity.this.totalUsersRow) {
+                        counter = PlusChatsStatsActivity.this.usersCount;
+                        key = "usersCount";
+                        title = LocaleController.getString("Users", R.string.Users);
+                    } else if (i == PlusChatsStatsActivity.this.totalGroupsRow) {
+                        counter = PlusChatsStatsActivity.this.groupsCount;
+                        key = "groupsCount";
+                        title = LocaleController.getString("Groups", R.string.Groups);
+                    } else if (i == PlusChatsStatsActivity.this.totalSuperGroupsRow) {
+                        counter = PlusChatsStatsActivity.this.superGroupsCount;
+                        key = "superGroupsCount";
+                        title = LocaleController.getString("SuperGroups", R.string.SuperGroups);
+                    } else if (i == PlusChatsStatsActivity.this.totalChannelsRow) {
+                        counter = PlusChatsStatsActivity.this.channelsCount;
+                        key = "channelsCount";
+                        title = LocaleController.getString("Channels", R.string.Channels);
+                    } else if (i == PlusChatsStatsActivity.this.totalBotsRow) {
+                        counter = PlusChatsStatsActivity.this.botsCount;
+                        key = "botsCount";
+                        div = true;
+                        title = LocaleController.getString("Bots", R.string.Bots);
+                    } else if (i == PlusChatsStatsActivity.this.totalSecretsRow) {
+                        counter = PlusChatsStatsActivity.this.secretsCount;
+                        key = "secretsCount";
+                        title = LocaleController.getString("SecretChat", R.string.SecretChat);
+                    } else if (i == PlusChatsStatsActivity.this.totalOtherRow) {
+                        counter = PlusChatsStatsActivity.this.otherCount;
+                        key = "otherCount";
+                        title = LocaleController.getString("ReportChatOther", R.string.ReportChatOther);
+                    } else if (i == PlusChatsStatsActivity.this.totalFavsRow) {
+                        counter = PlusChatsStatsActivity.this.favsCount;
+                        key = "favsCount";
+                        title = LocaleController.getString("Favorites", R.string.Favorites);
+                    } else if (i == PlusChatsStatsActivity.this.ownGroupsRow) {
+                        counter = PlusChatsStatsActivity.this.ownGroupsCount;
+                        key = "ownGroupsCount";
+                        title = LocaleController.getString("Groups", R.string.Groups);
+                    } else if (i == PlusChatsStatsActivity.this.ownSuperGroupsRow) {
+                        counter = PlusChatsStatsActivity.this.ownSuperGroupsCount;
+                        key = "ownSuperGroupsCount";
+                        title = LocaleController.getString("SuperGroups", R.string.SuperGroups);
+                    } else if (i == PlusChatsStatsActivity.this.ownChannelsRow) {
+                        counter = PlusChatsStatsActivity.this.ownChannelsCount;
+                        key = "ownChannelsCount";
+                        title = LocaleController.getString("Channels", R.string.Channels);
+                    } else if (i == PlusChatsStatsActivity.this.adminGroupsRow) {
+                        counter = PlusChatsStatsActivity.this.adminGroupsCount;
+                        key = "adminGroupsCount";
+                        title = LocaleController.getString("Groups", R.string.Groups);
+                    } else if (i == PlusChatsStatsActivity.this.adminSuperGroupsRow) {
+                        counter = PlusChatsStatsActivity.this.adminSuperGroupsCount;
+                        key = "adminSuperGroupsCount";
+                        title = LocaleController.getString("SuperGroups", R.string.SuperGroups);
+                    } else if (i == PlusChatsStatsActivity.this.adminChannelsRow) {
+                        counter = PlusChatsStatsActivity.this.adminChannelsCount;
+                        key = "adminChannelsCount";
+                        title = LocaleController.getString("Channels", R.string.Channels);
+                    }
+                    if (title.isEmpty()) {
+                        return view;
+                    }
+                    String str;
+                    int c = 0;
+                    if (PlusChatsStatsActivity.this.totalChatsCount > 0) {
+                        c = counter - preferences.getInt(key, counter);
+                    }
+                    StringBuilder append = new StringBuilder().append(title);
+                    if (c != 0) {
+                        str = " (" + c + ")";
+                    } else {
+                        str = "";
+                    }
+                    textCell.setTextAndValue(append.append(str).toString(), String.format("%d", new Object[]{Integer.valueOf(counter)}), div);
+                    return view;
+                } else {
+                    if (view == null) {
+                        headerCell = new EmptyCell(this.mContext);
+                    }
+                    ((EmptyCell) view).setHeight(0);
+                    return view;
+                }
+            }
+        }
+
+        public int getItemViewType(int i) {
+            if (i == PlusChatsStatsActivity.this.totalHeaderRow || i == PlusChatsStatsActivity.this.ownHeaderRow || i == PlusChatsStatsActivity.this.adminHeaderRow) {
+                return 1;
+            }
+            if (i == PlusChatsStatsActivity.this.totalRow || i == PlusChatsStatsActivity.this.totalUsersRow || i == PlusChatsStatsActivity.this.totalSecretsRow || i == PlusChatsStatsActivity.this.totalGroupsRow || i == PlusChatsStatsActivity.this.totalSuperGroupsRow || i == PlusChatsStatsActivity.this.totalChannelsRow || i == PlusChatsStatsActivity.this.totalBotsRow || i == PlusChatsStatsActivity.this.totalOtherRow || i == PlusChatsStatsActivity.this.totalFavsRow || i == PlusChatsStatsActivity.this.ownGroupsRow || i == PlusChatsStatsActivity.this.ownSuperGroupsRow || i == PlusChatsStatsActivity.this.ownChannelsRow || i == PlusChatsStatsActivity.this.adminGroupsRow || i == PlusChatsStatsActivity.this.adminSuperGroupsRow || i == PlusChatsStatsActivity.this.adminChannelsRow) {
+                return 2;
+            }
+            if (i == PlusChatsStatsActivity.this.ownHeaderDividerRow || i == PlusChatsStatsActivity.this.adminHeaderDividerRow) {
+                return 0;
+            }
+            return -1;
+        }
+
+        public int getViewTypeCount() {
+            return 3;
+        }
+
+        public boolean isEmpty() {
+            return false;
+        }
+    }
+
+    public void didReceivedNotification(int id, Object... args) {
+        if (id != NotificationCenter.dialogsNeedReload) {
+            return;
+        }
+        if (MessagesController.getInstance().dialogs.isEmpty()) {
+            completeTask();
+        } else if (!MessagesController.getInstance().loadingDialogs) {
+            if (MessagesController.getInstance().dialogsEndReached || this.progressCancelled) {
+                completeTask();
+                return;
+            }
+            int size = MessagesController.getInstance().dialogs.size();
+            this.count = (int) (((double) this.loadChatQ) * Math.ceil((double) (size / this.loadChatQ)));
+            if (this.loadSize < size) {
+                this.loadSize = size;
+                CharSequence title = LocaleController.getString("Loading", R.string.Loading) + " " + this.count;
+                if (this.pDialog != null) {
+                    this.pDialog.setMessage(title);
+                }
+                MessagesController.getInstance().loadDialogs(-1, this.loadChatQ, true);
+                if (this.dismissProgressRunnable != null) {
+                    AndroidUtilities.cancelRunOnUIThread(this.dismissProgressRunnable);
+                }
+                Runnable anonymousClass1 = new Runnable() {
+                    public void run() {
+                        if (PlusChatsStatsActivity.this.dismissProgressRunnable == this) {
+                            PlusChatsStatsActivity.this.completeTask();
+                        }
+                    }
+                };
+                this.dismissProgressRunnable = anonymousClass1;
+                AndroidUtilities.runOnUIThread(anonymousClass1, 3000);
+            }
+        }
+    }
+
+    private void completeTask() {
+        dismissProgress();
+        loadAll();
+    }
+
+    private void dismissProgress() {
+        if (this.dismissProgressRunnable != null) {
+            this.dismissProgressRunnable = null;
+        }
+        if (this.pDialog != null) {
+            this.pDialog.dismiss();
+            this.pDialog = null;
+        }
+    }
+
+    private void loadAll() {
+        this.totalChatsCount = MessagesController.getInstance().dialogs.size();
+        this.usersCount = MessagesController.getInstance().dialogsUsers.size();
+        this.groupsCount = MessagesController.getInstance().dialogsGroups.size();
+        this.superGroupsCount = MessagesController.getInstance().dialogsMegaGroups.size();
+        this.channelsCount = MessagesController.getInstance().dialogsChannels.size();
+        this.botsCount = MessagesController.getInstance().dialogsBots.size();
+        this.favsCount = MessagesController.getInstance().dialogsFavs.size();
+        loadAdminChats();
+    }
+
+    private void loadAdminChats() {
+        AndroidUtilities.runOnUIThread(new Runnable() {
+            public void run() {
+                if (PlusChatsStatsActivity.this.loadSize <= PlusChatsStatsActivity.this.totalChatsCount) {
+                    PlusChatsStatsActivity.this.other.clear();
+                    MessagesController.getInstance().dialogsSecrets.clear();
+                    MessagesController.getInstance().dialogsOwnGroups.clear();
+                    MessagesController.getInstance().dialogsOwnSuperGroups.clear();
+                    MessagesController.getInstance().dialogsOwnChannels.clear();
+                    MessagesController.getInstance().dialogsAdminGroups.clear();
+                    MessagesController.getInstance().dialogsAdminSuperGroups.clear();
+                    MessagesController.getInstance().dialogsAdminChannels.clear();
+                    for (int a = 0; a < MessagesController.getInstance().dialogs.size(); a++) {
+                        TL_dialog d = (TL_dialog) MessagesController.getInstance().dialogs.get(a);
+                        int high_id = (int) (d.id >> 32);
+                        int lower_id = (int) d.id;
+                        if (lower_id == 0 || high_id == 1) {
+                            if (MessagesController.getInstance().getEncryptedChat(Integer.valueOf(high_id)) != null) {
+                                MessagesController.getInstance().dialogsSecrets.add(d);
+                            }
+                        } else if (DialogObject.isChannel(d)) {
+                            TLRPC.Chat chat = MessagesController.getInstance().getChat(Integer.valueOf(-lower_id));
+                            if (chat != null) {
+                                if (chat.megagroup) {
+                                    if (chat.creator) {
+                                        MessagesController.getInstance().dialogsOwnSuperGroups.add(d);
+                                    } else if (chat.editor) {
+                                        MessagesController.getInstance().dialogsAdminSuperGroups.add(d);
+                                    }
+                                } else if (chat.creator) {
+                                    MessagesController.getInstance().dialogsOwnChannels.add(d);
+                                } else if (chat.editor) {
+                                    MessagesController.getInstance().dialogsAdminChannels.add(d);
+                                }
+                            }
+                        } else if (lower_id < 0) {
+                            TLRPC.Chat chat = MessagesController.getInstance().getChat(Integer.valueOf(-lower_id));
+                            if (chat != null) {
+                                if (chat.creator) {
+                                    MessagesController.getInstance().dialogsOwnGroups.add(d);
+                                } else if (chat.admins_enabled && chat.admin) {
+                                    MessagesController.getInstance().dialogsAdminGroups.add(d);
+                                }
+                            }
+                        }
+                    }
+                }
+                PlusChatsStatsActivity.this.secretsCount = MessagesController.getInstance().dialogsSecrets.size();
+                PlusChatsStatsActivity.this.ownGroupsCount = MessagesController.getInstance().dialogsOwnGroups.size();
+                PlusChatsStatsActivity.this.ownSuperGroupsCount = MessagesController.getInstance().dialogsOwnSuperGroups.size();
+                PlusChatsStatsActivity.this.ownChannelsCount = MessagesController.getInstance().dialogsOwnChannels.size();
+                PlusChatsStatsActivity.this.adminGroupsCount = MessagesController.getInstance().dialogsAdminGroups.size();
+                PlusChatsStatsActivity.this.adminSuperGroupsCount = MessagesController.getInstance().dialogsAdminSuperGroups.size();
+                PlusChatsStatsActivity.this.adminChannelsCount = MessagesController.getInstance().dialogsAdminChannels.size();
+                PlusChatsStatsActivity.this.updateOther();
+                if (PlusChatsStatsActivity.this.listAdapter != null) {
+                    PlusChatsStatsActivity.this.listAdapter.notifyDataSetChanged();
+                }
+            }
+        });
+    }
+
+    private void updateCounters() {
+        Editor editor = ApplicationLoader.applicationContext.getSharedPreferences("chatsstats", 0).edit();
+        editor.putInt("totalChatsCount", this.totalChatsCount);
+        editor.putInt("usersCount", this.usersCount);
+        editor.putInt("groupsCount", this.groupsCount);
+        editor.putInt("superGroupsCount", this.superGroupsCount);
+        editor.putInt("channelsCount", this.channelsCount);
+        editor.putInt("botsCount", this.botsCount);
+        editor.putInt("favsCount", this.favsCount);
+        editor.putInt("secretsCount", this.secretsCount);
+        editor.putInt("ownGroupsCount", this.ownGroupsCount);
+        editor.putInt("ownSuperGroupsCount", this.ownSuperGroupsCount);
+        editor.putInt("ownChannelsCount", this.ownChannelsCount);
+        editor.putInt("adminGroupsCount", this.adminGroupsCount);
+        editor.putInt("adminSuperGroupsCount", this.adminSuperGroupsCount);
+        editor.putInt("adminChannelsCount", this.adminChannelsCount);
+        editor.putLong("time", System.currentTimeMillis());
+        editor.apply();
+    }
+
+    private void updateOther() {
+        this.other = new ArrayList(MessagesController.getInstance().dialogs);
+        this.other.removeAll(MessagesController.getInstance().dialogsUsers);
+        this.other.removeAll(MessagesController.getInstance().dialogsGroups);
+        this.other.removeAll(MessagesController.getInstance().dialogsMegaGroups);
+        this.other.removeAll(MessagesController.getInstance().dialogsChannels);
+        this.other.removeAll(MessagesController.getInstance().dialogsBots);
+        this.otherCount = this.other.size();
+        this.totalChatsCount = (((this.usersCount + this.groupsCount) + this.superGroupsCount) + this.channelsCount) + this.botsCount;
+        if (this.otherCount <= 0) {
+            this.totalOtherRow = -1;
+        } else {
+            this.totalOtherRow = this.otherPosition;
+        }
+    }
+
+    public boolean onFragmentCreate() {
+        super.onFragmentCreate();
+        NotificationCenter.getInstance().addObserver(this, NotificationCenter.dialogsNeedReload);
+        this.rowCount = 0;
+        int i = this.rowCount;
+        this.rowCount = i + 1;
+        this.totalHeaderRow = i;
+        this.totalRow = -1;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.totalUsersRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.totalGroupsRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.totalSuperGroupsRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.totalChannelsRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.totalBotsRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.totalSecretsRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.otherPosition = i;
+        this.totalOtherRow = -1;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.totalFavsRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.ownHeaderDividerRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.ownHeaderRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.ownGroupsRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.ownSuperGroupsRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.ownChannelsRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.adminHeaderDividerRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.adminHeaderRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.adminGroupsRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.adminSuperGroupsRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.adminChannelsRow = i;
+        return true;
+    }
+
+    public void onFragmentDestroy() {
+        super.onFragmentDestroy();
+        dismissProgress();
+        NotificationCenter.getInstance().removeObserver(this, NotificationCenter.dialogsNeedReload);
+        updateCounters();
+    }
+
+    public View createView(Context context) {
+        this.actionBar.setBackButtonImage(R.drawable.ic_ab_back);
+        if (AndroidUtilities.isTablet()) {
+            this.actionBar.setOccupyStatusBar(false);
+        }
+        this.actionBar.setTitle(LocaleController.getString("ChatsCounters", R.string.ChatsCounters));
+        long t = ApplicationLoader.applicationContext.getSharedPreferences("chatsstats", 0).getLong("time", -1);
+        if (t != -1) {
+            try {
+                this.actionBar.setSubtitle(Html.fromHtml("<small>" + LocaleController.getString("LastAccess", R.string.LastAccess) + " " + new SimpleDateFormat("HH:mm:ss dd-MM-yyyy", Locale.US).format(new Date(t)) + "</small>"));
+            } catch (Throwable e) {
+                FileLog.e(e);
+            }
+        }
+        this.actionBar.setActionBarMenuOnItemClick(new ActionBarMenuOnItemClick() {
+            public void onItemClick(int id) {
+                if (id == -1) {
+                    PlusChatsStatsActivity.this.finishFragment();
+                }
+            }
+        });
+        this.listAdapter = new ListAdapter(context);
+        this.fragmentView = new FrameLayout(context);
+        FrameLayout frameLayout = (FrameLayout) this.fragmentView;
+        ListView listView = new ListView(context);
+        if (Theme.usePlusTheme) {
+            listView.setBackgroundColor(Theme.prefBGColor);
+        }
+        listView.setDivider(null);
+        listView.setDividerHeight(0);
+        listView.setVerticalScrollBarEnabled(false);
+        listView.setAdapter(this.listAdapter);
+        frameLayout.addView(listView, LayoutHelper.createFrame(-1, -1, 51));
+        this.pDialog = new ProgressDialog(context);
+        this.pDialog.setCanceledOnTouchOutside(false);
+        this.pDialog.setCancelable(true);
+        this.pDialog.setOnCancelListener(this);
+        listView.setOnItemClickListener(new OnItemClickListener() {
+            public void onItemClick(AdapterView<?> adapterView, View view, int i, long l) {
+                if (PlusChatsStatsActivity.this.getParentActivity() != null) {
+                    if (i == PlusChatsStatsActivity.this.ownGroupsRow) {
+                        if (PlusChatsStatsActivity.this.ownGroupsCount > 0) {
+                            PlusChatsStatsActivity.this.showChats(LocaleController.getString("Groups", R.string.Groups), MessagesController.getInstance().dialogsOwnGroups);
+                        }
+                    } else if (i == PlusChatsStatsActivity.this.ownSuperGroupsRow) {
+                        if (PlusChatsStatsActivity.this.ownSuperGroupsCount > 0) {
+                            PlusChatsStatsActivity.this.showChats(LocaleController.getString("SuperGroups", R.string.SuperGroups), MessagesController.getInstance().dialogsOwnSuperGroups);
+                        }
+                    } else if (i == PlusChatsStatsActivity.this.ownChannelsRow) {
+                        if (PlusChatsStatsActivity.this.ownChannelsCount > 0) {
+                            PlusChatsStatsActivity.this.showChats(LocaleController.getString("Channels", R.string.Channels), MessagesController.getInstance().dialogsOwnChannels);
+                        }
+                    } else if (i == PlusChatsStatsActivity.this.adminGroupsRow) {
+                        if (PlusChatsStatsActivity.this.adminGroupsCount > 0) {
+                            PlusChatsStatsActivity.this.showChats(LocaleController.getString("Groups", R.string.Groups), MessagesController.getInstance().dialogsAdminGroups);
+                        }
+                    } else if (i == PlusChatsStatsActivity.this.adminSuperGroupsRow) {
+                        if (PlusChatsStatsActivity.this.adminSuperGroupsCount > 0) {
+                            PlusChatsStatsActivity.this.showChats(LocaleController.getString("SuperGroups", R.string.SuperGroups), MessagesController.getInstance().dialogsAdminSuperGroups);
+                        }
+                    } else if (i == PlusChatsStatsActivity.this.adminChannelsRow) {
+                        if (PlusChatsStatsActivity.this.adminChannelsCount > 0) {
+                            PlusChatsStatsActivity.this.showChats(LocaleController.getString("Channels", R.string.Channels), MessagesController.getInstance().dialogsAdminChannels);
+                        }
+                    } else if (i == PlusChatsStatsActivity.this.totalSecretsRow) {
+                        if (PlusChatsStatsActivity.this.secretsCount > 0) {
+                            PlusChatsStatsActivity.this.showSecrets(LocaleController.getString("SecretChat", R.string.SecretChat), MessagesController.getInstance().dialogsSecrets);
+                        }
+                    } else if (i == PlusChatsStatsActivity.this.totalOtherRow && PlusChatsStatsActivity.this.otherCount > 0) {
+                        PlusChatsStatsActivity.this.showOther(LocaleController.getString("ReportChatOther", R.string.ReportChatOther), PlusChatsStatsActivity.this.other);
+                    }
+                }
+            }
+        });
+        if (MessagesController.getInstance().dialogsEndReached || dialogsDidLoad) {
+            loadAll();
+        } else {
+            AndroidUtilities.runOnUIThread(new Runnable() {
+                public void run() {
+                    PlusChatsStatsActivity.this.pDialog.setMessage(LocaleController.getString("Loading", R.string.Loading));
+                    PlusChatsStatsActivity.this.pDialog.show();
+                    MessagesController.getInstance().loadDialogs(0, PlusChatsStatsActivity.this.loadChatQ, true);
+                    PlusChatsStatsActivity.dialogsDidLoad = true;
+                }
+            }, 200);
+        }
+        frameLayout.addView(this.actionBar);
+        return this.fragmentView;
+    }
+
+    public void onCancel(DialogInterface dialog) {
+        this.progressCancelled = true;
+        dismissProgress();
+        loadAll();
+    }
+
+    private void showChats(String title, ArrayList<TL_dialog> dlgs) {
+        Builder builder = new Builder(getParentActivity());
+        builder.setTitle(title);
+        List<CharSequence> array = new ArrayList();
+        this.arrayIds = new ArrayList();
+        for (int a = 0; a < dlgs.size(); a++) {
+            TL_dialog d = (TL_dialog) dlgs.get(a);
+            int high_id = (int) (d.id >> 32);
+            int lower_id = (int) d.id;
+            Chat chat = null;
+            boolean isPublic = false;
+            if (!(lower_id == 0 || high_id == 1)) {
+                chat = MessagesController.getInstance().getChat(Integer.valueOf(-lower_id));
+                isPublic = ChatObject.isChannel(chat) && chat.username != null && chat.username.length() > 0;
+            }
+            if (chat != null) {
+                StringBuilder append = new StringBuilder().append(chat.title);
+                String str = !ChatObject.isChannel(chat) ? "" : isPublic ? " (" + LocaleController.getString("ChannelTypePublic", R.string.ChannelTypePublic) + ")" : "";
+                array.add(append.append(str).toString());
+                this.arrayIds.add(Integer.valueOf(chat.id));
+            }
+        }
+        builder.setItems((CharSequence[]) array.toArray(new CharSequence[array.size()]), new OnClickListener() {
+            public void onClick(DialogInterface dialog, int which) {
+                int id = ((Integer) PlusChatsStatsActivity.this.arrayIds.get(which)).intValue();
+                Bundle args = new Bundle();
+                args.putInt("chat_id", id);
+                PlusChatsStatsActivity.this.presentFragment(new ChatActivity(args));
+            }
+        });
+        builder.setNegativeButton(LocaleController.getString("OK", R.string.OK), null);
+        showDialog(builder.create());
+    }
+
+    private void showSecrets(String title, ArrayList<TL_dialog> dlgs) {
+        Builder builder = new Builder(getParentActivity());
+        builder.setTitle(title);
+        List<CharSequence> array = new ArrayList();
+        this.arrayIds = new ArrayList();
+        for (int a = 0; a < dlgs.size(); a++) {
+            TL_dialog d = (TL_dialog) dlgs.get(a);
+            if (((int) d.id) == 0) {
+                int high_id = (int) (d.id >> 32);
+                EncryptedChat encryptedChat = MessagesController.getInstance().getEncryptedChat(Integer.valueOf(high_id));
+                if (encryptedChat != null) {
+                    User user = MessagesController.getInstance().getUser(Integer.valueOf(encryptedChat.user_id));
+                    if (user != null) {
+                        array.add(UserObject.getUserName(user) + (encryptedChat instanceof TL_encryptedChat ? "" : " (" + LocaleController.getString("Cancelled", R.string.Cancelled) + ")"));
+                        this.arrayIds.add(Integer.valueOf(high_id));
+                    }
+                }
+            }
+        }
+        builder.setItems((CharSequence[]) array.toArray(new CharSequence[array.size()]), new OnClickListener() {
+            public void onClick(DialogInterface dialog, int which) {
+                int id = ((Integer) PlusChatsStatsActivity.this.arrayIds.get(which)).intValue();
+                Bundle args = new Bundle();
+                args.putInt("enc_id", id);
+                PlusChatsStatsActivity.this.presentFragment(new ChatActivity(args));
+            }
+        });
+        builder.setNegativeButton(LocaleController.getString("OK", R.string.OK), null);
+        showDialog(builder.create());
+    }
+
+    private void showOther(String title, ArrayList<TL_dialog> dlgs) {
+        Builder builder = new Builder(getParentActivity());
+        builder.setTitle(title);
+        List<CharSequence> array = new ArrayList();
+        this.arrayIds = new ArrayList();
+        this.arrayType = new ArrayList();
+        for (int a = 0; a < dlgs.size(); a++) {
+            TL_dialog d = (TL_dialog) dlgs.get(a);
+            int high_id = (int) (d.id >> 32);
+            int lower_id = (int) d.id;
+            if (lower_id == 0 || high_id == 1) {
+                array.add(high_id + "");
+                this.arrayIds.add(Integer.valueOf(high_id));
+                this.arrayType.add("enc_id");
+            } else {
+                Object obj;
+                array.add(lower_id + "");
+                this.arrayIds.add(Integer.valueOf(lower_id));
+                List list = this.arrayType;
+                if (lower_id < 0) {
+                    obj = "chat_id";
+                } else {
+                    obj = "user_id";
+                }
+                list.add(obj);
+            }
+        }
+        builder.setItems((CharSequence[]) array.toArray(new CharSequence[array.size()]), new OnClickListener() {
+            public void onClick(DialogInterface dialog, int which) {
+                int id = ((Integer) PlusChatsStatsActivity.this.arrayIds.get(which)).intValue();
+                Bundle args = new Bundle();
+                args.putInt(((CharSequence) PlusChatsStatsActivity.this.arrayType.get(which)).toString(), id);
+                PlusChatsStatsActivity.this.presentFragment(new ChatActivity(args));
+            }
+        });
+        builder.setNegativeButton(LocaleController.getString("OK", R.string.OK), null);
+        showDialog(builder.create());
+    }
+
+    public void onResume() {
+        super.onResume();
+        if (this.listAdapter != null) {
+            this.listAdapter.notifyDataSetChanged();
+        }
+        if (Theme.usePlusTheme) {
+            updateTheme();
+        }
+        fixLayout();
+    }
+
+    private void updateTheme() {
+        this.actionBar.setBackgroundColor(Theme.prefActionbarColor);
+        this.actionBar.setTitleColor(Theme.prefActionbarTitleColor);
+        Drawable back = getParentActivity().getResources().getDrawable(R.drawable.ic_ab_back);
+        back.setColorFilter(Theme.prefActionbarIconsColor, Mode.MULTIPLY);
+        this.actionBar.setBackButtonDrawable(back);
+        getParentActivity().getResources().getDrawable(R.drawable.ic_ab_other).setColorFilter(Theme.prefActionbarIconsColor, Mode.MULTIPLY);
+    }
+
+    public void onConfigurationChanged(Configuration newConfig) {
+        super.onConfigurationChanged(newConfig);
+        fixLayout();
+    }
+
+    private void fixLayout() {
+        if (this.fragmentView != null) {
+            this.fragmentView.getViewTreeObserver().addOnPreDrawListener(new OnPreDrawListener() {
+                public boolean onPreDraw() {
+                    if (PlusChatsStatsActivity.this.fragmentView != null) {
+                        PlusChatsStatsActivity.this.fragmentView.getViewTreeObserver().removeOnPreDrawListener(this);
+                    }
+                    return true;
+                }
+            });
+        }
+    }
+}
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PlusManageTabsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/PlusManageTabsActivity.java
new file mode 100644
index 000000000..103b523c7
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telegram/ui/PlusManageTabsActivity.java
@@ -0,0 +1,498 @@
+package org.telegram.ui;
+
+import android.content.Context;
+import android.content.SharedPreferences;
+import android.content.SharedPreferences.Editor;
+import android.graphics.Bitmap;
+import android.graphics.Color;
+import android.graphics.PorterDuff.Mode;
+import android.graphics.drawable.BitmapDrawable;
+import android.graphics.drawable.Drawable;
+import android.text.TextUtils.TruncateAt;
+import android.view.View;
+import android.view.View.OnClickListener;
+import android.view.ViewGroup;
+import android.widget.FrameLayout;
+import android.widget.LinearLayout;
+import android.widget.TextView;
+
+import com.google.android.gms.maps.model.BitmapDescriptorFactory;
+
+import org.telegram.messenger.AndroidUtilities;
+import org.telegram.messenger.ApplicationLoader;
+import org.telegram.messenger.FileLog;
+import org.telegram.messenger.LocaleController;
+import org.telegram.messenger.NotificationCenter;
+import org.telegram.messenger.R;
+import org.telegram.messenger.support.widget.LinearLayoutManager;
+import org.telegram.messenger.support.widget.RecyclerView;
+import org.telegram.messenger.support.widget.RecyclerView.Adapter;
+import org.telegram.messenger.support.widget.RecyclerView.ViewHolder;
+import org.telegram.messenger.support.widget.helper.ItemTouchHelper;
+import org.telegram.messenger.support.widget.helper.ItemTouchHelper.Callback;
+import org.telegram.ui.ActionBar.ActionBar.ActionBarMenuOnItemClick;
+import org.telegram.ui.ActionBar.BaseFragment;
+import org.telegram.ui.ActionBar.Theme;
+import org.telegram.ui.Cells.TextInfoPrivacyCell;
+import org.telegram.ui.Components.CheckBoxSquare;
+import org.telegram.ui.Components.LayoutHelper;
+import org.telegram.ui.Components.RecyclerListView;
+
+import java.util.ArrayList;
+import java.util.Arrays;
+
+public class PlusManageTabsActivity extends BaseFragment {
+    private int color = Theme.prefTitleColor;
+    private int disabledColor = AndroidUtilities.getIntAlphaColor(this.color, 0.33f);
+    private RecyclerListAdapter listAdapter;
+    private RecyclerListView listView;
+    private boolean needReorder;
+    private int[] tabs = new int[]{0, 1, 2, 3, 4, 5, 6};
+    private ArrayList<Integer> tabsArray;
+    private ArrayList<Integer> tabs_list;
+    private int[] visible = new int[]{0, 0, 0, 0, 0, 0, 0};
+    private boolean visibleChanged;
+
+    private interface ItemTouchHelperAdapter {
+        void swapElements(int i, int i2);
+    }
+
+    private interface ItemTouchHelperViewHolder {
+        void onItemClear();
+
+        void onItemSelected();
+    }
+
+    public class TabCheckCell extends FrameLayout {
+        private CheckBoxSquare checkBox;
+        private Drawable dRight = getResources().getDrawable(R.drawable.ic_swap_vertical);
+        private boolean needDivider = true;
+        private boolean show = false;
+        private TextView textView;
+
+        public TabCheckCell(Context context) {
+            super(context);
+            this.dRight.setColorFilter(PlusManageTabsActivity.this.color, Mode.SRC_IN);
+            this.dRight = new BitmapDrawable(getResources(), Bitmap.createScaledBitmap(((BitmapDrawable) this.dRight).getBitmap(), AndroidUtilities.dp(BitmapDescriptorFactory.HUE_ORANGE), AndroidUtilities.dp(BitmapDescriptorFactory.HUE_ORANGE), true));
+            this.textView = new TextView(context);
+            this.textView.setTextColor(PlusManageTabsActivity.this.color);
+            this.textView.setTextSize(1, 20.0f);
+            this.textView.setLines(1);
+            this.textView.setMaxLines(1);
+            this.textView.setSingleLine(true);
+            this.textView.setGravity(19);
+            this.textView.setEllipsize(TruncateAt.END);
+            this.textView.setCompoundDrawablePadding(AndroidUtilities.dp(15.0f));
+            addView(this.textView, LayoutHelper.createFrame(-1, -1.0f, 3, 17.0f, 0.0f, 54.0f, 0.0f));
+            this.checkBox = new CheckBoxSquare(context, false);
+            this.checkBox.setDuplicateParentStateEnabled(false);
+            this.checkBox.setFocusable(false);
+            this.checkBox.setFocusableInTouchMode(false);
+            this.checkBox.setClickable(true);
+            addView(this.checkBox, LayoutHelper.createFrame(25, 25.0f, 21, 0.0f, 5.0f, 20.0f, 0.0f));
+        }
+
+        protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
+            super.onMeasure(widthMeasureSpec, MeasureSpec.makeMeasureSpec((this.needDivider ? 1 : 0) + AndroidUtilities.dp(48.0f), MeasureSpec.EXACTLY));
+        }
+
+        public void setText(String text) {
+            this.textView.setText(text);
+            LayoutParams layoutParams = (LayoutParams) this.textView.getLayoutParams();
+            layoutParams.height = -1;
+            layoutParams.topMargin = 0;
+            this.textView.setLayoutParams(layoutParams);
+            setWillNotDraw(true);
+        }
+
+        public void setChecked(boolean checked) {
+            this.checkBox.setChecked(checked, true);
+        }
+
+        public void setTextAndIcon(String text, int resId) {
+            Drawable drawable = null;
+            try {
+                this.textView.setText(text);
+                Drawable d = getResources().getDrawable(resId);
+                TextView textView = this.textView;
+                if (this.show) {
+                    drawable = this.dRight;
+                }
+                textView.setCompoundDrawablesWithIntrinsicBounds(d, null, drawable, null);
+                this.textView.setPadding(this.textView.getPaddingLeft(), this.textView.getPaddingTop(), AndroidUtilities.dp(25.0f), this.textView.getPaddingBottom());
+            } catch (Throwable e) {
+                FileLog.e(e);
+            }
+        }
+
+        public void setTextColor(int color) {
+            this.textView.setTextColor(color);
+        }
+
+        public void setIconColor(int color) {
+            Drawable drawable = null;
+            try {
+                Drawable d = this.textView.getCompoundDrawables()[0];
+                d.setColorFilter(color, Mode.SRC_IN);
+                TextView textView = this.textView;
+                if (this.show) {
+                    drawable = this.dRight;
+                }
+                textView.setCompoundDrawablesWithIntrinsicBounds(d, null, drawable, null);
+            } catch (Throwable e) {
+                FileLog.e(e);
+            }
+        }
+    }
+
+    private class RecyclerListAdapter extends Adapter<RecyclerListAdapter.ItemViewHolder> implements ItemTouchHelperAdapter {
+
+        public class ItemViewHolder extends ViewHolder implements ItemTouchHelperViewHolder, OnClickListener {
+            public final TabCheckCell tabCell;
+
+            ItemViewHolder(View itemView) {
+                super(itemView);
+                this.tabCell = (TabCheckCell) itemView;
+                if (this.tabCell.getChildAt(1) instanceof CheckBoxSquare) {
+                    this.tabCell.getChildAt(1).setOnClickListener(this);
+                }
+            }
+
+            public void onItemSelected() {
+                this.itemView.setBackgroundColor(Color.BLACK);
+            } //Todo multi color
+
+            public void onItemClear() {
+                this.itemView.setBackgroundColor(0);
+            }
+
+            public void onClick(View view) {
+                PlusManageTabsActivity.this.visibleChanged = true;
+                if (PlusManageTabsActivity.this.visible[getPosition()] == -1) {
+                    this.tabCell.setTextColor(PlusManageTabsActivity.this.color);
+                    this.tabCell.setIconColor(PlusManageTabsActivity.this.color);
+                    this.tabCell.setChecked(true);
+                    PlusManageTabsActivity.this.visible[getPosition()] = 0;
+                    return;
+                }
+                this.tabCell.setTextColor(PlusManageTabsActivity.this.disabledColor);
+                this.tabCell.setIconColor(PlusManageTabsActivity.this.disabledColor);
+                this.tabCell.setChecked(false);
+                PlusManageTabsActivity.this.visible[getPosition()] = -1;
+            }
+        }
+
+        private RecyclerListAdapter() {
+        }
+
+        public ItemViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {
+            TabCheckCell view = new TabCheckCell(parent.getContext());
+            view.setLayoutParams(new RecyclerView.LayoutParams(-1, -2));
+            return new ItemViewHolder(view);
+        }
+
+        public void onBindViewHolder(ItemViewHolder holder, int position) {
+            holder.tabCell.setTextAndIcon(Theme.tabTitles[PlusManageTabsActivity.this.tabs[position]], Theme.tabIcons[PlusManageTabsActivity.this.tabs[position]]);
+            if (PlusManageTabsActivity.this.visible[position] < 0) {
+                holder.tabCell.setTextColor(PlusManageTabsActivity.this.disabledColor);
+                holder.tabCell.setIconColor(PlusManageTabsActivity.this.disabledColor);
+                holder.tabCell.setChecked(false);
+                return;
+            }
+            holder.tabCell.setTextColor(PlusManageTabsActivity.this.color);
+            holder.tabCell.setIconColor(PlusManageTabsActivity.this.color);
+            holder.tabCell.setChecked(true);
+        }
+
+        public int getItemCount() {
+            return PlusManageTabsActivity.this.tabs.length;
+        }
+
+        public void swapElements(int fromIndex, int toIndex) {
+            if (fromIndex != toIndex) {
+                PlusManageTabsActivity.this.needReorder = true;
+            }
+            int t2 = PlusManageTabsActivity.this.tabs[toIndex];
+            int t1 = PlusManageTabsActivity.this.tabs[fromIndex];
+            PlusManageTabsActivity.this.tabs[fromIndex] = t2;
+            PlusManageTabsActivity.this.tabs[toIndex] = t1;
+            int v2 = PlusManageTabsActivity.this.visible[toIndex];
+            int v1 = PlusManageTabsActivity.this.visible[fromIndex];
+            if (v1 != v2) {
+                PlusManageTabsActivity.this.visibleChanged = true;
+            }
+            PlusManageTabsActivity.this.visible[fromIndex] = v2;
+            PlusManageTabsActivity.this.visible[toIndex] = v1;
+            notifyItemMoved(fromIndex, toIndex);
+        }
+    }
+
+    private class SimpleItemTouchHelperCallback extends Callback {
+        private final ItemTouchHelperAdapter mAdapter;
+
+        public SimpleItemTouchHelperCallback(ItemTouchHelperAdapter adapter) {
+            this.mAdapter = adapter;
+        }
+
+        public boolean isLongPressDragEnabled() {
+            return true;
+        }
+
+        public int getMovementFlags(RecyclerView recyclerView, ViewHolder viewHolder) {
+            return Callback.makeMovementFlags(3, 0);
+        }
+
+        public boolean onMove(RecyclerView recyclerView, ViewHolder source, ViewHolder target) {
+            this.mAdapter.swapElements(source.getAdapterPosition(), target.getAdapterPosition());
+            return true;
+        }
+
+        public void onSwiped(ViewHolder viewHolder, int i) {
+        }
+
+        public void onSelectedChanged(ViewHolder viewHolder, int actionState) {
+            if (actionState != 0) {
+                ((ItemTouchHelperViewHolder) viewHolder).onItemSelected();
+            }
+            super.onSelectedChanged(viewHolder, actionState);
+        }
+
+        public void clearView(RecyclerView recyclerView, ViewHolder viewHolder) {
+            super.clearView(recyclerView, viewHolder);
+            ((ItemTouchHelperViewHolder) viewHolder).onItemClear();
+        }
+    }
+
+    private void storeVisibilityArray() {
+        ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit().putString("tabs_visible", Arrays.toString(this.visible)).apply();
+        refreshVisibility();
+    }
+
+    private void storeTabsArray() {
+        ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit().putString("tabs_array", Arrays.toString(this.tabs)).apply();
+    }
+
+    private void saveArray() {
+        storeTabsArray();
+        this.tabs_list = new ArrayList();
+        Editor mEdit = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit();
+        mEdit.remove("tabs_size");
+        int size = this.tabs.length;
+        int i = 0;
+        while (i < this.tabs.length) {
+            mEdit.remove("tab_" + i);
+            if (!this.visibleChanged || this.visible[i] >= 0) {
+                this.tabs_list.add(Integer.valueOf(this.tabs[i]));
+            } else {
+                size--;
+            }
+            i++;
+        }
+        mEdit.commit();
+        storeTabsArrayList();
+        boolean changed = false;
+        if (size < 2) {
+            Theme.plusHideTabs = true;
+            changed = true;
+        } else if (Theme.plusHideTabs) {
+            Theme.plusHideTabs = false;
+            changed = true;
+        }
+        if (changed) {
+            Editor editor = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit();
+            editor.putBoolean("hideTabs", Theme.plusHideTabs);
+            editor.apply();
+        }
+    }
+
+    private void storeTabsArrayList() {
+        ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit().putString("tabs_list", this.tabs_list.toString()).apply();
+    }
+
+    private void refreshVisibility() {
+        for (int i = 0; i < this.visible.length; i++) {
+            changeVisibility(Theme.tabType[this.tabs[i]], this.visible[i] != 0);
+        }
+    }
+
+    private void getVisibilityArray() {
+        String stringArray = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).getString("tabs_visible", null);
+        if (stringArray != null) {
+            String[] split = stringArray.substring(1, stringArray.length() - 1).split(", ");
+            for (int i = 0; i < split.length; i++) {
+                try {
+                    String s = split[i];
+                    if (s.length() > 0) {
+                        this.visible[i] = Integer.parseInt(s);
+                    }
+                } catch (Throwable e) {
+                    this.visible[i] = -1;
+                    FileLog.e(e);
+                }
+            }
+        }
+    }
+
+    private void getTabsArray() {
+        String stringArray = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).getString("tabs_array", null);
+        if (stringArray != null) {
+            String[] split = stringArray.substring(1, stringArray.length() - 1).split(", ");
+            for (int i = 0; i < split.length; i++) {
+                try {
+                    String s = split[i];
+                    if (s.length() > 0) {
+                        this.tabs[i] = Integer.parseInt(s);
+                    }
+                } catch (Throwable e) {
+                    this.tabs[i] = i;
+                    FileLog.e(e);
+                }
+            }
+        }
+    }
+
+    private void getTabsArrayList() {
+        this.tabs_list = new ArrayList();
+        SharedPreferences plusPreferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+        String stringArray = plusPreferences.getString("tabs_list", null);
+        int i;
+        if (stringArray != null) {
+            String[] split = stringArray.substring(1, stringArray.length() - 1).split(", ");
+            for (String s : split) {
+                try {
+                    if (s.length() > 0) {
+                        this.tabs_list.add(Integer.valueOf(Integer.parseInt(s)));
+                    }
+                } catch (Throwable e) {
+                    FileLog.e(e);
+                }
+            }
+            return;
+        }
+        for (i = 0; i < plusPreferences.getInt("tabs_size", this.tabs.length); i++) {
+            int p = plusPreferences.getInt("tab_" + i, -1);
+            ArrayList arrayList = this.tabs_list;
+            if (p == -1) {
+                p = i;
+            }
+            arrayList.add(Integer.valueOf(p));
+        }
+    }
+
+    private void changeVisibility(int type, boolean visible) {
+        Editor editor = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit();
+        switch (type) {
+            case 0:
+                Theme.plusHideAllTab = visible;
+                editor.putBoolean("hideAllTab", visible);
+                break;
+            case 3:
+                Theme.plusHideUsersTab = visible;
+                editor.putBoolean("hideUsers", visible);
+                break;
+            case 4:
+                Theme.plusHideGroupsTab = visible;
+                editor.putBoolean("hideGroups", visible);
+                break;
+            case 5:
+                Theme.plusHideChannelsTab = visible;
+                editor.putBoolean("hideChannels", visible);
+                break;
+            case 6:
+                Theme.plusHideBotsTab = visible;
+                editor.putBoolean("hideBots", visible);
+                break;
+            case 7:
+                Theme.plusHideSuperGroupsTab = visible;
+                editor.putBoolean("hideSGroups", visible);
+                break;
+            case 8:
+                Theme.plusHideFavsTab = visible;
+                editor.putBoolean("hideFavs", visible);
+                break;
+        }
+        editor.apply();
+    }
+
+    public boolean onFragmentCreate() {
+        super.onFragmentCreate();
+        if (this.tabsArray == null) {
+            getVisibilityArray();
+            this.tabsArray = new ArrayList();
+            getTabsArray();
+            getTabsArrayList();
+        }
+        return true;
+    }
+
+    public void onFragmentDestroy() {
+        super.onFragmentDestroy();
+        sendReorder();
+    }
+
+    public View createView(Context context) {
+        this.actionBar.setBackButtonImage(R.drawable.ic_ab_back);
+        this.actionBar.setAllowOverlayTitle(true);
+        this.actionBar.setTitle(LocaleController.getString("Tabs", R.string.Tabs));
+        this.actionBar.setActionBarMenuOnItemClick(new ActionBarMenuOnItemClick() {
+            public void onItemClick(int id) {
+                if (id == -1) {
+                    PlusManageTabsActivity.this.finishFragment();
+                }
+            }
+        });
+        this.fragmentView = new FrameLayout(context);
+        FrameLayout frameLayout = (FrameLayout) this.fragmentView;
+        LinearLayout layout = new LinearLayout(context);
+        layout.setOrientation(LinearLayout.VERTICAL);
+        layout.setBackgroundColor(Color.BLACK); //TODO Multi color
+        frameLayout.addView(layout, LayoutHelper.createFrame(-1, -1.0f));
+        this.listView = new RecyclerListView(context);
+        this.listView.setFocusable(true);
+        if (Theme.usePlusTheme) {
+            this.listView.setBackgroundColor(Theme.prefBGColor);
+        }
+        LinearLayoutManager layoutManager = new LinearLayoutManager(context);
+        layoutManager.setOrientation(1);
+        this.listView.setLayoutManager(layoutManager);
+        this.listAdapter = new RecyclerListAdapter();
+        new ItemTouchHelper(new SimpleItemTouchHelperCallback(this.listAdapter)).attachToRecyclerView(this.listView);
+        layout.addView(this.listView, LayoutHelper.createLinear(-1, 0, 1.0f, 3));
+        this.listView.setAdapter(this.listAdapter);
+        TextInfoPrivacyCell textInfoCell = new TextInfoPrivacyCell(context);
+        textInfoCell.setText(LocaleController.getString("TabsScreenInfo", R.string.TabsScreenInfo));
+        layout.addView(textInfoCell, LayoutHelper.createLinear(-1, -2, 83));
+        return this.fragmentView;
+    }
+
+    private void sendReorder() {
+        if (this.visibleChanged) {
+            storeVisibilityArray();
+            this.needReorder = true;
+        }
+        if (this.needReorder) {
+            this.needReorder = false;
+            saveArray();
+            this.visibleChanged = false;
+            NotificationCenter.getInstance().postNotificationName(NotificationCenter.refreshTabs, Integer.valueOf(15));
+        }
+    }
+
+    public void onResume() {
+        super.onResume();
+        if (this.listAdapter != null) {
+            this.listAdapter.notifyDataSetChanged();
+        }
+        if (Theme.usePlusTheme) {
+            updateTheme();
+        }
+    }
+
+    private void updateTheme() {
+        this.actionBar.setBackgroundColor(Theme.prefActionbarColor);
+        this.actionBar.setTitleColor(Theme.prefActionbarTitleColor);
+        Drawable back = getParentActivity().getResources().getDrawable(R.drawable.ic_ab_back);
+        back.setColorFilter(Theme.prefActionbarIconsColor, Mode.MULTIPLY);
+        this.actionBar.setBackButtonDrawable(back);
+    }
+}
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PlusSettingsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/PlusSettingsActivity.java
new file mode 100644
index 000000000..581193f37
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telegram/ui/PlusSettingsActivity.java
@@ -0,0 +1,2321 @@
+package org.telegram.ui;
+
+import android.app.AlertDialog.Builder;
+import android.content.Context;
+import android.content.DialogInterface;
+import android.content.DialogInterface.OnMultiChoiceClickListener;
+import android.content.SharedPreferences;
+import android.content.SharedPreferences.Editor;
+import android.content.res.Configuration;
+import android.graphics.Color;
+import android.graphics.PorterDuff.Mode;
+import android.graphics.drawable.Drawable;
+import android.os.Build.VERSION;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.View.OnClickListener;
+import android.view.ViewGroup;
+import android.view.ViewTreeObserver.OnPreDrawListener;
+import android.widget.AdapterView;
+import android.widget.AdapterView.OnItemClickListener;
+import android.widget.BaseAdapter;
+import android.widget.EditText;
+import android.widget.FrameLayout;
+import android.widget.ListView;
+import android.widget.Toast;
+
+import com.google.android.gms.common.ConnectionResult;
+
+import org.telegram.messenger.AndroidUtilities;
+import org.telegram.messenger.ApplicationLoader;
+import org.telegram.messenger.LocaleController;
+import org.telegram.messenger.MessagesController;
+import org.telegram.messenger.NotificationCenter;
+import org.telegram.messenger.NotificationCenter.NotificationCenterDelegate;
+import org.telegram.messenger.R;
+import org.telegram.messenger.UserConfig;
+import org.telegram.messenger.Utilities;
+import org.telegram.messenger.support.widget.helper.ItemTouchHelper.Callback;
+import org.telegram.tgnet.ConnectionsManager;
+import org.telegram.tgnet.RequestDelegate;
+import org.telegram.tgnet.TLObject;
+import org.telegram.tgnet.TLRPC.TL_account_updateProfile;
+import org.telegram.tgnet.TLRPC.TL_error;
+import org.telegram.tgnet.TLRPC.TL_messageMediaWebPage;
+import org.telegram.tgnet.TLRPC.TL_messages_getWebPagePreview;
+import org.telegram.tgnet.TLRPC.WebPage;
+import org.telegram.ui.ActionBar.ActionBar.ActionBarMenuOnItemClick;
+import org.telegram.ui.ActionBar.BaseFragment;
+import org.telegram.ui.ActionBar.Theme;
+import org.telegram.ui.Cells.HeaderCell;
+import org.telegram.ui.Cells.ShadowSectionCell;
+import org.telegram.ui.Cells.TextCheckCell;
+import org.telegram.ui.Cells.TextDetailSettingsCell;
+import org.telegram.ui.Cells.TextInfoPrivacyCell;
+import org.telegram.ui.Cells.TextSettingsCell;
+import org.telegram.ui.Components.LayoutHelper;
+import org.telegram.ui.Components.NumberPicker;
+import org.telegram.ui.DocumentSelectActivity.DocumentSelectActivityDelegate;
+
+import java.io.File;
+import java.util.ArrayList;
+
+public class PlusSettingsActivity extends BaseFragment implements NotificationCenterDelegate {
+    private int chatAlwaysBackToMainRow;
+    private int chatCenterQuickBarBtnRow;
+    private int chatDirectShareFavsFirst;
+    private int chatDirectShareReplies;
+    private int chatDirectShareToMenu;
+    private int chatDoNotCloseQuickBarRow;
+    private int chatDoNotHideStickersTabRow;
+    private int chatDrawSingleBigEmojiRow;
+    private int chatHideBotKeyboardRow;
+    private int chatHideInstantCameraRow;
+    private int chatHideJoinedGroupRow;
+    private int chatHideLeftGroupRow;
+    private int chatHideQuickBarOnScrollRow;
+    private int chatMarkdownRow;
+    private int chatPhotoQualityRow;
+    private int chatPhotoViewerHideStatusBarRow;
+    private int chatSaveToCloudQuoteRow;
+    private int chatSearchUserOnTwitterRow;
+    private int chatShowDateToastRow;
+    private int chatShowDirectShareBtn;
+    private int chatShowEditedMarkRow;
+    private int chatShowMembersQuickBarRow;
+    private int chatShowPhotoQualityBarRow;
+    private int chatShowQuickBarRow;
+    private int chatSwipeToReplyRow;
+    private int chatVerticalQuickBarRow;
+    private int chatsToLoadRow;
+    private int dialogsDisableTabsAnimationCheckRow;
+    private int dialogsDisableTabsScrollingRow;
+    private int dialogsDoNotChangeHeaderTitleRow;
+    private int dialogsExpandTabsRow;
+    private int dialogsGroupPicClickRow;
+    private int dialogsHideSelectedTabIndicator;
+    private int dialogsHideTabsCheckRow;
+    private int dialogsHideTabsCounters;
+    private int dialogsInfiniteTabsSwipe;
+    private int dialogsLimitTabsCountersRow;
+    private int dialogsManageTabsRow;
+    private int dialogsPicClickRow;
+    private int dialogsSectionRow;
+    private int dialogsSectionRow2;
+    private int dialogsTabsCountersCountChats;
+    private int dialogsTabsCountersCountNotMuted;
+    private int dialogsTabsHeightRow;
+    private int dialogsTabsRow;
+    private int dialogsTabsTextModeRow;
+    private int dialogsTabsTextSizeRow;
+    private int dialogsTabsToBottomRow;
+    private int disableAudioStopRow;
+    private int disableMessageClickRow;
+    private int drawerSectionRow;
+    private int drawerSectionRow2;
+    private int emojiPopupSize;
+    private int enableDirectReplyRow;
+    private WebPage foundWebPage;
+    private int hideMobileNumberRow;
+    private int hideNotificationsIfPlayingRow;
+    private int keepOriginalFilenameDetailRow;
+    private int keepOriginalFilenameRow;
+    private int linkSearchRequestId;
+    private ListAdapter listAdapter;
+    private ListView listView;
+    private int mediaDownloadSection;
+    private int mediaDownloadSection2;
+    private int messagesSectionRow;
+    private int messagesSectionRow2;
+    private int moveVersionToSettingsRow;
+    private int notificationInvertMessagesOrderRow;
+    private int notificationSection2Row;
+    private int notificationSectionRow;
+    private int pass;
+    private int plusSettingsSectionRow;
+    private int plusSettingsSectionRow2;
+    private int privacySectionRow;
+    private int privacySectionRow2;
+    private int profileEnableGoToMsgRow;
+    private int profileSectionRow;
+    private int profileSectionRow2;
+    private int profileSharedOptionsRow;
+    private int resetPlusSettingsRow;
+    private boolean reseting = false;
+    private int restorePlusSettingsRow;
+    private int rowCount;
+    private int savePlusSettingsRow;
+    private boolean saving = false;
+    private int settingsSectionRow2;
+    private int showAndroidEmojiRow;
+    private int showMySettingsRow;
+    private int showOfflineToastNotificationRow;
+    private int showOnlineToastNotificationDetailRow;
+    private int showOnlineToastNotificationRow;
+    private boolean showPrefix;
+    private int showToastOnlyIfContactFavRow;
+    private int showTypingToastNotificationRow;
+    private int showUsernameRow;
+    private int toastNotificationPaddingRow;
+    private int toastNotificationPositionRow;
+    private int toastNotificationSection2Row;
+    private int toastNotificationSectionRow;
+    private int toastNotificationSizeRow;
+    private int toastNotificationToBottomRow;
+    private int useDeviceFontRow;
+    private String userAbout;
+    TextCheckCell r42;
+    boolean r35;
+    
+    private class ListAdapter extends BaseAdapter {
+        private Context mContext;
+
+        public ListAdapter(Context context) {
+            this.mContext = context;
+        }
+
+        public boolean areAllItemsEnabled() {
+            return false;
+        }
+
+        public boolean isEnabled(int i) {
+            return i == PlusSettingsActivity.this.showAndroidEmojiRow || i == PlusSettingsActivity.this.useDeviceFontRow || i == PlusSettingsActivity.this.emojiPopupSize || i == PlusSettingsActivity.this.dialogsTabsTextSizeRow || i == PlusSettingsActivity.this.dialogsTabsHeightRow || i == PlusSettingsActivity.this.dialogsTabsRow || i == PlusSettingsActivity.this.dialogsManageTabsRow || i == PlusSettingsActivity.this.chatShowDirectShareBtn || i == PlusSettingsActivity.this.profileSharedOptionsRow || i == PlusSettingsActivity.this.disableAudioStopRow || i == PlusSettingsActivity.this.disableMessageClickRow || i == PlusSettingsActivity.this.chatDirectShareToMenu || i == PlusSettingsActivity.this.chatDirectShareReplies || i == PlusSettingsActivity.this.chatDirectShareFavsFirst || i == PlusSettingsActivity.this.chatShowEditedMarkRow || i == PlusSettingsActivity.this.chatShowDateToastRow || i == PlusSettingsActivity.this.chatHideLeftGroupRow || i == PlusSettingsActivity.this.chatHideJoinedGroupRow || i == PlusSettingsActivity.this.chatHideBotKeyboardRow || i == PlusSettingsActivity.this.dialogsHideTabsCheckRow || i == PlusSettingsActivity.this.dialogsDisableTabsAnimationCheckRow || i == PlusSettingsActivity.this.dialogsInfiniteTabsSwipe || i == PlusSettingsActivity.this.dialogsHideTabsCounters || i == PlusSettingsActivity.this.dialogsTabsCountersCountChats || i == PlusSettingsActivity.this.dialogsTabsCountersCountNotMuted || i == PlusSettingsActivity.this.chatSearchUserOnTwitterRow || i == PlusSettingsActivity.this.keepOriginalFilenameRow || i == PlusSettingsActivity.this.dialogsPicClickRow || i == PlusSettingsActivity.this.dialogsGroupPicClickRow || i == PlusSettingsActivity.this.hideMobileNumberRow || i == PlusSettingsActivity.this.showUsernameRow || i == PlusSettingsActivity.this.notificationInvertMessagesOrderRow || i == PlusSettingsActivity.this.savePlusSettingsRow || i == PlusSettingsActivity.this.restorePlusSettingsRow || i == PlusSettingsActivity.this.resetPlusSettingsRow || i == PlusSettingsActivity.this.chatPhotoQualityRow || i == PlusSettingsActivity.this.chatShowPhotoQualityBarRow || i == PlusSettingsActivity.this.dialogsTabsTextModeRow || i == PlusSettingsActivity.this.dialogsExpandTabsRow || i == PlusSettingsActivity.this.dialogsDisableTabsScrollingRow || i == PlusSettingsActivity.this.dialogsDoNotChangeHeaderTitleRow || i == PlusSettingsActivity.this.dialogsTabsToBottomRow || i == PlusSettingsActivity.this.dialogsHideSelectedTabIndicator || i == PlusSettingsActivity.this.showMySettingsRow || i == PlusSettingsActivity.this.showTypingToastNotificationRow || i == PlusSettingsActivity.this.toastNotificationSizeRow || i == PlusSettingsActivity.this.toastNotificationPaddingRow || i == PlusSettingsActivity.this.toastNotificationToBottomRow || i == PlusSettingsActivity.this.toastNotificationPositionRow || i == PlusSettingsActivity.this.showOnlineToastNotificationRow || i == PlusSettingsActivity.this.showOfflineToastNotificationRow || i == PlusSettingsActivity.this.showToastOnlyIfContactFavRow || i == PlusSettingsActivity.this.enableDirectReplyRow || i == PlusSettingsActivity.this.chatShowQuickBarRow || i == PlusSettingsActivity.this.chatVerticalQuickBarRow || i == PlusSettingsActivity.this.chatAlwaysBackToMainRow || i == PlusSettingsActivity.this.chatDoNotCloseQuickBarRow || i == PlusSettingsActivity.this.chatHideQuickBarOnScrollRow || i == PlusSettingsActivity.this.chatCenterQuickBarBtnRow || i == PlusSettingsActivity.this.chatShowMembersQuickBarRow || i == PlusSettingsActivity.this.chatSaveToCloudQuoteRow || i == PlusSettingsActivity.this.chatSwipeToReplyRow || i == PlusSettingsActivity.this.hideNotificationsIfPlayingRow || i == PlusSettingsActivity.this.chatHideInstantCameraRow || i == PlusSettingsActivity.this.chatDoNotHideStickersTabRow || i == PlusSettingsActivity.this.chatPhotoViewerHideStatusBarRow || i == PlusSettingsActivity.this.chatsToLoadRow || i == PlusSettingsActivity.this.profileEnableGoToMsgRow || i == PlusSettingsActivity.this.chatDrawSingleBigEmojiRow || i == PlusSettingsActivity.this.dialogsLimitTabsCountersRow || i == PlusSettingsActivity.this.chatMarkdownRow || i == PlusSettingsActivity.this.moveVersionToSettingsRow;
+        }
+
+        public int getCount() {
+            return PlusSettingsActivity.this.rowCount;
+        }
+
+        public Object getItem(int i) {
+            return null;
+        }
+
+        public long getItemId(int i) {
+            return (long) i;
+        }
+
+        public boolean hasStableIds() {
+            return false;
+        }
+
+        public View getView(int i, View view, ViewGroup viewGroup) {
+            int type = getItemViewType(i);
+            String prefix = "";
+            if (PlusSettingsActivity.this.showPrefix) {
+                prefix = "P";
+                if (i == PlusSettingsActivity.this.settingsSectionRow2) {
+                    prefix = prefix + "0 ";
+                } else if (i < PlusSettingsActivity.this.dialogsSectionRow2) {
+                    prefix = prefix + "0." + i + " ";
+                } else if (i == PlusSettingsActivity.this.dialogsSectionRow2) {
+                    prefix = prefix + "1 ";
+                } else if (i > PlusSettingsActivity.this.dialogsSectionRow2 && i < PlusSettingsActivity.this.messagesSectionRow2) {
+                    prefix = prefix + "1." + (i - PlusSettingsActivity.this.dialogsSectionRow2) + " ";
+                } else if (i == PlusSettingsActivity.this.messagesSectionRow2) {
+                    prefix = prefix + "2 ";
+                } else if (i > PlusSettingsActivity.this.messagesSectionRow2 && i < PlusSettingsActivity.this.drawerSectionRow2) {
+                    prefix = prefix + "2." + (i - PlusSettingsActivity.this.messagesSectionRow2) + " ";
+                } else if (i == PlusSettingsActivity.this.drawerSectionRow2) {
+                    prefix = prefix + "3 ";
+                } else if (i > PlusSettingsActivity.this.drawerSectionRow2 && i < PlusSettingsActivity.this.profileSectionRow2) {
+                    prefix = prefix + "3." + (i - PlusSettingsActivity.this.drawerSectionRow2) + " ";
+                } else if (i == PlusSettingsActivity.this.profileSectionRow2) {
+                    prefix = prefix + "4 ";
+                } else if (i > PlusSettingsActivity.this.profileSectionRow2 && i < PlusSettingsActivity.this.notificationSection2Row) {
+                    prefix = prefix + "4." + (i - PlusSettingsActivity.this.profileSectionRow2) + " ";
+                } else if (i == PlusSettingsActivity.this.notificationSection2Row) {
+                    prefix = prefix + "5 ";
+                } else if (i > PlusSettingsActivity.this.notificationSection2Row && i < PlusSettingsActivity.this.toastNotificationSection2Row) {
+                    prefix = prefix + "5." + (i - PlusSettingsActivity.this.notificationSection2Row) + " ";
+                } else if (i == PlusSettingsActivity.this.toastNotificationSection2Row) {
+                    prefix = prefix + "6 ";
+                } else if (i > PlusSettingsActivity.this.toastNotificationSection2Row && i < PlusSettingsActivity.this.privacySectionRow2) {
+                    prefix = prefix + "6." + ((i - PlusSettingsActivity.this.toastNotificationSection2Row) - (i <= PlusSettingsActivity.this.showOnlineToastNotificationDetailRow ? 0 : 1)) + " ";
+                } else if (i == PlusSettingsActivity.this.privacySectionRow2) {
+                    prefix = prefix + "7 ";
+                } else if (i > PlusSettingsActivity.this.privacySectionRow2 && i < PlusSettingsActivity.this.mediaDownloadSection2) {
+                    prefix = prefix + "7." + (i - PlusSettingsActivity.this.privacySectionRow2) + " ";
+                } else if (i == PlusSettingsActivity.this.mediaDownloadSection2) {
+                    prefix = prefix + "8 ";
+                } else if (i > PlusSettingsActivity.this.mediaDownloadSection2 && i < PlusSettingsActivity.this.plusSettingsSectionRow2) {
+                    prefix = prefix + "8." + (i - PlusSettingsActivity.this.mediaDownloadSection2) + " ";
+                }
+            }
+            View shadowSectionCell;
+            if (type == 0) {
+                if (view == null) {
+                    shadowSectionCell = new ShadowSectionCell(this.mContext);
+                }
+            } else if (type == 1) {
+                if (view == null) {
+                    shadowSectionCell = new HeaderCell(this.mContext);
+                }
+                if (i == PlusSettingsActivity.this.settingsSectionRow2) {
+                    ((HeaderCell) view).setText(prefix + LocaleController.getString("General", R.string.General));
+                } else if (i == PlusSettingsActivity.this.messagesSectionRow2) {
+                    ((HeaderCell) view).setText(prefix + LocaleController.getString("MessagesSettings", R.string.MessagesSettings));
+                } else if (i == PlusSettingsActivity.this.profileSectionRow2) {
+                    ((HeaderCell) view).setText(prefix + LocaleController.getString("ProfileScreen", R.string.ProfileScreen));
+                } else if (i == PlusSettingsActivity.this.drawerSectionRow2) {
+                    ((HeaderCell) view).setText(prefix + LocaleController.getString("NavigationDrawer", R.string.NavigationDrawer));
+                } else if (i == PlusSettingsActivity.this.privacySectionRow2) {
+                    ((HeaderCell) view).setText(prefix + LocaleController.getString("PrivacySettings", R.string.PrivacySettings));
+                } else if (i == PlusSettingsActivity.this.mediaDownloadSection2) {
+                    ((HeaderCell) view).setText(prefix + LocaleController.getString("SharedMedia", R.string.SharedMedia));
+                } else if (i == PlusSettingsActivity.this.dialogsSectionRow2) {
+                    ((HeaderCell) view).setText(prefix + LocaleController.getString("DialogsSettings", R.string.DialogsSettings));
+                } else if (i == PlusSettingsActivity.this.notificationSection2Row) {
+                    ((HeaderCell) view).setText(prefix + LocaleController.getString("Notifications", R.string.Notifications));
+                } else if (i == PlusSettingsActivity.this.toastNotificationSection2Row) {
+                    ((HeaderCell) view).setText(prefix + LocaleController.getString("ToastNotification", R.string.ToastNotification));
+                } else if (i == PlusSettingsActivity.this.plusSettingsSectionRow2) {
+                    ((HeaderCell) view).setText(LocaleController.getString("PlusSettings", R.string.PlusSettings));
+                }
+            } else if (type == 2) {
+                if (view == null) {
+                    shadowSectionCell = new TextSettingsCell(this.mContext);
+                }
+                String value;
+                TextSettingsCell textCell = (TextSettingsCell) view;
+                SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                if (i == PlusSettingsActivity.this.emojiPopupSize) {
+                    int size = preferences.getInt("emojiPopupSize", AndroidUtilities.isTablet() ? 65 : 60);
+                    textCell.setTextAndValue(prefix + LocaleController.getString("EmojiPopupSize", R.string.EmojiPopupSize), String.format("%d", new Object[]{Integer.valueOf(size)}), true);
+                } else if (i == PlusSettingsActivity.this.chatPhotoQualityRow) {
+                    textCell.setTextAndValue(prefix + LocaleController.getString("PhotoQuality", R.string.PhotoQuality), String.format("%d", new Object[]{Integer.valueOf(Theme.plusPhotoQuality)}), true);
+                } else if (i == PlusSettingsActivity.this.dialogsTabsTextSizeRow) {
+                    textCell.setTextAndValue(prefix + LocaleController.getString("TabsTextSize", R.string.TabsTextSize), String.format("%d", new Object[]{Integer.valueOf(Theme.plusTabsTextSize)}), true);
+                } else if (i == PlusSettingsActivity.this.dialogsTabsHeightRow) {
+                    textCell.setTextAndValue(prefix + LocaleController.getString("TabsHeight", R.string.TabsHeight), String.format("%d", new Object[]{Integer.valueOf(Theme.plusTabsHeight)}), true);
+                } else if (i == PlusSettingsActivity.this.dialogsPicClickRow) {
+                    int sort = preferences.getInt("dialogsClickOnPic", 0);
+                    if (sort == 0) {
+                        value = LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled);
+                    } else if (sort == 1) {
+                        value = LocaleController.getString("ShowPics", R.string.ShowPics);
+                    } else {
+                        value = LocaleController.getString("ShowProfile", R.string.ShowProfile);
+                    }
+                    textCell.setTextAndValue(prefix + LocaleController.getString("ClickOnContactPic", R.string.ClickOnContactPic), value, true);
+                } else if (i == PlusSettingsActivity.this.dialogsGroupPicClickRow) {
+                    int sort = preferences.getInt("dialogsClickOnGroupPic", 0);
+                    if (sort == 0) {
+                        value = LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled);
+                    } else if (sort == 1) {
+                        value = LocaleController.getString("ShowPics", R.string.ShowPics);
+                    } else {
+                        value = LocaleController.getString("ShowProfile", R.string.ShowProfile);
+                    }
+                    textCell.setTextAndValue(prefix + LocaleController.getString("ClickOnGroupPic", R.string.ClickOnGroupPic), value, true);
+                } else if (i == PlusSettingsActivity.this.toastNotificationSizeRow) {
+                    textCell.setTextAndValue(prefix + LocaleController.getString("ToastNotificationSize", R.string.ToastNotificationSize), String.format("%d", new Object[]{Integer.valueOf(Theme.plusToastNotificationSize)}), true);
+                } else if (i == PlusSettingsActivity.this.toastNotificationPaddingRow) {
+                    textCell.setTextAndValue(prefix + LocaleController.getString("ToastNotificationPadding", R.string.ToastNotificationPadding), String.format("%d", new Object[]{Integer.valueOf(Theme.plusToastNotificationPadding)}), true);
+                } else if (i == PlusSettingsActivity.this.toastNotificationPositionRow) {
+                    int sort = Theme.plusToastNotificationPosition;
+                    if (sort == 0) {
+                        value = LocaleController.getString("Left", R.string.Left);
+                    } else if (sort == 1) {
+                        value = LocaleController.getString("Center", R.string.Center);
+                    } else {
+                        value = LocaleController.getString("Right", R.string.Right);
+                    }
+                    textCell.setTextAndValue(prefix + LocaleController.getString("ToastNotificationPosition", R.string.ToastNotificationPosition), value, true);
+                } else if (i == PlusSettingsActivity.this.chatsToLoadRow) {
+                    String title = "Chats to load";
+                    int value2 = preferences.getInt("chatsToLoad", 100);
+                    if (value2 == 50) {
+                        textCell.setTextAndValue(title, "50", true);
+                    } else if (value2 == 100) {
+                        textCell.setTextAndValue(title, "100", true);
+                    } else if (value2 == 200) {
+                        textCell.setTextAndValue(title, "200", true);
+                    } else if (value2 == 300) {
+                        textCell.setTextAndValue(title, "300", true);
+                    } else if (value2 == 400) {
+                        textCell.setTextAndValue(title, "400", true);
+                    } else if (value2 == 500) {
+                        textCell.setTextAndValue(title, "500", true);
+                    } else if (value2 == 750) {
+                        textCell.setTextAndValue(title, "750", true);
+                    } else if (value2 == 1000) {
+                        textCell.setTextAndValue(title, "1000", true);
+                    } else if (value2 == 1500) {
+                        textCell.setTextAndValue(title, "1500", true);
+                    } else if (value2 == 2000) {
+                        textCell.setTextAndValue(title, "2000", true);
+                    } else if (value2 == 1000000) {
+                        textCell.setTextAndValue(title, "All", true);
+                    }
+                }
+                if (i == PlusSettingsActivity.this.dialogsManageTabsRow) {
+                    textCell.setText(prefix + LocaleController.getString("SortTabs", R.string.SortTabs), true);
+                }
+            } else if (type == 3) {
+                if (view == null) {
+                    shadowSectionCell = new TextCheckCell(this.mContext);
+                }
+                TextCheckCell textCell2 = (TextCheckCell) view;
+                SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                if (i == PlusSettingsActivity.this.disableAudioStopRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("DisableAudioStop", R.string.DisableAudioStop), preferences.getBoolean("disableAudioStop", false), true);
+                } else if (i == PlusSettingsActivity.this.disableMessageClickRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("DisableMessageClick", R.string.DisableMessageClick), preferences.getBoolean("disableMessageClick", false), true);
+                } else if (i == PlusSettingsActivity.this.chatDirectShareReplies) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("DirectShareReplies", R.string.DirectShareReplies), preferences.getBoolean("directShareReplies", false), true);
+                } else if (i == PlusSettingsActivity.this.chatDirectShareToMenu) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("DirectShareToMenu", R.string.DirectShareToMenu), preferences.getBoolean("directShareToMenu", false), true);
+                } else if (i == PlusSettingsActivity.this.chatDirectShareFavsFirst) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("DirectShareShowFavsFirst", R.string.DirectShareShowFavsFirst), preferences.getBoolean("directShareFavsFirst", false), true);
+                } else if (i == PlusSettingsActivity.this.chatShowEditedMarkRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("ShowEditedMark", R.string.ShowEditedMark), preferences.getBoolean("showEditedMark", true), true);
+                } else if (i == PlusSettingsActivity.this.chatShowDateToastRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("ShowDateToast", R.string.ShowDateToast), preferences.getBoolean("showDateToast", true), true);
+                } else if (i == PlusSettingsActivity.this.chatHideLeftGroupRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("HideLeftGroup", R.string.HideLeftGroup), preferences.getBoolean("hideLeftGroup", false), true);
+                } else if (i == PlusSettingsActivity.this.chatHideJoinedGroupRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("HideJoinedGroup", R.string.HideJoinedGroup), preferences.getBoolean("hideJoinedGroup", false), true);
+                } else if (i == PlusSettingsActivity.this.chatHideBotKeyboardRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("HideBotKeyboard", R.string.HideBotKeyboard), preferences.getBoolean("hideBotKeyboard", false), true);
+                } else if (i == PlusSettingsActivity.this.keepOriginalFilenameRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("KeepOriginalFilename", R.string.KeepOriginalFilename), preferences.getBoolean("keepOriginalFilename", false), false);
+                } else if (i == PlusSettingsActivity.this.showAndroidEmojiRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("ShowAndroidEmoji", R.string.ShowAndroidEmoji), preferences.getBoolean("showAndroidEmoji", false), true);
+                } else if (i == PlusSettingsActivity.this.useDeviceFontRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("UseDeviceFont", R.string.UseDeviceFont), preferences.getBoolean("useDeviceFont", false), true);
+                } else if (i == PlusSettingsActivity.this.dialogsHideTabsCheckRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("HideTabs", R.string.HideTabs), Theme.plusHideTabs, true);
+                } else if (i == PlusSettingsActivity.this.dialogsDisableTabsAnimationCheckRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("DisableTabsAnimation", R.string.DisableTabsAnimation), Theme.plusDisableTabsAnimation, true);
+                } else if (i == PlusSettingsActivity.this.dialogsTabsTextModeRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("ShowTabTitle", R.string.ShowTabTitle), Theme.plusTabTitlesMode, true);
+                } else if (i == PlusSettingsActivity.this.dialogsExpandTabsRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("FitTabsToScreen", R.string.FitTabsToScreen), Theme.plusTabsShouldExpand, true);
+                } else if (i == PlusSettingsActivity.this.dialogsTabsToBottomRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("TabsToBottom", R.string.TabsToBottom), preferences.getBoolean("tabsToBottom", false), true);
+                } else if (i == PlusSettingsActivity.this.dialogsDisableTabsScrollingRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("DisableTabsScrolling", R.string.DisableTabsScrolling), Theme.plusDisableTabsScrolling, true);
+                } else if (i == PlusSettingsActivity.this.dialogsHideSelectedTabIndicator) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("HideSelectedTabIndicator", R.string.HideSelectedTabIndicator), preferences.getBoolean("hideSelectedTabIndicator", false), true);
+                } else if (i == PlusSettingsActivity.this.dialogsInfiniteTabsSwipe) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("InfiniteSwipe", R.string.InfiniteSwipe), Theme.plusInfiniteTabsSwipe, true);
+                } else if (i == PlusSettingsActivity.this.dialogsHideTabsCounters) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("HideTabsCounters", R.string.HideTabsCounters), Theme.plusHideTabsCounters, true);
+                } else if (i == PlusSettingsActivity.this.dialogsTabsCountersCountChats) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("HeaderTabCounterCountChats", R.string.HeaderTabCounterCountChats), Theme.plusTabsCountersCountChats, true);
+                } else if (i == PlusSettingsActivity.this.dialogsTabsCountersCountNotMuted) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("HeaderTabCounterCountNotMuted", R.string.HeaderTabCounterCountNotMuted), Theme.plusTabsCountersCountNotMuted, true);
+                } else if (i == PlusSettingsActivity.this.hideMobileNumberRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("HideMobile", R.string.HideMobile), Theme.plusHideMobile, true);
+                } else if (i == PlusSettingsActivity.this.showUsernameRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("ShowUsernameInMenu", R.string.ShowUsernameInMenu), Theme.plusShowUsername, true);
+                } else if (i == PlusSettingsActivity.this.notificationInvertMessagesOrderRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("InvertMessageOrder", R.string.InvertMessageOrder), preferences.getBoolean("invertMessagesOrder", false), false);
+                } else if (i == PlusSettingsActivity.this.chatSearchUserOnTwitterRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("SearchUserOnTwitter", R.string.SearchUserOnTwitter), preferences.getBoolean("searchOnTwitter", true), true);
+                } else if (i == PlusSettingsActivity.this.chatShowPhotoQualityBarRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("ShowPhotoQualityBar", R.string.ShowPhotoQualityBar), Theme.plusShowPhotoQualityBar, false);
+                } else if (i == PlusSettingsActivity.this.showTypingToastNotificationRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("ShowTypingToast", R.string.ShowTypingToast), Theme.plusShowTypingToast, false);
+                } else if (i == PlusSettingsActivity.this.toastNotificationToBottomRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("ToastNotificationToBottom", R.string.ToastNotificationToBottom), Theme.plusToastNotificationToBottom, true);
+                } else if (i == PlusSettingsActivity.this.showOnlineToastNotificationRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("ShowOnlineToast", R.string.ShowOnlineToast), Theme.plusShowOnlineToast, true);
+                } else if (i == PlusSettingsActivity.this.showToastOnlyIfContactFavRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("ShowOnlyIfContactFav", R.string.ShowOnlyIfContactFav), Theme.plusShowOnlyIfContactFav, true);
+                } else if (i == PlusSettingsActivity.this.showOfflineToastNotificationRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("ShowOfflineToast", R.string.ShowOfflineToast), Theme.plusShowOfflineToast, true);
+                } else if (i == PlusSettingsActivity.this.hideNotificationsIfPlayingRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("OverrideNotificationsIfPlaying", R.string.OverrideNotificationsIfPlaying), Theme.plusHideNotificationsIfPlaying, true);
+                } else if (i == PlusSettingsActivity.this.enableDirectReplyRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("EnableDirectReply", R.string.EnableDirectReply), Theme.plusEnableDirectReply, true);
+                } else if (i == PlusSettingsActivity.this.chatShowQuickBarRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("ShowQuickBar", R.string.ShowQuickBar), Theme.plusShowQuickBar, false);
+                } else if (i == PlusSettingsActivity.this.chatVerticalQuickBarRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("VerticalQuickBar", R.string.VerticalQuickBar), Theme.plusVerticalQuickBar, false);
+                } else if (i == PlusSettingsActivity.this.chatAlwaysBackToMainRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("AlwaysBackToMain", R.string.AlwaysBackToMain), Theme.plusAlwaysBackToMain, false);
+                } else if (i == PlusSettingsActivity.this.chatDoNotCloseQuickBarRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("DoNotCloseQuickBar", R.string.DoNotCloseQuickBar), Theme.plusDoNotCloseQuickBar, false);
+                } else if (i == PlusSettingsActivity.this.chatHideQuickBarOnScrollRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("HideQuickBarOnScroll", R.string.HideQuickBarOnScroll), Theme.plusHideQuickBarOnScroll, false);
+                } else if (i == PlusSettingsActivity.this.chatCenterQuickBarBtnRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("CenterQuickBarButton", R.string.CenterQuickBarButton), Theme.plusCenterQuickBarBtn, false);
+                } else if (i == PlusSettingsActivity.this.chatShowMembersQuickBarRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("ShowMembersOnQuickBar", R.string.ShowMembersOnQuickBar), Theme.plusQuickBarShowMembers, true);
+                } else if (i == PlusSettingsActivity.this.chatSaveToCloudQuoteRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("SaveToCloudQuote", R.string.SaveToCloudQuote), Theme.plusSaveToCloudQuote, true);
+                } else if (i == PlusSettingsActivity.this.chatSwipeToReplyRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("SwipeToReply", R.string.SwipeToReply), Theme.plusSwipeToReply, true);
+                } else if (i == PlusSettingsActivity.this.chatHideInstantCameraRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("HideInstantCamera", R.string.HideInstantCamera), Theme.plusHideInstantCamera, true);
+                } else if (i == PlusSettingsActivity.this.chatDoNotHideStickersTabRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("DoNotHideStickersTab", R.string.DoNotHideStickersTab), Theme.plusDoNotHideStickersTab, true);
+                } else if (i == PlusSettingsActivity.this.chatPhotoViewerHideStatusBarRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("HideStatusBar", R.string.HideStatusBar), Theme.plusPhotoViewerHideStatusBar, false);
+                } else if (i == PlusSettingsActivity.this.profileEnableGoToMsgRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("EnableGoToMessage", R.string.EnableGoToMessage), Theme.plusProfileEnableGoToMsg, true);
+                } else if (i == PlusSettingsActivity.this.dialogsDoNotChangeHeaderTitleRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("DoNotChangeHeaderTitle", R.string.DoNotChangeHeaderTitle), Theme.plusDoNotChangeHeaderTitle, true);
+                } else if (i == PlusSettingsActivity.this.chatDrawSingleBigEmojiRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("EmojiBigSize", R.string.EmojiBigSize), Theme.plusDrawSingleBigEmoji, false);
+                } else if (i == PlusSettingsActivity.this.dialogsLimitTabsCountersRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("LimitTabsCounter", R.string.LimitTabsCounter), Theme.plusLimitTabsCounters, true);
+                } else if (i == PlusSettingsActivity.this.chatMarkdownRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("Markdown", R.string.Markdown), Theme.plusEnableMarkdown, true);
+                } else if (i == PlusSettingsActivity.this.moveVersionToSettingsRow) {
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("MoveVersionToSettings", R.string.MoveVersionToSettings), Theme.plusMoveVersionToSettings, true);
+                }
+            } else if (type == 6) {
+                if (view == null) {
+                    shadowSectionCell = new TextDetailSettingsCell(this.mContext);
+                }
+                TextDetailSettingsCell textCell3 = (TextDetailSettingsCell) view;
+                String text;
+                String value;
+                if (i == PlusSettingsActivity.this.dialogsTabsRow) {
+                    value = prefix + LocaleController.getString("HideShowTabs", R.string.HideShowTabs);
+                    text = "";
+                    if (!Theme.plusHideAllTab) {
+                        text = text + LocaleController.getString("All", R.string.All);
+                    }
+                    if (!Theme.plusHideUsersTab) {
+                        if (text.length() != 0) {
+                            text = text + ", ";
+                        }
+                        text = text + LocaleController.getString("Users", R.string.Users);
+                    }
+                    if (!Theme.plusHideGroupsTab) {
+                        if (text.length() != 0) {
+                            text = text + ", ";
+                        }
+                        text = text + LocaleController.getString("Groups", R.string.Groups);
+                    }
+                    if (!Theme.plusHideSuperGroupsTab) {
+                        if (text.length() != 0) {
+                            text = text + ", ";
+                        }
+                        text = text + LocaleController.getString("SuperGroups", R.string.SuperGroups);
+                    }
+                    if (!Theme.plusHideChannelsTab) {
+                        if (text.length() != 0) {
+                            text = text + ", ";
+                        }
+                        text = text + LocaleController.getString("Channels", R.string.Channels);
+                    }
+                    if (!Theme.plusHideBotsTab) {
+                        if (text.length() != 0) {
+                            text = text + ", ";
+                        }
+                        text = text + LocaleController.getString("Bots", R.string.Bots);
+                    }
+                    if (!Theme.plusHideFavsTab) {
+                        if (text.length() != 0) {
+                            text = text + ", ";
+                        }
+                        text = text + LocaleController.getString("Favorites", R.string.Favorites);
+                    }
+                    if (text.length() == 0) {
+                        text = "";
+                    }
+                    textCell3.setTextAndValue(value, text, true);
+                } else if (i == PlusSettingsActivity.this.chatShowDirectShareBtn) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean showDSBtnUsers = preferences.getBoolean("showDSBtnUsers", false);
+                    boolean showDSBtnGroups = preferences.getBoolean("showDSBtnGroups", true);
+                    boolean showDSBtnSGroups = preferences.getBoolean("showDSBtnSGroups", true);
+                    boolean showDSBtnChannels = preferences.getBoolean("showDSBtnChannels", true);
+                    boolean showDSBtnBots = preferences.getBoolean("showDSBtnBots", true);
+                    value = prefix + LocaleController.getString("ShowDirectShareButton", R.string.ShowDirectShareButton);
+                    text = "";
+                    if (showDSBtnUsers) {
+                        text = text + LocaleController.getString("Users", R.string.Users);
+                    }
+                    if (showDSBtnGroups) {
+                        if (text.length() != 0) {
+                            text = text + ", ";
+                        }
+                        text = text + LocaleController.getString("Groups", R.string.Groups);
+                    }
+                    if (showDSBtnSGroups) {
+                        if (text.length() != 0) {
+                            text = text + ", ";
+                        }
+                        text = text + LocaleController.getString("SuperGroups", R.string.SuperGroups);
+                    }
+                    if (showDSBtnChannels) {
+                        if (text.length() != 0) {
+                            text = text + ", ";
+                        }
+                        text = text + LocaleController.getString("Channels", R.string.Channels);
+                    }
+                    if (showDSBtnBots) {
+                        if (text.length() != 0) {
+                            text = text + ", ";
+                        }
+                        text = text + LocaleController.getString("Bots", R.string.Bots);
+                    }
+                    if (text.length() == 0) {
+                        text = LocaleController.getString("Channels", R.string.UsernameEmpty);
+                    }
+                    textCell3.setTextAndValue(value, text, true);
+                } else if (i == PlusSettingsActivity.this.profileSharedOptionsRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean hideMedia = preferences.getBoolean("hideSharedMedia", false);
+                    boolean hideFiles = preferences.getBoolean("hideSharedFiles", false);
+                    boolean hideMusic = preferences.getBoolean("hideSharedMusic", false);
+                    boolean hideLinks = preferences.getBoolean("hideSharedLinks", false);
+                    value = prefix + LocaleController.getString("SharedMedia", R.string.SharedMedia);
+                    text = "";
+                    if (!hideMedia) {
+                        text = text + LocaleController.getString("SharedMediaTitle", R.string.SharedMediaTitle);
+                    }
+                    if (!hideFiles) {
+                        if (text.length() != 0) {
+                            text = text + ", ";
+                        }
+                        text = text + LocaleController.getString("DocumentsTitle", R.string.DocumentsTitle);
+                    }
+                    if (!hideMusic) {
+                        if (text.length() != 0) {
+                            text = text + ", ";
+                        }
+                        text = text + LocaleController.getString("AudioTitle", R.string.AudioTitle);
+                    }
+                    if (!hideLinks) {
+                        if (text.length() != 0) {
+                            text = text + ", ";
+                        }
+                        text = text + LocaleController.getString("LinksTitle", R.string.LinksTitle);
+                    }
+                    if (text.length() == 0) {
+                        text = "";
+                    }
+                    textCell3.setTextAndValue(value, text, true);
+                } else if (i == PlusSettingsActivity.this.showMySettingsRow) {
+                    int FLAGS = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).getInt("showMySettings", 0);
+                    boolean showVersion = (FLAGS & 1) == 1;
+                    boolean showLanguage = (FLAGS & 2) == 2;
+                    value = prefix + LocaleController.getString("ShowMySettings", R.string.ShowMySettings);
+                    text = "";
+                    if (showVersion) {
+                        text = text + LocaleController.getString("PlusVersion", R.string.PlusVersion);
+                    }
+                    if (showLanguage) {
+                        if (text.length() != 0) {
+                            text = text + ", ";
+                        }
+                        text = text + LocaleController.getString("Language", R.string.Language);
+                    }
+                    if (text.length() == 0) {
+                        text = "";
+                    }
+                    textCell3.setTextAndValue(value, text, true);
+                } else if (i == PlusSettingsActivity.this.savePlusSettingsRow) {
+                    textCell3.setMultilineDetail(true);
+                    textCell3.setTextAndValue(LocaleController.getString("SaveSettings", R.string.SaveSettings), LocaleController.getString("SaveSettingsSum", R.string.SaveSettingsSum) + " (" + LocaleController.getString("AlsoFavorites", R.string.AlsoFavorites) + ")", true);
+                } else if (i == PlusSettingsActivity.this.restorePlusSettingsRow) {
+                    textCell3.setMultilineDetail(true);
+                    textCell3.setTextAndValue(LocaleController.getString("RestoreSettings", R.string.RestoreSettings), LocaleController.getString("RestoreSettingsSum", R.string.RestoreSettingsSum), true);
+                } else if (i == PlusSettingsActivity.this.resetPlusSettingsRow) {
+                    textCell3.setMultilineDetail(true);
+                    textCell3.setTextAndValue(LocaleController.getString("ResetSettings", R.string.ResetSettings), LocaleController.getString("ResetSettingsSum", R.string.ResetSettingsSum), false);
+                }
+            } else if (type == 7) {
+                if (view == null) {
+                    shadowSectionCell = new TextInfoPrivacyCell(this.mContext);
+                }
+                if (i == PlusSettingsActivity.this.keepOriginalFilenameDetailRow) {
+                    ((TextInfoPrivacyCell) view).setText(LocaleController.getString("KeepOriginalFilenameHelp", R.string.KeepOriginalFilenameHelp));
+                    view.setBackgroundResource(R.drawable.greydivider);
+                } else if (i == PlusSettingsActivity.this.showOnlineToastNotificationDetailRow) {
+                    ((TextInfoPrivacyCell) view).setText(LocaleController.getString("OnlineToastHelp", R.string.OnlineToastHelp));
+                    view.setBackgroundResource(R.drawable.greydivider);
+                }
+            }
+            if (view != null) {
+                view.setBackgroundColor(Theme.usePlusTheme ? Theme.prefBGColor : Theme.getColor(Theme.key_windowBackgroundWhite));
+            }
+            return view;
+        }
+
+        public int getItemViewType(int i) {
+            if (i == PlusSettingsActivity.this.messagesSectionRow || i == PlusSettingsActivity.this.profileSectionRow || i == PlusSettingsActivity.this.drawerSectionRow || i == PlusSettingsActivity.this.privacySectionRow || i == PlusSettingsActivity.this.mediaDownloadSection || i == PlusSettingsActivity.this.dialogsSectionRow || i == PlusSettingsActivity.this.notificationSectionRow || i == PlusSettingsActivity.this.toastNotificationSectionRow || i == PlusSettingsActivity.this.plusSettingsSectionRow) {
+                return 0;
+            }
+            if (i == PlusSettingsActivity.this.settingsSectionRow2 || i == PlusSettingsActivity.this.messagesSectionRow2 || i == PlusSettingsActivity.this.profileSectionRow2 || i == PlusSettingsActivity.this.drawerSectionRow2 || i == PlusSettingsActivity.this.privacySectionRow2 || i == PlusSettingsActivity.this.mediaDownloadSection2 || i == PlusSettingsActivity.this.dialogsSectionRow2 || i == PlusSettingsActivity.this.notificationSection2Row || i == PlusSettingsActivity.this.toastNotificationSection2Row || i == PlusSettingsActivity.this.plusSettingsSectionRow2) {
+                return 1;
+            }
+            if (i == PlusSettingsActivity.this.disableAudioStopRow || i == PlusSettingsActivity.this.disableMessageClickRow || i == PlusSettingsActivity.this.dialogsHideTabsCheckRow || i == PlusSettingsActivity.this.dialogsDisableTabsAnimationCheckRow || i == PlusSettingsActivity.this.dialogsInfiniteTabsSwipe || i == PlusSettingsActivity.this.dialogsHideTabsCounters || i == PlusSettingsActivity.this.dialogsTabsCountersCountChats || i == PlusSettingsActivity.this.dialogsTabsCountersCountNotMuted || i == PlusSettingsActivity.this.showAndroidEmojiRow || i == PlusSettingsActivity.this.useDeviceFontRow || i == PlusSettingsActivity.this.keepOriginalFilenameRow || i == PlusSettingsActivity.this.hideMobileNumberRow || i == PlusSettingsActivity.this.showUsernameRow || i == PlusSettingsActivity.this.chatDirectShareToMenu || i == PlusSettingsActivity.this.chatDirectShareReplies || i == PlusSettingsActivity.this.chatDirectShareFavsFirst || i == PlusSettingsActivity.this.chatShowEditedMarkRow || i == PlusSettingsActivity.this.chatShowDateToastRow || i == PlusSettingsActivity.this.chatHideLeftGroupRow || i == PlusSettingsActivity.this.chatHideJoinedGroupRow || i == PlusSettingsActivity.this.chatHideBotKeyboardRow || i == PlusSettingsActivity.this.notificationInvertMessagesOrderRow || i == PlusSettingsActivity.this.chatSearchUserOnTwitterRow || i == PlusSettingsActivity.this.chatShowPhotoQualityBarRow || i == PlusSettingsActivity.this.dialogsTabsTextModeRow || i == PlusSettingsActivity.this.dialogsExpandTabsRow || i == PlusSettingsActivity.this.dialogsDisableTabsScrollingRow || i == PlusSettingsActivity.this.dialogsTabsToBottomRow || i == PlusSettingsActivity.this.dialogsHideSelectedTabIndicator || i == PlusSettingsActivity.this.showTypingToastNotificationRow || i == PlusSettingsActivity.this.toastNotificationToBottomRow || i == PlusSettingsActivity.this.showOnlineToastNotificationRow || i == PlusSettingsActivity.this.showOfflineToastNotificationRow || i == PlusSettingsActivity.this.showToastOnlyIfContactFavRow || i == PlusSettingsActivity.this.enableDirectReplyRow || i == PlusSettingsActivity.this.chatShowQuickBarRow || i == PlusSettingsActivity.this.chatVerticalQuickBarRow || i == PlusSettingsActivity.this.chatAlwaysBackToMainRow || i == PlusSettingsActivity.this.chatDoNotCloseQuickBarRow || i == PlusSettingsActivity.this.chatHideQuickBarOnScrollRow || i == PlusSettingsActivity.this.chatCenterQuickBarBtnRow || i == PlusSettingsActivity.this.chatShowMembersQuickBarRow || i == PlusSettingsActivity.this.chatSaveToCloudQuoteRow || i == PlusSettingsActivity.this.chatSwipeToReplyRow || i == PlusSettingsActivity.this.hideNotificationsIfPlayingRow || i == PlusSettingsActivity.this.chatHideInstantCameraRow || i == PlusSettingsActivity.this.chatDoNotHideStickersTabRow || i == PlusSettingsActivity.this.chatPhotoViewerHideStatusBarRow || i == PlusSettingsActivity.this.profileEnableGoToMsgRow || i == PlusSettingsActivity.this.dialogsDoNotChangeHeaderTitleRow || i == PlusSettingsActivity.this.chatDrawSingleBigEmojiRow || i == PlusSettingsActivity.this.dialogsLimitTabsCountersRow || i == PlusSettingsActivity.this.chatMarkdownRow || i == PlusSettingsActivity.this.moveVersionToSettingsRow) {
+                return 3;
+            }
+            if (i == PlusSettingsActivity.this.emojiPopupSize || i == PlusSettingsActivity.this.dialogsTabsTextSizeRow || i == PlusSettingsActivity.this.dialogsTabsHeightRow || i == PlusSettingsActivity.this.dialogsPicClickRow || i == PlusSettingsActivity.this.dialogsGroupPicClickRow || i == PlusSettingsActivity.this.chatPhotoQualityRow || i == PlusSettingsActivity.this.toastNotificationSizeRow || i == PlusSettingsActivity.this.toastNotificationPaddingRow || i == PlusSettingsActivity.this.toastNotificationPositionRow || i == PlusSettingsActivity.this.chatsToLoadRow || i == PlusSettingsActivity.this.dialogsManageTabsRow) {
+                return 2;
+            }
+            if (i == PlusSettingsActivity.this.dialogsTabsRow || i == PlusSettingsActivity.this.chatShowDirectShareBtn || i == PlusSettingsActivity.this.profileSharedOptionsRow || i == PlusSettingsActivity.this.savePlusSettingsRow || i == PlusSettingsActivity.this.restorePlusSettingsRow || i == PlusSettingsActivity.this.resetPlusSettingsRow || i == PlusSettingsActivity.this.showMySettingsRow) {
+                return 6;
+            }
+            if (i == PlusSettingsActivity.this.keepOriginalFilenameDetailRow || i == PlusSettingsActivity.this.showOnlineToastNotificationDetailRow) {
+                return 7;
+            }
+            return 2;
+        }
+
+        public int getViewTypeCount() {
+            return 8;
+        }
+
+        public boolean isEmpty() {
+            return false;
+        }
+    }
+
+    public boolean onFragmentCreate() {
+        super.onFragmentCreate();
+        NotificationCenter.getInstance().addObserver(this, NotificationCenter.refreshTabs);
+        this.rowCount = 0;
+        int i = this.rowCount;
+        this.rowCount = i + 1;
+        this.settingsSectionRow2 = i;
+        if (VERSION.SDK_INT >= 19) {
+            i = this.rowCount;
+            this.rowCount = i + 1;
+            this.showAndroidEmojiRow = i;
+        } else {
+            this.showAndroidEmojiRow = -1;
+        }
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.useDeviceFontRow = i;
+        this.chatsToLoadRow = -1;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dialogsSectionRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dialogsSectionRow2 = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dialogsHideTabsCheckRow = i;
+        this.dialogsTabsRow = -1;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dialogsManageTabsRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dialogsTabsHeightRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dialogsTabsTextModeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dialogsTabsTextSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dialogsExpandTabsRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dialogsTabsToBottomRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dialogsDisableTabsScrollingRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dialogsDisableTabsAnimationCheckRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dialogsInfiniteTabsSwipe = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dialogsHideTabsCounters = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dialogsTabsCountersCountNotMuted = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dialogsTabsCountersCountChats = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dialogsLimitTabsCountersRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dialogsHideSelectedTabIndicator = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dialogsDoNotChangeHeaderTitleRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dialogsPicClickRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dialogsGroupPicClickRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.messagesSectionRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.messagesSectionRow2 = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.emojiPopupSize = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.disableAudioStopRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.disableMessageClickRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatShowDirectShareBtn = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatDirectShareReplies = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatDirectShareToMenu = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatDirectShareFavsFirst = i;
+        this.chatShowEditedMarkRow = -1;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatHideLeftGroupRow = i;
+        this.chatHideJoinedGroupRow = -1;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatHideBotKeyboardRow = i;
+        this.chatShowDateToastRow = -1;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatSearchUserOnTwitterRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatShowPhotoQualityBarRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatPhotoQualityRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatShowQuickBarRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatVerticalQuickBarRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatAlwaysBackToMainRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatDoNotCloseQuickBarRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatHideQuickBarOnScrollRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatCenterQuickBarBtnRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatShowMembersQuickBarRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatSaveToCloudQuoteRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatSwipeToReplyRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatHideInstantCameraRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatDoNotHideStickersTabRow = i;
+        this.chatMarkdownRow = -1;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatDrawSingleBigEmojiRow = i;
+        this.chatPhotoViewerHideStatusBarRow = -1;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.drawerSectionRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.drawerSectionRow2 = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.showUsernameRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.moveVersionToSettingsRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.profileSectionRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.profileSectionRow2 = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.profileSharedOptionsRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.profileEnableGoToMsgRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.notificationSectionRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.notificationSection2Row = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.hideNotificationsIfPlayingRow = i;
+        this.notificationInvertMessagesOrderRow = -1;
+        this.enableDirectReplyRow = -1;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.toastNotificationSectionRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.toastNotificationSection2Row = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.showTypingToastNotificationRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.showOnlineToastNotificationRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.showOnlineToastNotificationDetailRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.toastNotificationToBottomRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.toastNotificationPositionRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.toastNotificationSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.toastNotificationPaddingRow = i;
+        this.showToastOnlyIfContactFavRow = -1;
+        this.showOfflineToastNotificationRow = -1;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.privacySectionRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.privacySectionRow2 = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.hideMobileNumberRow = i;
+        if (UserConfig.getCurrentUser().username == null) {
+            this.showMySettingsRow = -1;
+            i = this.rowCount;
+            this.rowCount = i + 1;
+            this.mediaDownloadSection = i;
+            i = this.rowCount;
+            this.rowCount = i + 1;
+            this.mediaDownloadSection2 = i;
+            i = this.rowCount;
+            this.rowCount = i + 1;
+            this.keepOriginalFilenameRow = i;
+            i = this.rowCount;
+            this.rowCount = i + 1;
+            this.keepOriginalFilenameDetailRow = i;
+            i = this.rowCount;
+            this.rowCount = i + 1;
+            this.plusSettingsSectionRow = i;
+            i = this.rowCount;
+            this.rowCount = i + 1;
+            this.plusSettingsSectionRow2 = i;
+            i = this.rowCount;
+            this.rowCount = i + 1;
+            this.savePlusSettingsRow = i;
+            i = this.rowCount;
+            this.rowCount = i + 1;
+            this.restorePlusSettingsRow = i;
+            i = this.rowCount;
+            this.rowCount = i + 1;
+            this.resetPlusSettingsRow = i;
+            this.showPrefix = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).getBoolean("plusShowPrefix", true);
+            MessagesController.getInstance().loadFullUser(UserConfig.getCurrentUser(), this.classGuid, true);
+        } else {
+            this.showMySettingsRow = -1;
+            i = this.rowCount;
+            this.rowCount = i + 1;
+            this.mediaDownloadSection = i;
+            i = this.rowCount;
+            this.rowCount = i + 1;
+            this.mediaDownloadSection2 = i;
+            i = this.rowCount;
+            this.rowCount = i + 1;
+            this.keepOriginalFilenameRow = i;
+            i = this.rowCount;
+            this.rowCount = i + 1;
+            this.keepOriginalFilenameDetailRow = i;
+            i = this.rowCount;
+            this.rowCount = i + 1;
+            this.plusSettingsSectionRow = i;
+            i = this.rowCount;
+            this.rowCount = i + 1;
+            this.plusSettingsSectionRow2 = i;
+            i = this.rowCount;
+            this.rowCount = i + 1;
+            this.savePlusSettingsRow = i;
+            i = this.rowCount;
+            this.rowCount = i + 1;
+            this.restorePlusSettingsRow = i;
+            i = this.rowCount;
+            this.rowCount = i + 1;
+            this.resetPlusSettingsRow = i;
+            this.showPrefix = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).getBoolean("plusShowPrefix", true);
+            MessagesController.getInstance().loadFullUser(UserConfig.getCurrentUser(), this.classGuid, true);
+        }
+        return true;
+    }
+
+    public void onFragmentDestroy() {
+        super.onFragmentDestroy();
+        NotificationCenter.getInstance().removeObserver(this, NotificationCenter.refreshTabs);
+    }
+
+    public View createView(Context context) {
+
+        this.actionBar.setBackButtonImage(R.drawable.ic_ab_back);
+        if (AndroidUtilities.isTablet()) {
+            this.actionBar.setOccupyStatusBar(false);
+        }
+        this.actionBar.setTitle(LocaleController.getString("PlusSettings", R.string.PlusSettings));
+        this.actionBar.setActionBarMenuOnItemClick(new ActionBarMenuOnItemClick() {
+            public void onItemClick(int id) {
+                if (id == -1) {
+                    PlusSettingsActivity.this.finishFragment();
+                }
+            }
+        });
+        this.actionBar.setOnClickListener(new OnClickListener() {
+            public void onClick(View v) {
+                boolean z;
+                PlusSettingsActivity plusSettingsActivity = PlusSettingsActivity.this;
+                if (PlusSettingsActivity.this.showPrefix) {
+                    z = false;
+                } else {
+                    z = true;
+                }
+                plusSettingsActivity.showPrefix = z;
+                ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit().putBoolean("plusShowPrefix", PlusSettingsActivity.this.showPrefix).apply();
+                if (PlusSettingsActivity.this.listAdapter != null) {
+                    PlusSettingsActivity.this.listAdapter.notifyDataSetChanged();
+                }
+            }
+        });
+        this.listAdapter = new ListAdapter(context);
+        this.fragmentView = new FrameLayout(context);
+        FrameLayout frameLayout = (FrameLayout) this.fragmentView;
+        this.listView = new ListView(context);
+        if (Theme.usePlusTheme) {
+            this.listView.setBackgroundColor(Theme.prefBGColor);
+        }
+        this.listView.setDivider(null);
+        this.listView.setDividerHeight(0);
+        this.listView.setVerticalScrollBarEnabled(false);
+        this.listView.setAdapter(this.listAdapter);
+        AndroidUtilities.setListViewEdgeEffectColor(this.listView, Theme.prefActionbarColor);
+        frameLayout.addView(this.listView, LayoutHelper.createFrame(-1, -1, 51));
+        this.listView.setAdapter(this.listAdapter);
+        this.listView.setOnItemClickListener(new OnItemClickListener() {
+            public void onItemClick(AdapterView<?> adapterView, View view, int i, long l) {
+                Builder builder;
+                NumberPicker numberPicker;
+                final NumberPicker view2;
+                if (i == PlusSettingsActivity.this.emojiPopupSize) {
+                    if (PlusSettingsActivity.this.getParentActivity() != null) {
+                        builder = new Builder(PlusSettingsActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("EmojiPopupSize", R.string.EmojiPopupSize));
+                        numberPicker = new NumberPicker(PlusSettingsActivity.this.getParentActivity());
+                        numberPicker.setMinValue(60);
+                        numberPicker.setMaxValue(100);
+                        numberPicker.setValue(ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).getInt("emojiPopupSize", AndroidUtilities.isTablet() ? 65 : 60));
+                        builder.setView(numberPicker);
+                        view2 = numberPicker;
+                        builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                SharedPreferences.Editor editor = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit();
+                                editor.putInt("emojiPopupSize", view2.getValue());
+                                editor.apply();
+                                if (PlusSettingsActivity.this.listView != null) {
+                                    PlusSettingsActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        PlusSettingsActivity.this.showDialog(builder.create());
+                    }
+                } else if (i == PlusSettingsActivity.this.chatPhotoQualityRow) {
+                    if (PlusSettingsActivity.this.getParentActivity() != null) {
+                        builder = new Builder(PlusSettingsActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("PhotoQuality", R.string.PhotoQuality));
+                        numberPicker = new NumberPicker(PlusSettingsActivity.this.getParentActivity());
+                        numberPicker.setMinValue(1);
+                        numberPicker.setMaxValue(100);
+                        numberPicker.setValue(Theme.plusPhotoQuality);
+                        builder.setView(numberPicker);
+                        view2 = numberPicker;
+                        builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                SharedPreferences.Editor editor = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit();
+                                editor.putInt("photoQuality", view2.getValue());
+                                editor.apply();
+                                Theme.plusPhotoQuality = view2.getValue();
+                                if (PlusSettingsActivity.this.listView != null) {
+                                    PlusSettingsActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        PlusSettingsActivity.this.showDialog(builder.create());
+                    }
+                } else if (i == PlusSettingsActivity.this.showAndroidEmojiRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+//                    //editor = preferences.edit();
+                    boolean enabled = preferences.getBoolean("showAndroidEmoji", false);
+                    preferences.edit().putBoolean("showAndroidEmoji", !enabled);
+                    ApplicationLoader.SHOW_ANDROID_EMOJI = !enabled;
+                    if (ApplicationLoader.SHOW_ANDROID_EMOJI && Theme.plusDrawSingleBigEmoji) {
+                        Theme.plusDrawSingleBigEmoji = false;
+                        preferences.edit().putBoolean("drawSingleBigEmoji", false);
+                    }
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        r42 = (TextCheckCell) view;
+                        if (enabled) {
+                            r35 = false;
+                        } else {
+                            r35 = true;
+                        }
+                        r42.setChecked(r35);
+                    }
+                } else if (i == PlusSettingsActivity.this.useDeviceFontRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+//                    //editor = preferences.edit();
+                    boolean enabled = preferences.getBoolean("useDeviceFont", false);
+                    preferences.edit().putBoolean("useDeviceFont", !enabled);
+                    preferences.edit().apply();
+                    ApplicationLoader.USE_DEVICE_FONT = !enabled;
+                    AndroidUtilities.needRestart = true;
+                    AndroidUtilities.runOnUIThread(new Runnable() {
+                        public void run() {
+                            if (PlusSettingsActivity.this.getParentActivity() != null) {
+                                Toast.makeText(PlusSettingsActivity.this.getParentActivity(), LocaleController.getString("AppWillRestart", R.string.AppWillRestart), Toast.LENGTH_SHORT).show();
+                            }
+                        }
+                    });
+                    if (view instanceof TextCheckCell) {
+                        r42 = (TextCheckCell) view;
+                        if (enabled) {
+                            r35 = false;
+                        } else {
+                            r35 = true;
+                        }
+                        r42.setChecked(r35);
+                    }
+                } else if (i == PlusSettingsActivity.this.disableAudioStopRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean send = preferences.getBoolean("disableAudioStop", false);
+//                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("disableAudioStop", !send);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!send);
+                    }
+                } else if (i == PlusSettingsActivity.this.disableMessageClickRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean send = preferences.getBoolean("disableMessageClick", false);
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("disableMessageClick", !send);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!send);
+                    }
+                } else if (i == PlusSettingsActivity.this.chatDirectShareReplies) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean send = preferences.getBoolean("directShareReplies", false);
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("directShareReplies", !send);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!send);
+                    }
+                } else if (i == PlusSettingsActivity.this.chatDirectShareToMenu) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean send = preferences.getBoolean("directShareToMenu", false);
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("directShareToMenu", !send);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!send);
+                    }
+                } else if (i == PlusSettingsActivity.this.chatDirectShareFavsFirst) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean send = preferences.getBoolean("directShareFavsFirst", false);
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("directShareFavsFirst", !send);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!send);
+                    }
+                } else if (i == PlusSettingsActivity.this.chatShowEditedMarkRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean send = preferences.getBoolean("showEditedMark", true);
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("showEditedMark", !send);
+                    preferences.edit().apply();
+                    Theme.plusShowEditedMark = !send;
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!send);
+                    }
+                } else if (i == PlusSettingsActivity.this.chatShowDateToastRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean show = preferences.getBoolean("showDateToast", true);
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("showDateToast", !show);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!show);
+                    }
+                } else if (i == PlusSettingsActivity.this.chatHideLeftGroupRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean hide = preferences.getBoolean("hideLeftGroup", false);
+                    MessagesController.getInstance().hideLeftGroup = !hide;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("hideLeftGroup", !hide);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        r42 = (TextCheckCell) view;
+                        if (hide) {
+                            r35 = false;
+                        } else {
+                            r35 = true;
+                        }
+                        r42.setChecked(r35);
+                    }
+                } else if (i == PlusSettingsActivity.this.chatHideJoinedGroupRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean hide = preferences.getBoolean("hideJoinedGroup", false);
+                    MessagesController.getInstance().hideJoinedGroup = !hide;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("hideJoinedGroup", !hide);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        r42 = (TextCheckCell) view;
+                        if (hide) {
+                            r35 = false;
+                        } else {
+                            r35 = true;
+                        }
+                        r42.setChecked(r35);
+                    }
+                } else if (i == PlusSettingsActivity.this.chatHideBotKeyboardRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean hide = preferences.getBoolean("hideBotKeyboard", false);
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("hideBotKeyboard", !hide);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!hide);
+                    }
+                } else if (i == PlusSettingsActivity.this.dialogsHideTabsCheckRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    Theme.plusHideTabs = !Theme.plusHideTabs;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("hideTabs", Theme.plusHideTabs);
+                    preferences.edit().apply();
+                    if (Theme.plusHideUsersTab && Theme.plusHideGroupsTab && Theme.plusHideSuperGroupsTab && Theme.plusHideChannelsTab && Theme.plusHideBotsTab && Theme.plusHideFavsTab && PlusSettingsActivity.this.listView != null) {
+                        PlusSettingsActivity.this.listView.invalidateViews();
+                    }
+                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.refreshTabs, Integer.valueOf(10));
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusHideTabs);
+                    }
+                } else if (i == PlusSettingsActivity.this.dialogsTabsTextModeRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    r35 = !Theme.plusTabTitlesMode;
+                    Theme.chatsTabTitlesMode = r35;
+                    Theme.plusTabTitlesMode = r35;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("tabTitlesMode", Theme.plusTabTitlesMode);
+                    preferences.edit().apply();
+                    SharedPreferences.Editor editorTheme = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
+                    editorTheme.putBoolean("chatsTabTitlesMode", Theme.plusTabTitlesMode);
+                    editorTheme.apply();
+                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.refreshTabs, Integer.valueOf(15));
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusTabTitlesMode);
+                    }
+                } else if (i == PlusSettingsActivity.this.dialogsExpandTabsRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    Theme.plusTabsShouldExpand = !Theme.plusTabsShouldExpand;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("tabsShouldExpand", Theme.plusTabsShouldExpand);
+                    preferences.edit().apply();
+                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.refreshTabs, Integer.valueOf(15));
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusTabsShouldExpand);
+                    }
+                } else if (i == PlusSettingsActivity.this.dialogsDoNotChangeHeaderTitleRow) {
+                    Theme.plusDoNotChangeHeaderTitle = !Theme.plusDoNotChangeHeaderTitle;
+                    SharedPreferences.Editor editor = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit();
+                    editor.putBoolean("doNotChangeHeaderTitle", Theme.plusDoNotChangeHeaderTitle);
+                    editor.apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusDoNotChangeHeaderTitle);
+                    }
+                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.refreshTabs, Integer.valueOf(11));
+                } else if (i == PlusSettingsActivity.this.dialogsDisableTabsScrollingRow) {
+                    Theme.plusDisableTabsScrolling = !Theme.plusDisableTabsScrolling;
+                    SharedPreferences.Editor editor = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit();
+                    editor.putBoolean("disableTabsScrolling", Theme.plusDisableTabsScrolling);
+                    editor.apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusDisableTabsScrolling);
+                    }
+                } else if (i == PlusSettingsActivity.this.dialogsTabsToBottomRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    r35 = !Theme.plusTabsToBottom;
+                    Theme.chatsTabsToBottom = r35;
+                    Theme.plusTabsToBottom = r35;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("tabsToBottom", Theme.plusTabsToBottom);
+                    preferences.edit().apply();
+                    SharedPreferences.Editor editorTheme = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
+                    editorTheme.putBoolean("chatsTabsToBottom", Theme.plusTabsToBottom);
+                    editorTheme.apply();
+                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.refreshTabs, Integer.valueOf(14));
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusTabsToBottom);
+                    }
+                } else if (i == PlusSettingsActivity.this.dialogsHideSelectedTabIndicator) {
+                    Theme.plusHideTabsSelector = !Theme.plusHideTabsSelector;
+                    SharedPreferences.Editor editor = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit();
+                    editor.putBoolean("hideSelectedTabIndicator", Theme.plusHideTabsSelector);
+                    editor.apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusHideTabsSelector);
+                    }
+                } else if (i == PlusSettingsActivity.this.dialogsDisableTabsAnimationCheckRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    Theme.plusDisableTabsAnimation = !Theme.plusDisableTabsAnimation;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("disableTabsAnimation", Theme.plusDisableTabsAnimation);
+                    preferences.edit().apply();
+                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.refreshTabs, Integer.valueOf(11));
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusDisableTabsAnimation);
+                    }
+                } else if (i == PlusSettingsActivity.this.dialogsInfiniteTabsSwipe) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    Theme.plusInfiniteTabsSwipe = !Theme.plusInfiniteTabsSwipe;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("infiniteTabsSwipe", Theme.plusInfiniteTabsSwipe);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusInfiniteTabsSwipe);
+                    }
+                } else if (i == PlusSettingsActivity.this.dialogsHideTabsCounters) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    Theme.plusHideTabsCounters = !Theme.plusHideTabsCounters;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("hideTabsCounters", Theme.plusHideTabsCounters);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusHideTabsCounters);
+                    }
+                } else if (i == PlusSettingsActivity.this.dialogsLimitTabsCountersRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    Theme.plusLimitTabsCounters = !Theme.plusLimitTabsCounters;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("limitTabsCounters", Theme.plusLimitTabsCounters);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusLimitTabsCounters);
+                    }
+                } else if (i == PlusSettingsActivity.this.dialogsTabsCountersCountChats) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    Theme.plusTabsCountersCountChats = !Theme.plusTabsCountersCountChats;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("tabsCountersCountChats", Theme.plusTabsCountersCountChats);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusTabsCountersCountChats);
+                    }
+                } else if (i == PlusSettingsActivity.this.dialogsTabsCountersCountNotMuted) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    Theme.plusTabsCountersCountNotMuted = !Theme.plusTabsCountersCountNotMuted;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("tabsCountersCountNotMuted", Theme.plusTabsCountersCountNotMuted);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusTabsCountersCountNotMuted);
+                    }
+                } else if (i == PlusSettingsActivity.this.showUsernameRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    Theme.plusShowUsername = !Theme.plusShowUsername;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("showUsername", Theme.plusShowUsername);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusShowUsername);
+                    }
+                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.mainUserInfoChanged, new Object[0]);
+                } else if (i == PlusSettingsActivity.this.moveVersionToSettingsRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    Theme.plusMoveVersionToSettings = !Theme.plusMoveVersionToSettings;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("moveVersionToSettings", Theme.plusMoveVersionToSettings);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusMoveVersionToSettings);
+                    }
+                } else if (i == PlusSettingsActivity.this.profileEnableGoToMsgRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    Theme.plusProfileEnableGoToMsg = !Theme.plusProfileEnableGoToMsg;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("profileEnableGoToMsg", Theme.plusProfileEnableGoToMsg);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusProfileEnableGoToMsg);
+                    }
+                } else if (i == PlusSettingsActivity.this.hideMobileNumberRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    Theme.plusHideMobile = !Theme.plusHideMobile;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("hideMobile", Theme.plusHideMobile);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusHideMobile);
+                    }
+                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.mainUserInfoChanged, new Object[0]);
+                } else if (i == PlusSettingsActivity.this.keepOriginalFilenameRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean keep = preferences.getBoolean("keepOriginalFilename", false);
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("keepOriginalFilename", !keep);
+                    preferences.edit().apply();
+                    ApplicationLoader.KEEP_ORIGINAL_FILENAME = !keep;
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!keep);
+                    }
+                } else if (i == PlusSettingsActivity.this.dialogsPicClickRow) {
+                    if (PlusSettingsActivity.this.getParentActivity() != null) {
+                        builder = new Builder(PlusSettingsActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("ClickOnContactPic", R.string.ClickOnContactPic));
+                        builder.setItems(new CharSequence[]{LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled), LocaleController.getString("ShowPics", R.string.ShowPics), LocaleController.getString("ShowProfile", R.string.ShowProfile)}, new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                SharedPreferences.Editor editor = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit();
+                                editor.putInt("dialogsClickOnPic", which);
+                                editor.apply();
+                                if (PlusSettingsActivity.this.listView != null) {
+                                    PlusSettingsActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                        PlusSettingsActivity.this.showDialog(builder.create());
+                    }
+                } else if (i == PlusSettingsActivity.this.dialogsGroupPicClickRow) {
+                    if (PlusSettingsActivity.this.getParentActivity() != null) {
+                        builder = new Builder(PlusSettingsActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("ClickOnGroupPic", R.string.ClickOnGroupPic));
+                        builder.setItems(new CharSequence[]{LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled), LocaleController.getString("ShowPics", R.string.ShowPics), LocaleController.getString("ShowProfile", R.string.ShowProfile)}, new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                SharedPreferences.Editor editor = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit();
+                                editor.putInt("dialogsClickOnGroupPic", which);
+                                editor.apply();
+                                if (PlusSettingsActivity.this.listView != null) {
+                                    PlusSettingsActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                        PlusSettingsActivity.this.showDialog(builder.create());
+                    }
+                } else if (i == PlusSettingsActivity.this.dialogsTabsTextSizeRow) {
+                    if (PlusSettingsActivity.this.getParentActivity() != null) {
+                        builder = new Builder(PlusSettingsActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("TabsTextSize", R.string.TabsTextSize));
+                        numberPicker = new NumberPicker(PlusSettingsActivity.this.getParentActivity());
+                        numberPicker.setMinValue(8);
+                        numberPicker.setMaxValue(18);
+                        numberPicker.setValue(Theme.plusTabsTextSize);
+                        builder.setView(numberPicker);
+                        view2 = numberPicker;
+                        builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                int value = view2.getValue();
+                                Theme.chatsTabsTextSize = value;
+                                Theme.plusTabsTextSize = value;
+                                SharedPreferences.Editor editor = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit();
+                                editor.putInt("tabsTextSize", Theme.plusTabsTextSize);
+                                editor.apply();
+                                Editor editorTheme = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
+                                editorTheme.putInt("chatsTabsTextSize", Theme.plusTabsTextSize);
+                                editorTheme.apply();
+                                NotificationCenter.getInstance().postNotificationName(NotificationCenter.refreshTabs, Integer.valueOf(15));
+                                if (PlusSettingsActivity.this.listView != null) {
+                                    PlusSettingsActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        PlusSettingsActivity.this.showDialog(builder.create());
+                    }
+                } else if (i == PlusSettingsActivity.this.dialogsTabsHeightRow) {
+                    if (PlusSettingsActivity.this.getParentActivity() != null) {
+                        builder = new Builder(PlusSettingsActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("TabsHeight", R.string.TabsHeight));
+                        numberPicker = new NumberPicker(PlusSettingsActivity.this.getParentActivity());
+                        numberPicker.setMinValue(30);
+                        numberPicker.setMaxValue(48);
+                        numberPicker.setValue(Theme.plusTabsHeight);
+                        builder.setView(numberPicker);
+                        view2 = numberPicker;
+                        builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                SharedPreferences.Editor editor = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit();
+                                Theme.plusTabsHeight = view2.getValue();
+                                editor.putInt("tabsHeight", Theme.plusTabsHeight);
+                                editor.apply();
+                                NotificationCenter.getInstance().postNotificationName(NotificationCenter.refreshTabs, Integer.valueOf(12));
+                                if (PlusSettingsActivity.this.listView != null) {
+                                    PlusSettingsActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        PlusSettingsActivity.this.showDialog(builder.create());
+                    }
+                } else if (i == PlusSettingsActivity.this.dialogsManageTabsRow) {
+                    PlusSettingsActivity.this.presentFragment(new PlusManageTabsActivity());
+                } else if (i == PlusSettingsActivity.this.dialogsTabsRow) {
+                    if (PlusSettingsActivity.this.getParentActivity() != null) {
+                        builder = new Builder(PlusSettingsActivity.this.getParentActivity());
+                        PlusSettingsActivity.this.createTabsDialog(builder);
+                        builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                NotificationCenter.getInstance().postNotificationName(NotificationCenter.refreshTabs, Integer.valueOf(13));
+                                if (PlusSettingsActivity.this.listView != null) {
+                                    PlusSettingsActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        PlusSettingsActivity.this.showDialog(builder.create());
+                    }
+                } else if (i == PlusSettingsActivity.this.profileSharedOptionsRow) {
+                    if (PlusSettingsActivity.this.getParentActivity() != null) {
+                        builder = new Builder(PlusSettingsActivity.this.getParentActivity());
+                        PlusSettingsActivity.this.createSharedOptions(builder);
+                        builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                if (PlusSettingsActivity.this.listView != null) {
+                                    PlusSettingsActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        PlusSettingsActivity.this.showDialog(builder.create());
+                    }
+                } else if (i == PlusSettingsActivity.this.showMySettingsRow) {
+                    if (PlusSettingsActivity.this.getParentActivity() != null) {
+                        builder = new Builder(PlusSettingsActivity.this.getParentActivity());
+                        PlusSettingsActivity.this.createMySettingsOptions(builder);
+                        SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                        final int FLAGS = preferences.getInt("showMySettings", 0);
+//                        final SharedPreferences = preferences;
+                        builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+
+                                if (FLAGS != preferences.getInt("showMySettings", 0)) {
+                                    PlusSettingsActivity.this.getUserAbout();
+                                }
+                                if (PlusSettingsActivity.this.listView != null) {
+                                    PlusSettingsActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        PlusSettingsActivity.this.showDialog(builder.create());
+                    }
+                } else if (i == PlusSettingsActivity.this.chatShowDirectShareBtn) {
+                    if (PlusSettingsActivity.this.getParentActivity() != null) {
+                        builder = new Builder(PlusSettingsActivity.this.getParentActivity());
+                        PlusSettingsActivity.this.createDialog(builder, PlusSettingsActivity.this.chatShowDirectShareBtn);
+                        builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                if (PlusSettingsActivity.this.listView != null) {
+                                    PlusSettingsActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        PlusSettingsActivity.this.showDialog(builder.create());
+                    }
+                } else if (i == PlusSettingsActivity.this.notificationInvertMessagesOrderRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean scr = preferences.getBoolean("invertMessagesOrder", false);
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("invertMessagesOrder", !scr);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!scr);
+                    }
+                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.mainUserInfoChanged, new Object[0]);
+                } else if (i == PlusSettingsActivity.this.hideNotificationsIfPlayingRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    Theme.plusHideNotificationsIfPlaying = !Theme.plusHideNotificationsIfPlaying;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("hideNotificationsIfPlaying", Theme.plusHideNotificationsIfPlaying);
+                    preferences.edit().apply();
+                    AndroidUtilities.playingAGame = false;
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusHideNotificationsIfPlaying);
+                    }
+                } else if (i == PlusSettingsActivity.this.enableDirectReplyRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    Theme.plusEnableDirectReply = !Theme.plusEnableDirectReply;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("enableDirectReply", Theme.plusEnableDirectReply);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusEnableDirectReply);
+                    }
+                } else if (i == PlusSettingsActivity.this.chatShowQuickBarRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean bol = Theme.plusShowQuickBar;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("showQuickBar", !bol);
+                    preferences.edit().apply();
+                    Theme.plusShowQuickBar = !bol;
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!bol);
+                    }
+                    if (PlusSettingsActivity.this.listView != null) {
+                        PlusSettingsActivity.this.listView.invalidateViews();
+                    }
+                } else if (i == PlusSettingsActivity.this.chatPhotoViewerHideStatusBarRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    Theme.plusPhotoViewerHideStatusBar = !Theme.plusPhotoViewerHideStatusBar;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("photoViewerHideStatusBar", Theme.plusPhotoViewerHideStatusBar);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusPhotoViewerHideStatusBar);
+                    }
+                    if (PlusSettingsActivity.this.listView != null) {
+                        PlusSettingsActivity.this.listView.invalidateViews();
+                    }
+                } else if (i == PlusSettingsActivity.this.chatDrawSingleBigEmojiRow) {
+                    if ((ApplicationLoader.SHOW_ANDROID_EMOJI || MessagesController.getInstance().useSystemEmoji) && !Theme.plusDrawSingleBigEmoji) {
+                        AndroidUtilities.runOnUIThread(new Runnable() {
+                            public void run() {
+                                if (PlusSettingsActivity.this.getParentActivity() != null) {
+                                    Toast.makeText(PlusSettingsActivity.this.getParentActivity(), LocaleController.getString("EmojiBigSizeInfo", R.string.EmojiBigSizeInfo), Toast.LENGTH_SHORT).show();
+                                }
+                            }
+                        });
+                        return;
+                    }
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    Theme.plusDrawSingleBigEmoji = !Theme.plusDrawSingleBigEmoji;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("drawSingleBigEmoji", Theme.plusDrawSingleBigEmoji);
+                    preferences.edit().apply();
+                    MessagesController.getInstance().allowBigEmoji = Theme.plusDrawSingleBigEmoji;
+                    SharedPreferences.Editor editor = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", 0).edit();
+                    editor.putBoolean("allowBigEmoji", Theme.plusDrawSingleBigEmoji);
+                    editor.apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusDrawSingleBigEmoji);
+                    }
+                } else if (i == PlusSettingsActivity.this.chatMarkdownRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    Theme.plusEnableMarkdown = !Theme.plusEnableMarkdown;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("enableMarkdown", Theme.plusEnableMarkdown);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusEnableMarkdown);
+                    }
+                } else if (i == PlusSettingsActivity.this.chatDoNotHideStickersTabRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    Theme.plusDoNotHideStickersTab = !Theme.plusDoNotHideStickersTab;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("doNotHideStickersTab", Theme.plusDoNotHideStickersTab);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusDoNotHideStickersTab);
+                    }
+                    if (PlusSettingsActivity.this.listView != null) {
+                        PlusSettingsActivity.this.listView.invalidateViews();
+                    }
+                } else if (i == PlusSettingsActivity.this.chatHideInstantCameraRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    Theme.plusHideInstantCamera = !Theme.plusHideInstantCamera;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("hideInstantCamera", Theme.plusHideInstantCamera);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusHideInstantCamera);
+                    }
+                    if (PlusSettingsActivity.this.listView != null) {
+                        PlusSettingsActivity.this.listView.invalidateViews();
+                    }
+                } else if (i == PlusSettingsActivity.this.chatSwipeToReplyRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    Theme.plusSwipeToReply = !Theme.plusSwipeToReply;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("plusSwipeToReply", Theme.plusSwipeToReply);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusSwipeToReply);
+                    }
+                    if (PlusSettingsActivity.this.listView != null) {
+                        PlusSettingsActivity.this.listView.invalidateViews();
+                    }
+                } else if (i == PlusSettingsActivity.this.chatVerticalQuickBarRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean bol = Theme.plusVerticalQuickBar;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("verticalQuickBar", !bol);
+                    preferences.edit().apply();
+                    Theme.plusVerticalQuickBar = !bol;
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!bol);
+                    }
+                } else if (i == PlusSettingsActivity.this.chatAlwaysBackToMainRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean bol = Theme.plusAlwaysBackToMain;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("alwaysBackToMain", !bol);
+                    preferences.edit().apply();
+                    Theme.plusAlwaysBackToMain = !bol;
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!bol);
+                    }
+                } else if (i == PlusSettingsActivity.this.chatDoNotCloseQuickBarRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean bol = Theme.plusDoNotCloseQuickBar;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("doNotCloseQuickBar", !bol);
+                    preferences.edit().apply();
+                    Theme.plusDoNotCloseQuickBar = !bol;
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!bol);
+                    }
+                } else if (i == PlusSettingsActivity.this.chatHideQuickBarOnScrollRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean bol = Theme.plusHideQuickBarOnScroll;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("hideQuickBarOnScroll", !bol);
+                    preferences.edit().apply();
+                    Theme.plusHideQuickBarOnScroll = !bol;
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!bol);
+                    }
+                } else if (i == PlusSettingsActivity.this.chatCenterQuickBarBtnRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean bol = Theme.plusCenterQuickBarBtn;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("centerQuickBarBtn", !bol);
+                    preferences.edit().apply();
+                    Theme.plusCenterQuickBarBtn = !bol;
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!bol);
+                    }
+                } else if (i == PlusSettingsActivity.this.chatShowMembersQuickBarRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean bol = Theme.plusQuickBarShowMembers;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("quickBarShowMembers", !bol);
+                    preferences.edit().apply();
+                    Theme.plusQuickBarShowMembers = !bol;
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!bol);
+                    }
+                } else if (i == PlusSettingsActivity.this.chatSearchUserOnTwitterRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean hide = preferences.getBoolean("searchOnTwitter", true);
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("searchOnTwitter", !hide);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!hide);
+                    }
+                } else if (i == PlusSettingsActivity.this.chatShowPhotoQualityBarRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    Theme.plusShowPhotoQualityBar = !Theme.plusShowPhotoQualityBar;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("showPhotoQualityBar", Theme.plusShowPhotoQualityBar);
+                    preferences.edit().apply();
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(Theme.plusShowPhotoQualityBar);
+                    }
+                } else if (i == PlusSettingsActivity.this.chatSaveToCloudQuoteRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean bol = Theme.plusSaveToCloudQuote;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("saveToCloudQuote", !bol);
+                    preferences.edit().apply();
+                    Theme.plusSaveToCloudQuote = !bol;
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!bol);
+                    }
+                } else if (i == PlusSettingsActivity.this.savePlusSettingsRow) {
+                    View promptsView = LayoutInflater.from(PlusSettingsActivity.this.getParentActivity()).inflate(R.layout.editbox_dialog, null);
+                    builder = new Builder(PlusSettingsActivity.this.getParentActivity());
+                    builder.setView(promptsView);
+                    EditText userInput = (EditText) promptsView.findViewById(R.id.editTextDialogUserInput);
+                    userInput.setHint(LocaleController.getString("EnterName", R.string.EnterName));
+                    userInput.setHintTextColor(Color.BLACK); //TODO Multi Color
+                    SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0);
+                    userInput.getBackground().setColorFilter(themePrefs.getInt(Theme.pkey_dialogColor, themePrefs.getInt(Theme.pkey_themeColor, AndroidUtilities.defColor)), Mode.SRC_IN);
+                    AndroidUtilities.clearCursorDrawable(userInput);
+                    builder.setTitle(LocaleController.getString("SaveSettings", R.string.SaveSettings));
+                    final EditText editText = userInput;
+                    builder.setPositiveButton(LocaleController.getString("OK", R.string.OK), new DialogInterface.OnClickListener() {
+                        public void onClick(DialogInterface dialogInterface, int i) {
+                            if (!PlusSettingsActivity.this.saving) {
+                                final String pName = editText.getText().toString();
+                                if (pName.length() < 1) {
+                                    Toast.makeText(PlusSettingsActivity.this.getParentActivity(), LocaleController.getString("NameTooShort", R.string.NameTooShort), Toast.LENGTH_SHORT).show();
+                                    return;
+                                }
+                                PlusSettingsActivity.this.saving = true;
+                                AndroidUtilities.runOnUIThread(new Runnable() {
+                                    public void run() {
+                                        PlusSettingsActivity.this.saving = false;
+                                        if (PlusSettingsActivity.this.getParentActivity() != null) {
+                                            String path = "/Telegram";
+                                            Utilities.savePreferencesToSD(PlusSettingsActivity.this.getParentActivity(), path, "plusconfig.xml", pName + ".xml", true);
+                                            Utilities.saveDBToSD(PlusSettingsActivity.this.getParentActivity(), path, "favourites", "favorites.db", true);
+                                        }
+                                    }
+                                });
+                            }
+                        }
+                    });
+                    builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                    PlusSettingsActivity.this.showDialog(builder.create());
+                } else if (i == PlusSettingsActivity.this.restorePlusSettingsRow) {
+                    DocumentSelectActivity fragment = new DocumentSelectActivity();
+//                    fragment.fileFilter = ".xml"; //TODO Multi
+//                    fragment.arrayFilter = new String[]{".db"};
+                    fragment.setDelegate(new DocumentSelectActivityDelegate() {
+                        public void didSelectFiles(DocumentSelectActivity activity, ArrayList<String> files) {
+                            PlusSettingsActivity.this.restoreSettings((String) files.get(0));
+                        }
+
+                        public void startDocumentSelectActivity() {
+                        }
+                    });
+                    PlusSettingsActivity.this.presentFragment(fragment);
+                } else if (i == PlusSettingsActivity.this.resetPlusSettingsRow) {
+                    builder = new Builder(PlusSettingsActivity.this.getParentActivity());
+                    builder.setMessage(LocaleController.getString("AreYouSure", R.string.AreYouSure));
+                    builder.setTitle(LocaleController.getString("ResetSettings", R.string.ResetSettings));
+                    builder.setPositiveButton(LocaleController.getString("OK", R.string.OK), new DialogInterface.OnClickListener() {
+                        public void onClick(DialogInterface dialogInterface, int i) {
+                            if (!PlusSettingsActivity.this.reseting) {
+                                PlusSettingsActivity.this.reseting = true;
+                                AndroidUtilities.runOnUIThread(new Runnable() {
+                                    public void run() {
+                                        PlusSettingsActivity.this.reseting = false;
+                                        SharedPreferences.Editor editor = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit();
+                                        editor.clear();
+                                        editor.apply();
+                                        if (PlusSettingsActivity.this.listView != null) {
+                                            PlusSettingsActivity.this.listView.invalidateViews();
+                                            PlusSettingsActivity.this.fixLayout();
+                                        }
+                                    }
+                                });
+                                AndroidUtilities.needRestart = true;
+                                AndroidUtilities.runOnUIThread(new Runnable() {
+                                    public void run() {
+                                        if (PlusSettingsActivity.this.getParentActivity() != null) {
+                                            Toast.makeText(PlusSettingsActivity.this.getParentActivity(), LocaleController.getString("AppWillRestart", R.string.AppWillRestart), Toast.LENGTH_SHORT).show();
+                                        }
+                                    }
+                                });
+                            }
+                        }
+                    });
+                    builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                    PlusSettingsActivity.this.showDialog(builder.create());
+                } else if (i == PlusSettingsActivity.this.showTypingToastNotificationRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean disable = Theme.plusShowTypingToast;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("showTypingToast", !disable);
+                    preferences.edit().apply();
+                    Theme.plusShowTypingToast = !disable;
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!disable);
+                    }
+                } else if (i == PlusSettingsActivity.this.showOnlineToastNotificationRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean disable = Theme.plusShowOnlineToast;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("showOnlineToast", !disable);
+                    preferences.edit().apply();
+                    Theme.plusShowOnlineToast = !disable;
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!disable);
+                    }
+                } else if (i == PlusSettingsActivity.this.showToastOnlyIfContactFavRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean disable = Theme.plusShowOnlyIfContactFav;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("showOnlyIfContactFav", !disable);
+                    preferences.edit().apply();
+                    Theme.plusShowOnlyIfContactFav = !disable;
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!disable);
+                    }
+                } else if (i == PlusSettingsActivity.this.showOfflineToastNotificationRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean disable = Theme.plusShowOfflineToast;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("showOfflineToast", !disable);
+                    preferences.edit().apply();
+                    Theme.plusShowOfflineToast = !disable;
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!disable);
+                    }
+                } else if (i == PlusSettingsActivity.this.toastNotificationSizeRow) {
+                    if (PlusSettingsActivity.this.getParentActivity() != null) {
+                        builder = new Builder(PlusSettingsActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("ToastNotificationSize", R.string.ToastNotificationSize));
+                        numberPicker = new NumberPicker(PlusSettingsActivity.this.getParentActivity());
+                        numberPicker.setMinValue(10);
+                        numberPicker.setMaxValue(20);
+                        numberPicker.setValue(Theme.plusToastNotificationSize);
+                        builder.setView(numberPicker);
+                        view2 = numberPicker;
+                        builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                SharedPreferences.Editor editor = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit();
+                                editor.putInt("toastNotificationSize", view2.getValue());
+                                editor.apply();
+                                Theme.plusToastNotificationSize = view2.getValue();
+                                if (PlusSettingsActivity.this.listView != null) {
+                                    PlusSettingsActivity.this.listView.invalidateViews();
+                                }
+                                NotificationCenter.getInstance().postNotificationName(NotificationCenter.showStatusNotifications, null, Boolean.valueOf(true));
+                            }
+                        });
+                        PlusSettingsActivity.this.showDialog(builder.create());
+                    }
+                } else if (i == PlusSettingsActivity.this.toastNotificationPaddingRow) {
+                    if (PlusSettingsActivity.this.getParentActivity() != null) {
+                        builder = new Builder(PlusSettingsActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("ToastNotificationPadding", R.string.ToastNotificationPadding));
+                        numberPicker = new NumberPicker(PlusSettingsActivity.this.getParentActivity());
+                        numberPicker.setMinValue(0);
+                        numberPicker.setMaxValue(Callback.DEFAULT_DRAG_ANIMATION_DURATION);
+                        numberPicker.setValue(Theme.plusToastNotificationPadding);
+                        builder.setView(numberPicker);
+                        view2 = numberPicker;
+                        builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                SharedPreferences.Editor editor = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit();
+                                editor.putInt("toastNotificationPadding", view2.getValue());
+                                editor.apply();
+                                Theme.plusToastNotificationPadding = view2.getValue();
+                                if (PlusSettingsActivity.this.listView != null) {
+                                    PlusSettingsActivity.this.listView.invalidateViews();
+                                }
+                                NotificationCenter.getInstance().postNotificationName(NotificationCenter.showStatusNotifications, null, Boolean.valueOf(true));
+                            }
+                        });
+                        PlusSettingsActivity.this.showDialog(builder.create());
+                    }
+                } else if (i == PlusSettingsActivity.this.toastNotificationToBottomRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                    boolean disable = Theme.plusToastNotificationToBottom;
+                    //editor = preferences.edit();
+                    preferences.edit().putBoolean("toastNotificationToBottom", !disable);
+                    preferences.edit().apply();
+                    Theme.plusToastNotificationToBottom = !disable;
+                    if (view instanceof TextCheckCell) {
+                        ((TextCheckCell) view).setChecked(!disable);
+                    }
+                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.showStatusNotifications, null, Boolean.valueOf(true));
+                } else if (i == PlusSettingsActivity.this.toastNotificationPositionRow) {
+                    if (PlusSettingsActivity.this.getParentActivity() != null) {
+                        builder = new Builder(PlusSettingsActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("ToastNotificationPosition", R.string.ToastNotificationPosition));
+                        builder.setItems(new CharSequence[]{LocaleController.getString("Left", R.string.Left), LocaleController.getString("Center", R.string.Center), LocaleController.getString("Right", R.string.Right)}, new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                SharedPreferences.Editor editor = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit();
+                                editor.putInt("toastNotificationPosition", which);
+                                editor.apply();
+                                Theme.plusToastNotificationPosition = which;
+                                if (PlusSettingsActivity.this.listView != null) {
+                                    PlusSettingsActivity.this.listView.invalidateViews();
+                                }
+                                NotificationCenter.getInstance().postNotificationName(NotificationCenter.showStatusNotifications, null, Boolean.valueOf(true));
+                            }
+                        });
+                        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                        PlusSettingsActivity.this.showDialog(builder.create());
+                    }
+                } else if (i == PlusSettingsActivity.this.chatsToLoadRow) {
+                    builder = new Builder(PlusSettingsActivity.this.getParentActivity());
+                    builder.setTitle("Chats to load");
+                    builder.setItems(new CharSequence[]{"50", "100", "200", "300", "400", "500", "750", "1000", "1500", "2000", "All"}, new DialogInterface.OnClickListener() {
+                        public void onClick(DialogInterface dialog, int which) {
+                            SharedPreferences.Editor editor = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit();
+                            String param = "chatsToLoad";
+                            int value = 100;
+                            if (which == 0) {
+                                value = 50;
+                            } else if (which == 1) {
+                                value = 100;
+                            } else if (which == 2) {
+                                value = Callback.DEFAULT_DRAG_ANIMATION_DURATION;
+                            } else if (which == 3) {
+                                value = 300;
+                            } else if (which == 4) {
+                                value = 400;
+                            } else if (which == 5) {
+                                value = 500;
+                            } else if (which == 6) {
+                                value = 750;
+                            } else if (which == 7) {
+                                value = 1000;
+                            } else if (which == 8) {
+                                value = ConnectionResult.DRIVE_EXTERNAL_STORAGE_REQUIRED;
+                            } else if (which == 9) {
+                                value = 2000;
+                            } else if (which == 10) {
+                                value = 1000000;
+                            }
+                            Theme.plusChatsToLoad = value;
+                            editor.putInt(param, value);
+                            editor.commit();
+                            if (PlusSettingsActivity.this.listView != null) {
+                                PlusSettingsActivity.this.listView.invalidateViews();
+                            }
+                        }
+                    });
+                    builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                    PlusSettingsActivity.this.showDialog(builder.create());
+                }
+            }
+        });
+        frameLayout.addView(this.actionBar);
+        return this.fragmentView;
+    }
+
+    private void restoreSettings(String xmlFile) {
+        File file = new File(xmlFile);
+        File favFile = null;
+        final String favFilePath = file.getParentFile().toString() + "/favorites.db";
+        if (!file.getName().contains("favorites.db")) {
+            favFile = new File(favFilePath);
+        }
+        final boolean favExists = favFile != null && favFile.exists();
+        Builder builder = new Builder(getParentActivity());
+        builder.setTitle(LocaleController.getString("RestoreSettings", R.string.RestoreSettings));
+        final String name = file.getName();
+        builder.setMessage(file.getName());
+        final String str = xmlFile;
+        builder.setPositiveButton(LocaleController.getString("OK", R.string.OK), new DialogInterface.OnClickListener() {
+            public void onClick(DialogInterface dialogInterface, int i) {
+                AndroidUtilities.runOnUIThread(new Runnable() {
+                    public void run() {
+                        String ext = name.split("\\.")[1];
+                        if (ext == null) {
+                            return;
+                        }
+                        if (ext.contains("xml")) {
+                            if (Utilities.loadPrefFromSD(PlusSettingsActivity.this.getParentActivity(), str, "plusconfig") != 4) {
+                                return;
+                            }
+                            if (favExists) {
+                                PlusSettingsActivity.this.restoreSettings(favFilePath);
+                            } else {
+                                Utilities.restartApp();
+                            }
+                        } else if (ext.contains("db") && Utilities.loadDBFromSD(PlusSettingsActivity.this.getParentActivity(), str, "favourites") == 4) {
+                            Utilities.restartApp();
+                        }
+                    }
+                });
+            }
+        });
+        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+        showDialog(builder.create());
+    }
+
+    private Builder createTabsDialog(Builder builder) {
+        boolean z = true;
+        builder.setTitle(LocaleController.getString("HideShowTabs", R.string.HideShowTabs));
+        CharSequence[] charSequenceArr = new CharSequence[]{LocaleController.getString("All", R.string.All), LocaleController.getString("Users", R.string.Users), LocaleController.getString("Groups", R.string.Groups), LocaleController.getString("SuperGroups", R.string.SuperGroups), LocaleController.getString("Channels", R.string.Channels), LocaleController.getString("Bots", R.string.Bots), LocaleController.getString("Favorites", R.string.Favorites)};
+        boolean[] zArr = new boolean[7];
+        zArr[0] = !Theme.plusHideAllTab;
+        zArr[1] = !Theme.plusHideUsersTab;
+        zArr[2] = !Theme.plusHideGroupsTab;
+        zArr[3] = !Theme.plusHideSuperGroupsTab;
+        zArr[4] = !Theme.plusHideChannelsTab;
+        zArr[5] = !Theme.plusHideBotsTab;
+        if (Theme.plusHideFavsTab) {
+            z = false;
+        }
+        zArr[6] = z;
+        builder.setMultiChoiceItems(charSequenceArr, zArr, new OnMultiChoiceClickListener() {
+            public void onClick(DialogInterface dialog, int which, boolean isChecked) {
+                NotificationCenter.getInstance().postNotificationName(NotificationCenter.refreshTabs, Integer.valueOf(which));
+            }
+        });
+        return builder;
+    }
+
+    private Builder createSharedOptions(Builder builder) {
+        boolean z;
+        boolean z2 = true;
+        builder.setTitle(LocaleController.getString("SharedMedia", R.string.SharedMedia));
+        SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+        boolean hideMedia = preferences.getBoolean("hideSharedMedia", false);
+        boolean hideFiles = preferences.getBoolean("hideSharedFiles", false);
+        boolean hideMusic = preferences.getBoolean("hideSharedMusic", false);
+        boolean hideLinks = preferences.getBoolean("hideSharedLinks", false);
+        CharSequence[] cs = new CharSequence[]{LocaleController.getString("SharedMediaTitle", R.string.SharedMediaTitle), LocaleController.getString("DocumentsTitle", R.string.DocumentsTitle), LocaleController.getString("AudioTitle", R.string.AudioTitle), LocaleController.getString("LinksTitle", R.string.LinksTitle)};
+        boolean[] b = new boolean[4];
+        if (hideMedia) {
+            z = false;
+        } else {
+            z = true;
+        }
+        b[0] = z;
+        b[1] = !hideFiles;
+        b[2] = !hideMusic;
+        if (hideLinks) {
+            z2 = false;
+        }
+        b[3] = z2;
+        builder.setMultiChoiceItems(cs, b, new OnMultiChoiceClickListener() {
+            public void onClick(DialogInterface dialog, int which, boolean isChecked) {
+                boolean z = true;
+                SharedPreferences.Editor editor = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit();
+                String str;
+                if (which == 0) {
+                    str = "hideSharedMedia";
+                    if (isChecked) {
+                        z = false;
+                    }
+                    editor.putBoolean(str, z);
+                } else if (which == 1) {
+                    str = "hideSharedFiles";
+                    if (isChecked) {
+                        z = false;
+                    }
+                    editor.putBoolean(str, z);
+                } else if (which == 2) {
+                    str = "hideSharedMusic";
+                    if (isChecked) {
+                        z = false;
+                    }
+                    editor.putBoolean(str, z);
+                } else if (which == 3) {
+                    str = "hideSharedLinks";
+                    if (isChecked) {
+                        z = false;
+                    }
+                    editor.putBoolean(str, z);
+                }
+                editor.apply();
+            }
+        });
+        return builder;
+    }
+
+    private Builder createMySettingsOptions(Builder builder) {
+        boolean showVersion;
+        boolean showLanguage;
+        builder.setTitle(LocaleController.getString("ShowMySettings", R.string.ShowMySettings));
+        int FLAGS = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).getInt("showMySettings", 0);
+        if ((FLAGS & 1) == 1) {
+            showVersion = true;
+        } else {
+            showVersion = false;
+        }
+        if ((FLAGS & 2) == 2) {
+            showLanguage = true;
+        } else {
+            showLanguage = false;
+        }
+        builder.setMultiChoiceItems(new CharSequence[]{LocaleController.getString("PlusVersion", R.string.PlusVersion), LocaleController.getString("Language", R.string.Language)}, new boolean[]{showVersion, showLanguage}, new OnMultiChoiceClickListener() {
+            public void onClick(DialogInterface dialog, int which, boolean isChecked) {
+                SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+                int FLAGS = preferences.getInt("showMySettings", 0);
+                int val = 0;
+                if (which == 0) {
+                    val = 1;
+                } else if (which == 1) {
+                    val = 2;
+                }
+                FLAGS = isChecked ? FLAGS + val : FLAGS - val;
+                Editor editor = preferences.edit();
+                editor.putInt("showMySettings", FLAGS);
+                preferences.edit().apply();
+            }
+        });
+        return builder;
+    }
+
+    public void getUserAbout() {
+        String link = String.format("https://telegram.me/%s", new Object[]{UserConfig.getCurrentUser().username});
+        this.userAbout = null;
+        TL_messages_getWebPagePreview req = new TL_messages_getWebPagePreview();
+        req.message = link;
+        this.linkSearchRequestId = ConnectionsManager.getInstance().sendRequest(req, new RequestDelegate() {
+            public void run(final TLObject response, final TL_error error) {
+                AndroidUtilities.runOnUIThread(new Runnable() {
+                    public void run() {
+                        PlusSettingsActivity.this.linkSearchRequestId = 0;
+                        if (error == null && (response instanceof TL_messageMediaWebPage)) {
+                            PlusSettingsActivity.this.foundWebPage = ((TL_messageMediaWebPage) response).webpage;
+                            if (PlusSettingsActivity.this.foundWebPage.description != null) {
+                                PlusSettingsActivity.this.userAbout = PlusSettingsActivity.this.foundWebPage.description;
+                                PlusSettingsActivity.this.setUserAbout();
+                            } else if (PlusSettingsActivity.this.pass != 1) {
+                                PlusSettingsActivity.this.pass = 1;
+                                AndroidUtilities.runOnUIThread(new Runnable() {
+                                    public void run() {
+                                        PlusSettingsActivity.this.getUserAbout();
+                                    }
+                                }, 500);
+                            }
+                        }
+                    }
+                });
+            }
+        });
+        ConnectionsManager.getInstance().bindRequestToGuid(this.linkSearchRequestId, this.classGuid);
+    }
+
+    public void setUserAbout() {
+        int startIndex = this.userAbout.lastIndexOf("\n");
+        String result = null;
+        if (!(startIndex == -1 || startIndex == this.userAbout.length())) {
+            result = this.userAbout.substring(startIndex + 1);
+        }
+        int FLAGS = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).getInt("showMySettings", 0);
+        boolean showVersion = (FLAGS & 1) == 1;
+        boolean showLanguage = (FLAGS & 2) == 2;
+        String version = AndroidUtilities.getVersion();
+        String status = null;
+        if (showVersion) {
+            status = version;
+        }
+        String lang = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", 0).getString("language", null);
+        if (lang != null && showLanguage) {
+            status = (status != null ? status + " " : "") + lang.toUpperCase();
+        }
+        if (status != null) {
+            if (result == null || !status.equals(result)) {
+                TL_account_updateProfile req = new TL_account_updateProfile();
+                req.flags |= 4;
+                req.about = (result == null ? this.userAbout : this.userAbout.substring(0, this.userAbout.lastIndexOf("\n"))) + "\n" + status;
+                ConnectionsManager.getInstance().sendRequest(req, new RequestDelegate() {
+                    public void run(TLObject response, TL_error error) {
+                        if (error != null) {
+                            if (response != null) {
+                                MessagesController.getInstance().loadFullUser(UserConfig.getCurrentUser(), PlusSettingsActivity.this.classGuid, true);
+                                AndroidUtilities.runOnUIThread(new Runnable() {
+                                    public void run() {
+                                        UserConfig.saveConfig(true);
+                                    }
+                                });
+                            }
+                        } else if (response != null) {
+                            MessagesController.getInstance().loadFullUser(UserConfig.getCurrentUser(), PlusSettingsActivity.this.classGuid, true);
+//                            AndroidUtilities.runOnUIThread(/* anonymous class already generated */); //Todo Multi
+                        }
+                    }
+                });
+            }
+        }
+    }
+
+    private Builder createDialog(Builder builder, int i) {
+        if (i == this.chatShowDirectShareBtn) {
+            builder.setTitle(LocaleController.getString("ShowDirectShareButton", R.string.ShowDirectShareButton));
+            SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+            boolean showDSBtnUsers = preferences.getBoolean("showDSBtnUsers", false);
+            boolean showDSBtnGroups = preferences.getBoolean("showDSBtnGroups", true);
+            boolean showDSBtnSGroups = preferences.getBoolean("showDSBtnSGroups", true);
+            boolean showDSBtnChannels = preferences.getBoolean("showDSBtnChannels", true);
+            boolean showDSBtnBots = preferences.getBoolean("showDSBtnBots", true);
+            builder.setMultiChoiceItems(new CharSequence[]{LocaleController.getString("Users", R.string.Users), LocaleController.getString("Groups", R.string.Groups), LocaleController.getString("SuperGroups", R.string.SuperGroups), LocaleController.getString("Channels", R.string.Channels), LocaleController.getString("Bots", R.string.Bots)}, new boolean[]{showDSBtnUsers, showDSBtnGroups, showDSBtnSGroups, showDSBtnChannels, showDSBtnBots}, new OnMultiChoiceClickListener() {
+                public void onClick(DialogInterface dialog, int which, boolean isChecked) {
+                    SharedPreferences.Editor editor = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit();
+                    if (which == 0) {
+                        editor.putBoolean("showDSBtnUsers", isChecked);
+                        Theme.plusShowDSBtnUsers = isChecked;
+                    } else if (which == 1) {
+                        editor.putBoolean("showDSBtnGroups", isChecked);
+                        Theme.plusShowDSBtnGroups = isChecked;
+                    } else if (which == 2) {
+                        editor.putBoolean("showDSBtnSGroups", isChecked);
+                        Theme.plusShowDSBtnSGroups = isChecked;
+                    } else if (which == 3) {
+                        editor.putBoolean("showDSBtnChannels", isChecked);
+                        Theme.plusShowDSBtnChannels = isChecked;
+                    } else if (which == 4) {
+                        editor.putBoolean("showDSBtnBots", isChecked);
+                        Theme.plusShowDSBtnBots = isChecked;
+                    }
+                    editor.apply();
+                }
+            });
+        }
+        return builder;
+    }
+
+    public void onResume() {
+        super.onResume();
+        if (this.listAdapter != null) {
+            this.listAdapter.notifyDataSetChanged();
+        }
+        if (Theme.usePlusTheme) {
+            updateTheme();
+        }
+        fixLayout();
+    }
+
+    private void updateTheme() {
+        this.actionBar.setBackgroundColor(Theme.prefActionbarColor);
+        this.actionBar.setTitleColor(Theme.prefActionbarTitleColor);
+        Drawable back = getParentActivity().getResources().getDrawable(R.drawable.ic_ab_back);
+        back.setColorFilter(Theme.prefActionbarIconsColor, Mode.MULTIPLY);
+        this.actionBar.setBackButtonDrawable(back);
+        getParentActivity().getResources().getDrawable(R.drawable.ic_ab_other).setColorFilter(Theme.prefActionbarIconsColor, Mode.MULTIPLY);
+    }
+
+    public void onConfigurationChanged(Configuration newConfig) {
+        super.onConfigurationChanged(newConfig);
+        fixLayout();
+    }
+
+    private void fixLayout() {
+        if (this.fragmentView != null) {
+            this.fragmentView.getViewTreeObserver().addOnPreDrawListener(new OnPreDrawListener() {
+                public boolean onPreDraw() {
+                    if (PlusSettingsActivity.this.fragmentView != null) {
+                        PlusSettingsActivity.this.fragmentView.getViewTreeObserver().removeOnPreDrawListener(this);
+                    }
+                    return true;
+                }
+            });
+        }
+    }
+
+    public void didReceivedNotification(int id, Object... args) {
+        if (id == NotificationCenter.refreshTabs && ((Integer) args[0]).intValue() == 15 && this.listView != null) {
+            this.listView.invalidateViews();
+        }
+    }
+}
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ProfileActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ProfileActivity.java
index 6c5fa2e9d..059f8e921 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ProfileActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ProfileActivity.java
@@ -16,6 +16,8 @@
 import android.annotation.SuppressLint;
 import android.app.Activity;
 import android.app.Dialog;
+import android.content.ClipData;
+import android.content.ClipboardManager;
 import android.content.Context;
 import android.content.DialogInterface;
 import android.content.Intent;
@@ -49,38 +51,44 @@
 import android.widget.ImageView;
 import android.widget.LinearLayout;
 import android.widget.TextView;
+import android.widget.Toast;
 
-import org.telegram.messenger.AndroidUtilities;
 import org.telegram.PhoneFormat.PhoneFormat;
+import org.telegram.messenger.AndroidUtilities;
+import org.telegram.messenger.ApplicationLoader;
 import org.telegram.messenger.ChangeUserHelper;
 import org.telegram.messenger.ChatObject;
+import org.telegram.messenger.ContactsController;
+import org.telegram.messenger.FileLog;
 import org.telegram.messenger.LocaleController;
+import org.telegram.messenger.MessageObject;
+import org.telegram.messenger.MessagesController;
 import org.telegram.messenger.MessagesStorage;
+import org.telegram.messenger.NotificationCenter;
 import org.telegram.messenger.NotificationsController;
+import org.telegram.messenger.R;
 import org.telegram.messenger.SecretChatHelper;
 import org.telegram.messenger.SendMessagesHelper;
+import org.telegram.messenger.UserConfig;
 import org.telegram.messenger.UserObject;
+import org.telegram.messenger.Utilities;
 import org.telegram.messenger.VideoEditedInfo;
 import org.telegram.messenger.query.BotQuery;
 import org.telegram.messenger.query.SharedMediaQuery;
-import org.telegram.messenger.ApplicationLoader;
 import org.telegram.messenger.support.widget.LinearLayoutManager;
 import org.telegram.messenger.support.widget.RecyclerView;
 import org.telegram.tgnet.ConnectionsManager;
 import org.telegram.tgnet.RequestDelegate;
 import org.telegram.tgnet.TLObject;
 import org.telegram.tgnet.TLRPC;
-import org.telegram.messenger.ContactsController;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.MessagesController;
-import org.telegram.messenger.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.messenger.MessageObject;
-import org.telegram.messenger.UserConfig;
-import org.telegram.messenger.Utilities;
+import org.telegram.ui.ActionBar.ActionBar;
+import org.telegram.ui.ActionBar.ActionBarMenu;
+import org.telegram.ui.ActionBar.ActionBarMenuItem;
 import org.telegram.ui.ActionBar.AlertDialog;
 import org.telegram.ui.ActionBar.BackDrawable;
+import org.telegram.ui.ActionBar.BaseFragment;
 import org.telegram.ui.ActionBar.SimpleTextView;
+import org.telegram.ui.ActionBar.Theme;
 import org.telegram.ui.ActionBar.ThemeDescription;
 import org.telegram.ui.Cells.AboutLinkCell;
 import org.telegram.ui.Cells.DividerCell;
@@ -91,19 +99,14 @@
 import org.telegram.ui.Cells.TextDetailCell;
 import org.telegram.ui.Cells.TextInfoPrivacyCell;
 import org.telegram.ui.Cells.UserCell;
-import org.telegram.ui.ActionBar.ActionBar;
-import org.telegram.ui.ActionBar.ActionBarMenu;
-import org.telegram.ui.ActionBar.ActionBarMenuItem;
 import org.telegram.ui.Components.AlertsCreator;
 import org.telegram.ui.Components.AvatarDrawable;
 import org.telegram.ui.Components.AvatarUpdater;
 import org.telegram.ui.Components.BackupImageView;
-import org.telegram.ui.ActionBar.BaseFragment;
 import org.telegram.ui.Components.CombinedDrawable;
 import org.telegram.ui.Components.IdenticonDrawable;
 import org.telegram.ui.Components.LayoutHelper;
 import org.telegram.ui.Components.RecyclerListView;
-import org.telegram.ui.ActionBar.Theme;
 import org.telegram.ui.Components.voip.VoIPHelper;
 
 import java.util.ArrayList;
@@ -114,9 +117,9 @@
 
 public class ProfileActivity extends BaseFragment implements NotificationCenter.NotificationCenterDelegate, DialogsActivity.DialogsActivityDelegate, PhotoViewer.PhotoViewerProvider {
 
+    private int linkSearchRequestId;
     private RecyclerListView listView;
     private LinearLayoutManager layoutManager;
-    private ListAdapter listAdapter;
     private BackupImageView avatarImage;
     private SimpleTextView nameTextView[] = new SimpleTextView[2];
     private SimpleTextView onlineTextView[] = new SimpleTextView[2];
@@ -125,7 +128,6 @@
     private AvatarDrawable avatarDrawable;
     private ActionBarMenuItem animatingItem;
     private ActionBarMenuItem callItem;
-    private TopView topView;
     private int user_id;
     private int chat_id;
     private long dialog_id;
@@ -149,15 +151,56 @@
     private TLRPC.ChatFull info;
     private int selectedUser;
     private int onlineCount = -1;
-    private ArrayList<Integer> sortedUsers;
+//    private ArrayList<Integer> sortedUsers;
 
     private TLRPC.EncryptedChat currentEncryptedChat;
     private TLRPC.Chat currentChat;
     private TLRPC.BotInfo botInfo;
 
+//    private int totalMediaCount = -1;
+//    private int totalMediaCountMerge = -1;
+    private SimpleTextView adminTextView;
+    private int creatorID;
+    private final Comparator<Integer> nameComparator = new Comparator<Integer>() {
+        public int compare(Integer lhs, Integer rhs) {
+            TLRPC.User user1 = MessagesController.getInstance().getUser(Integer.valueOf(((TLRPC.ChatParticipant) ProfileActivity.this.info.participants.participants.get(rhs.intValue())).user_id));
+            TLRPC.User user2 = MessagesController.getInstance().getUser(Integer.valueOf(((TLRPC.ChatParticipant) ProfileActivity.this.info.participants.participants.get(lhs.intValue())).user_id));
+            return UserObject.getFirstName(user2).compareTo(UserObject.getFirstName(user1));
+        }
+    };
+
+    private int onlyId;
+    private int onlyIdMedia;
+//    private boolean openAnimationInProgress;
+    private ChatActivity parentChatActivity;
+//    private HashMap<Integer, ChatParticipant> participantsMap = new HashMap();
+    private int pass;
+
+    private int sharedFilesRow;
+    private int sharedLinksRow;
+//    private int sharedMediaRow;
+    private int sharedMusicRow;
+    private int sortIndex = 0;
+    private ArrayList<Integer> sortedUsers;
+//    private int startSecretChatRow;
+    private TopView topView;
+    private int topViewColor;
+    private int totalFilesCount = -1;
+    private int totalFilesCountMerge = -1;
+    private int totalLinksCount = -1;
+    private int totalLinksCountMerge = -1;
     private int totalMediaCount = -1;
     private int totalMediaCountMerge = -1;
-
+    private int totalMusicCount = -1;
+    private int totalMusicCountMerge = -1;
+    private String userAbout;
+    private ListAdapter listAdapter;
+    private TLRPC.WebPage foundWebPage;
+//    private int groupsInCommonRow;
+    private boolean hideFiles;
+    private boolean hideLinks;
+    private boolean hideMedia;
+    private boolean hideMusic;
     private final static int add_contact = 1;
     private final static int block_contact = 2;
     private final static int share_contact = 3;
@@ -226,6 +269,9 @@ public void setBackgroundColor(int color) {
         @Override
         protected void onDraw(Canvas canvas) {
             int height = getMeasuredHeight() - AndroidUtilities.dp(91);
+            if (Theme.usePlusTheme) {
+                this.paint.setColor(ProfileActivity.this.topViewColor);
+            }
             canvas.drawRect(0, 0, getMeasuredWidth(), height + extraHeight, paint);
             if (parentLayout != null) {
                 parentLayout.drawHeaderShadow(canvas, height + extraHeight);
@@ -313,18 +359,71 @@ public void didUploadedPhoto(TLRPC.InputFile file, TLRPC.PhotoSize small, TLRPC.
             if (ChatObject.isChannel(currentChat)) {
                 MessagesController.getInstance().loadFullChat(chat_id, classGuid, true);
             }
+            if (this.parentChatActivity != null) {
+                this.onlyId = this.parentChatActivity.getOnlyId();
+                this.onlyIdMedia = this.parentChatActivity.getOnlyIdMedia();
+            }
         } else {
             return false;
         }
+        SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0);
+        this.hideMedia = preferences.getBoolean("hideSharedMedia", false);
+        this.hideFiles = preferences.getBoolean("hideSharedFiles", false);
+        this.hideMusic = preferences.getBoolean("hideSharedMusic", false);
+        this.hideLinks = preferences.getBoolean("hideSharedLinks", false);
 
-        if (dialog_id != 0) {
-            SharedMediaQuery.getMediaCount(dialog_id, SharedMediaQuery.MEDIA_PHOTOVIDEO, classGuid, true);
-        } else if (user_id != 0) {
-            SharedMediaQuery.getMediaCount(user_id, SharedMediaQuery.MEDIA_PHOTOVIDEO, classGuid, true);
-        } else if (chat_id > 0) {
-            SharedMediaQuery.getMediaCount(-chat_id, SharedMediaQuery.MEDIA_PHOTOVIDEO, classGuid, true);
-            if (mergeDialogId != 0) {
-                SharedMediaQuery.getMediaCount(mergeDialogId, SharedMediaQuery.MEDIA_PHOTOVIDEO, classGuid, true);
+        if (this.dialog_id != 0) {
+            if (!this.hideMedia) {
+                SharedMediaQuery.getMediaCount(this.dialog_id, 0, this.classGuid, true);
+            }
+            if (!this.hideFiles) {
+                SharedMediaQuery.getMediaCount(this.dialog_id, 1, this.classGuid, true);
+            }
+            if (!this.hideMusic) {
+                SharedMediaQuery.getMediaCount(this.dialog_id, 4, this.classGuid, true);
+            }
+            if (!this.hideLinks) {
+                SharedMediaQuery.getMediaCount(this.dialog_id, 3, this.classGuid, true);
+            }
+        } else if (this.user_id != 0) {
+            if (!this.hideMedia) {
+                SharedMediaQuery.getMediaCount((long) this.user_id, 0, this.classGuid, true);
+            }
+            if (!this.hideFiles) {
+                SharedMediaQuery.getMediaCount((long) this.user_id, 1, this.classGuid, true);
+            }
+            if (!this.hideMusic) {
+                SharedMediaQuery.getMediaCount((long) this.user_id, 4, this.classGuid, true);
+            }
+            if (!this.hideLinks) {
+                SharedMediaQuery.getMediaCount((long) this.user_id, 3, this.classGuid, true);
+            }
+        } else if (this.chat_id > 0) {
+            if (!this.hideMedia) {
+                SharedMediaQuery.getMediaCount((long) (-this.chat_id), 0, this.classGuid, true);
+            }
+            if (!this.hideFiles) {
+                SharedMediaQuery.getMediaCount((long) (-this.chat_id), 1, this.classGuid, true);
+            }
+            if (!this.hideMusic) {
+                SharedMediaQuery.getMediaCount((long) (-this.chat_id), 4, this.classGuid, true);
+            }
+            if (!this.hideLinks) {
+                SharedMediaQuery.getMediaCount((long) (-this.chat_id), 3, this.classGuid, true);
+            }
+            if (this.mergeDialogId != 0) {
+                if (!this.hideMedia) {
+                    SharedMediaQuery.getMediaCount(this.mergeDialogId, 0, this.classGuid, true);
+                }
+                if (!this.hideFiles) {
+                    SharedMediaQuery.getMediaCount(this.mergeDialogId, 1, this.classGuid, true);
+                }
+                if (!this.hideMusic) {
+                    SharedMediaQuery.getMediaCount(this.mergeDialogId, 4, this.classGuid, true);
+                }
+                if (!this.hideLinks) {
+                    SharedMediaQuery.getMediaCount(this.mergeDialogId, 3, this.classGuid, true);
+                }
             }
         }
 
@@ -339,6 +438,7 @@ public void didUploadedPhoto(TLRPC.InputFile file, TLRPC.PhotoSize small, TLRPC.
     @Override
     public void onFragmentDestroy() {
         super.onFragmentDestroy();
+        NotificationCenter.getInstance().postNotificationName(NotificationCenter.mainUserInfoChanged, new Object[0]);
         NotificationCenter.getInstance().removeObserver(this, NotificationCenter.mediaCountDidLoaded);
         NotificationCenter.getInstance().removeObserver(this, NotificationCenter.updateInterfaces);
         NotificationCenter.getInstance().removeObserver(this, NotificationCenter.closeChats);
@@ -370,6 +470,7 @@ public boolean onTouchEvent(MotionEvent event) {
         actionBar.setItemsBackgroundColor(AvatarDrawable.getButtonColorForId(user_id != 0 || ChatObject.isChannel(chat_id) && !currentChat.megagroup ? 5 : chat_id), false);
         actionBar.setItemsColor(Theme.getColor(Theme.key_actionBarDefaultIcon), false);
         actionBar.setItemsColor(Theme.getColor(Theme.key_actionBarActionModeDefaultIcon), true);
+        actionBar.setItemsColor(Theme.usePlusTheme ? Theme.profileActionbarIconsColor : Theme.getColor(Theme.key_actionBarDefaultIcon), false);
         actionBar.setBackButtonDrawable(new BackDrawable(false));
         actionBar.setCastShadows(false);
         actionBar.setAddToContainer(false);
@@ -551,10 +652,31 @@ public void didSelectDialog(DialogsActivity fragment, long did, boolean param) {
                     } catch (Exception e) {
                         FileLog.e(e);
                     }
-                } else if (id == call_item) {
-                    TLRPC.User user = MessagesController.getInstance().getUser(user_id);
-                    if (user != null) {
-                        VoIPHelper.startCall(user, getParentActivity(), MessagesController.getInstance().getUserFull(user.id));
+                } else if (id == 15) {
+                    TLRPC.User user = MessagesController.getInstance().getUser(Integer.valueOf(ProfileActivity.this.user_id));
+                    if (user != null && ProfileActivity.this.getParentActivity() != null) {
+                        if (user.phone == null || user.phone.length() == 0) {
+                            VoIPHelper.startCall(user, ProfileActivity.this.getParentActivity(), MessagesController.getInstance().getUserFull(user.id));
+                            return;
+                        }
+                        AlertDialog.Builder builder = new AlertDialog.Builder(ProfileActivity.this.getParentActivity());
+                        builder.setItems(new CharSequence[]{LocaleController.getString("VoipInCallBranding", R.string.VoipInCallBranding), LocaleController.getString("PhoneMobile", R.string.PhoneMobile)}, new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialogInterface, int i) {
+                                TLRPC.User user = MessagesController.getInstance().getUser(Integer.valueOf(ProfileActivity.this.user_id));
+                                if (i == 0) {
+                                    VoIPHelper.startCall(user, ProfileActivity.this.getParentActivity(), MessagesController.getInstance().getUserFull(user.id));
+                                    return;
+                                }
+                                try {
+                                    Intent intent = new Intent("android.intent.action.DIAL", Uri.parse("tel:+" + user.phone));
+                                    intent.addFlags(268435456);
+                                    ProfileActivity.this.getParentActivity().startActivityForResult(intent, 500);
+                                } catch (Exception e) {
+                                    FileLog.e("tmessages", e);
+                                }
+                            }
+                        });
+                        ProfileActivity.this.showDialog(builder.create());
                     }
                 }
             }
@@ -618,9 +740,48 @@ public void onItemClick(View view, final int position) {
                     } else {
                         args.putLong("dialog_id", -chat_id);
                     }
-                    MediaActivity fragment = new MediaActivity(args);
-                    fragment.setChatInfo(info);
-                    presentFragment(fragment);
+//                    MediaActivity fragment = new MediaActivity(args);
+//                    fragment.setChatInfo(info);
+//                    presentFragment(fragment);
+                    //Multi
+                    MediaActivity mediaActivity = new MediaActivity(args);
+                    mediaActivity.setChatInfo(ProfileActivity.this.info);
+                    ProfileActivity.this.presentFragment(mediaActivity);
+                } else if (position == ProfileActivity.this.sharedMusicRow) {
+                    Bundle args = new Bundle();
+                    if (ProfileActivity.this.user_id != 0) {
+                        args.putLong("dialog_id", ProfileActivity.this.dialog_id != 0 ? ProfileActivity.this.dialog_id : (long) ProfileActivity.this.user_id);
+                    } else {
+                        args.putLong("dialog_id", (long) (-ProfileActivity.this.chat_id));
+                    }
+                    args.putInt("selected_mode", 4);
+                    MediaActivity mediaActivity = new MediaActivity(args);
+                    mediaActivity.setChatInfo(ProfileActivity.this.info);
+                    ProfileActivity.this.presentFragment(mediaActivity);
+                } else if (position == ProfileActivity.this.sharedLinksRow) {
+                    Bundle args = new Bundle();
+                    if (ProfileActivity.this.user_id != 0) {
+                        args.putLong("dialog_id", ProfileActivity.this.dialog_id != 0 ? ProfileActivity.this.dialog_id : (long) ProfileActivity.this.user_id);
+                    } else {
+                        args.putLong("dialog_id", (long) (-ProfileActivity.this.chat_id));
+                    }
+                    args.putInt("selected_mode", 3);
+                    MediaActivity mediaActivity = new MediaActivity(args);
+                    mediaActivity.setChatInfo(ProfileActivity.this.info);
+                    ProfileActivity.this.presentFragment(mediaActivity);
+                } else if (position == ProfileActivity.this.sharedFilesRow) {
+                    Bundle args = new Bundle();
+                    if (ProfileActivity.this.user_id != 0) {
+                        args.putLong("dialog_id", ProfileActivity.this.dialog_id != 0 ? ProfileActivity.this.dialog_id : (long) ProfileActivity.this.user_id);
+                    } else {
+                        args.putLong("dialog_id", (long) (-ProfileActivity.this.chat_id));
+                    }
+                    args.putInt("selected_mode", 1);
+                    MediaActivity mediaActivity = new MediaActivity(args);
+                    mediaActivity.setChatInfo(ProfileActivity.this.info);
+                    ProfileActivity.this.presentFragment(mediaActivity);
+
+                    //
                 } else if (position == groupsInCommonRow) {
                     presentFragment(new CommonGroupsActivity(user_id));
                 } else if (position == settingsKeyRow) {
@@ -747,6 +908,52 @@ public void onClick(DialogInterface dialogInterface, int i) {
                     });
                     builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
                     showDialog(builder.create());
+                } else if (position == ProfileActivity.this.usernameRow) {
+                    TLRPC.User user = MessagesController.getInstance().getUser(Integer.valueOf(ProfileActivity.this.user_id));
+                    if (user != null && user.username != null) {
+                        try {
+                            String text = "@" + user.username;
+                            if (Build.VERSION.SDK_INT < 11) {
+                                ((ClipboardManager) ApplicationLoader.applicationContext.getSystemService(Context.CLIPBOARD_SERVICE)).setText(text);
+                            } else {
+                                ((android.content.ClipboardManager) ApplicationLoader.applicationContext.getSystemService(Context.CLIPBOARD_SERVICE)).setPrimaryClip(ClipData.newPlainText("label", text));
+                            }
+                            Toast.makeText(ProfileActivity.this.getParentActivity(), LocaleController.formatString("Copied", R.string.Copied, text), Toast.LENGTH_LONG).show();
+                        } catch (Exception e) {
+                            FileLog.e("tmessages", e);
+                        }
+                    }
+                } else if (position == ProfileActivity.this.phoneRow) {
+                    final TLRPC.User user = MessagesController.getInstance().getUser(Integer.valueOf(ProfileActivity.this.user_id));
+                    if (user != null && user.phone != null && user.phone.length() != 0 && ProfileActivity.this.getParentActivity() != null) {
+                        AlertDialog.Builder builder = new AlertDialog.Builder(ProfileActivity.this.getParentActivity());
+//                        final User user = user;
+                        builder.setItems(new CharSequence[]{LocaleController.getString("Call", R.string.Call), LocaleController.getString("Copy", R.string.Copy)}, new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialogInterface, int i) {
+                                if (i == 0) {
+                                    try {
+                                        Intent intent = new Intent("android.intent.action.DIAL", Uri.parse("tel:+" + user.phone));
+                                        intent.addFlags(268435456);
+                                        ProfileActivity.this.getParentActivity().startActivityForResult(intent, 500);
+                                    } catch (Exception e) {
+                                        FileLog.e("tmessages", e);
+                                    }
+                                } else if (i == 1) {
+                                    try {
+                                        if (Build.VERSION.SDK_INT < 11) {
+                                            ((ClipboardManager) ApplicationLoader.applicationContext.getSystemService(Context.CLIPBOARD_SERVICE)).setText("+" + user.phone);
+                                        } else {
+                                            ((android.content.ClipboardManager) ApplicationLoader.applicationContext.getSystemService(Context.CLIPBOARD_SERVICE)).setPrimaryClip(ClipData.newPlainText("label", "+" + user.phone));
+                                        }
+                                        Toast.makeText(ProfileActivity.this.getParentActivity(), LocaleController.formatString("Copied", R.string.Copied, "+" + user.phone), Toast.LENGTH_SHORT).show();
+                                    } catch (Exception e2) {
+                                        FileLog.e("tmessages", e2);
+                                    }
+                                }
+                            }
+                        });
+                        ProfileActivity.this.showDialog(builder.create());
+                    }
                 } else if (position > emptyRowChat2 && position < membersEndRow) {
                     int user_id;
                     if (!sortedUsers.isEmpty()) {
@@ -763,18 +970,49 @@ public void onClick(DialogInterface dialogInterface, int i) {
                 } else if (position == addMemberRow) {
                     openAddMember();
                 } else if (position == channelNameRow) {
-                    try {
-                        Intent intent = new Intent(Intent.ACTION_SEND);
-                        intent.setType("text/plain");
-                        if (info.about != null && info.about.length() > 0) {
-                            intent.putExtra(Intent.EXTRA_TEXT, currentChat.title + "\n" + info.about + "\nhttps://" + MessagesController.getInstance().linkPrefix + "/" + currentChat.username);
-                        } else {
-                            intent.putExtra(Intent.EXTRA_TEXT, currentChat.title + "\nhttps://" + MessagesController.getInstance().linkPrefix + "/" + currentChat.username);
+//                    try {
+//                        Intent intent = new Intent(Intent.ACTION_SEND);
+//                        intent.setType("text/plain");
+//                        if (info.about != null && info.about.length() > 0) {
+//                            intent.putExtra(Intent.EXTRA_TEXT, currentChat.title + "\n" + info.about + "\nhttps://" + MessagesController.getInstance().linkPrefix + "/" + currentChat.username);
+//                        } else {
+//                            intent.putExtra(Intent.EXTRA_TEXT, currentChat.title + "\nhttps://" + MessagesController.getInstance().linkPrefix + "/" + currentChat.username);
+//                        }
+//                        getParentActivity().startActivityForResult(Intent.createChooser(intent, LocaleController.getString("BotShare", R.string.BotShare)), 500);
+//                    } catch (Exception e) {
+//                        FileLog.e(e);
+//                    }
+                    AlertDialog.Builder builder = new AlertDialog.Builder(ProfileActivity.this.getParentActivity());
+                    builder.setItems(new CharSequence[]{LocaleController.getString("BotShare", R.string.BotShare), LocaleController.getString("Copy", R.string.Copy)}, new DialogInterface.OnClickListener() {
+                        public void onClick(DialogInterface dialogInterface, int i) {
+                            if (i == 0) {
+                                try {
+                                    Intent intent = new Intent("android.intent.action.SEND");
+                                    intent.setType("text/plain");
+                                    if (ProfileActivity.this.info.about == null || ProfileActivity.this.info.about.length() <= 0) {
+                                        intent.putExtra("android.intent.extra.TEXT", ProfileActivity.this.currentChat.title + "\nhttps://telegram.me/" + ProfileActivity.this.currentChat.username);
+                                    } else {
+                                        intent.putExtra("android.intent.extra.TEXT", ProfileActivity.this.currentChat.title + "\n" + ProfileActivity.this.info.about + "\nhttps://telegram.me/" + ProfileActivity.this.currentChat.username);
+                                    }
+                                    ProfileActivity.this.getParentActivity().startActivityForResult(Intent.createChooser(intent, LocaleController.getString("BotShare", R.string.BotShare)), 500);
+                                } catch (Exception e) {
+                                    FileLog.e("tmessages", e);
+                                }
+                            } else if (i == 1) {
+                                try {
+                                    if (Build.VERSION.SDK_INT < 11) {
+                                        ((ClipboardManager) ApplicationLoader.applicationContext.getSystemService(Context.CLIPBOARD_SERVICE)).setText("https://telegram.me/" + ProfileActivity.this.currentChat.username);
+                                    } else {
+                                        ((android.content.ClipboardManager) ApplicationLoader.applicationContext.getSystemService(Context.CLIPBOARD_SERVICE)).setPrimaryClip(ClipData.newPlainText("label", "https://telegram.me/" + ProfileActivity.this.currentChat.username));
+                                    }
+                                    Toast.makeText(ProfileActivity.this.getParentActivity(), LocaleController.formatString("Copied", R.string.Copied, "https://telegram.me/" + ProfileActivity.this.currentChat.username), Toast.LENGTH_LONG).show();
+                                } catch (Exception e2) {
+                                    FileLog.e("tmessages", e2);
+                                }
+                            }
                         }
-                        getParentActivity().startActivityForResult(Intent.createChooser(intent, LocaleController.getString("BotShare", R.string.BotShare)), 500);
-                    } catch (Exception e) {
-                        FileLog.e(e);
-                    }
+                    });
+                    ProfileActivity.this.showDialog(builder.create());
                 } else if (position == leaveChannelRow) {
                     leaveChatPressed();
                 } else if (position == membersRow || position == blockedUsersRow || position == managementRow) {
@@ -2251,6 +2489,60 @@ private void updateRowsIds() {
         }
     }
 
+    //Multi
+    public void setParentChatActivity(ChatActivity chatActivity) {
+        this.parentChatActivity = chatActivity;
+    }
+
+    private void showUserMsgs(int id) {
+        Bundle args = new Bundle();
+        args.putInt("chat_id", this.currentChat.id);
+        args.putInt("only_id", id);
+        presentFragment(new ChatActivity(args));
+    }
+
+    private void showUserMedia(int id) {
+        Bundle args = new Bundle();
+        args.putInt("chat_id", this.currentChat.id);
+        args.putInt("only_id_media", id);
+        presentFragment(new ChatActivity(args));
+    }
+
+    public void getUserAbout(final int uid) {
+        TLRPC.User user = MessagesController.getInstance().getUser(Integer.valueOf(uid));
+        if (user != null && user.username != null) {
+            String link = String.format("https://telegram.me/%s", new Object[]{user.username});
+            this.userAbout = null;
+            TLRPC.TL_messages_getWebPagePreview req = new TLRPC.TL_messages_getWebPagePreview();
+            req.message = link;
+            this.linkSearchRequestId = ConnectionsManager.getInstance().sendRequest(req, new RequestDelegate() {
+                public void run(final TLObject response, final TLRPC.TL_error error) {
+                    AndroidUtilities.runOnUIThread(new Runnable() {
+                        public void run() {
+                            ProfileActivity.this.linkSearchRequestId = 0;
+                            if (error == null && (response instanceof TLRPC.TL_messageMediaWebPage)) {
+                                ProfileActivity.this.foundWebPage = ((TLRPC.TL_messageMediaWebPage) response).webpage;
+                                if (ProfileActivity.this.foundWebPage.description != null) {
+                                    ProfileActivity.this.userAbout = ProfileActivity.this.foundWebPage.description;
+                                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.userInfoDidLoaded, Integer.valueOf(uid));
+                                } else if (ProfileActivity.this.pass != 1) {
+                                    ProfileActivity.this.pass = 1;
+                                    AndroidUtilities.runOnUIThread(new Runnable() {
+                                        public void run() {
+                                            ProfileActivity.this.getUserAbout(uid);
+                                        }
+                                    }, 500);
+                                }
+                            }
+                        }
+                    });
+                }
+            });
+            ConnectionsManager.getInstance().bindRequestToGuid(this.linkSearchRequestId, this.classGuid);
+        }
+    }
+    //
+
     private void updateProfileData() {
         if (avatarImage == null || nameTextView == null) {
             return;
@@ -2556,27 +2848,57 @@ public ListAdapter(Context context) {
             switch (viewType) {
                 case 0:
                     view = new EmptyCell(mContext);
+                    if (Theme.usePlusTheme) {
+                        view.setBackgroundColor(0);
+                        break;
+                    }
                     break;
                 case 1:
                     view = new DividerCell(mContext);
                     view.setPadding(AndroidUtilities.dp(72), 0, 0, 0);
+                    if (Theme.usePlusTheme) {
+                        view.setTag("profileRowColor");
+                        view.setBackgroundColor(0);
+                        if (Theme.profileRowGradientList > 0) {
+                            view.setTag("Profile00");
+                            break;
+                        }
+                    }
                     break;
                 case 2:
                     view = new TextDetailCell(mContext);
+                    if (Theme.usePlusTheme) {
+                        ((TextDetailCell) view).setTextColor(Theme.profileRowTitleColor);
+                        ((TextDetailCell) view).setValueColor(Theme.profileRowStatusColor);
+                        view.setBackgroundColor(0);
+                        break;
+                    }
                     break;
                 case 3:
                     view = new TextCell(mContext);
+                    if (Theme.usePlusTheme) {
+                        view.setBackgroundColor(0);
+                        ((TextCell) view).setTextColor(Theme.profileRowTitleColor);
+                        break;
+                    }
                     break;
                 case 4:
                     view = new UserCell(mContext, 61, 0, true);
+                    if (Theme.usePlusTheme) {
+                        view.setBackgroundColor(0);
+                        view.setTag("Profile");
+                        break;
+                    }
                     break;
                 case 5: {
-                    view = new ShadowSectionCell(mContext);
-                    Drawable drawable = Theme.getThemedDrawable(mContext, R.drawable.greydivider, Theme.key_windowBackgroundGrayShadow);
-                    CombinedDrawable combinedDrawable = new CombinedDrawable(new ColorDrawable(Theme.getColor(Theme.key_windowBackgroundGray)), drawable);
+                    view = new ShadowSectionCell(this.mContext, false);
+                    CombinedDrawable combinedDrawable = new CombinedDrawable(new ColorDrawable(Theme.getColor(Theme.key_windowBackgroundGray)), Theme.getThemedDrawable(this.mContext, R.drawable.greydivider, Theme.key_windowBackgroundGrayShadow));
                     combinedDrawable.setFullsize(true);
                     view.setBackgroundDrawable(combinedDrawable);
-                    break;
+                    if (Theme.usePlusTheme && (Theme.profileRowColor != -1 || Theme.profileRowGradientList > 0)) {
+                        view.setBackgroundColor(0);
+                        break;
+                    }
                 }
                 case 6: {
                     view = new TextInfoPrivacyCell(mContext);
@@ -2586,13 +2908,19 @@ public ListAdapter(Context context) {
                     combinedDrawable.setFullsize(true);
                     cell.setBackgroundDrawable(combinedDrawable);
                     cell.setText(AndroidUtilities.replaceTags(LocaleController.formatString("ConvertGroupInfo", R.string.ConvertGroupInfo, LocaleController.formatPluralString("Members", MessagesController.getInstance().maxMegagroupCount))));
-                    break;
+                    if (Theme.usePlusTheme && (Theme.profileRowColor != -1 || Theme.profileRowGradientList > 0)) {
+                        view.setBackgroundColor(0);
+                        break;
+                    }
                 }
                 case 7:
                     view = new LoadingCell(mContext);
                     break;
                 case 8:
                     view = new AboutLinkCell(mContext);
+                    if (Theme.usePlusTheme && (Theme.profileRowColor != -1 || Theme.profileRowGradientList > 0)) {
+                        view.setBackgroundColor(0);
+                    }
                     ((AboutLinkCell) view).setDelegate(new AboutLinkCell.AboutLinkCellDelegate() {
                         @Override
                         public void didPressUrl(String url) {
@@ -2621,6 +2949,8 @@ public void didPressUrl(String url) {
 
         @Override
         public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
+            Object[] objArr;
+            SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0);
             boolean checkBackground = true;
             switch (holder.getItemViewType()) {
                 case 0:
@@ -2632,6 +2962,11 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
                     break;
                 case 2:
                     TextDetailCell textDetailCell = (TextDetailCell) holder.itemView;
+                    if (Theme.usePlusTheme) {
+                        textDetailCell.setTextColor(Theme.profileRowTitleColor);
+                        textDetailCell.setValueColor(Theme.profileRowStatusColor);
+                        textDetailCell.setIconColor(Theme.profileRowIconsColor);
+                    }
                     if (i == phoneRow) {
                         String text;
                         final TLRPC.User user = MessagesController.getInstance().getUser(user_id);
@@ -2661,12 +2996,25 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
                     }
                     break;
                 case 3:
+                    String value;
                     TextCell textCell = (TextCell) holder.itemView;
+
+                    if (Theme.usePlusTheme) {
+
+                        textCell.setTextColor(Theme.profileRowTitleColor);
+                    }
+                    int vColor = themePrefs.getInt("profileTitleColor", Theme.defColor);
+//                    String value;
+//                    String str;
+//                    Object[] objArr;
                     textCell.setTextColor(Theme.getColor(Theme.key_windowBackgroundWhiteBlackText));
                     textCell.setTag(Theme.key_windowBackgroundWhiteBlackText);
-
+                    if (Theme.usePlusTheme) {
+                        textCell.setValueColor(vColor);
+                        textCell.setIconColor(Theme.profileRowIconsColor);
+//                        return;
                     if (i == sharedMediaRow) {
-                        String value;
+
                         if (totalMediaCount == -1) {
                             value = LocaleController.getString("Loading", R.string.Loading);
                         } else {
@@ -2677,17 +3025,77 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
                         } else {
                             textCell.setTextAndValue(LocaleController.getString("SharedMedia", R.string.SharedMedia), value);
                         }
+                    } else if (i == ProfileActivity.this.sharedFilesRow) {
+
+                    }
+//                        String value;
+                        if (ProfileActivity.this.totalFilesCount == -1) {
+                             value = LocaleController.getString("Loading", R.string.Loading);
+                        } else {
+                            String str = "%d";
+                            objArr = new Object[1];
+                            objArr[0] = Integer.valueOf((ProfileActivity.this.totalFilesCountMerge != -1 ? ProfileActivity.this.totalFilesCountMerge : 0) + ProfileActivity.this.totalFilesCount);
+                             value = String.format(str, objArr);
+                        }
+                        textCell.setTextAndValue(LocaleController.getString("DocumentsTitle", R.string.DocumentsTitle), value);
+                        if (Theme.usePlusTheme) {
+                            textCell.setValueColor(vColor);
+                            return;
+                        }
+                        return;
+                    } else if (i == ProfileActivity.this.sharedMusicRow) {
+//                        String value;
+                        String str;
+                        if (ProfileActivity.this.totalMusicCount == -1) {
+                            value = LocaleController.getString("Loading", R.string.Loading);
+                        } else {
+                            str = "%d";
+                            objArr = new Object[1];
+                            objArr[0] = Integer.valueOf((ProfileActivity.this.totalMusicCountMerge != -1 ? ProfileActivity.this.totalMusicCountMerge : 0) + ProfileActivity.this.totalMusicCount);
+                            value = String.format(str, objArr);
+                        }
+                        textCell.setTextAndValue(LocaleController.getString("AudioTitle", R.string.AudioTitle), value);
+                        if (Theme.usePlusTheme) {
+                            textCell.setValueColor(vColor);
+                            return;
+                        }
+                        return;
+                    } else if (i == ProfileActivity.this.sharedLinksRow) {
+//                        String value;
+                        String str;
+                        if (ProfileActivity.this.totalLinksCount == -1) {
+                            value = LocaleController.getString("Loading", R.string.Loading);
+                        } else {
+                            str = "%d";
+                            objArr = new Object[1];
+                            objArr[0] = Integer.valueOf((ProfileActivity.this.totalLinksCountMerge != -1 ? ProfileActivity.this.totalLinksCountMerge : 0) + ProfileActivity.this.totalLinksCount);
+                            value = String.format(str, objArr);
+                        }
+                        textCell.setTextAndValue(LocaleController.getString("LinksTitle", R.string.LinksTitle), value);
+                        if (Theme.usePlusTheme) {
+                            textCell.setValueColor(vColor);
+                            return;
+                        }
+                        return;
                     } else if (i == groupsInCommonRow) {
                         TLRPC.TL_userFull userFull = MessagesController.getInstance().getUserFull(user_id);
                         textCell.setTextAndValue(LocaleController.getString("GroupsInCommon", R.string.GroupsInCommon), String.format("%d", userFull != null ? userFull.common_chats_count : 0));
+                        if (Theme.usePlusTheme) {
+                            textCell.setValueColor(vColor);
+                            return;
+                        }
                     } else if (i == settingsTimerRow) {
                         TLRPC.EncryptedChat encryptedChat = MessagesController.getInstance().getEncryptedChat((int) (dialog_id >> 32));
-                        String value;
+//                        String value;
                         if (encryptedChat.ttl == 0) {
                             value = LocaleController.getString("ShortMessageLifetimeForever", R.string.ShortMessageLifetimeForever);
                         } else {
                             value = LocaleController.formatTTLString(encryptedChat.ttl);
                         }
+                        if (Theme.usePlusTheme) {
+                            textCell.setValueColor(vColor);
+                            return;
+                        }
                         textCell.setTextAndValue(LocaleController.getString("MessageLifetime", R.string.MessageLifetime), value);
                     } else if (i == settingsNotificationsRow) {
                         SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("Notifications"+ ChangeUserHelper.getUserTag(), Activity.MODE_PRIVATE);
@@ -2703,10 +3111,10 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
 
                         boolean custom = preferences.getBoolean("custom_" + did, false);
                         boolean hasOverride = preferences.contains("notify2_" + did);
-                        int value = preferences.getInt("notify2_" + did, 0);
+                        int value2 = preferences.getInt("notify2_" + did, 0);
                         int delta = preferences.getInt("notifyuntil_" + did, 0);
                         String val;
-                        if (value == 3 && delta != Integer.MAX_VALUE) {
+                        if (value2 == 3 && delta != Integer.MAX_VALUE) {
                             delta -= ConnectionsManager.getInstance().getCurrentTime();
                             if (delta <= 0) {
                                 if (custom) {
@@ -2724,7 +3132,7 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
                                 val = null;
                             }
                         } else {
-                            if (value == 0) {
+                            if (value2 == 0) {
                                 if (hasOverride) {
                                     enabled = true;
                                 } else {
@@ -2734,9 +3142,9 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
                                         enabled = preferences.getBoolean("EnableAll", true);
                                     }
                                 }
-                            } else if (value == 1) {
+                            } else if (value2 == 1) {
                                 enabled = true;
-                            } else if (value == 2) {
+                            } else if (value2 == 2) {
                                 enabled = false;
                             } else {
                                 enabled = false;
@@ -2749,6 +3157,11 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
                         }
                         if (val != null) {
                             textCell.setTextAndValueAndIcon(LocaleController.getString("Notifications", R.string.Notifications), val, R.drawable.profile_list);
+                            if (Theme.usePlusTheme) {
+                                textCell.setIconColor(Theme.profileRowIconsColor);
+                                textCell.setValueColor(vColor);
+//                                return;
+                            }
                         } else {
                             textCell.setTextAndValueAndIcon(LocaleController.getString("Notifications", R.string.Notifications), LocaleController.getString("NotificationsOff", R.string.NotificationsOff), R.drawable.profile_list);
                         }
@@ -2756,6 +3169,10 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
                         textCell.setText(LocaleController.getString("StartEncryptedChat", R.string.StartEncryptedChat));
                         textCell.setTag(Theme.key_windowBackgroundWhiteGreenText2);
                         textCell.setTextColor(Theme.getColor(Theme.key_windowBackgroundWhiteGreenText2));
+                        if (Theme.usePlusTheme) {
+                            textCell.setTextColor(themePrefs.getInt("profileTitleColor", Theme.darkColor));
+                            return;
+                        }
                     } else if (i == settingsKeyRow) {
                         IdenticonDrawable identiconDrawable = new IdenticonDrawable();
                         TLRPC.EncryptedChat encryptedChat = MessagesController.getInstance().getEncryptedChat((int) (dialog_id >> 32));
@@ -2765,24 +3182,40 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
                         textCell.setTag(Theme.key_windowBackgroundWhiteRedText5);
                         textCell.setTextColor(Theme.getColor(Theme.key_windowBackgroundWhiteRedText5));
                         textCell.setText(LocaleController.getString("LeaveChannel", R.string.LeaveChannel));
+                        if (Theme.usePlusTheme) {
+                            textCell.setTextColor(themePrefs.getInt("profileTitleColor", -1229511));
+                            return;
+                        }
                     } else if (i == convertRow) {
                         textCell.setText(LocaleController.getString("UpgradeGroup", R.string.UpgradeGroup));
                         textCell.setTag(Theme.key_windowBackgroundWhiteGreenText2);
                         textCell.setTextColor(Theme.getColor(Theme.key_windowBackgroundWhiteGreenText2));
                     } else if (i == membersRow) {
                         if (info != null) {
+                            if (Theme.usePlusTheme) {
+                                textCell.setValueColor(vColor);
+//                                return;
+                            }
                             textCell.setTextAndValue(LocaleController.getString("ChannelMembers", R.string.ChannelMembers), String.format("%d", info.participants_count));
                         } else {
                             textCell.setText(LocaleController.getString("ChannelMembers", R.string.ChannelMembers));
                         }
                     } else if (i == managementRow) {
                         if (info != null) {
+                            if (Theme.usePlusTheme) {
+                                textCell.setValueColor(vColor);
+                                return;
+                            }
                             textCell.setTextAndValue(LocaleController.getString("ChannelAdministrators", R.string.ChannelAdministrators), String.format("%d", info.admins_count));
                         } else {
                             textCell.setText(LocaleController.getString("ChannelAdministrators", R.string.ChannelAdministrators));
                         }
                     } else if (i == blockedUsersRow) {
                         if (info != null) {
+                            if (Theme.usePlusTheme) {
+                                textCell.setValueColor(vColor);
+                                return;
+                            }
                             textCell.setTextAndValue(LocaleController.getString("ChannelBlockedUsers", R.string.ChannelBlockedUsers), String.format("%d", info.kicked_count));
                         } else {
                             textCell.setText(LocaleController.getString("ChannelBlockedUsers", R.string.ChannelBlockedUsers));
@@ -2827,10 +3260,17 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
                     break;
                 case 8:
                     AboutLinkCell aboutLinkCell = (AboutLinkCell) holder.itemView;
+                    if (Theme.usePlusTheme) {
+                        aboutLinkCell.setIconColor(Theme.profileRowIconsColor);
+                    }
                     if (i == userInfoRow) {
                         TLRPC.TL_userFull userFull = MessagesController.getInstance().getUserFull(user_id);
                         String about = userFull != null ? userFull.about : null;
                         aboutLinkCell.setTextAndIcon(about, R.drawable.profile_info);
+                        if (Theme.usePlusTheme) {
+                            aboutLinkCell.setIconColor(Theme.profileRowIconsColor);
+                            return;
+                        }
                     } else if (i == channelInfoRow) {
                         String text = info.about;
                         while (text.contains("\n\n\n")) {
@@ -2845,16 +3285,32 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
         @Override
         public boolean isEnabled(RecyclerView.ViewHolder holder) {
             int i = holder.getAdapterPosition();
-            if (user_id != 0) {
-                return i == phoneRow || i == settingsTimerRow || i == settingsKeyRow || i == settingsNotificationsRow ||
-                        i == sharedMediaRow || i == startSecretChatRow || i == usernameRow || i == userInfoRow || i == groupsInCommonRow;
-            } else if (chat_id != 0) {
-                return i == convertRow || i == settingsNotificationsRow || i == sharedMediaRow || i > emptyRowChat2 && i < membersEndRow ||
-                        i == addMemberRow || i == channelNameRow || i == leaveChannelRow || i == membersRow || i == managementRow ||
-                        i == blockedUsersRow || i == channelInfoRow;
+            if (ProfileActivity.this.user_id != 0) {
+                if (i == ProfileActivity.this.phoneRow || i == ProfileActivity.this.settingsTimerRow || i == ProfileActivity.this.settingsKeyRow || i == ProfileActivity.this.settingsNotificationsRow || i == ProfileActivity.this.sharedMediaRow || i == ProfileActivity.this.startSecretChatRow || i == ProfileActivity.this.usernameRow || i == ProfileActivity.this.userInfoRow || i == ProfileActivity.this.groupsInCommonRow || i == ProfileActivity.this.sharedFilesRow || i == ProfileActivity.this.sharedMusicRow || i == ProfileActivity.this.sharedLinksRow) {
+                    return true;
+                }
+                return false;
+            } else if (ProfileActivity.this.chat_id == 0) {
+                return false;
+            } else {
+                if (i == ProfileActivity.this.convertRow || i == ProfileActivity.this.settingsNotificationsRow || i == ProfileActivity.this.sharedMediaRow || ((i > ProfileActivity.this.emptyRowChat2 && i < ProfileActivity.this.membersEndRow) || i == ProfileActivity.this.addMemberRow || i == ProfileActivity.this.channelNameRow || i == ProfileActivity.this.leaveChannelRow || i == ProfileActivity.this.membersRow || i == ProfileActivity.this.managementRow || i == ProfileActivity.this.blockedUsersRow || i == ProfileActivity.this.channelInfoRow || i == ProfileActivity.this.sharedFilesRow || i == ProfileActivity.this.sharedMusicRow || i == ProfileActivity.this.sharedLinksRow)) {
+                    return true;
+                }
+                return false;
             }
-            return false;
         }
+//        public boolean isEnabled(RecyclerView.ViewHolder holder) {
+//            int i = holder.getAdapterPosition();
+//            if (user_id != 0) {
+//                return i == phoneRow || i == settingsTimerRow || i == settingsKeyRow || i == settingsNotificationsRow ||
+//                        i == sharedMediaRow || i == startSecretChatRow || i == usernameRow || i == userInfoRow || i == groupsInCommonRow;
+//            } else if (chat_id != 0) {
+//                return i == convertRow || i == settingsNotificationsRow || i == sharedMediaRow || i > emptyRowChat2 && i < membersEndRow ||
+//                        i == addMemberRow || i == channelNameRow || i == leaveChannelRow || i == membersRow || i == managementRow ||
+//                        i == blockedUsersRow || i == channelInfoRow;
+//            }
+//            return false;
+//        }
 
         @Override
         public int getItemCount() {
@@ -2869,7 +3325,7 @@ public int getItemViewType(int i) {
                 return 1;
             } else if (i == phoneRow || i == usernameRow || i == channelNameRow) {
                 return 2;
-            } else if (i == leaveChannelRow || i == sharedMediaRow || i == settingsTimerRow || i == settingsNotificationsRow || i == startSecretChatRow || i == settingsKeyRow || i == membersRow || i == managementRow || i == blockedUsersRow || i == convertRow || i == addMemberRow || i == groupsInCommonRow) {
+            } else if (i == ProfileActivity.this.leaveChannelRow || i == ProfileActivity.this.sharedMediaRow || i == ProfileActivity.this.settingsTimerRow || i == ProfileActivity.this.settingsNotificationsRow || i == ProfileActivity.this.startSecretChatRow || i == ProfileActivity.this.settingsKeyRow || i == ProfileActivity.this.membersRow || i == ProfileActivity.this.managementRow || i == ProfileActivity.this.blockedUsersRow || i == ProfileActivity.this.convertRow || i == ProfileActivity.this.addMemberRow || i == ProfileActivity.this.groupsInCommonRow || i == ProfileActivity.this.sharedFilesRow || i == ProfileActivity.this.sharedMusicRow || i == ProfileActivity.this.sharedLinksRow) {
                 return 3;
             } else if (i > emptyRowChat2 && i < membersEndRow) {
                 return 4;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ThemePreviewActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ThemePreviewActivity.java
index 0d4490dba..69dbc5224 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ThemePreviewActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ThemePreviewActivity.java
@@ -753,6 +753,11 @@ public void didPressedOther(ChatMessageCell cell) {
 
                     }
 
+                    @Override
+                    public void didLongPressedAvatar(ChatMessageCell chatMessageCell, TLRPC.User user) {
+
+                    }
+
                     @Override
                     public void didPressedUserAvatar(ChatMessageCell cell, TLRPC.User user) {
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ThemingActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ThemingActivity.java
new file mode 100644
index 000000000..5498a09ca
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ThemingActivity.java
@@ -0,0 +1,680 @@
+package org.telegram.ui;
+
+import android.app.AlertDialog.Builder;
+import android.content.Context;
+import android.content.DialogInterface;
+import android.content.SharedPreferences;
+import android.content.SharedPreferences.Editor;
+import android.content.res.Configuration;
+import android.graphics.Color;
+import android.graphics.PorterDuff.Mode;
+import android.graphics.drawable.Drawable;
+import android.os.Build;
+import android.os.Build.VERSION;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.View.OnClickListener;
+import android.view.ViewGroup;
+import android.view.ViewTreeObserver.OnPreDrawListener;
+import android.widget.AdapterView;
+import android.widget.AdapterView.OnItemClickListener;
+import android.widget.AdapterView.OnItemLongClickListener;
+import android.widget.BaseAdapter;
+import android.widget.EditText;
+import android.widget.FrameLayout;
+import android.widget.FrameLayout.LayoutParams;
+import android.widget.ListView;
+import android.widget.Toast;
+
+import org.telegram.messenger.AndroidUtilities;
+import org.telegram.messenger.ApplicationLoader;
+import org.telegram.messenger.FileLog;
+import org.telegram.messenger.LocaleController;
+import org.telegram.messenger.NotificationCenter;
+import org.telegram.messenger.R;
+import org.telegram.messenger.Utilities;
+import org.telegram.ui.ActionBar.ActionBar.ActionBarMenuOnItemClick;
+import org.telegram.ui.ActionBar.BaseFragment;
+import org.telegram.ui.ActionBar.Theme;
+import org.telegram.ui.ActionBar.Theme.ThemeInfo;
+import org.telegram.ui.Cells.HeaderCell;
+import org.telegram.ui.Cells.ShadowSectionCell;
+import org.telegram.ui.Cells.TextCheckCell;
+import org.telegram.ui.Cells.TextColorCell;
+import org.telegram.ui.Cells.TextDetailSettingsCell;
+import org.telegram.ui.Cells.TextSettingsCell;
+import org.telegram.ui.Components.ColorSelectorDialog;
+import org.telegram.ui.Components.ColorSelectorDialog.OnColorChangedListener;
+import org.telegram.ui.DocumentSelectActivity.DocumentSelectActivityDelegate;
+
+import java.io.File;
+import java.util.ArrayList;
+
+public class ThemingActivity extends BaseFragment {
+    public static final int CENTER = 0;
+    private static final String TAG = "ThemingActivity";
+    private int applyThemeRow;
+    private int chatRow;
+    private int chatsRow;
+    private int contactsRow;
+    private int dialogColorRow;
+    private int drawerRow;
+    private int generalSection2Row;
+    private ListAdapter listAdapter;
+    private ListView listView;
+    private int profileRow;
+    private int resetThemeRow;
+    private boolean reseting = false;
+    private int rowCount;
+    private int saveThemeRow;
+    private boolean saving = false;
+    private int screensSection2Row;
+    private int screensSectionRow;
+    private int settingsRow;
+    private boolean showPrefix;
+    private int themeColorRow;
+    private int themesSection2Row;
+    private int themesSectionRow;
+    private int usePlusThemeRow;
+
+    private class ListAdapter extends BaseAdapter {
+        private Context mContext;
+
+        public ListAdapter(Context context) {
+            this.mContext = context;
+        }
+
+        public boolean areAllItemsEnabled() {
+            return false;
+        }
+
+        public boolean isEnabled(int i) {
+            return i == ThemingActivity.this.themeColorRow || i == ThemingActivity.this.dialogColorRow || i == ThemingActivity.this.chatsRow || i == ThemingActivity.this.chatRow || i == ThemingActivity.this.contactsRow || i == ThemingActivity.this.drawerRow || i == ThemingActivity.this.profileRow || i == ThemingActivity.this.settingsRow || i == ThemingActivity.this.resetThemeRow || i == ThemingActivity.this.saveThemeRow || i == ThemingActivity.this.applyThemeRow || i == ThemingActivity.this.usePlusThemeRow;
+        }
+
+        public int getCount() {
+            return ThemingActivity.this.rowCount;
+        }
+
+        public Object getItem(int i) {
+            return null;
+        }
+
+        public long getItemId(int i) {
+            return (long) i;
+        }
+
+        public boolean hasStableIds() {
+            return false;
+        }
+
+        public View getView(int i, View view, ViewGroup viewGroup) {
+            int type = getItemViewType(i);
+            String prefix = ThemingActivity.this.showPrefix ? (i - ThemingActivity.this.screensSection2Row) + " " : "";
+            if (type == 0) {
+                if (view == null) {
+                    view = new ShadowSectionCell(this.mContext);
+                }
+            } else if (type == 1) {
+                if (view == null) {
+                    view = new HeaderCell(this.mContext);
+                }
+                if (i == ThemingActivity.this.generalSection2Row) {
+                    ((HeaderCell) view).setText(LocaleController.getString("General", R.string.General));
+                } else if (i == ThemingActivity.this.screensSection2Row) {
+                    ((HeaderCell) view).setText(LocaleController.getString("Screens", R.string.Screens));
+                } else if (i == ThemingActivity.this.themesSection2Row) {
+                    ((HeaderCell) view).setText(LocaleController.getString("Themes", R.string.Themes));
+                }
+            } else if (type == 2) {
+                if (view == null) {
+                    view = new TextSettingsCell(this.mContext);
+                }
+                TextSettingsCell textCell = (TextSettingsCell) view;
+                if (i == ThemingActivity.this.chatsRow) {
+                    textCell.setText(prefix + LocaleController.getString("MainScreen", R.string.MainScreen), true);
+                } else if (i == ThemingActivity.this.chatRow) {
+                    textCell.setText(prefix + LocaleController.getString("ChatScreen", R.string.ChatScreen), true);
+                } else if (i == ThemingActivity.this.contactsRow) {
+                    textCell.setText(prefix + LocaleController.getString("ContactsScreen", R.string.ContactsScreen), true);
+                } else if (i == ThemingActivity.this.drawerRow) {
+                    textCell.setText(prefix + LocaleController.getString("NavigationDrawer", R.string.NavigationDrawer), true);
+                } else if (i == ThemingActivity.this.profileRow) {
+                    textCell.setText(prefix + LocaleController.getString("ProfileScreen", R.string.ProfileScreen), true);
+                } else if (i == ThemingActivity.this.settingsRow) {
+                    textCell.setText(prefix + LocaleController.getString("SettingsScreen", R.string.SettingsScreen), false);
+                }
+            } else if (type == 3) {
+                if (view == null) {
+                    view = new TextDetailSettingsCell(this.mContext);
+                }
+                TextDetailSettingsCell textCell2 = (TextDetailSettingsCell) view;
+                if (i == ThemingActivity.this.saveThemeRow) {
+                    textCell2.setMultilineDetail(true);
+                    textCell2.setMultilineDetail(true);
+                    String text = LocaleController.getString("SaveTheme", R.string.SaveTheme).toLowerCase();
+                    if (text.length() > 0) {
+                        text = String.valueOf(text.charAt(0)).toUpperCase() + text.subSequence(1, text.length());
+                    }
+                    textCell2.setTextAndValue(text, LocaleController.getString("SaveThemeSum", R.string.SaveThemeSum), true);
+                } else if (i == ThemingActivity.this.applyThemeRow) {
+                    textCell2.setMultilineDetail(true);
+                    textCell2.setTextAndValue(LocaleController.getString("ApplyThemeFile", R.string.ApplyThemeFile), LocaleController.getString("ApplyThemeSum", R.string.ApplyThemeSum), true);
+                } else if (i == ThemingActivity.this.resetThemeRow) {
+                    textCell2.setMultilineDetail(true);
+                    textCell2.setTextAndValue(LocaleController.getString("ResetThemeSettings", R.string.ResetThemeSettings), LocaleController.getString("ResetThemeSettingsSum", R.string.ResetThemeSettingsSum), false);
+                }
+            } else if (type == 4) {
+                if (view == null) {
+                    view = new TextColorCell(this.mContext);
+                }
+                TextColorCell textCell3 = (TextColorCell) view;
+                SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0);
+                int defColor = preferences.getInt(Theme.pkey_themeColor, AndroidUtilities.defColor);
+                if (i == ThemingActivity.this.themeColorRow) {
+                    textCell3.setTextAndColor(LocaleController.getString(Theme.pkey_themeColor, R.string.themeColor), defColor, true);
+                } else if (i == ThemingActivity.this.dialogColorRow) {
+                    textCell3.setTextAndColor(LocaleController.getString("DialogColor", R.string.DialogColor), preferences.getInt(Theme.pkey_dialogColor, defColor), false);
+                }
+            } else if (type == 5) {
+                if (view == null) {
+                    view = new TextCheckCell(this.mContext);
+                }
+                TextCheckCell textCell4 = (TextCheckCell) view;
+                if (i == ThemingActivity.this.usePlusThemeRow) {
+                    textCell4.setTag("usePlusTheme");
+                    textCell4.setTextAndCheck(LocaleController.getString("UsePlusTheme", R.string.UsePlusTheme), Theme.usePlusTheme, true);
+                }
+            }
+            if (view != null) {
+                view.setBackgroundColor(Theme.usePlusTheme ? Theme.prefBGColor : Theme.getColor(Theme.key_windowBackgroundWhite));
+            }
+            return view;
+        }
+
+        public int getItemViewType(int i) {
+            if (i == ThemingActivity.this.screensSectionRow || i == ThemingActivity.this.themesSectionRow) {
+                return 0;
+            }
+            if (i == ThemingActivity.this.generalSection2Row || i == ThemingActivity.this.screensSection2Row || i == ThemingActivity.this.themesSection2Row) {
+                return 1;
+            }
+            if (i == ThemingActivity.this.chatsRow) {
+                return 2;
+            }
+            if (i == ThemingActivity.this.resetThemeRow || i == ThemingActivity.this.saveThemeRow || i == ThemingActivity.this.applyThemeRow) {
+                return 3;
+            }
+            if (i == ThemingActivity.this.themeColorRow || i == ThemingActivity.this.dialogColorRow) {
+                return 4;
+            }
+            if (i == ThemingActivity.this.usePlusThemeRow) {
+                return 5;
+            }
+            return 2;
+        }
+
+        public int getViewTypeCount() {
+            return 6;
+        }
+
+        public boolean isEmpty() {
+            return false;
+        }
+    }
+
+    public boolean onFragmentCreate() {
+        super.onFragmentCreate();
+        this.rowCount = 0;
+        int i = this.rowCount;
+        this.rowCount = i + 1;
+        this.usePlusThemeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.generalSection2Row = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.themeColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dialogColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.screensSectionRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.screensSection2Row = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatsRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.chatRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.contactsRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.drawerRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.profileRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.settingsRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.themesSectionRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.themesSection2Row = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.saveThemeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.applyThemeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.resetThemeRow = i;
+        this.showPrefix = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).getBoolean("showPrefix", true);
+        return true;
+    }
+
+    public void onFragmentDestroy() {
+        super.onFragmentDestroy();
+        if (AndroidUtilities.needRestart) {
+            Utilities.restartApp();
+        }
+    }
+
+    public View createView(Context context) {
+        if (this.fragmentView == null) {
+            this.actionBar.setBackButtonImage(R.drawable.ic_ab_back);
+            if (AndroidUtilities.isTablet()) {
+                this.actionBar.setOccupyStatusBar(false);
+            }
+            this.actionBar.setTitle(LocaleController.getString("Theming", R.string.Theming));
+            this.actionBar.setActionBarMenuOnItemClick(new ActionBarMenuOnItemClick() {
+                public void onItemClick(int id) {
+                    if (id == -1) {
+                        ThemingActivity.this.finishFragment();
+                    }
+                }
+            });
+            this.actionBar.setOnClickListener(new OnClickListener() {
+                public void onClick(View v) {
+                    boolean z;
+                    ThemingActivity themingActivity = ThemingActivity.this;
+                    if (ThemingActivity.this.showPrefix) {
+                        z = false;
+                    } else {
+                        z = true;
+                    }
+                    themingActivity.showPrefix = z;
+                    ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit().putBoolean("showPrefix", ThemingActivity.this.showPrefix).apply();
+                    if (ThemingActivity.this.listAdapter != null) {
+                        ThemingActivity.this.listAdapter.notifyDataSetChanged();
+                    }
+                }
+            });
+            this.listAdapter = new ListAdapter(context);
+            this.fragmentView = new FrameLayout(context);
+            FrameLayout frameLayout = (FrameLayout) this.fragmentView;
+            this.listView = new ListView(context);
+            if (Theme.usePlusTheme) {
+                this.listView.setBackgroundColor(Theme.prefBGColor);
+            }
+            this.listView.setDivider(null);
+            this.listView.setDividerHeight(0);
+            this.listView.setVerticalScrollBarEnabled(false);
+            AndroidUtilities.setListViewEdgeEffectColor(this.listView, Theme.prefActionbarColor);
+            frameLayout.addView(this.listView);
+            LayoutParams layoutParams = (LayoutParams) this.listView.getLayoutParams();
+            layoutParams.width = -1;
+            layoutParams.height = -1;
+            layoutParams.gravity = 48;
+            this.listView.setLayoutParams(layoutParams);
+            this.listView.setAdapter(this.listAdapter);
+            this.listView.setOnItemClickListener(new OnItemClickListener() {
+                public void onItemClick(AdapterView<?> adapterView, View view, int i, long l) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0);
+                    int defColor = preferences.getInt(Theme.pkey_themeColor, AndroidUtilities.defColor);
+                    if (i == ThemingActivity.this.themeColorRow) {
+                        if (ThemingActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingActivity.this.commitInt(color);
+                                    Theme.updateAllColors();
+                                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.updateDialogsTheme, Integer.valueOf(0));
+                                }
+                            }, defColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingActivity.this.dialogColorRow) {
+                        if (ThemingActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.dialogColor = color;
+                                    ThemingActivity.this.commitInt(Theme.pkey_dialogColor, color);
+                                }
+                            }, preferences.getInt(Theme.pkey_dialogColor, defColor), 0, 0, false).show();
+                        }
+                    } else if (i == ThemingActivity.this.saveThemeRow) {
+                        File file = new File(Utilities.findPrefFolder(ThemingActivity.this.getParentActivity()), "theme.xml");
+                        if (!file.exists() || (file.exists() && file.length() < 100)) {
+                            AndroidUtilities.runOnUIThread(new Runnable() {
+                                public void run() {
+                                    Toast.makeText(ThemingActivity.this.getParentActivity(), LocaleController.getString("SaveErrorMsg0", R.string.SaveErrorMsg0), Toast.LENGTH_LONG).show();
+                                }
+                            });
+                            return;
+                        }
+                        View promptsView = LayoutInflater.from(ThemingActivity.this.getParentActivity()).inflate(R.layout.editbox_dialog, null);
+                        Builder builder = new Builder(ThemingActivity.this.getParentActivity());
+                        builder.setView(promptsView);
+                        EditText userInput = (EditText) promptsView.findViewById(R.id.editTextDialogUserInput);
+                        userInput.setHint(LocaleController.getString("EnterName", R.string.EnterName));
+                        userInput.setHintTextColor(Color.BLACK); //TODO Multi
+                        userInput.getBackground().setColorFilter(preferences.getInt(Theme.pkey_dialogColor, defColor), Mode.SRC_IN);
+                        AndroidUtilities.clearCursorDrawable(userInput);
+                        builder.setTitle(LocaleController.getString("SaveTheme", R.string.SaveTheme));
+                        final EditText editText = userInput;
+                        builder.setPositiveButton(LocaleController.getString("OK", R.string.OK), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialogInterface, int i) {
+                                if (!ThemingActivity.this.saving) {
+                                    final String pName = editText.getText().toString();
+                                    if (pName.length() < 1) {
+                                        Toast.makeText(ThemingActivity.this.getParentActivity(), LocaleController.getString("NameTooShort", R.string.NameTooShort), Toast.LENGTH_SHORT).show();
+                                        return;
+                                    }
+                                    ThemingActivity.this.saving = true;
+                                    AndroidUtilities.runOnUIThread(new Runnable() {
+                                        public void run() {
+                                            ThemingActivity.this.saving = false;
+                                            if (ThemingActivity.this.getParentActivity() != null) {
+                                                AndroidUtilities.setStringPref(ThemingActivity.this.getParentActivity(), "themeName", pName);
+                                                try {
+                                                    AndroidUtilities.setStringPref(ThemingActivity.this.getParentActivity(), "version", ApplicationLoader.applicationContext.getPackageManager().getPackageInfo(ApplicationLoader.applicationContext.getPackageName(), 0).versionName);
+                                                } catch (Throwable e) {
+                                                    FileLog.e(e);
+                                                }
+                                                AndroidUtilities.setStringPref(ThemingActivity.this.getParentActivity(), "model", Build.MODEL + "/" + VERSION.RELEASE);
+                                                AndroidUtilities.setStringPref(ThemingActivity.this.getParentActivity(), "date", System.currentTimeMillis() + "");
+                                                Utilities.savePreferencesToSD(ThemingActivity.this.getParentActivity(), "/Telegram/Themes", "theme.xml", pName + ".xml", true);
+                                                Utilities.copyWallpaperToSD(ThemingActivity.this.getParentActivity(), pName, true);
+                                            }
+                                        }
+                                    });
+                                }
+                            }
+                        });
+                        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                        ThemingActivity.this.showDialog(builder.create());
+                    } else if (i == ThemingActivity.this.applyThemeRow) {
+                        DocumentSelectActivity fragment = new DocumentSelectActivity();
+//                        fragment.fileFilter = ".xml";
+//                        fragment.arrayFilter = new String[]{".xml"}; //TODO Multi
+                        fragment.setDelegate(new DocumentSelectActivityDelegate() {
+                            public void didSelectFiles(DocumentSelectActivity activity, ArrayList<String> files) {
+                                final String xmlFile = (String) files.get(0);
+                                File themeFile = new File(xmlFile);
+                                Builder builder = new Builder(ThemingActivity.this.getParentActivity());
+                                builder.setTitle(LocaleController.getString("ApplyThemeFile", R.string.ApplyThemeFile));
+                                builder.setMessage(themeFile.getName());
+                                final String wName = xmlFile.substring(0, xmlFile.lastIndexOf(".")) + "_wallpaper.jpg";
+                                File wFile = new File(wName);
+                                if (wFile.exists()) {
+                                    builder.setMessage(themeFile.getName() + "\n" + wFile.getName());
+                                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", 0);
+                                    if (preferences.getInt("selectedBackground", 1000001) == 1000001) {
+                                        Editor editor = preferences.edit();
+                                        editor.putInt("selectedBackground", 113);
+                                        editor.putInt("selectedColor", 0);
+                                        editor.commit();
+                                    }
+                                }
+                                builder.setPositiveButton(LocaleController.getString("OK", R.string.OK), new DialogInterface.OnClickListener() {
+                                    public void onClick(DialogInterface dialogInterface, int i) {
+                                        AndroidUtilities.runOnUIThread(new Runnable() {
+                                            public void run() {
+                                                if (Utilities.loadPrefFromSD(ThemingActivity.this.getParentActivity(), xmlFile) == 4) {
+//                                                    Utilities.applyWallpaper(wName); TODO Multi
+                                                    Utilities.restartApp();
+                                                }
+                                            }
+                                        });
+                                    }
+                                });
+                                builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                                ThemingActivity.this.showDialog(builder.create());
+                            }
+
+                            public void startDocumentSelectActivity() {
+                            }
+                        });
+                        ThemingActivity.this.presentFragment(fragment);
+                    } else if (i == ThemingActivity.this.resetThemeRow) {
+                        Builder builder = new Builder(ThemingActivity.this.getParentActivity());
+                        builder.setMessage(LocaleController.getString("AreYouSure", R.string.AreYouSure));
+                        builder.setTitle(LocaleController.getString("ResetThemeSettings", R.string.ResetThemeSettings));
+                        builder.setPositiveButton(LocaleController.getString("OK", R.string.OK), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialogInterface, int i) {
+                                if (!ThemingActivity.this.reseting) {
+                                    ThemingActivity.this.reseting = true;
+                                    AndroidUtilities.runOnUIThread(new Runnable() {
+                                        public void run() {
+                                            ThemingActivity.this.reseting = false;
+                                            Editor editor = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
+                                            editor.clear();
+                                            editor.commit();
+                                            editor = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", 0).edit();
+                                            editor.putInt("selectedBackground", 1000001);
+                                            editor.putInt("selectedColor", 0);
+                                            editor.commit();
+                                            File toFile = new File(ApplicationLoader.applicationContext.getFilesDir(), "wallpaper.jpg");
+                                            if (toFile.exists()) {
+                                                toFile.delete();
+                                            }
+                                            if (ThemingActivity.this.getParentActivity() != null) {
+                                                Toast.makeText(ThemingActivity.this.getParentActivity(), LocaleController.getString("ResetThemeToastText", R.string.ResetThemeToastText), Toast.LENGTH_LONG).show();
+                                            }
+                                            Theme.updateAllColors();
+                                            if (ThemingActivity.this.listAdapter != null) {
+                                                ThemingActivity.this.listAdapter.notifyDataSetChanged();
+                                            }
+                                            if (Theme.usePlusTheme) {
+                                                ThemingActivity.this.updateTheme();
+                                            }
+                                            ThemingActivity.this.fixLayout();
+                                        }
+                                    });
+                                    AndroidUtilities.needRestart = true;
+                                    AndroidUtilities.runOnUIThread(new Runnable() {
+                                        public void run() {
+                                            if (ThemingActivity.this.getParentActivity() != null) {
+                                                Toast.makeText(ThemingActivity.this.getParentActivity(), LocaleController.getString("AppWillRestart", R.string.AppWillRestart), Toast.LENGTH_LONG).show();
+                                            }
+                                        }
+                                    });
+                                }
+                            }
+                        });
+                        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                        ThemingActivity.this.showDialog(builder.create());
+                    } else if (i == ThemingActivity.this.chatsRow) {
+                        ThemingActivity.this.presentFragment(new ThemingChatsActivity());
+                    } else if (i == ThemingActivity.this.chatRow) {
+                        ThemingActivity.this.presentFragment(new ThemingChatActivity());
+                    } else if (i == ThemingActivity.this.contactsRow) {
+                        ThemingActivity.this.presentFragment(new ThemingContactsActivity());
+                    } else if (i == ThemingActivity.this.drawerRow) {
+                        ThemingActivity.this.presentFragment(new ThemingDrawerActivity());
+                    } else if (i == ThemingActivity.this.profileRow) {
+                        ThemingActivity.this.presentFragment(new ThemingProfileActivity());
+                    } else if (i == ThemingActivity.this.settingsRow) {
+                        ThemingActivity.this.presentFragment(new ThemingSettingsActivity());
+                    } else if (i == ThemingActivity.this.usePlusThemeRow) {
+                        Theme.usePlusTheme = !Theme.usePlusTheme;
+                        Editor editor = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
+                        editor.putBoolean("usePlusTheme", Theme.usePlusTheme);
+                        editor.apply();
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(Theme.usePlusTheme);
+                        }
+                        if (!Theme.usePlusTheme) {
+                            ThemeInfo applyingTheme = null;
+                            try {
+                                SharedPreferences prefs = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", 0);
+                                String theme = prefs.getString("prevTheme", prefs.getString(AndroidUtilities.THEME_PREFS, null));
+                                if (theme != null) {
+                                    applyingTheme = (ThemeInfo) Theme.getThemeList().get(theme);
+                                }
+                            } catch (Throwable e) {
+                                FileLog.e(e);
+                            }
+                            if (applyingTheme == null) {
+                                applyingTheme = Theme.getDefaultTheme();
+                            }
+                            Theme.applyTheme(applyingTheme);
+                        } else if (Theme.getCurrentTheme() != Theme.getDefaultTheme()) {
+                            Editor edit = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", 0).edit();
+                            edit.putString("prevTheme", Theme.getCurrentTheme().name);
+                            edit.commit();
+                            Theme.applyTheme(Theme.getDefaultTheme());
+                        }
+                        Theme.applyPlusTheme(true);
+                        if (ThemingActivity.this.parentLayout != null) {
+                            ThemingActivity.this.parentLayout.rebuildAllFragmentViews(false);
+                        }
+                        if (ThemingActivity.this.listView != null) {
+                            ThemingActivity.this.listView.invalidateViews();
+                        }
+                    }
+                }
+            });
+            this.listView.setOnItemLongClickListener(new OnItemLongClickListener() {
+                public boolean onItemLongClick(AdapterView<?> adapterView, View view, int i, long l) {
+                    if (ThemingActivity.this.getParentActivity() == null) {
+                        return false;
+                    }
+                    if (i == ThemingActivity.this.themeColorRow) {
+                        ThemingActivity.this.commitInt(AndroidUtilities.defColor);
+                    } else if (i == ThemingActivity.this.dialogColorRow) {
+                        ThemingActivity.this.resetPref(Theme.pkey_dialogColor);
+                    }
+                    return true;
+                }
+            });
+            frameLayout.addView(this.actionBar);
+        } else {
+            ViewGroup parent = (ViewGroup) this.fragmentView.getParent();
+            if (parent != null) {
+                parent.removeView(this.fragmentView);
+            }
+        }
+        if (Theme.usePlusTheme) {
+            updateTheme();
+        }
+        return this.fragmentView;
+    }
+
+    private void resetPref(String key) {
+        Editor editor = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
+        editor.remove(key);
+        editor.commit();
+        Theme.updateMainColors();
+        refreshTheme();
+    }
+
+    private void commitInt(String key, int value) {
+        Editor editor = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
+        editor.putInt(key, value);
+        editor.commit();
+        refreshTheme();
+    }
+
+    private void commitInt(int i) {
+        SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0);
+        Editor editor = preferences.edit();
+        editor.putInt(Theme.pkey_themeColor, i);
+        AndroidUtilities.themeColor = i;
+        editor.commit();
+        int darkColor = AndroidUtilities.setDarkColor(i, 21);
+        editor.putInt("chatsHeaderColor", i);
+        editor.putInt("chatsCountBGColor", i);
+        editor.putInt(Theme.pkey_chatsChecksColor, i);
+        editor.putInt(Theme.pkey_chatsMemberColor, darkColor);
+        editor.putInt(Theme.pkey_chatsMediaColor, preferences.getInt(Theme.pkey_chatsMemberColor, darkColor));
+        editor.putInt(Theme.pkey_chatsFloatingBGColor, i);
+        editor.putInt(Theme.pkey_chatHeaderColor, i);
+        editor.putInt(Theme.pkey_chatRBubbleColor, AndroidUtilities.getDefBubbleColor());
+        editor.putInt(Theme.pkey_chatStatusColor, AndroidUtilities.setDarkColor(i, -64));
+        editor.putInt(Theme.pkey_chatRTimeColor, darkColor);
+        editor.putInt(Theme.pkey_chatEmojiViewTabColor, AndroidUtilities.setDarkColor(i, -21));
+        editor.putInt(Theme.pkey_chatChecksColor, i);
+        editor.putInt(Theme.pkey_chatSendIconColor, i);
+        editor.putInt(Theme.pkey_chatMemberColor, darkColor);
+        editor.putInt("chatForwardColor", darkColor);
+        editor.putInt("contactsHeaderColor", i);
+        editor.putInt("contactsOnlineColor", darkColor);
+        editor.putInt("prefHeaderColor", i);
+        editor.putInt(Theme.pkey_dialogColor, i);
+        editor.commit();
+        fixLayout();
+        AndroidUtilities.themeColor = i;
+        refreshTheme();
+    }
+
+    private void refreshTheme() {
+        if (!Theme.usePlusTheme) {
+            Theme.usePlusTheme = true;
+            Editor editor = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
+            editor.putBoolean("usePlusTheme", true);
+            editor.commit();
+        }
+        Theme.applyPlusTheme();
+        if (this.parentLayout != null) {
+            this.parentLayout.rebuildAllFragmentViews(false);
+        }
+        if (this.listView != null) {
+            this.listView.invalidateViews();
+        }
+    }
+
+    public void onResume() {
+        super.onResume();
+        if (this.listAdapter != null) {
+            this.listAdapter.notifyDataSetChanged();
+        }
+        fixLayout();
+    }
+
+    private void updateTheme() {
+        this.actionBar.setTitleColor(Theme.prefActionbarTitleColor);
+        this.actionBar.setBackgroundColor(Theme.prefActionbarColor);
+        Drawable back = getParentActivity().getResources().getDrawable(R.drawable.ic_ab_back);
+        back.setColorFilter(Theme.prefActionbarIconsColor, Mode.MULTIPLY);
+        this.actionBar.setBackButtonDrawable(back);
+    }
+
+    public void onConfigurationChanged(Configuration newConfig) {
+        super.onConfigurationChanged(newConfig);
+        fixLayout();
+    }
+
+    private void fixLayout() {
+        if (this.fragmentView != null) {
+            this.fragmentView.getViewTreeObserver().addOnPreDrawListener(new OnPreDrawListener() {
+                public boolean onPreDraw() {
+                    if (ThemingActivity.this.fragmentView != null) {
+                        ThemingActivity.this.fragmentView.getViewTreeObserver().removeOnPreDrawListener(this);
+                    }
+                    return false;
+                }
+            });
+            this.listView.setAdapter(this.listAdapter);
+        }
+    }
+}
\ No newline at end of file
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatActivity.java
new file mode 100644
index 000000000..6f57d816c
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatActivity.java
@@ -0,0 +1,1802 @@
+package org.telegram.ui;
+
+import android.app.AlertDialog.Builder;
+import android.content.Context;
+import android.content.DialogInterface;
+import android.content.SharedPreferences;
+import android.content.SharedPreferences.Editor;
+import android.content.res.Configuration;
+import android.graphics.Color;
+import android.graphics.PorterDuff.Mode;
+import android.graphics.drawable.Drawable;
+import android.os.Bundle;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.View.OnClickListener;
+import android.view.ViewGroup;
+import android.view.ViewTreeObserver.OnPreDrawListener;
+import android.widget.AdapterView;
+import android.widget.AdapterView.OnItemClickListener;
+import android.widget.AdapterView.OnItemLongClickListener;
+import android.widget.BaseAdapter;
+import android.widget.FrameLayout;
+import android.widget.FrameLayout.LayoutParams;
+import android.widget.ListView;
+
+import org.telegram.messenger.AndroidUtilities;
+import org.telegram.messenger.ApplicationLoader;
+import org.telegram.messenger.LocaleController;
+import org.telegram.messenger.MessagesController;
+import org.telegram.messenger.R;
+import org.telegram.ui.ActionBar.ActionBar.ActionBarMenuOnItemClick;
+import org.telegram.ui.ActionBar.BaseFragment;
+import org.telegram.ui.ActionBar.Theme;
+import org.telegram.ui.Cells.HeaderCell;
+import org.telegram.ui.Cells.ShadowSectionCell;
+import org.telegram.ui.Cells.TextCheckCell;
+import org.telegram.ui.Cells.TextColorCell;
+import org.telegram.ui.Cells.TextDetailSettingsCell;
+import org.telegram.ui.Cells.TextSettingsCell;
+import org.telegram.ui.Components.ColorSelectorDialog;
+import org.telegram.ui.Components.ColorSelectorDialog.OnColorChangedListener;
+import org.telegram.ui.Components.NumberPicker;
+
+import java.util.ArrayList;
+
+public class ThemingChatActivity extends BaseFragment {
+    public static final int CENTER = 0;
+    private int attachBGColorRow;
+    private int attachBGGradientColorRow;
+    private int attachBGGradientRow;
+    private int attachTextColorRow;
+    private int avatarAlignTopRow;
+    private int avatarMarginLeftRow;
+    private int avatarRadiusRow;
+    private int avatarSizeRow;
+    private int bubblesRow;
+    private int checksColorRow;
+    private int checksRow;
+    private int commandColorCheckRow;
+    private int commandColorRow;
+    private int contactNameColorRow;
+    private int dateBubbleColorRow;
+    private int dateColorRow;
+    private int dateSizeRow;
+    private int editTextBGColorRow;
+    private int editTextBGGradientColorRow;
+    private int editTextBGGradientRow;
+    private int editTextColorRow;
+    private int editTextIconsColorRow;
+    private int editTextSizeRow;
+    private int emojiViewBGColorRow;
+    private int emojiViewBGGradientColorRow;
+    private int emojiViewBGGradientRow;
+    private int emojiViewTabColorRow;
+    private int emojiViewTabIconColorRow;
+    private int forwardLeftNameColorRow;
+    private int forwardRightNameColorRow;
+    private int gradientBGColorRow;
+    private int gradientBGRow;
+    private int headerAvatarRadiusRow;
+    private int headerColorRow;
+    private int headerGradientColorRow;
+    private int headerGradientRow;
+    private int headerIconsColorRow;
+    private int headerSection2Row;
+    private int hideStatusIndicatorCheckRow;
+    private int lBubbleColorRow;
+    private int lLinkColorRow;
+    private int lTextColorRow;
+    private int lTimeColorRow;
+    private ListAdapter listAdapter;
+    private ListView listView;
+    private int memberColorCheckRow;
+    private int memberColorRow;
+    private int muteColorRow;
+    private int nameColorRow;
+    private int nameSizeRow;
+    private int onlineColorRow;
+    private int ownAvatarAlignTopRow;
+    private int quickBarColorRow;
+    private int quickBarNamesColorRow;
+    private int rBubbleColorRow;
+    private int rLinkColorRow;
+    private int rTextColorRow;
+    private int rTimeColorRow;
+    private int rowCount;
+    private int rowsSection2Row;
+    private int rowsSectionRow;
+    private int selectedMessageBGColorRow;
+    private int sendColorRow;
+    private int showContactAvatar;
+    private int showOwnAvatar;
+    private int showOwnAvatarGroup;
+    private boolean showPrefix;
+    private int showUsernameCheckRow;
+    private int solidBGColorCheckRow;
+    private int solidBGColorRow;
+    private int statusColorRow;
+    private int statusSizeRow;
+    private int textSizeRow;
+    private int timeSizeRow;
+    private int typingColorRow;
+    NumberPicker r0;
+    int p;
+    int currentValue;
+
+    private class ListAdapter extends BaseAdapter {
+        private Context mContext;
+
+        public ListAdapter(Context context) {
+            this.mContext = context;
+        }
+
+        public boolean areAllItemsEnabled() {
+            return false;
+        }
+
+        public boolean isEnabled(int i) {
+            int g = AndroidUtilities.getIntDef(Theme.pkey_chatGradientBG, 0);
+            if (i == ThemingChatActivity.this.headerColorRow || i == ThemingChatActivity.this.headerGradientRow || ((AndroidUtilities.getIntDef(Theme.pkey_chatHeaderGradient, 0) != 0 && i == ThemingChatActivity.this.headerGradientColorRow) || i == ThemingChatActivity.this.muteColorRow || i == ThemingChatActivity.this.headerIconsColorRow || i == ThemingChatActivity.this.headerAvatarRadiusRow || i == ThemingChatActivity.this.rBubbleColorRow || i == ThemingChatActivity.this.lBubbleColorRow || i == ThemingChatActivity.this.bubblesRow || i == ThemingChatActivity.this.checksRow || i == ThemingChatActivity.this.solidBGColorCheckRow || ((Theme.chatSolidBGColorCheck && i == ThemingChatActivity.this.solidBGColorRow) || ((Theme.chatSolidBGColorCheck && i == ThemingChatActivity.this.gradientBGRow) || ((g != 0 && i == ThemingChatActivity.this.gradientBGColorRow) || i == ThemingChatActivity.this.avatarRadiusRow || i == ThemingChatActivity.this.avatarSizeRow || i == ThemingChatActivity.this.avatarMarginLeftRow || i == ThemingChatActivity.this.avatarAlignTopRow || i == ThemingChatActivity.this.ownAvatarAlignTopRow || i == ThemingChatActivity.this.showContactAvatar || i == ThemingChatActivity.this.showOwnAvatar || i == ThemingChatActivity.this.showOwnAvatarGroup || i == ThemingChatActivity.this.hideStatusIndicatorCheckRow || i == ThemingChatActivity.this.nameColorRow || i == ThemingChatActivity.this.nameSizeRow || i == ThemingChatActivity.this.statusColorRow || i == ThemingChatActivity.this.onlineColorRow || i == ThemingChatActivity.this.typingColorRow || i == ThemingChatActivity.this.statusSizeRow || i == ThemingChatActivity.this.textSizeRow || i == ThemingChatActivity.this.timeSizeRow || ((AndroidUtilities.getBoolPref("chatCommandColorCheck") && i == ThemingChatActivity.this.commandColorRow) || i == ThemingChatActivity.this.commandColorCheckRow || i == ThemingChatActivity.this.dateColorRow || i == ThemingChatActivity.this.dateSizeRow || i == ThemingChatActivity.this.dateBubbleColorRow || i == ThemingChatActivity.this.rTextColorRow || i == ThemingChatActivity.this.rLinkColorRow || i == ThemingChatActivity.this.lTextColorRow || i == ThemingChatActivity.this.lLinkColorRow || i == ThemingChatActivity.this.rTimeColorRow || i == ThemingChatActivity.this.lTimeColorRow || i == ThemingChatActivity.this.checksColorRow || i == ThemingChatActivity.this.memberColorCheckRow || ((Theme.chatMemberColorCheck && i == ThemingChatActivity.this.memberColorRow) || i == ThemingChatActivity.this.contactNameColorRow || i == ThemingChatActivity.this.forwardRightNameColorRow || i == ThemingChatActivity.this.forwardLeftNameColorRow || i == ThemingChatActivity.this.showUsernameCheckRow || i == ThemingChatActivity.this.editTextSizeRow || i == ThemingChatActivity.this.editTextColorRow || i == ThemingChatActivity.this.editTextIconsColorRow || i == ThemingChatActivity.this.sendColorRow || i == ThemingChatActivity.this.editTextBGColorRow || i == ThemingChatActivity.this.editTextBGGradientRow || ((AndroidUtilities.getIntDef(Theme.pkey_chatEditTextBGGradient, 0) != 0 && i == ThemingChatActivity.this.editTextBGGradientColorRow) || i == ThemingChatActivity.this.attachBGColorRow || i == ThemingChatActivity.this.attachBGGradientRow || ((AndroidUtilities.getIntDef(Theme.pkey_chatAttachBGGradient, 0) != 0 && i == ThemingChatActivity.this.attachBGGradientColorRow) || i == ThemingChatActivity.this.attachTextColorRow || i == ThemingChatActivity.this.emojiViewBGColorRow || i == ThemingChatActivity.this.emojiViewBGGradientRow || ((AndroidUtilities.getIntDef(Theme.pkey_chatEmojiViewBGGradient, 0) != 0 && i == ThemingChatActivity.this.emojiViewBGGradientColorRow) || i == ThemingChatActivity.this.emojiViewTabIconColorRow || i == ThemingChatActivity.this.emojiViewTabColorRow || i == ThemingChatActivity.this.selectedMessageBGColorRow || i == ThemingChatActivity.this.quickBarColorRow || i == ThemingChatActivity.this.quickBarNamesColorRow)))))))))) {
+                return true;
+            }
+            return false;
+        }
+
+        public int getCount() {
+            return ThemingChatActivity.this.rowCount;
+        }
+
+        public Object getItem(int i) {
+            return null;
+        }
+
+        public long getItemId(int i) {
+            return (long) i;
+        }
+
+        public boolean hasStableIds() {
+            return false;
+        }
+
+        public View getView(int i, View view, ViewGroup viewGroup) {
+            int type = getItemViewType(i);
+            String prefix = "";
+            if (ThemingChatActivity.this.showPrefix) {
+                prefix = "2.";
+                if (i == ThemingChatActivity.this.headerSection2Row) {
+                    prefix = prefix + "1 ";
+                } else if (i == ThemingChatActivity.this.rowsSection2Row) {
+                    prefix = prefix + "2 ";
+                } else if (i < ThemingChatActivity.this.rowsSection2Row) {
+                    prefix = prefix + "1." + i + " ";
+                } else {
+                    prefix = prefix + "2." + (i - ThemingChatActivity.this.rowsSection2Row) + " ";
+                }
+            }
+            SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0);
+            View shadowSectionCell;
+            if (type == 0) {
+                if (view == null) {
+                    shadowSectionCell = new ShadowSectionCell(this.mContext);
+                }
+            } else if (type == 1) {
+                if (view == null) {
+                    shadowSectionCell = new HeaderCell(this.mContext);
+                    shadowSectionCell.setBackgroundColor(-1);
+                }
+                if (i == ThemingChatActivity.this.headerSection2Row) {
+                    ((HeaderCell) view).setText(prefix + LocaleController.getString("Header", R.string.Header));
+                } else if (i == ThemingChatActivity.this.rowsSection2Row) {
+                    ((HeaderCell) view).setText(prefix + LocaleController.getString("ChatList", R.string.ChatList));
+                }
+            } else if (type == 2) {
+                if (view == null) {
+                    shadowSectionCell = new TextSettingsCell(this.mContext);
+                }
+                TextSettingsCell textCell = (TextSettingsCell) view;
+                int size;
+                if (i == ThemingChatActivity.this.headerAvatarRadiusRow) {
+                    textCell.setTag(Theme.pkey_chatHeaderAvatarRadius);
+                    size = themePrefs.getInt(Theme.pkey_chatHeaderAvatarRadius, AndroidUtilities.isTablet() ? 35 : 32);
+                    textCell.setTextAndValue(prefix + LocaleController.getString("AvatarRadius", R.string.AvatarRadius), String.format("%d", new Object[]{Integer.valueOf(size)}), true);
+                } else if (i == ThemingChatActivity.this.avatarRadiusRow) {
+                    textCell.setTag(Theme.pkey_chatAvatarRadius);
+                    size = themePrefs.getInt(Theme.pkey_chatAvatarRadius, AndroidUtilities.isTablet() ? 35 : 32);
+                    textCell.setTextAndValue(prefix + LocaleController.getString("AvatarRadius", R.string.AvatarRadius), String.format("%d", new Object[]{Integer.valueOf(size)}), true);
+                } else if (i == ThemingChatActivity.this.avatarSizeRow) {
+                    textCell.setTag(Theme.pkey_chatAvatarSize);
+                    size = themePrefs.getInt(Theme.pkey_chatAvatarSize, AndroidUtilities.isTablet() ? 45 : 42);
+                    textCell.setTextAndValue(prefix + LocaleController.getString("AvatarSize", R.string.AvatarSize), String.format("%d", new Object[]{Integer.valueOf(size)}), true);
+                } else if (i == ThemingChatActivity.this.avatarMarginLeftRow) {
+                    textCell.setTag(Theme.pkey_chatAvatarMarginLeft);
+                    size = themePrefs.getInt(Theme.pkey_chatAvatarMarginLeft, 6);
+                    textCell.setTextAndValue(prefix + LocaleController.getString("AvatarMarginLeft", R.string.AvatarMarginLeft), String.format("%d", new Object[]{Integer.valueOf(size)}), true);
+                } else if (i == ThemingChatActivity.this.nameSizeRow) {
+                    textCell.setTag(Theme.pkey_chatNameSize);
+                    size = themePrefs.getInt(Theme.pkey_chatNameSize, AndroidUtilities.isTablet() ? 20 : 18);
+                    textCell.setTextAndValue(prefix + LocaleController.getString("NameSize", R.string.NameSize), String.format("%d", new Object[]{Integer.valueOf(size)}), true);
+                } else if (i == ThemingChatActivity.this.statusSizeRow) {
+                    textCell.setTag(Theme.pkey_chatStatusSize);
+                    size = themePrefs.getInt(Theme.pkey_chatStatusSize, AndroidUtilities.isTablet() ? 16 : 14);
+                    textCell.setTextAndValue(prefix + LocaleController.getString("StatusSize", R.string.StatusSize), String.format("%d", new Object[]{Integer.valueOf(size)}), true);
+                } else if (i == ThemingChatActivity.this.textSizeRow) {
+                    textCell.setTag(Theme.pkey_chatTextSize);
+                    size = themePrefs.getInt(Theme.pkey_chatTextSize, AndroidUtilities.isTablet() ? 18 : 16);
+                    textCell.setTextAndValue(prefix + LocaleController.getString("TextSize", R.string.TextSize), String.format("%d", new Object[]{Integer.valueOf(size)}), true);
+                } else if (i == ThemingChatActivity.this.timeSizeRow)
+                        {
+                    textCell.setTag(Theme.pkey_chatTimeSize);
+                    size = themePrefs.getInt(Theme.pkey_chatTimeSize, AndroidUtilities.isTablet() ? 14 : 12);
+                    textCell.setTextAndValue(prefix + LocaleController.getString("TimeSize", R.string.TimeSize), String.format("%d", new Object[]{Integer.valueOf(size)}), true);
+                } else if (i == ThemingChatActivity.this.dateSizeRow) {
+                    textCell.setTag(Theme.pkey_chatDateSize);
+                    size = themePrefs.getInt(Theme.pkey_chatDateSize, AndroidUtilities.isTablet() ? 18 : MessagesController.getInstance().fontSize - 2);
+                    textCell.setTextAndValue(prefix + LocaleController.getString("DateSize", R.string.DateSize), String.format("%d", new Object[]{Integer.valueOf(size)}), true);
+                } else if (i == ThemingChatActivity.this.editTextSizeRow) {
+                    textCell.setTag(Theme.pkey_chatEditTextSize);
+                    size = themePrefs.getInt(Theme.pkey_chatEditTextSize, AndroidUtilities.isTablet() ? 20 : 18);
+                    textCell.setTextAndValue(prefix + LocaleController.getString("EditTextSize", R.string.EditTextSize), String.format("%d", new Object[]{Integer.valueOf(size)}), true);
+                } else if (i == ThemingChatActivity.this.bubblesRow) {
+                    textCell.setTag("chatBubbleStyle");
+                    Theme.chatBubbleStyle = themePrefs.getString("chatBubbleStyle", Theme.bubblesNamesArray[0]);
+                    textCell.setTextAndValue(prefix + LocaleController.getString("BubbleStyle", R.string.BubbleStyle), Theme.chatBubbleStyle, true);
+                } else if (i == ThemingChatActivity.this.checksRow) {
+                    textCell.setTag("chatCheckStyle");
+                    Theme.chatCheckStyle = themePrefs.getString("chatCheckStyle", Theme.checksNamesArray[0]);
+                    textCell.setTextAndValue(prefix + LocaleController.getString("CheckStyle", R.string.CheckStyle), Theme.chatCheckStyle, true);
+                }
+            } else if (type == 4) {
+                if (view == null) {
+                    shadowSectionCell = new TextCheckCell(this.mContext);
+                }
+                TextCheckCell textCell2 = (TextCheckCell) view;
+                if (i == ThemingChatActivity.this.solidBGColorCheckRow) {
+                    textCell2.setTag("chatSolidBGColorCheck");
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("SetSolidBGColor", R.string.SetSolidBGColor), Theme.chatSolidBGColorCheck, false);
+                } else if (i == ThemingChatActivity.this.commandColorCheckRow) {
+                    textCell2.setTag("chatCommandColorCheck");
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("CommandColorCheck", R.string.CommandColorCheck), themePrefs.getBoolean("chatCommandColorCheck", false), false);
+                } else if (i == ThemingChatActivity.this.memberColorCheckRow) {
+                    textCell2.setTag("chatMemberColorCheck");
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("SetMemberColor", R.string.SetMemberColor), Theme.chatMemberColorCheck, false);
+                } else if (i == ThemingChatActivity.this.showUsernameCheckRow) {
+                    textCell2.setTag("chatShowUsernameCheck");
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("ShowUsername", R.string.ShowUsername), Theme.chatShowUsernameCheck, true);
+                } else if (i == ThemingChatActivity.this.avatarAlignTopRow) {
+                    textCell2.setTag("chatAvatarAlignTop");
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("AvatarAlignTop", R.string.AvatarAlignTop), Theme.chatAvatarAlignTop, true);
+                } else if (i == ThemingChatActivity.this.ownAvatarAlignTopRow) {
+                    textCell2.setTag("chatOwnAvatarAlignTop");
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("OwnAvatarAlignTop", R.string.OwnAvatarAlignTop), Theme.chatOwnAvatarAlignTop, true);
+                } else if (i == ThemingChatActivity.this.showContactAvatar) {
+                    textCell2.setTag("chatShowContactAvatar");
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("ShowContactAvatar", R.string.ShowContactAvatar), Theme.chatShowContactAvatar, true);
+                } else if (i == ThemingChatActivity.this.showOwnAvatar) {
+                    textCell2.setTag("chatShowOwnAvatar");
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("ShowOwnAvatar", R.string.ShowOwnAvatar), Theme.chatShowOwnAvatar, true);
+                } else if (i == ThemingChatActivity.this.showOwnAvatarGroup) {
+                    textCell2.setTag("chatShowOwnAvatarGroup");
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("ShowOwnAvatarGroup", R.string.ShowOwnAvatarGroup), Theme.chatShowOwnAvatarGroup, true);
+                } else if (i == ThemingChatActivity.this.hideStatusIndicatorCheckRow) {
+                    textCell2.setTag("chatHideStatusIndicator");
+                    textCell2.setTextAndCheck(prefix + LocaleController.getString("HideStatusIndicator", R.string.HideStatusIndicator), Theme.chatHideStatusIndicator, true);
+                }
+            } else if (type == 3) {
+                if (view == null) {
+                    shadowSectionCell = new TextColorCell(this.mContext);
+                }
+                TextColorCell textCell3 = (TextColorCell) view;
+                int defColor = themePrefs.getInt(Theme.pkey_themeColor, AndroidUtilities.defColor);
+                int darkColor = AndroidUtilities.getIntDarkerColor(Theme.pkey_themeColor, 21);
+                int lightColor = AndroidUtilities.getIntDarkerColor(Theme.pkey_themeColor, -64);
+                if (i == ThemingChatActivity.this.headerColorRow) {
+                    textCell3.setTag(Theme.pkey_chatHeaderColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("HeaderColor", R.string.HeaderColor), themePrefs.getInt(Theme.pkey_chatHeaderColor, defColor), false);
+                } else if (i == ThemingChatActivity.this.headerGradientColorRow) {
+                    textCell3.setTag(Theme.pkey_chatHeaderGradientColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("HeaderColor", R.string.RowGradientColor), themePrefs.getInt(Theme.pkey_chatHeaderGradient, 0) == 0 ? 0 : themePrefs.getInt(Theme.pkey_chatHeaderGradientColor, Theme.defColor), true);
+                } else if (i == ThemingChatActivity.this.headerIconsColorRow) {
+                    textCell3.setTag(Theme.pkey_chatHeaderIconsColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("HeaderIconsColor", R.string.HeaderIconsColor), themePrefs.getInt(Theme.pkey_chatHeaderIconsColor, -1), true);
+                } else if (i == ThemingChatActivity.this.solidBGColorRow) {
+                    textCell3.setTag(Theme.pkey_chatSolidBGColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("SolidBGColor", R.string.SolidBGColor), Theme.chatSolidBGColorCheck ? themePrefs.getInt(Theme.pkey_chatSolidBGColor, -1) : 0, false);
+                } else if (i == ThemingChatActivity.this.gradientBGColorRow) {
+                    textCell3.setTag(Theme.pkey_chatGradientBGColor);
+                    String str = prefix + LocaleController.getString("RowGradientColor", R.string.RowGradientColor);
+                    int i2 = (themePrefs.getInt(Theme.pkey_chatGradientBG, 0) == 0 || !Theme.chatSolidBGColorCheck) ? 0 : themePrefs.getInt(Theme.pkey_chatGradientBGColor, -1);
+                    textCell3.setTextAndColor(str, i2, true);
+                } else if (i == ThemingChatActivity.this.memberColorRow) {
+                    textCell3.setTag(Theme.pkey_chatMemberColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("MemberColor", R.string.MemberColor), themePrefs.getBoolean("chatMemberColorCheck", false) ? themePrefs.getInt(Theme.pkey_chatMemberColor, darkColor) : 0, true);
+                } else if (i == ThemingChatActivity.this.contactNameColorRow) {
+                    textCell3.setTag(Theme.pkey_chatContactNameColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("SharedContactNameColor", R.string.SharedContactNameColor), themePrefs.getInt(Theme.pkey_chatContactNameColor, defColor), true);
+                } else if (i == ThemingChatActivity.this.forwardRightNameColorRow) {
+                    textCell3.setTag(Theme.pkey_chatForwardRColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("ForwardRightNameColor", R.string.ForwardRightNameColor), themePrefs.getInt(Theme.pkey_chatForwardRColor, darkColor), true);
+                } else if (i == ThemingChatActivity.this.forwardLeftNameColorRow) {
+                    textCell3.setTag(Theme.pkey_chatForwardLColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("ForwardLeftNameColor", R.string.ForwardLeftNameColor), themePrefs.getInt(Theme.pkey_chatForwardLColor, darkColor), true);
+                } else if (i == ThemingChatActivity.this.muteColorRow) {
+                    textCell3.setTag("chatMuteColor");
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("MuteColor", R.string.MuteColor), themePrefs.getInt("chatMuteColor", -1), true);
+                } else if (i == ThemingChatActivity.this.rBubbleColorRow) {
+                    textCell3.setTag(Theme.pkey_chatRBubbleColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("RBubbleColor", R.string.RBubbleColor), themePrefs.getInt(Theme.pkey_chatRBubbleColor, AndroidUtilities.getDefBubbleColor()), true);
+                } else if (i == ThemingChatActivity.this.lBubbleColorRow) {
+                    textCell3.setTag(Theme.pkey_chatLBubbleColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("LBubbleColor", R.string.LBubbleColor), themePrefs.getInt(Theme.pkey_chatLBubbleColor, -1), true);
+                } else if (i == ThemingChatActivity.this.rTextColorRow) {
+                    textCell3.setTag(Theme.pkey_chatRTextColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("RTextColor", R.string.RTextColor), themePrefs.getInt(Theme.pkey_chatRTextColor, -16777216), true);
+                } else if (i == ThemingChatActivity.this.lTextColorRow) {
+                    textCell3.setTag(Theme.pkey_chatLTextColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("LTextColor", R.string.LTextColor), themePrefs.getInt(Theme.pkey_chatLTextColor, -16777216), true);
+                } else if (i == ThemingChatActivity.this.selectedMessageBGColorRow) {
+                    textCell3.setTag(Theme.pkey_chatSelectedMsgBGColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("SelectedMsgBGColor", R.string.SelectedMsgBGColor), themePrefs.getInt(Theme.pkey_chatSelectedMsgBGColor, Theme.SELECTED_MDG_BACKGROUND_COLOR_DEF), true);
+                } else if (i == ThemingChatActivity.this.rLinkColorRow) {
+                    textCell3.setTag(Theme.pkey_chatRLinkColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("RLinkColor", R.string.RLinkColor), themePrefs.getInt(Theme.pkey_chatRLinkColor, defColor), true);
+                } else if (i == ThemingChatActivity.this.lLinkColorRow) {
+                    textCell3.setTag(Theme.pkey_chatLLinkColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("LLinkColor", R.string.LLinkColor), themePrefs.getInt(Theme.pkey_chatLLinkColor, defColor), true);
+                } else if (i == ThemingChatActivity.this.nameColorRow) {
+                    textCell3.setTag(Theme.pkey_chatNameColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("NameColor", R.string.NameColor), themePrefs.getInt(Theme.pkey_chatNameColor, -1), true);
+                } else if (i == ThemingChatActivity.this.statusColorRow) {
+                    textCell3.setTag(Theme.pkey_chatStatusColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("StatusColor", R.string.StatusColor), themePrefs.getInt(Theme.pkey_chatStatusColor, lightColor), true);
+                } else if (i == ThemingChatActivity.this.onlineColorRow) {
+                    textCell3.setTag(Theme.pkey_chatOnlineColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("OnlineColor", R.string.OnlineColor), themePrefs.getInt(Theme.pkey_chatOnlineColor, themePrefs.getInt(Theme.pkey_chatStatusColor, lightColor)), true);
+                } else if (i == ThemingChatActivity.this.typingColorRow) {
+                    textCell3.setTag(Theme.pkey_chatTypingColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("TypingColor", R.string.TypingColor), themePrefs.getInt(Theme.pkey_chatTypingColor, themePrefs.getInt(Theme.pkey_chatStatusColor, lightColor)), false);
+                } else if (i == ThemingChatActivity.this.rTimeColorRow) {
+                    textCell3.setTag(Theme.pkey_chatRTimeColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("RTimeColor", R.string.RTimeColor), themePrefs.getInt(Theme.pkey_chatRTimeColor, darkColor), true);
+                } else if (i == ThemingChatActivity.this.lTimeColorRow) {
+                    textCell3.setTag(Theme.pkey_chatLTimeColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("LTimeColor", R.string.LTimeColor), themePrefs.getInt(Theme.pkey_chatLTimeColor, -6182221), true);
+                } else if (i == ThemingChatActivity.this.checksColorRow) {
+                    textCell3.setTag(Theme.pkey_chatChecksColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("ChecksColor", R.string.ChecksColor), themePrefs.getInt(Theme.pkey_chatChecksColor, defColor), true);
+                } else if (i == ThemingChatActivity.this.commandColorRow) {
+                    textCell3.setTag(Theme.pkey_chatCommandColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("CommandColor", R.string.CommandColor), themePrefs.getBoolean("chatCommandColorCheck", false) ? themePrefs.getInt(Theme.pkey_chatCommandColor, Theme.defColor) : 0, true);
+                } else if (i == ThemingChatActivity.this.dateColorRow) {
+                    textCell3.setTag(Theme.pkey_chatDateColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("DateColor", R.string.DateColor), themePrefs.getInt(Theme.pkey_chatDateColor, -1), true);
+                } else if (i == ThemingChatActivity.this.dateBubbleColorRow) {
+                    textCell3.setTag(Theme.pkey_chatDateBubbleColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("DateBubbleColor", R.string.DateBubbleColor), themePrefs.getInt(Theme.pkey_chatDateBubbleColor, 1719044499), true);
+                } else if (i == ThemingChatActivity.this.sendColorRow) {
+                    textCell3.setTag(Theme.pkey_chatSendIconColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("SendIcon", R.string.SendIcon), themePrefs.getInt(Theme.pkey_chatSendIconColor, themePrefs.getInt(Theme.pkey_chatEditTextIconsColor, defColor)), true);
+                } else if (i == ThemingChatActivity.this.editTextColorRow) {
+                    textCell3.setTag(Theme.pkey_chatEditTextColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("EditTextColor", R.string.EditTextColor), themePrefs.getInt(Theme.pkey_chatEditTextColor, -16777216), true);
+                } else if (i == ThemingChatActivity.this.editTextBGColorRow) {
+                    textCell3.setTag(Theme.pkey_chatEditTextBGColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("EditTextBGColor", R.string.EditTextBGColor), themePrefs.getInt(Theme.pkey_chatEditTextBGColor, -1), false);
+                } else if (i == ThemingChatActivity.this.editTextBGGradientColorRow) {
+                    textCell3.setTag(Theme.pkey_chatEditTextBGGradient);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("RowGradientColor", R.string.RowGradientColor), themePrefs.getInt(Theme.pkey_chatEditTextBGGradient, 0) == 0 ? 0 : themePrefs.getInt(Theme.pkey_chatEditTextBGGradientColor, -1), true);
+                } else if (i == ThemingChatActivity.this.attachBGColorRow) {
+                    textCell3.setTag(Theme.pkey_chatAttachBGColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("AttachBGColor", R.string.AttachBGColor), themePrefs.getInt(Theme.pkey_chatAttachBGColor, -1), false);
+                } else if (i == ThemingChatActivity.this.attachBGGradientColorRow) {
+                    textCell3.setTag(Theme.pkey_chatAttachBGGradient);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("RowGradientColor", R.string.RowGradientColor), themePrefs.getInt(Theme.pkey_chatAttachBGGradient, 0) == 0 ? 0 : themePrefs.getInt(Theme.pkey_chatAttachBGGradientColor, -1), true);
+                } else if (i == ThemingChatActivity.this.attachTextColorRow) {
+                    textCell3.setTag(Theme.pkey_chatAttachTextColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("AttachTextColor", R.string.AttachTextColor), themePrefs.getInt(Theme.pkey_chatAttachTextColor, -9079435), true);
+                } else if (i == ThemingChatActivity.this.editTextIconsColorRow) {
+                    textCell3.setTag(Theme.pkey_chatEditTextIconsColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("EditTextIconsColor", R.string.EditTextIconsColor), themePrefs.getInt(Theme.pkey_chatEditTextIconsColor, -5395027), true);
+                } else if (i == ThemingChatActivity.this.emojiViewBGColorRow) {
+                    textCell3.setTag(Theme.pkey_chatEmojiViewBGColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("EmojiViewBGColor", R.string.EmojiViewBGColor), themePrefs.getInt(Theme.pkey_chatEmojiViewBGColor, -657673), false);
+                } else if (i == ThemingChatActivity.this.emojiViewBGGradientColorRow) {
+                    textCell3.setTag(Theme.pkey_chatEmojiViewBGGradient);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("RowGradientColor", R.string.RowGradientColor), themePrefs.getInt(Theme.pkey_chatEmojiViewBGGradient, 0) == 0 ? 0 : themePrefs.getInt(Theme.pkey_chatEmojiViewBGGradientColor, -657673), true);
+                } else if (i == ThemingChatActivity.this.emojiViewTabIconColorRow) {
+                    textCell3.setTag(Theme.pkey_chatEmojiViewTabIconColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("EmojiViewTabIconColor", R.string.EmojiViewTabIconColor), themePrefs.getInt(Theme.pkey_chatEmojiViewTabIconColor, -5723992), true);
+                } else if (i == ThemingChatActivity.this.emojiViewTabColorRow) {
+                    textCell3.setTag(Theme.pkey_chatEmojiViewTabColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("EmojiViewTabColor", R.string.EmojiViewTabColor), themePrefs.getInt(Theme.pkey_chatEmojiViewTabColor, AndroidUtilities.getIntDarkerColor(Theme.pkey_themeColor, -21)), true);
+                } else if (i == ThemingChatActivity.this.quickBarColorRow) {
+                    textCell3.setTag(Theme.pkey_chatQuickBarColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("QuickBarColor", R.string.QuickBarColor), themePrefs.getInt(Theme.pkey_chatQuickBarColor, -1), true);
+                } else if (i == ThemingChatActivity.this.quickBarNamesColorRow) {
+                    textCell3.setTag(Theme.pkey_chatQuickBarNamesColor);
+                    textCell3.setTextAndColor(prefix + LocaleController.getString("QuickBarNamesColor", R.string.QuickBarNamesColor), themePrefs.getInt(Theme.pkey_chatQuickBarNamesColor, -14606047), false);
+                }
+            } else if (type == 5) {
+                if (view == null) {
+                    shadowSectionCell = new TextDetailSettingsCell(this.mContext);
+                }
+                TextDetailSettingsCell textCell4 = (TextDetailSettingsCell) view;
+                int value;
+                if (i == ThemingChatActivity.this.gradientBGRow) {
+                    textCell4.setMultilineDetail(false);
+                    value = themePrefs.getInt(Theme.pkey_chatGradientBG, 0);
+                    if (value == 0) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled), false);
+                    } else if (value == 1) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom), false);
+                    } else if (value == 2) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight), false);
+                    } else if (value == 3) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR), false);
+                    } else if (value == 4) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR), false);
+                    }
+                } else if (i == ThemingChatActivity.this.headerGradientRow) {
+                    textCell4.setMultilineDetail(false);
+                    value = themePrefs.getInt(Theme.pkey_chatHeaderGradient, 0);
+                    if (value == 0) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled), false);
+                    } else if (value == 1) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom), false);
+                    } else if (value == 2) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight), false);
+                    } else if (value == 3) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR), false);
+                    } else if (value == 4) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR), false);
+                    }
+                } else if (i == ThemingChatActivity.this.editTextBGGradientRow) {
+                    textCell4.setMultilineDetail(false);
+                    value = themePrefs.getInt(Theme.pkey_chatEditTextBGGradient, 0);
+                    if (value == 0) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled), false);
+                    } else if (value == 1) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom), false);
+                    } else if (value == 2) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight), false);
+                    } else if (value == 3) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR), false);
+                    } else if (value == 4) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR), false);
+                    }
+                } else if (i == ThemingChatActivity.this.attachBGGradientRow) {
+                    textCell4.setMultilineDetail(false);
+                    value = themePrefs.getInt(Theme.pkey_chatAttachBGGradient, 0);
+                    if (value == 0) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled), false);
+                    } else if (value == 1) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom), false);
+                    } else if (value == 2) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight), false);
+                    } else if (value == 3) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR), false);
+                    } else if (value == 4) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR), false);
+                    }
+                } else if (i == ThemingChatActivity.this.emojiViewBGGradientRow) {
+                    textCell4.setMultilineDetail(false);
+                    value = themePrefs.getInt(Theme.pkey_chatEmojiViewBGGradient, 0);
+                    if (value == 0) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled), false);
+                    } else if (value == 1) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom), false);
+                    } else if (value == 2) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight), false);
+                    } else if (value == 3) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR), false);
+                    } else if (value == 4) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR), false);
+                    }
+                }
+            }
+            if (view != null) {
+                view.setBackgroundColor(Theme.usePlusTheme ? Theme.prefBGColor : Theme.getColor(Theme.key_windowBackgroundWhite));
+            }
+            return view;
+        }
+
+        public int getItemViewType(int i) {
+            if (i == ThemingChatActivity.this.rowsSectionRow) {
+                return 0;
+            }
+            if (i == ThemingChatActivity.this.headerSection2Row || i == ThemingChatActivity.this.rowsSection2Row) {
+                return 1;
+            }
+            if (i == ThemingChatActivity.this.headerAvatarRadiusRow || i == ThemingChatActivity.this.avatarRadiusRow || i == ThemingChatActivity.this.avatarSizeRow || i == ThemingChatActivity.this.avatarMarginLeftRow || i == ThemingChatActivity.this.nameSizeRow || i == ThemingChatActivity.this.statusSizeRow || i == ThemingChatActivity.this.textSizeRow || i == ThemingChatActivity.this.timeSizeRow || i == ThemingChatActivity.this.dateSizeRow || i == ThemingChatActivity.this.editTextSizeRow || i == ThemingChatActivity.this.bubblesRow || i == ThemingChatActivity.this.checksRow) {
+                return 2;
+            }
+            if (i == ThemingChatActivity.this.headerColorRow || i == ThemingChatActivity.this.headerGradientColorRow || i == ThemingChatActivity.this.muteColorRow || i == ThemingChatActivity.this.headerIconsColorRow || i == ThemingChatActivity.this.solidBGColorRow || i == ThemingChatActivity.this.gradientBGColorRow || i == ThemingChatActivity.this.rBubbleColorRow || i == ThemingChatActivity.this.lBubbleColorRow || i == ThemingChatActivity.this.nameColorRow || i == ThemingChatActivity.this.statusColorRow || i == ThemingChatActivity.this.onlineColorRow || i == ThemingChatActivity.this.typingColorRow || i == ThemingChatActivity.this.commandColorRow || i == ThemingChatActivity.this.dateColorRow || i == ThemingChatActivity.this.dateBubbleColorRow || i == ThemingChatActivity.this.rTextColorRow || i == ThemingChatActivity.this.rLinkColorRow || i == ThemingChatActivity.this.lTextColorRow || i == ThemingChatActivity.this.lLinkColorRow || i == ThemingChatActivity.this.rTimeColorRow || i == ThemingChatActivity.this.lTimeColorRow || i == ThemingChatActivity.this.checksColorRow || i == ThemingChatActivity.this.memberColorRow || i == ThemingChatActivity.this.contactNameColorRow || i == ThemingChatActivity.this.forwardRightNameColorRow || i == ThemingChatActivity.this.forwardLeftNameColorRow || i == ThemingChatActivity.this.sendColorRow || i == ThemingChatActivity.this.editTextColorRow || i == ThemingChatActivity.this.editTextBGColorRow || i == ThemingChatActivity.this.editTextBGGradientColorRow || i == ThemingChatActivity.this.editTextIconsColorRow || i == ThemingChatActivity.this.attachBGColorRow || i == ThemingChatActivity.this.attachBGGradientColorRow || i == ThemingChatActivity.this.attachTextColorRow || i == ThemingChatActivity.this.emojiViewBGColorRow || i == ThemingChatActivity.this.emojiViewBGGradientColorRow || i == ThemingChatActivity.this.emojiViewTabIconColorRow || i == ThemingChatActivity.this.emojiViewTabColorRow || i == ThemingChatActivity.this.selectedMessageBGColorRow || i == ThemingChatActivity.this.quickBarColorRow || i == ThemingChatActivity.this.quickBarNamesColorRow) {
+                return 3;
+            }
+            if (i == ThemingChatActivity.this.solidBGColorCheckRow || i == ThemingChatActivity.this.commandColorCheckRow || i == ThemingChatActivity.this.memberColorCheckRow || i == ThemingChatActivity.this.showUsernameCheckRow || i == ThemingChatActivity.this.avatarAlignTopRow || i == ThemingChatActivity.this.ownAvatarAlignTopRow || i == ThemingChatActivity.this.showContactAvatar || i == ThemingChatActivity.this.showOwnAvatar || i == ThemingChatActivity.this.showOwnAvatarGroup || i == ThemingChatActivity.this.hideStatusIndicatorCheckRow) {
+                return 4;
+            }
+            if (i == ThemingChatActivity.this.headerGradientRow || i == ThemingChatActivity.this.gradientBGRow || i == ThemingChatActivity.this.editTextBGGradientRow || i == ThemingChatActivity.this.attachBGGradientRow || i == ThemingChatActivity.this.emojiViewBGGradientRow) {
+                return 5;
+            }
+            return 2;
+        }
+
+        public int getViewTypeCount() {
+            return 6;
+        }
+
+        public boolean isEmpty() {
+            return false;
+        }
+    }
+
+    public boolean onFragmentCreate() {
+        super.onFragmentCreate();
+        this.rowCount = 0;
+        int i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerSection2Row = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerGradientRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerGradientColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerIconsColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerAvatarRadiusRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.nameSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.nameColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.statusSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.statusColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.onlineColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.typingColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowsSectionRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowsSection2Row = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.solidBGColorCheckRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.solidBGColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.gradientBGRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.gradientBGColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.showContactAvatar = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.avatarAlignTopRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.showOwnAvatar = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.showOwnAvatarGroup = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.ownAvatarAlignTopRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.avatarRadiusRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.avatarSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.avatarMarginLeftRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.hideStatusIndicatorCheckRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.textSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rTextColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rLinkColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.lTextColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.lLinkColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.selectedMessageBGColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.commandColorCheckRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.commandColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.timeSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rTimeColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.lTimeColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.checksColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dateSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dateColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.bubblesRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.checksRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rBubbleColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.lBubbleColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dateBubbleColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.memberColorCheckRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.memberColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.contactNameColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.forwardRightNameColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.forwardLeftNameColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.showUsernameCheckRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.sendColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.editTextSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.editTextColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.editTextBGColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.editTextBGGradientRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.editTextBGGradientColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.editTextIconsColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.attachBGColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.attachBGGradientRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.attachBGGradientColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.attachTextColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.emojiViewBGColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.emojiViewBGGradientRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.emojiViewBGGradientColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.emojiViewTabIconColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.emojiViewTabColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.quickBarColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.quickBarNamesColorRow = i;
+        this.showPrefix = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).getBoolean("chatShowPrefix", true);
+        return true;
+    }
+
+    public void onFragmentDestroy() {
+        super.onFragmentDestroy();
+    }
+
+    public View createView(Context context) {
+        if (this.fragmentView == null) {
+            this.actionBar.setBackButtonImage(R.drawable.ic_ab_back);
+            if (AndroidUtilities.isTablet()) {
+                this.actionBar.setOccupyStatusBar(false);
+            }
+            this.actionBar.setTitle(LocaleController.getString("ChatScreen", R.string.ChatScreen));
+            this.actionBar.setActionBarMenuOnItemClick(new ActionBarMenuOnItemClick() {
+                public void onItemClick(int id) {
+                    if (id == -1) {
+                        ThemingChatActivity.this.finishFragment();
+                    }
+                }
+            });
+            this.actionBar.setOnClickListener(new OnClickListener() {
+                public void onClick(View v) {
+                    boolean z;
+                    ThemingChatActivity themingChatActivity = ThemingChatActivity.this;
+                    if (ThemingChatActivity.this.showPrefix) {
+                        z = false;
+                    } else {
+                        z = true;
+                    }
+                    themingChatActivity.showPrefix = z;
+                    ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit().putBoolean("chatShowPrefix", ThemingChatActivity.this.showPrefix).apply();
+                    if (ThemingChatActivity.this.listAdapter != null) {
+                        ThemingChatActivity.this.listAdapter.notifyDataSetChanged();
+                    }
+                }
+            });
+            this.listAdapter = new ListAdapter(context);
+            this.fragmentView = new FrameLayout(context);
+            FrameLayout frameLayout = (FrameLayout) this.fragmentView; //TODO Multi
+            this.listView = new ListView(context);
+            if (Theme.usePlusTheme) {
+                this.listView.setBackgroundColor(Theme.prefBGColor);
+            }
+            this.listView.setDivider(null);
+            this.listView.setDividerHeight(0);
+            this.listView.setVerticalScrollBarEnabled(false);
+            AndroidUtilities.setListViewEdgeEffectColor(this.listView, Theme.prefActionbarColor);
+            frameLayout.addView(this.listView);
+            LayoutParams layoutParams = (LayoutParams) this.listView.getLayoutParams();
+            layoutParams.width = -1;
+            layoutParams.height = -1;
+            layoutParams.gravity = 48;
+            this.listView.setLayoutParams(layoutParams);
+            this.listView.setAdapter(this.listAdapter);
+            this.listView.setOnItemClickListener(new OnItemClickListener() {
+                public void onItemClick(AdapterView<?> adapterView, View view, int i, long l) {
+                    SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0);
+                    final String key = view.getTag() != null ? view.getTag().toString() : "";
+                    if (i == ThemingChatActivity.this.headerColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatHeaderColor = color;
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatHeaderColor, color);
+                                }
+                            }, Theme.chatHeaderColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.headerGradientColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatHeaderGradientColor, color);
+                                }
+                            }, themePrefs.getInt(Theme.pkey_chatHeaderGradientColor, Theme.defColor), 0, 0, false).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.headerGradientRow) {
+                        Builder builder = new Builder(ThemingChatActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("RowGradient", R.string.RowGradient));
+                        ArrayList array = new ArrayList();
+                        array.add(LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled));
+                        array.add(LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom));
+                        array.add(LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight));
+                        array.add(LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR));
+                        array.add(LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR));
+                        String[] simpleArray = new String[array.size()];
+                        array.toArray(new String[array.size()]);
+                        builder.setItems((CharSequence[]) array.toArray(simpleArray), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit().putInt(Theme.pkey_chatHeaderGradient, which).commit();
+                                if (ThemingChatActivity.this.listView != null) {
+                                    ThemingChatActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                        ThemingChatActivity.this.showDialog(builder.create());
+                    } else if (i == ThemingChatActivity.this.editTextBGGradientRow) {
+                        Builder builder = new Builder(ThemingChatActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("RowGradient", R.string.RowGradient));
+                        ArrayList array = new ArrayList();
+                        array.add(LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled));
+                        array.add(LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom));
+                        array.add(LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight));
+                        array.add(LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR));
+                        array.add(LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR));
+                        String[] simpleArray = new String[array.size()];
+                        array.toArray(new String[array.size()]);
+                        builder.setItems((CharSequence[]) array.toArray(simpleArray), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit().putInt(Theme.pkey_chatEditTextBGGradient, which).commit();
+                                if (ThemingChatActivity.this.listView != null) {
+                                    ThemingChatActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                        ThemingChatActivity.this.showDialog(builder.create());
+                    } else if (i == ThemingChatActivity.this.attachBGGradientRow) {
+                        Builder builder = new Builder(ThemingChatActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("RowGradient", R.string.RowGradient));
+                        ArrayList array = new ArrayList();
+                        array.add(LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled));
+                        array.add(LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom));
+                        array.add(LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight));
+                        array.add(LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR));
+                        array.add(LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR));
+                        String[] simpleArray = new String[array.size()];
+                        array.toArray(new String[array.size()]);
+                        builder.setItems((CharSequence[]) array.toArray(simpleArray), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit().putInt(Theme.pkey_chatAttachBGGradient, which).commit();
+                                if (ThemingChatActivity.this.listView != null) {
+                                    ThemingChatActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                        ThemingChatActivity.this.showDialog(builder.create());
+                    } else if (i == ThemingChatActivity.this.emojiViewBGGradientRow) {
+                        Builder builder = new Builder(ThemingChatActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("RowGradient", R.string.RowGradient));
+                        ArrayList array = new ArrayList();
+                        array.add(LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled));
+                        array.add(LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom));
+                        array.add(LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight));
+                        array.add(LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR));
+                        array.add(LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR));
+                        String[] simpleArray = new String[array.size()];
+                        array.toArray(new String[array.size()]);
+                        builder.setItems((CharSequence[]) array.toArray(simpleArray), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit().putInt(Theme.pkey_chatEmojiViewBGGradient, which).commit();
+                                if (ThemingChatActivity.this.listView != null) {
+                                    ThemingChatActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                        ThemingChatActivity.this.showDialog(builder.create());
+                    } else if (i == ThemingChatActivity.this.commandColorCheckRow) {
+                        boolean b = themePrefs.getBoolean(key, false);
+//                        SharedPreferences editor = themePrefs.edit();
+                        themePrefs.edit().putBoolean(key, !b);
+                        themePrefs.edit().apply();
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(!b);
+                        }
+                        if (ThemingChatActivity.this.listView != null) {
+                            ThemingChatActivity.this.listView.invalidateViews();
+                        }
+                    } else if (i == ThemingChatActivity.this.solidBGColorCheckRow) {
+                        Theme.chatSolidBGColorCheck = !Theme.chatSolidBGColorCheck;
+//                        editor = themePrefs.edit();
+                        themePrefs.edit().putBoolean(key, Theme.chatSolidBGColorCheck);
+                        themePrefs.edit().apply();
+                        Theme.reloadWallpaper();
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(Theme.chatSolidBGColorCheck);
+                        }
+                        if (ThemingChatActivity.this.listView != null) {
+                            ThemingChatActivity.this.listView.invalidateViews();
+                        }
+                    } else if (i == ThemingChatActivity.this.memberColorCheckRow) {
+                        boolean b = themePrefs.getBoolean(key, false);
+                        Theme.chatMemberColorCheck = !Theme.chatMemberColorCheck;
+//                        editor = themePrefs.edit();
+                        themePrefs.edit().putBoolean(key, Theme.chatMemberColorCheck);
+                        themePrefs.edit().apply();
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(Theme.chatMemberColorCheck);
+                        }
+                        if (ThemingChatActivity.this.listView != null) {
+                            ThemingChatActivity.this.listView.invalidateViews();
+                        }
+                    } else if (i == ThemingChatActivity.this.showUsernameCheckRow) {
+                        Theme.chatShowUsernameCheck = !Theme.chatShowUsernameCheck;
+//                        editor = themePrefs.edit();
+                        themePrefs.edit().putBoolean(key, Theme.chatShowUsernameCheck);
+                        themePrefs.edit().apply();
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(Theme.chatShowUsernameCheck);
+                        }
+                        if (ThemingChatActivity.this.listView != null) {
+                            ThemingChatActivity.this.listView.invalidateViews();
+                        }
+                    } else if (i == ThemingChatActivity.this.avatarAlignTopRow) {
+                        Theme.chatAvatarAlignTop = !Theme.chatAvatarAlignTop;
+//                        editor = themePrefs.edit();
+                        themePrefs.edit().putBoolean(key, Theme.chatAvatarAlignTop);
+                        themePrefs.edit().apply();
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(Theme.chatAvatarAlignTop);
+                        }
+                    } else if (i == ThemingChatActivity.this.ownAvatarAlignTopRow) {
+                        Theme.chatOwnAvatarAlignTop = !Theme.chatOwnAvatarAlignTop;
+//                        editor = themePrefs.edit();
+                        themePrefs.edit().putBoolean(key, Theme.chatOwnAvatarAlignTop);
+                        themePrefs.edit().apply();
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(Theme.chatOwnAvatarAlignTop);
+                        }
+                    } else if (i == ThemingChatActivity.this.showContactAvatar) {
+                        Theme.chatShowContactAvatar = !Theme.chatShowContactAvatar;
+//                        editor = themePrefs.edit();
+                        themePrefs.edit().putBoolean(key, Theme.chatShowContactAvatar);
+                        themePrefs.edit().apply();
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(Theme.chatShowContactAvatar);
+                        }
+                    } else if (i == ThemingChatActivity.this.showOwnAvatar) {
+                        Theme.chatShowOwnAvatar = !Theme.chatShowOwnAvatar;
+//                        editor = themePrefs.edit();
+                        themePrefs.edit().putBoolean(key, Theme.chatShowOwnAvatar);
+                        themePrefs.edit().apply();
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(Theme.chatShowOwnAvatar);
+                        }
+                    } else if (i == ThemingChatActivity.this.showOwnAvatarGroup) {
+                        Theme.chatShowOwnAvatarGroup = !Theme.chatShowOwnAvatarGroup;
+//                        editor = themePrefs.edit();
+                        themePrefs.edit().putBoolean(key, Theme.chatShowOwnAvatarGroup);
+                        themePrefs.edit().apply();
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(Theme.chatShowOwnAvatarGroup);
+                        }
+                    } else if (i == ThemingChatActivity.this.hideStatusIndicatorCheckRow) {
+                        Theme.chatHideStatusIndicator = !Theme.chatHideStatusIndicator;
+//                        editor = themePrefs.edit();
+                        themePrefs.edit().putBoolean(key, Theme.chatHideStatusIndicator);
+                        themePrefs.edit().apply();
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(Theme.chatHideStatusIndicator);
+                        }
+                    } else if (i == ThemingChatActivity.this.solidBGColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatSolidBGColor, color);
+                                    Theme.reloadWallpaper();
+                                }
+                            }, themePrefs.getInt(Theme.pkey_chatSolidBGColor, -1), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.gradientBGColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatGradientBGColor, color);
+                                }
+                            }, themePrefs.getInt(Theme.pkey_chatGradientBGColor, -1), 0, 0, false).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.gradientBGRow) {
+                        Builder builder = new Builder(ThemingChatActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("RowGradient", R.string.RowGradient));
+                        ArrayList array = new ArrayList();
+                        array.add(LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled));
+                        array.add(LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom));
+                        array.add(LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight));
+                        array.add(LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR));
+                        array.add(LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR));
+                        String[] simpleArray = new String[array.size()];
+                        array.toArray(new String[array.size()]);
+                        builder.setItems((CharSequence[]) array.toArray(simpleArray), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit().putInt(Theme.pkey_chatGradientBG, which).commit();
+                                if (ThemingChatActivity.this.listView != null) {
+                                    ThemingChatActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                        ThemingChatActivity.this.showDialog(builder.create());
+                    } else if (i == ThemingChatActivity.this.memberColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatMemberColor = color;
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatMemberColor, color);
+                                }
+                            }, Theme.chatMemberColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.contactNameColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatContactNameColor = color;
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatContactNameColor, color);
+                                }
+                            }, Theme.chatContactNameColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.forwardRightNameColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatForwardRColor = color;
+                                    ThemingChatActivity.this.commitInt(key, color);
+                                }
+                            }, Theme.chatForwardRColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.forwardLeftNameColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatForwardLColor = color;
+                                    ThemingChatActivity.this.commitInt(key, color);
+                                }
+                            }, Theme.chatForwardLColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.muteColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatActivity.this.commitInt(key, color);
+                                }
+                            }, themePrefs.getInt(key, -1), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.rBubbleColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatRBubbleColor = color;
+                                    Theme.updateChatDrawablesColor();
+                                    ThemingChatActivity.this.commitInt(key, color);
+                                }
+                            }, Theme.chatRBubbleColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.lBubbleColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatLBubbleColor = color;
+                                    Theme.updateChatDrawablesColor();
+                                    ThemingChatActivity.this.commitInt(key, color);
+                                }
+                            }, Theme.chatLBubbleColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.rTextColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatRTextColor = color;
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatRTextColor, color);
+                                }
+                            }, Theme.chatRTextColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.lTextColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatLTextColor = color;
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatLTextColor, color);
+                                }
+                            }, Theme.chatLTextColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.selectedMessageBGColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    int alpha = Color.alpha(color);
+                                    Theme.chatSelectedMsgBGColor = color;
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatSelectedMsgBGColor, color);
+                                }
+                            }, themePrefs.getInt(Theme.pkey_chatSelectedMsgBGColor, Theme.SELECTED_MDG_BACKGROUND_COLOR_DEF), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.rLinkColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatRLinkColor = color;
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatRLinkColor, color);
+                                }
+                            }, Theme.chatRLinkColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.lLinkColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatLLinkColor = color;
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatLLinkColor, color);
+                                }
+                            }, Theme.chatLLinkColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.rTimeColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatRTimeColor = color;
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatRTimeColor, color);
+                                }
+                            }, Theme.chatRTimeColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.lTimeColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatLTimeColor = color;
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatLTimeColor, color);
+                                }
+                            }, Theme.chatLTimeColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.dateBubbleColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatDateBubbleColor = color;
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatDateBubbleColor, color);
+                                }
+                            }, Theme.chatDateBubbleColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.headerIconsColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatHeaderIconsColor = color;
+                                    ThemingChatActivity.this.commitInt(key, color);
+                                }
+                            }, Theme.chatHeaderIconsColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.nameColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatNameColor, color);
+                                }
+                            }, themePrefs.getInt(Theme.pkey_chatNameColor, -1), 0, 0, false).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.sendColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatSendIconColor, color);
+                                }
+                            }, themePrefs.getInt(Theme.pkey_chatSendIconColor, AndroidUtilities.getIntColor(Theme.pkey_chatEditTextIconsColor)), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.editTextColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatEditTextColor, color);
+                                }
+                            }, themePrefs.getInt(Theme.pkey_chatEditTextColor, -16777216), 0, 0, false).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.editTextBGColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatEditTextBGColor, color);
+                                }
+                            }, themePrefs.getInt(Theme.pkey_chatEditTextBGColor, -1), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.editTextBGGradientColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatEditTextBGGradientColor, color);
+                                }
+                            }, themePrefs.getInt(Theme.pkey_chatEditTextBGGradientColor, -1), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.attachBGColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatAttachBGColor = color;
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatAttachBGColor, color);
+                                }
+                            }, themePrefs.getInt(Theme.pkey_chatAttachBGColor, -1), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.attachBGGradientColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatAttachBGGradientColor, color);
+                                }
+                            }, themePrefs.getInt(Theme.pkey_chatAttachBGGradientColor, -1), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.attachTextColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatAttachTextColor, color);
+                                }
+                            }, themePrefs.getInt(Theme.pkey_chatAttachTextColor, -9079435), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.editTextIconsColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatEditTextIconsColor = color;
+                                    ThemingChatActivity.this.commitInt(key, color);
+                                }
+                            }, Theme.chatEditTextIconsColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.emojiViewBGColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatEmojiViewBGColor, color);
+                                }
+                            }, themePrefs.getInt(Theme.pkey_chatEmojiViewBGColor, -657673), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.emojiViewBGGradientColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatEmojiViewBGGradientColor, color);
+                                }
+                            }, themePrefs.getInt(Theme.pkey_chatEmojiViewBGGradientColor, -657673), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.emojiViewTabIconColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatEmojiViewTabIconColor, color);
+                                }
+                            }, themePrefs.getInt(Theme.pkey_chatEmojiViewTabIconColor, -5723992), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.emojiViewTabColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatEmojiViewTabColor, color);
+                                }
+                            }, themePrefs.getInt(Theme.pkey_chatEmojiViewTabColor, Theme.darkColor), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.statusColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatStatusColor = color;
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatStatusColor, color);
+                                }
+                            }, Theme.chatStatusColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.onlineColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatOnlineColor = color;
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatOnlineColor, color);
+                                }
+                            }, Theme.chatOnlineColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.typingColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatTypingColor = color;
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatTypingColor, color);
+                                }
+                            }, Theme.chatTypingColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.commandColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatCommandColor, color);
+                                }
+                            }, themePrefs.getInt(Theme.pkey_chatCommandColor, Theme.defColor), 0, 0, false).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.dateColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatDateColor = color;
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatDateColor, color);
+                                }
+                            }, Theme.chatDateColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.checksColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatChecksColor = color;
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatChecksColor, color);
+                                }
+                            }, Theme.chatChecksColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.headerAvatarRadiusRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingChatActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("AvatarRadius", R.string.AvatarRadius));
+                            r0 = new NumberPicker(ThemingChatActivity.this.getParentActivity());
+                            currentValue = themePrefs.getInt(key, 32);
+                            r0.setMinValue(1);
+                            r0.setMaxValue(32);
+                            r0.setValue(currentValue);
+                            builder.setView(r0);
+                            p = r0.getValue();
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (p != currentValue) {
+                                        ThemingChatActivity.this.commitInt(key, r0.getValue());
+                                    }
+                                }
+                            });
+                            ThemingChatActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingChatActivity.this.avatarRadiusRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingChatActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("AvatarRadius", R.string.AvatarRadius));
+                            r0 = new NumberPicker(ThemingChatActivity.this.getParentActivity());
+                            r0.setMinValue(1);
+                            r0.setMaxValue(AndroidUtilities.isTablet() ? 35 : 32);
+                            r0.setValue(Theme.chatAvatarRadius);
+                            builder.setView(r0);
+                            p = r0.getValue();
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (p != Theme.chatAvatarRadius) {
+                                        Theme.chatAvatarRadius = r0.getValue();
+                                        ThemingChatActivity.this.commitInt(key, r0.getValue());
+                                    }
+                                }
+                            });
+                            ThemingChatActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingChatActivity.this.avatarSizeRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingChatActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("AvatarSize", R.string.AvatarSize));
+                            r0 = new NumberPicker(ThemingChatActivity.this.getParentActivity());
+                            r0.setMinValue(0);
+                            r0.setMaxValue(56);
+                            r0.setValue(Theme.chatAvatarSize);
+                            builder.setView(r0);
+//                            r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != Theme.chatAvatarSize) {
+                                        Theme.chatAvatarSize = r0.getValue();
+                                        ThemingChatActivity.this.commitInt(key, r0.getValue());
+                                    }
+                                }
+                            });
+                            ThemingChatActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingChatActivity.this.avatarMarginLeftRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingChatActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("AvatarMarginLeft", R.string.AvatarMarginLeft));
+                            r0 = new NumberPicker(ThemingChatActivity.this.getParentActivity());
+                            r0.setMinValue(0);
+                            r0.setMaxValue(12);
+                            r0.setValue(Theme.chatAvatarMarginLeft);
+                            builder.setView(r0);
+//                            r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != Theme.chatAvatarMarginLeft) {
+                                        Theme.chatAvatarMarginLeft = r0.getValue();
+                                        ThemingChatActivity.this.commitInt(key, Theme.chatAvatarMarginLeft);
+                                    }
+                                }
+                            });
+                            ThemingChatActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingChatActivity.this.nameSizeRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingChatActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("NameSize", R.string.NameSize));
+                            r0 = new NumberPicker(ThemingChatActivity.this.getParentActivity());
+                            currentValue = themePrefs.getInt(Theme.pkey_chatNameSize, 18);
+                            r0.setMinValue(12);
+                            r0.setMaxValue(30);
+                            r0.setValue(currentValue);
+                            builder.setView(r0);
+//                            r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != currentValue) {
+                                        ThemingChatActivity.this.commitInt(Theme.pkey_chatNameSize, r0.getValue());
+                                    }
+                                }
+                            });
+                            ThemingChatActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingChatActivity.this.statusSizeRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingChatActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("StatusSize", R.string.StatusSize));
+                            r0 = new NumberPicker(ThemingChatActivity.this.getParentActivity());
+                            r0.setMinValue(8);
+                            r0.setMaxValue(22);
+                            r0.setValue(Theme.chatStatusSize);
+                            builder.setView(r0);
+//                            r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != Theme.chatStatusSize) {
+                                        Theme.chatStatusSize = r0.getValue();
+                                        ThemingChatActivity.this.commitInt(Theme.pkey_chatStatusSize, r0.getValue());
+                                    }
+                                }
+                            });
+                            ThemingChatActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingChatActivity.this.textSizeRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingChatActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("TextSize", R.string.TextSize));
+                            r0 = new NumberPicker(ThemingChatActivity.this.getParentActivity());
+                            currentValue = themePrefs.getInt(Theme.pkey_chatTextSize, 16);
+                            r0.setMinValue(12);
+                            r0.setMaxValue(30);
+                            r0.setValue(currentValue);
+                            builder.setView(r0);
+//                            r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != currentValue) {
+                                        ThemingChatActivity.this.commitInt(Theme.pkey_chatTextSize, r0.getValue());
+                                        Editor editor = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", 0).edit();
+                                        editor.putInt("fons_size", r0.getValue());
+                                        MessagesController.getInstance().fontSize = r0.getValue();
+                                        editor.apply();
+                                    }
+                                }
+                            });
+                            ThemingChatActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingChatActivity.this.timeSizeRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingChatActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("TimeSize", R.string.TimeSize));
+                            r0 = new NumberPicker(ThemingChatActivity.this.getParentActivity());
+                            r0.setMinValue(8);
+                            r0.setMaxValue(20);
+                            r0.setValue(Theme.chatTimeSize);
+                            builder.setView(r0);
+//                            r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != Theme.chatTimeSize) {
+                                        Theme.chatTimeSize = r0.getValue();
+                                        ThemingChatActivity.this.commitInt(Theme.pkey_chatTimeSize, Theme.chatTimeSize);
+                                    }
+                                }
+                            });
+                            ThemingChatActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingChatActivity.this.dateSizeRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingChatActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("DateSize", R.string.DateSize));
+                            r0 = new NumberPicker(ThemingChatActivity.this.getParentActivity());
+                            r0.setMinValue(8);
+                            r0.setMaxValue(20);
+                            r0.setValue(Theme.chatDateSize);
+                            builder.setView(r0);
+//                            r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != Theme.chatDateSize) {
+                                        Theme.chatDateSize = r0.getValue();
+                                        ThemingChatActivity.this.commitInt(Theme.pkey_chatDateSize, Theme.chatDateSize);
+                                    }
+                                }
+                            });
+                            ThemingChatActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingChatActivity.this.editTextSizeRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingChatActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("EditTextSize", R.string.EditTextSize));
+                            r0 = new NumberPicker(ThemingChatActivity.this.getParentActivity());
+                            currentValue = themePrefs.getInt(Theme.pkey_chatEditTextSize, 18);
+                            r0.setMinValue(12);
+                            r0.setMaxValue(28);
+                            r0.setValue(currentValue);
+                            builder.setView(r0);
+//                            r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != currentValue) {
+                                        ThemingChatActivity.this.commitInt(Theme.pkey_chatEditTextSize, r0.getValue());
+                                    }
+                                }
+                            });
+                            ThemingChatActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingChatActivity.this.bubblesRow) {
+                        Bundle args = new Bundle();
+                        args.putInt("array_id", 0);
+                        ThemingChatActivity.this.presentFragment(new ImageListActivity(args));
+                    } else if (i == ThemingChatActivity.this.checksRow) {
+                        Bundle args = new Bundle();
+                        args.putInt("array_id", 1);
+                        ThemingChatActivity.this.presentFragment(new ImageListActivity(args));
+                    } else if (i == ThemingChatActivity.this.quickBarColorRow) {
+                        if (ThemingChatActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatQuickBarColor = color;
+                                    ThemingChatActivity.this.commitInt(Theme.pkey_chatQuickBarColor, color);
+                                }
+                            }, Theme.chatQuickBarColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatActivity.this.quickBarNamesColorRow && ThemingChatActivity.this.getParentActivity() != null) {
+                        ((LayoutInflater) ThemingChatActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                        new ColorSelectorDialog(ThemingChatActivity.this.getParentActivity(), new OnColorChangedListener() {
+                            public void colorChanged(int color) {
+                                Theme.chatQuickBarNamesColor = color;
+                                ThemingChatActivity.this.commitInt(Theme.pkey_chatQuickBarNamesColor, color);
+                            }
+                        }, Theme.chatQuickBarNamesColor, 0, 0, true).show();
+                    }
+                }
+            });
+            this.listView.setOnItemLongClickListener(new OnItemLongClickListener() {
+                public boolean onItemLongClick(AdapterView<?> adapterView, View view, int i, long l) {
+                    if (ThemingChatActivity.this.getParentActivity() == null) {
+                        return false;
+                    }
+                    if (i == ThemingChatActivity.this.headerColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatHeaderColor);
+                    } else if (i == ThemingChatActivity.this.headerGradientRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatHeaderGradient);
+                    } else if (i == ThemingChatActivity.this.headerGradientColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatHeaderGradientColor);
+                    } else if (i == ThemingChatActivity.this.solidBGColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatSolidBGColor);
+                        Theme.reloadWallpaper();
+                    } else if (i == ThemingChatActivity.this.gradientBGColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatGradientBGColor);
+                        Theme.reloadWallpaper();
+                    } else if (i == ThemingChatActivity.this.gradientBGRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatGradientBG);
+                    } else if (i == ThemingChatActivity.this.memberColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatMemberColor);
+                    } else if (i == ThemingChatActivity.this.contactNameColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatContactNameColor);
+                    } else if (i == ThemingChatActivity.this.rTextColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatRTextColor);
+                    } else if (i == ThemingChatActivity.this.lTextColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatLTextColor);
+                    } else if (i == ThemingChatActivity.this.selectedMessageBGColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatSelectedMsgBGColor);
+                    } else if (i == ThemingChatActivity.this.nameColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatNameColor);
+                    } else if (i == ThemingChatActivity.this.nameSizeRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatNameSize);
+                    } else if (i == ThemingChatActivity.this.statusColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatStatusColor);
+                    } else if (i == ThemingChatActivity.this.onlineColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatOnlineColor);
+                    } else if (i == ThemingChatActivity.this.typingColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatTypingColor);
+                    } else if (i == ThemingChatActivity.this.statusSizeRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatStatusSize);
+                    } else if (i == ThemingChatActivity.this.rTimeColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatRTimeColor);
+                    } else if (i == ThemingChatActivity.this.lTimeColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatLTimeColor);
+                    } else if (i == ThemingChatActivity.this.commandColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatCommandColor);
+                    } else if (i == ThemingChatActivity.this.dateColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatDateColor);
+                    } else if (i == ThemingChatActivity.this.checksColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatChecksColor);
+                    } else if (i == ThemingChatActivity.this.textSizeRow) {
+                        ThemingChatActivity.this.resetInt(Theme.pkey_chatTextSize, 16);
+                    } else if (i == ThemingChatActivity.this.timeSizeRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatTimeSize);
+                    } else if (i == ThemingChatActivity.this.dateSizeRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatDateSize);
+                    } else if (i == ThemingChatActivity.this.dateBubbleColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatDateBubbleColor);
+                    } else if (i == ThemingChatActivity.this.sendColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatSendIconColor);
+                    } else if (i == ThemingChatActivity.this.editTextColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatEditTextColor);
+                    } else if (i == ThemingChatActivity.this.editTextSizeRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatEditTextSize);
+                    } else if (i == ThemingChatActivity.this.editTextBGColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatEditTextBGColor);
+                    } else if (i == ThemingChatActivity.this.editTextBGGradientColorRow) {
+                        ThemingChatActivity.this.resetPref("chatEditTextBGGradentColor");
+                    } else if (i == ThemingChatActivity.this.editTextBGGradientRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatEditTextBGGradient);
+                    } else if (i == ThemingChatActivity.this.attachBGColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatAttachBGColor);
+                    } else if (i == ThemingChatActivity.this.attachBGGradientRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatAttachBGGradient);
+                    } else if (i == ThemingChatActivity.this.attachBGGradientColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatAttachBGGradientColor);
+                    } else if (i == ThemingChatActivity.this.attachTextColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatAttachTextColor);
+                    } else if (i == ThemingChatActivity.this.emojiViewBGColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatEmojiViewBGColor);
+                    } else if (i == ThemingChatActivity.this.emojiViewBGGradientRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatEmojiViewBGGradient);
+                    } else if (i == ThemingChatActivity.this.emojiViewBGGradientColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatEmojiViewBGGradientColor);
+                    } else if (i == ThemingChatActivity.this.emojiViewTabIconColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatEmojiViewTabIconColor);
+                    } else if (i == ThemingChatActivity.this.emojiViewTabColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatEmojiViewTabColor);
+                    } else if (i == ThemingChatActivity.this.quickBarColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatQuickBarColor);
+                    } else if (i == ThemingChatActivity.this.quickBarNamesColorRow) {
+                        ThemingChatActivity.this.resetPref(Theme.pkey_chatQuickBarNamesColor);
+                    } else if (view.getTag() != null) {
+                        ThemingChatActivity.this.resetPref(view.getTag().toString());
+                    }
+                    return true;
+                }
+            });
+            frameLayout.addView(this.actionBar);
+        } else {
+            ViewGroup parent = (ViewGroup) this.fragmentView.getParent();
+            if (parent != null) {
+                parent.removeView(this.fragmentView);
+            }
+        }
+        if (Theme.usePlusTheme) {
+            updateTheme();
+        }
+        return this.fragmentView;
+    }
+
+    private void resetPref(String key) {
+        Editor editor = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
+        editor.remove(key);
+        editor.apply();
+        if (this.listView != null) {
+            this.listView.invalidateViews();
+        }
+        Theme.updateChatColors();
+        refreshTheme();
+    }
+
+    private void resetInt(String key, int value) {
+        Theme.setPlusColor(key, value, true);
+        resetPref(key);
+        if (key.equals(Theme.pkey_chatTextSize)) {
+            Editor editor = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", 0).edit();
+            editor.putInt("fons_size", value);
+            MessagesController.getInstance().fontSize = value;
+            editor.apply();
+        }
+    }
+
+    private void commitInt(String key, int value) {
+        Theme.setPlusColor(key, value, false);
+        Editor editor = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
+        editor.putInt(key, value);
+        editor.apply();
+        if (this.listView != null) {
+            this.listView.invalidateViews();
+        }
+        refreshTheme();
+    }
+
+    private void refreshTheme() {
+        Theme.applyPlusTheme();
+        if (this.parentLayout != null) {
+            this.parentLayout.rebuildAllFragmentViews(false);
+        }
+    }
+
+    public void onResume() {
+        super.onResume();
+        if (this.listAdapter != null) {
+            this.listAdapter.notifyDataSetChanged();
+        }
+        fixLayout();
+    }
+
+    private void updateTheme() {
+        this.actionBar.setBackgroundColor(Theme.prefActionbarColor);
+        this.actionBar.setTitleColor(Theme.prefActionbarTitleColor);
+        Drawable back = getParentActivity().getResources().getDrawable(R.drawable.ic_ab_back);
+        back.setColorFilter(Theme.prefActionbarIconsColor, Mode.MULTIPLY);
+        this.actionBar.setBackButtonDrawable(back);
+    }
+
+    public void onConfigurationChanged(Configuration newConfig) {
+        super.onConfigurationChanged(newConfig);
+        fixLayout();
+    }
+
+    private void fixLayout() {
+        if (this.fragmentView != null) {
+            this.fragmentView.getViewTreeObserver().addOnPreDrawListener(new OnPreDrawListener() {
+                public boolean onPreDraw() {
+                    if (ThemingChatActivity.this.fragmentView != null) {
+                        ThemingChatActivity.this.fragmentView.getViewTreeObserver().removeOnPreDrawListener(this);
+                    }
+                    return false;
+                }
+            });
+        }
+    }
+}
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatsActivity.java
new file mode 100644
index 000000000..6a7967feb
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatsActivity.java
@@ -0,0 +1,1405 @@
+package org.telegram.ui;
+
+import android.app.AlertDialog.Builder;
+import android.content.Context;
+import android.content.DialogInterface;
+import android.content.SharedPreferences;
+import android.content.SharedPreferences.Editor;
+import android.content.res.Configuration;
+import android.graphics.PorterDuff.Mode;
+import android.graphics.drawable.Drawable;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.View.OnClickListener;
+import android.view.ViewGroup;
+import android.view.ViewTreeObserver.OnPreDrawListener;
+import android.widget.AdapterView;
+import android.widget.AdapterView.OnItemClickListener;
+import android.widget.AdapterView.OnItemLongClickListener;
+import android.widget.BaseAdapter;
+import android.widget.FrameLayout;
+import android.widget.FrameLayout.LayoutParams;
+import android.widget.ListView;
+
+import org.telegram.messenger.AndroidUtilities;
+import org.telegram.messenger.ApplicationLoader;
+import org.telegram.messenger.ContactsController;
+import org.telegram.messenger.LocaleController;
+import org.telegram.messenger.MessagesController;
+import org.telegram.messenger.NotificationCenter;
+import org.telegram.messenger.R;
+import org.telegram.messenger.UserConfig;
+import org.telegram.tgnet.TLRPC.User;
+import org.telegram.ui.ActionBar.ActionBar.ActionBarMenuOnItemClick;
+import org.telegram.ui.ActionBar.BaseFragment;
+import org.telegram.ui.ActionBar.Theme;
+import org.telegram.ui.Cells.HeaderCell;
+import org.telegram.ui.Cells.ShadowSectionCell;
+import org.telegram.ui.Cells.TextCheckCell;
+import org.telegram.ui.Cells.TextColorCell;
+import org.telegram.ui.Cells.TextDetailSettingsCell;
+import org.telegram.ui.Cells.TextSettingsCell;
+import org.telegram.ui.Components.ColorSelectorDialog;
+import org.telegram.ui.Components.ColorSelectorDialog.OnColorChangedListener;
+import org.telegram.ui.Components.NumberPicker;
+
+import java.util.ArrayList;
+
+public class ThemingChatsActivity extends BaseFragment {
+    public static final int CENTER = 0;
+    private int avatarMarginLeftRow;
+    private int avatarRadiusRow;
+    private int avatarSizeRow;
+    private int checksColorRow;
+    private int countBGColorRow;
+    private int countColorRow;
+    private int countSilentBGColorRow;
+    private int countSizeRow;
+    private int dividerColorRow;
+    private int favIndicatorColorRow;
+    private int floatingBGColorRow;
+    private int floatingPencilColorRow;
+    private int groupIconColorRow;
+    private int groupNameColorRow;
+    private int groupNameSizeRow;
+    private int headerColorRow;
+    private int headerGradientColorRow;
+    private int headerGradientRow;
+    private int headerIconsColorRow;
+    private int headerSection2Row;
+    private int headerTabCounterBGColorRow;
+    private int headerTabCounterColorRow;
+    private int headerTabCounterSilentBGColorRow;
+    private int headerTabIconColorRow;
+    private int headerTabUnselectedIconColorRow;
+    private int headerTitleColorRow;
+    private int headerTitleRow;
+    private int hideHeaderShadow;
+    private int hideStatusIndicatorCheckRow;
+    private int highlightSearchColorRow;
+    private ListAdapter listAdapter;
+    private ListView listView;
+    private int mediaColorRow;
+    private int memberColorRow;
+    private int messageColorRow;
+    private int messageSizeRow;
+    private int muteColorRow;
+    private int nameColorRow;
+    private int nameSizeRow;
+    private int pinnedMsgBGColorRow;
+    private int rowColorRow;
+    private int rowCount;
+    private int rowGradientColorRow;
+    private int rowGradientListCheckRow;
+    private int rowGradientRow;
+    private int rowsSection2Row;
+    private int rowsSectionRow;
+    private boolean showPrefix;
+    private int tabsBGColorRow;
+    private int tabsCounterSizeRow;
+    private int tabsTextModeRow;
+    private int tabsTextSizeRow;
+    private int tabsToBottomRow;
+    private int timeColorRow;
+    private int timeSizeRow;
+    private int typingColorRow;
+    private int unknownNameColorRow;
+    int size;
+    NumberPicker r0;
+    int currentValue;
+    
+    private class ListAdapter extends BaseAdapter {
+        private Context mContext;
+
+        public ListAdapter(Context context) {
+            this.mContext = context;
+        }
+
+        public boolean areAllItemsEnabled() {
+            return false;
+        }
+
+        public boolean isEnabled(int i) {
+            return i == ThemingChatsActivity.this.headerColorRow || i == ThemingChatsActivity.this.headerGradientRow || ((Theme.chatsHeaderGradient != 0 && i == ThemingChatsActivity.this.headerGradientColorRow) || i == ThemingChatsActivity.this.headerTitleColorRow || i == ThemingChatsActivity.this.headerIconsColorRow || i == ThemingChatsActivity.this.headerTabIconColorRow || i == ThemingChatsActivity.this.headerTabUnselectedIconColorRow || i == ThemingChatsActivity.this.headerTitleRow || i == ThemingChatsActivity.this.headerTabCounterColorRow || i == ThemingChatsActivity.this.headerTabCounterBGColorRow || i == ThemingChatsActivity.this.headerTabCounterSilentBGColorRow || i == ThemingChatsActivity.this.tabsCounterSizeRow || i == ThemingChatsActivity.this.rowColorRow || i == ThemingChatsActivity.this.rowGradientRow || ((Theme.chatsRowGradient != 0 && i == ThemingChatsActivity.this.rowGradientColorRow) || ((Theme.chatsRowGradient != 0 && i == ThemingChatsActivity.this.rowGradientListCheckRow) || i == ThemingChatsActivity.this.dividerColorRow || i == ThemingChatsActivity.this.avatarRadiusRow || i == ThemingChatsActivity.this.avatarSizeRow || i == ThemingChatsActivity.this.avatarMarginLeftRow || i == ThemingChatsActivity.this.hideHeaderShadow || i == ThemingChatsActivity.this.hideStatusIndicatorCheckRow || i == ThemingChatsActivity.this.nameColorRow || i == ThemingChatsActivity.this.groupNameColorRow || i == ThemingChatsActivity.this.unknownNameColorRow || i == ThemingChatsActivity.this.groupIconColorRow || i == ThemingChatsActivity.this.muteColorRow || i == ThemingChatsActivity.this.checksColorRow || i == ThemingChatsActivity.this.nameSizeRow || i == ThemingChatsActivity.this.groupNameSizeRow || i == ThemingChatsActivity.this.messageColorRow || i == ThemingChatsActivity.this.highlightSearchColorRow || i == ThemingChatsActivity.this.memberColorRow || i == ThemingChatsActivity.this.mediaColorRow || i == ThemingChatsActivity.this.typingColorRow || i == ThemingChatsActivity.this.messageSizeRow || i == ThemingChatsActivity.this.timeColorRow || i == ThemingChatsActivity.this.timeSizeRow || i == ThemingChatsActivity.this.countColorRow || i == ThemingChatsActivity.this.countSizeRow || i == ThemingChatsActivity.this.countBGColorRow || i == ThemingChatsActivity.this.countSilentBGColorRow || i == ThemingChatsActivity.this.floatingPencilColorRow || i == ThemingChatsActivity.this.floatingBGColorRow || i == ThemingChatsActivity.this.tabsBGColorRow || i == ThemingChatsActivity.this.favIndicatorColorRow || i == ThemingChatsActivity.this.tabsToBottomRow || i == ThemingChatsActivity.this.tabsTextModeRow || i == ThemingChatsActivity.this.tabsTextSizeRow || i == ThemingChatsActivity.this.pinnedMsgBGColorRow)));
+        }
+
+        public int getCount() {
+            return ThemingChatsActivity.this.rowCount;
+        }
+
+        public Object getItem(int i) {
+            return null;
+        }
+
+        public long getItemId(int i) {
+            return (long) i;
+        }
+
+        public boolean hasStableIds() {
+            return false;
+        }
+
+        public View getView(int i, View view, ViewGroup viewGroup) {
+            int type = getItemViewType(i);
+            String prefix = "";
+            if (ThemingChatsActivity.this.showPrefix) {
+                prefix = "1.";
+                if (i == ThemingChatsActivity.this.headerSection2Row) {
+                    prefix = prefix + "1 ";
+                } else if (i == ThemingChatsActivity.this.rowsSection2Row) {
+                    prefix = prefix + "2 ";
+                } else if (i < ThemingChatsActivity.this.rowsSection2Row) {
+                    prefix = prefix + "1." + i + " ";
+                } else {
+                    prefix = prefix + "2." + (i - ThemingChatsActivity.this.rowsSection2Row) + " ";
+                }
+            }
+            SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0);
+            View shadowSectionCell = new ShadowSectionCell(this.mContext);
+            if (type == 0) {
+            } else if (type == 1) {
+                if (view == null) {
+                    shadowSectionCell = new HeaderCell(this.mContext);
+                    shadowSectionCell.setBackgroundColor(-1);
+                }
+                if (i == ThemingChatsActivity.this.headerSection2Row) {
+                    ((HeaderCell) view).setText(prefix + LocaleController.getString("Header", R.string.Header));
+                } else if (i == ThemingChatsActivity.this.rowsSection2Row) {
+                    ((HeaderCell) view).setText(prefix + LocaleController.getString("ChatsList", R.string.ChatsList));
+                }
+            } else if (type == 2) {
+                if (view == null) {
+                    shadowSectionCell = new TextSettingsCell(this.mContext);
+                }
+                TextSettingsCell textCell = (TextSettingsCell) view;
+                if (i == ThemingChatsActivity.this.avatarRadiusRow) {
+                    textCell.setTag("chatsAvatarRadius");
+                    textCell.setTextAndValue(prefix + LocaleController.getString("AvatarRadius", R.string.AvatarRadius), String.format("%d", new Object[]{Integer.valueOf(Theme.chatsAvatarRadius)}), true);
+                } else if (i == ThemingChatsActivity.this.tabsCounterSizeRow) {
+                    textCell.setTag("chatsHeaderTabCounterSize");
+                    textCell.setTextAndValue(prefix + LocaleController.getString("CountSize", R.string.CountSize), String.format("%d", new Object[]{Integer.valueOf(Theme.chatsTabCounterSize)}), true);
+                } else if (i == ThemingChatsActivity.this.avatarSizeRow) {
+                    textCell.setTag("chatsAvatarSize");
+                    textCell.setTextAndValue(prefix + LocaleController.getString("AvatarSize", R.string.AvatarSize), String.format("%d", new Object[]{Integer.valueOf(Theme.chatsAvatarSize)}), true);
+                } else if (i == ThemingChatsActivity.this.avatarMarginLeftRow) {
+                    textCell.setTag("chatsAvatarMarginLeft");
+                    textCell.setTextAndValue(prefix + LocaleController.getString("AvatarMarginLeft", R.string.AvatarMarginLeft), String.format("%d", new Object[]{Integer.valueOf(Theme.chatsAvatarMarginLeft)}), true);
+                } else if (i == ThemingChatsActivity.this.nameSizeRow) {
+                    textCell.setTag("chatsNameSize");
+                    textCell.setTextAndValue(prefix + LocaleController.getString("NameSize", R.string.NameSize), String.format("%d", new Object[]{Integer.valueOf(Theme.chatsNameSize)}), true);
+                } else if (i == ThemingChatsActivity.this.groupNameSizeRow) {
+                    textCell.setTag("chatsGroupNameSize");
+                    size = themePrefs.getInt("chatsGroupNameSize", Theme.chatsNameSize);
+                    textCell.setTextAndValue(prefix + LocaleController.getString("GroupNameSize", R.string.GroupNameSize), String.format("%d", new Object[]{Integer.valueOf(size)}), true);
+                } else if (i == ThemingChatsActivity.this.messageSizeRow) {
+                    textCell.setTag("chatsMessageSize");
+                    size = themePrefs.getInt("chatsMessageSize", AndroidUtilities.isTablet() ? 18 : 16);
+                    textCell.setTextAndValue(prefix + LocaleController.getString("MessageSize", R.string.MessageSize), String.format("%d", new Object[]{Integer.valueOf(size)}), true);
+                } else if (i == ThemingChatsActivity.this.timeSizeRow) {
+                    textCell.setTag("chatsTimeSize");
+                    size = themePrefs.getInt("chatsTimeSize", AndroidUtilities.isTablet() ? 15 : 13);
+                    textCell.setTextAndValue(prefix + LocaleController.getString("TimeDateSize", R.string.TimeDateSize), String.format("%d", new Object[]{Integer.valueOf(size)}), true);
+                } else if (i == ThemingChatsActivity.this.countSizeRow) {
+                    textCell.setTag("chatsCountSize");
+                    textCell.setTextAndValue(prefix + LocaleController.getString("CountSize", R.string.CountSize), String.format("%d", new Object[]{Integer.valueOf(Theme.chatsCountSize)}), true);
+                } else if (i == ThemingChatsActivity.this.tabsTextSizeRow) {
+                    textCell.setTag("chatsTabsTextSize");
+                    textCell.setTextAndValue(prefix + LocaleController.getString("TabsTextSize", R.string.TabsTextSize), String.format("%d", new Object[]{Integer.valueOf(Theme.chatsTabsTextSize)}), false);
+                }
+            } else if (type == 3) {
+                if (view == null) {
+                    shadowSectionCell = new TextColorCell(this.mContext);
+                }
+                shadowSectionCell = new TextColorCell(this.mContext);
+                TextColorCell textCell2 = (TextColorCell) view;
+                if (i == ThemingChatsActivity.this.headerColorRow) {
+                    textCell2.setTag("chatsHeaderColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("HeaderColor", R.string.HeaderColor), Theme.chatsHeaderColor, false);
+                } else if (i == ThemingChatsActivity.this.headerGradientColorRow) {
+                    textCell2.setTag("chatsHeaderGradientColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("RowGradientColor", R.string.RowGradientColor), Theme.chatsHeaderGradientColor, true);
+                } else if (i == ThemingChatsActivity.this.headerTitleColorRow) {
+                    textCell2.setTag(Theme.pkey_chatsHeaderTitleColor);
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("HeaderTitleColor", R.string.HeaderTitleColor), Theme.chatsHeaderTitleColor, true);
+                } else if (i == ThemingChatsActivity.this.headerIconsColorRow) {
+                    textCell2.setTag("chatsHeaderIconsColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("HeaderIconsColor", R.string.HeaderIconsColor), Theme.chatsHeaderIconsColor, true);
+                } else if (i == ThemingChatsActivity.this.headerTabIconColorRow) {
+                    Theme.chatsHeaderTabIconColor = themePrefs.getInt("chatsHeaderTabIconColor", Theme.chatsHeaderIconsColor);
+                    textCell2.setTag("chatsHeaderTabIconColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("HeaderTabIconColor", R.string.HeaderTabIconColor), Theme.chatsHeaderTabIconColor, true);
+                } else if (i == ThemingChatsActivity.this.headerTabUnselectedIconColorRow) {
+                    Theme.chatsHeaderTabUnselectedIconColor = themePrefs.getInt("chatsHeaderTabUnselectedIconColor", AndroidUtilities.getIntAlphaColor("chatsHeaderTabIconColor", Theme.chatsHeaderIconsColor, 0.35f));
+                    textCell2.setTag("chatsHeaderTabUnselectedIconColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("HeaderTabUnselectedIconColor", R.string.HeaderTabUnselectedIconColor), Theme.chatsHeaderTabUnselectedIconColor, true);
+                } else if (i == ThemingChatsActivity.this.headerTabCounterColorRow) {
+                    textCell2.setTag("chatsHeaderTabCounterColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("HeaderTabCounterColor", R.string.HeaderTabCounterColor), Theme.chatsTabCounterColor, true);
+                } else if (i == ThemingChatsActivity.this.headerTabCounterBGColorRow) {
+                    textCell2.setTag("chatsHeaderTabCounterBGColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("HeaderTabCounterBGColor", R.string.HeaderTabCounterBGColor), Theme.chatsTabCounterBGColor, true);
+                } else if (i == ThemingChatsActivity.this.headerTabCounterSilentBGColorRow) {
+                    textCell2.setTag("chatsHeaderTabCounterSilentBGColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("CountSilentBGColor", R.string.CountSilentBGColor), Theme.chatsTabCounterSilentBGColor, false);
+                } else if (i == ThemingChatsActivity.this.rowColorRow) {
+                    textCell2.setTag("chatsRowColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("RowColor", R.string.RowColor), Theme.chatsRowColor, false);
+                } else if (i == ThemingChatsActivity.this.tabsBGColorRow) {
+                    textCell2.setTag("chatsTabsBGColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("TabsBGColor", R.string.TabsBGColor), themePrefs.getInt("chatsTabsBGColor", Theme.defColor), true);
+                } else if (i == ThemingChatsActivity.this.favIndicatorColorRow) {
+                    textCell2.setTag("chatsFavIndicatorColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("FavIndicatorColor", R.string.FavIndicatorColor), themePrefs.getInt("chatsFavIndicatorColor", Theme.FAV_INDICATOR_COLOR_DEF), false);
+                } else if (i == ThemingChatsActivity.this.rowGradientColorRow) {
+                    textCell2.setTag("chatsRowGradientColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("RowGradientColor", R.string.RowGradientColor), Theme.chatsRowGradient == 0 ? 0 : Theme.chatsRowGradientColor, true);
+                } else if (i == ThemingChatsActivity.this.pinnedMsgBGColorRow) {
+                    textCell2.setTag("chatsPinnedMsgBGColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("PinnedMsgBgColor", R.string.PinnedMsgBgColor), themePrefs.getInt("chatsPinnedMsgBGColor", Theme.chatsRowColor), true);
+                } else if (i == ThemingChatsActivity.this.dividerColorRow) {
+                    textCell2.setTag("chatsDividerColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("DividerColor", R.string.DividerColor), Theme.chatsDividerColor, true);
+                } else if (i == ThemingChatsActivity.this.nameColorRow) {
+                    textCell2.setTag(Theme.pkey_chatsNameColor);
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("NameColor", R.string.NameColor), Theme.chatsNameColor, true);
+                } else if (i == ThemingChatsActivity.this.groupNameColorRow) {
+                    textCell2.setTag(Theme.pkey_chatsGroupNameColor);
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("GroupNameColor", R.string.GroupNameColor), themePrefs.getInt(Theme.pkey_chatsGroupNameColor, Theme.chatsNameColor), true);
+                } else if (i == ThemingChatsActivity.this.unknownNameColorRow) {
+                    textCell2.setTag(Theme.pkey_chatsUnknownNameColor);
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("UnknownNameColor", R.string.UnknownNameColor), themePrefs.getInt(Theme.pkey_chatsUnknownNameColor, Theme.chatsNameColor), true);
+                } else if (i == ThemingChatsActivity.this.groupIconColorRow) {
+                    textCell2.setTag("chatsGroupIconColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("GroupIconColor", R.string.GroupIconColor), themePrefs.getInt("chatsGroupIconColor", themePrefs.getInt(Theme.pkey_chatsGroupNameColor, -16777216)), true);
+                } else if (i == ThemingChatsActivity.this.muteColorRow) {
+                    textCell2.setTag("chatsMuteColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("MuteColor", R.string.MuteColor), themePrefs.getInt("chatsMuteColor", -5723992), true);
+                } else if (i == ThemingChatsActivity.this.checksColorRow) {
+                    textCell2.setTag(Theme.pkey_chatsChecksColor);
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("ChecksColor", R.string.ChecksColor), Theme.chatsChecksColor, true);
+                } else if (i == ThemingChatsActivity.this.messageColorRow) {
+                    textCell2.setTag(Theme.pkey_chatsMessageColor);
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("MessageColor", R.string.MessageColor), Theme.chatsMessageColor, true);
+                } else if (i == ThemingChatsActivity.this.memberColorRow) {
+                    textCell2.setTag(Theme.pkey_chatsMemberColor);
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("MemberColor", R.string.MemberColor), Theme.chatsMemberColor, true);
+                } else if (i == ThemingChatsActivity.this.mediaColorRow) {
+                    textCell2.setTag(Theme.pkey_chatsMediaColor);
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("MediaColor", R.string.MediaColor), themePrefs.getInt(Theme.pkey_chatsMediaColor, Theme.chatsMemberColor), true);
+                } else if (i == ThemingChatsActivity.this.typingColorRow) {
+                    textCell2.setTag("chatsTypingColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("TypingColor", R.string.TypingColor), themePrefs.getInt(textCell2.getTag().toString(), Theme.defColor), true);
+                } else if (i == ThemingChatsActivity.this.timeColorRow) {
+                    textCell2.setTag("chatsTimeColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("TimeDateColor", R.string.TimeDateColor), themePrefs.getInt("chatsTimeColor", -6710887), true);
+                } else if (i == ThemingChatsActivity.this.countColorRow) {
+                    textCell2.setTag("chatsCountColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("CountColor", R.string.CountColor), themePrefs.getInt("chatsCountColor", -1), true);
+                } else if (i == ThemingChatsActivity.this.countBGColorRow) {
+                    textCell2.setTag("chatsCountBGColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("CountBGColor", R.string.CountBGColor), themePrefs.getInt("chatsCountBGColor", Theme.defColor), true);
+                } else if (i == ThemingChatsActivity.this.countSilentBGColorRow) {
+                    textCell2.setTag("chatsCountSilentBGColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("CountSilentBGColor", R.string.CountSilentBGColor), themePrefs.getInt("chatsCountSilentBGColor", themePrefs.getInt("chatsCountBGColor", -4605511)), true);
+                } else if (i == ThemingChatsActivity.this.floatingPencilColorRow) {
+                    textCell2.setTag(Theme.pkey_chatsFloatingPencilColor);
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("FloatingPencilColor", R.string.FloatingPencilColor), Theme.chatsFloatingPencilColor, true);
+                } else if (i == ThemingChatsActivity.this.floatingBGColorRow) {
+                    textCell2.setTag(Theme.pkey_chatsFloatingBGColor);
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("FloatingBGColor", R.string.FloatingBGColor), Theme.chatsFloatingBGColor, true);
+                } else if (i == ThemingChatsActivity.this.highlightSearchColorRow) {
+                    textCell2.setTag("chatsHighlightSearchColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("HighlightSearchColor", R.string.HighlightSearchColor), themePrefs.getInt("chatsHighlightSearchColor", Theme.lightColor), false);
+                }
+            } else if (type == 4) {
+                if (view == null) {
+                    shadowSectionCell = new TextCheckCell(this.mContext);
+                }
+                shadowSectionCell = new TextCheckCell(this.mContext);
+                TextCheckCell textCell3 = (TextCheckCell) view;
+                if (i == ThemingChatsActivity.this.rowGradientListCheckRow) {
+                    textCell3.setTag("chatsRowGradientListCheck");
+                    String str = prefix + LocaleController.getString("RowGradientList", R.string.RowGradientList);
+                    boolean z = Theme.chatsRowGradient != 0 && themePrefs.getBoolean("chatsRowGradientListCheck", false);
+                    textCell3.setTextAndCheck(str, z, true);
+                } else if (i == ThemingChatsActivity.this.hideHeaderShadow) {
+                    textCell3.setTag("chatsHideHeaderShadow");
+                    textCell3.setTextAndCheck(prefix + LocaleController.getString("HideHeaderShadow", R.string.HideHeaderShadow), Theme.chatsHideHeaderShadow, true);
+                } else if (i == ThemingChatsActivity.this.hideStatusIndicatorCheckRow) {
+                    textCell3.setTag("chatsHideStatusIndicator");
+                    textCell3.setTextAndCheck(prefix + LocaleController.getString("HideStatusIndicator", R.string.HideStatusIndicator), Theme.chatsHideStatusIndicator, true);
+                } else if (i == ThemingChatsActivity.this.tabsToBottomRow) {
+                    textCell3.setTag("chatsTabsToBottom");
+                    textCell3.setTextAndCheck(prefix + LocaleController.getString("TabsToBottom", R.string.TabsToBottom), Theme.chatsTabsToBottom, true);
+                } else if (i == ThemingChatsActivity.this.tabsTextModeRow) {
+                    textCell3.setTag("chatsTabTitlesMode");
+                    textCell3.setTextAndCheck(prefix + LocaleController.getString("ShowTabTitle", R.string.ShowTabTitle), Theme.chatsTabTitlesMode, true);
+                }
+            } else if (type == 5) {
+                if (view == null) {
+                    shadowSectionCell = new TextDetailSettingsCell(this.mContext);
+                }
+                shadowSectionCell = new TextDetailSettingsCell(this.mContext);
+                TextDetailSettingsCell textCell4 = (TextDetailSettingsCell) view;
+                int value;
+                if (i == ThemingChatsActivity.this.headerTitleRow) {
+                    String text;
+                    textCell4.setTag("chatsHeaderTitle");
+                    textCell4.setMultilineDetail(false);
+                    value = themePrefs.getInt("chatsHeaderTitle", 0);
+                    User user = MessagesController.getInstance().getUser(Integer.valueOf(UserConfig.getClientUserId()));
+                    if (user == null || user.username == null || user.username.length() == 0) {
+                        text = "-";
+                    } else {
+                        text = "@" + user.username;
+                    }
+                    if (value == 0) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("HeaderTitle", R.string.HeaderTitle), LocaleController.getString("AppName", R.string.AppName), true);
+                    } else if (value == 1) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("HeaderTitle", R.string.HeaderTitle), LocaleController.getString("ShortAppName", R.string.ShortAppName), true);
+                    } else if (value == 2) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("HeaderTitle", R.string.HeaderTitle), ContactsController.formatName(user.first_name, user.last_name), true);
+                    } else if (value == 3) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("HeaderTitle", R.string.HeaderTitle), text, true);
+                    } else if (value == 4) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("HeaderTitle", R.string.HeaderTitle), "", true);
+                    }
+                } else if (i == ThemingChatsActivity.this.headerGradientRow) {
+                    textCell4.setTag("chatsHeaderGradient");
+                    textCell4.setMultilineDetail(false);
+                    value = Theme.chatsHeaderGradient;
+                    if (value == 0) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled), false);
+                    } else if (value == 1) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom), false);
+                    } else if (value == 2) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight), false);
+                    } else if (value == 3) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR), false);
+                    } else if (value == 4) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR), false);
+                    }
+                } else if (i == ThemingChatsActivity.this.rowGradientRow) {
+                    textCell4.setTag("chatsRowGradient");
+                    textCell4.setMultilineDetail(false);
+                    if (Theme.chatsRowGradient == 0) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled), false);
+                    } else if (Theme.chatsRowGradient == 1) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom), false);
+                    } else if (Theme.chatsRowGradient == 2) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight), false);
+                    } else if (Theme.chatsRowGradient == 3) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR), false);
+                    } else if (Theme.chatsRowGradient == 4) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR), false);
+                    }
+                }
+            }
+            if (view != null) {
+                view.setBackgroundColor(Theme.usePlusTheme ? Theme.prefBGColor : Theme.getColor(Theme.key_windowBackgroundWhite));
+            }
+            return view;
+        }
+
+        public int getItemViewType(int i) {
+            if (i == ThemingChatsActivity.this.rowsSectionRow) {
+                return 0;
+            }
+            if (i == ThemingChatsActivity.this.headerSection2Row || i == ThemingChatsActivity.this.rowsSection2Row) {
+                return 1;
+            }
+            if (i == ThemingChatsActivity.this.avatarRadiusRow || i == ThemingChatsActivity.this.avatarSizeRow || i == ThemingChatsActivity.this.avatarMarginLeftRow || i == ThemingChatsActivity.this.nameSizeRow || i == ThemingChatsActivity.this.groupNameSizeRow || i == ThemingChatsActivity.this.messageSizeRow || i == ThemingChatsActivity.this.timeSizeRow || i == ThemingChatsActivity.this.countSizeRow || i == ThemingChatsActivity.this.tabsCounterSizeRow || i == ThemingChatsActivity.this.tabsTextSizeRow) {
+                return 2;
+            }
+            if (i == ThemingChatsActivity.this.headerColorRow || i == ThemingChatsActivity.this.headerGradientColorRow || i == ThemingChatsActivity.this.headerTitleColorRow || i == ThemingChatsActivity.this.headerIconsColorRow || i == ThemingChatsActivity.this.headerTabIconColorRow || i == ThemingChatsActivity.this.headerTabUnselectedIconColorRow || i == ThemingChatsActivity.this.headerTabCounterColorRow || i == ThemingChatsActivity.this.headerTabCounterBGColorRow || i == ThemingChatsActivity.this.headerTabCounterSilentBGColorRow || i == ThemingChatsActivity.this.rowColorRow || i == ThemingChatsActivity.this.rowGradientColorRow || i == ThemingChatsActivity.this.dividerColorRow || i == ThemingChatsActivity.this.nameColorRow || i == ThemingChatsActivity.this.groupNameColorRow || i == ThemingChatsActivity.this.unknownNameColorRow || i == ThemingChatsActivity.this.groupIconColorRow || i == ThemingChatsActivity.this.muteColorRow || i == ThemingChatsActivity.this.checksColorRow || i == ThemingChatsActivity.this.messageColorRow || i == ThemingChatsActivity.this.highlightSearchColorRow || i == ThemingChatsActivity.this.memberColorRow || i == ThemingChatsActivity.this.mediaColorRow || i == ThemingChatsActivity.this.typingColorRow || i == ThemingChatsActivity.this.timeColorRow || i == ThemingChatsActivity.this.countColorRow || i == ThemingChatsActivity.this.countBGColorRow || i == ThemingChatsActivity.this.countSilentBGColorRow || i == ThemingChatsActivity.this.floatingPencilColorRow || i == ThemingChatsActivity.this.floatingBGColorRow || i == ThemingChatsActivity.this.tabsBGColorRow || i == ThemingChatsActivity.this.favIndicatorColorRow || i == ThemingChatsActivity.this.pinnedMsgBGColorRow) {
+                return 3;
+            }
+            if (i == ThemingChatsActivity.this.rowGradientListCheckRow || i == ThemingChatsActivity.this.hideHeaderShadow || i == ThemingChatsActivity.this.hideStatusIndicatorCheckRow || i == ThemingChatsActivity.this.tabsToBottomRow || i == ThemingChatsActivity.this.tabsTextModeRow) {
+                return 4;
+            }
+            if (i == ThemingChatsActivity.this.headerTitleRow || i == ThemingChatsActivity.this.headerGradientRow || i == ThemingChatsActivity.this.rowGradientRow) {
+                return 5;
+            }
+            return 2;
+        }
+
+        public int getViewTypeCount() {
+            return 6;
+        }
+
+        public boolean isEmpty() {
+            return false;
+        }
+    }
+
+    public boolean onFragmentCreate() {
+        super.onFragmentCreate();
+        this.rowCount = 0;
+        int i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerSection2Row = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerGradientRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerGradientColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerTitleColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerTitleRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerIconsColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.hideHeaderShadow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.tabsBGColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerTabIconColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerTabUnselectedIconColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerTabCounterColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.tabsCounterSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerTabCounterBGColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerTabCounterSilentBGColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.tabsToBottomRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.tabsTextModeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.tabsTextSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowsSectionRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowsSection2Row = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowGradientRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowGradientColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.pinnedMsgBGColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dividerColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.avatarRadiusRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.avatarSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.avatarMarginLeftRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.hideStatusIndicatorCheckRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.favIndicatorColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.nameColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.unknownNameColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.nameSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.groupNameColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.groupNameSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.groupIconColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.muteColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.checksColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.messageColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.messageSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.memberColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.mediaColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.typingColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.timeColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.timeSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.countColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.countSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.countBGColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.countSilentBGColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.floatingPencilColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.floatingBGColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.highlightSearchColorRow = i;
+        this.showPrefix = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).getBoolean("chatsShowPrefix", true);
+        return true;
+    }
+
+    public void onFragmentDestroy() {
+        super.onFragmentDestroy();
+    }
+
+    public View createView(Context context) {
+        if (this.fragmentView == null) {
+            this.actionBar.setBackButtonImage(R.drawable.ic_ab_back);
+            if (AndroidUtilities.isTablet()) {
+                this.actionBar.setOccupyStatusBar(false);
+            }
+            this.actionBar.setTitle(LocaleController.getString("MainScreen", R.string.MainScreen));
+            this.actionBar.setActionBarMenuOnItemClick(new ActionBarMenuOnItemClick() {
+                public void onItemClick(int id) {
+                    if (id == -1) {
+                        ThemingChatsActivity.this.finishFragment();
+                    }
+                }
+            });
+            this.actionBar.setOnClickListener(new OnClickListener() {
+                public void onClick(View v) {
+                    boolean z;
+                    ThemingChatsActivity themingChatsActivity = ThemingChatsActivity.this;
+                    if (ThemingChatsActivity.this.showPrefix) {
+                        z = false;
+                    } else {
+                        z = true;
+                    }
+                    themingChatsActivity.showPrefix = z;
+                    ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit().putBoolean("chatsShowPrefix", ThemingChatsActivity.this.showPrefix).apply();
+                    if (ThemingChatsActivity.this.listAdapter != null) {
+                        ThemingChatsActivity.this.listAdapter.notifyDataSetChanged();
+                    }
+                }
+            });
+            this.listAdapter = new ListAdapter(context);
+            this.fragmentView = new FrameLayout(context);
+            FrameLayout frameLayout = (FrameLayout) this.fragmentView;
+            this.listView = new ListView(context);
+            if (Theme.usePlusTheme) {
+                this.listView.setBackgroundColor(Theme.prefBGColor);
+            }
+            this.listView.setDivider(null);
+            this.listView.setDividerHeight(0);
+            this.listView.setVerticalScrollBarEnabled(false);
+            AndroidUtilities.setListViewEdgeEffectColor(this.listView, Theme.prefActionbarColor);
+            frameLayout.addView(this.listView);
+            LayoutParams layoutParams = (LayoutParams) this.listView.getLayoutParams();
+            layoutParams.width = -1;
+            layoutParams.height = -1;
+            layoutParams.gravity = 48;
+            this.listView.setLayoutParams(layoutParams);
+            this.listView.setAdapter(this.listAdapter);
+            this.listView.setOnItemClickListener(new OnItemClickListener() {
+                public void onItemClick(AdapterView<?> adapterView, View view, int i, long l) {
+                    SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0);
+                    final String key = view.getTag() != null ? view.getTag().toString() : "";
+                    if (i == ThemingChatsActivity.this.headerColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatsHeaderColor = color;
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.updateDialogsTheme, Integer.valueOf(1));
+                                }
+                            }, Theme.chatsHeaderColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.headerGradientColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatsHeaderGradientColor = color;
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.updateDialogsTheme, Integer.valueOf(1));
+                                }
+                            }, Theme.chatsHeaderGradientColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.headerTitleColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatsHeaderTitleColor = color;
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.updateDialogsTheme, Integer.valueOf(1));
+                                }
+                            }, themePrefs.getInt(key, -1), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.headerIconsColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatsHeaderIconsColor = color;
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.updateDialogsTheme, Integer.valueOf(1));
+                                }
+                            }, themePrefs.getInt(key, Theme.chatsHeaderIconsColor), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.headerTabIconColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatsHeaderTabIconColor = color;
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                    Theme.chatsHeaderTabUnselectedIconColor = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).getInt("chatsHeaderTabUnselectedIconColor", AndroidUtilities.getIntAlphaColor("chatsHeaderTabIconColor", Theme.chatsHeaderIconsColor, 0.35f));
+                                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.updateDialogsTheme, Integer.valueOf(1));
+                                }
+                            }, Theme.chatsHeaderTabIconColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.headerTabUnselectedIconColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatsHeaderTabUnselectedIconColor = color;
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.updateDialogsTheme, Integer.valueOf(1));
+                                }
+                            }, Theme.chatsHeaderTabUnselectedIconColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.headerTabCounterColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatsTabCounterColor = color;
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.updateDialogsTheme, Integer.valueOf(1));
+                                }
+                            }, Theme.chatsTabCounterColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.headerTabCounterBGColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatsTabCounterBGColor = color;
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.updateDialogsTheme, Integer.valueOf(1));
+                                }
+                            }, Theme.chatsTabCounterBGColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.headerTabCounterSilentBGColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatsTabCounterSilentBGColor = color;
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.updateDialogsTheme, Integer.valueOf(1));
+                                }
+                            }, Theme.chatsTabCounterSilentBGColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.rowColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatsRowColor = color;
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.updateDialogsTheme, Integer.valueOf(2));
+                                }
+                            }, Theme.chatsRowColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.tabsBGColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatsTabsBGColor = color;
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.updateDialogsTheme, Integer.valueOf(1));
+                                }
+                            }, Theme.chatsTabsBGColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.favIndicatorColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatsFavIndicatorColor = color;
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                }
+                            }, Theme.chatsFavIndicatorColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.rowGradientColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatsRowGradientColor = color;
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.updateDialogsTheme, Integer.valueOf(2));
+                                }
+                            }, Theme.chatsRowGradientColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.rowGradientListCheckRow) {
+                        boolean b = themePrefs.getBoolean(key, false);
+//                        editor = themePrefs.edit();
+                        themePrefs.edit().putBoolean(key, !b);
+                        themePrefs.edit().commit();
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(!b);
+                        }
+                        NotificationCenter.getInstance().postNotificationName(NotificationCenter.updateDialogsTheme, Integer.valueOf(2));
+                    } else if (i == ThemingChatsActivity.this.pinnedMsgBGColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatsPinnedMsgBGColor = color;
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.updateDialogsTheme, Integer.valueOf(1));
+                                }
+                            }, Theme.chatsPinnedMsgBGColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.dividerColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatsDividerColor = color;
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                }
+                            }, themePrefs.getInt(key, -2302756), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.headerTitleRow) {
+                        Builder builder = new Builder(ThemingChatsActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("HeaderTitle", R.string.HeaderTitle));
+                        User user = MessagesController.getInstance().getUser(Integer.valueOf(UserConfig.getClientUserId()));
+                        ArrayList array = new ArrayList();
+                        array.add(LocaleController.getString("AppName", R.string.AppName));
+                        array.add(LocaleController.getString("ShortAppName", R.string.ShortAppName));
+                        String usr = "";
+                        if (!(user == null || (user.first_name == null && user.last_name == null))) {
+                            array.add(ContactsController.formatName(user.first_name, user.last_name));
+                        }
+                        if (!(user == null || user.username == null || user.username.length() == 0)) {
+                            array.add("@" + user.username);
+                        }
+                        array.add("");
+                        String[] simpleArray = new String[array.size()];
+                        array.toArray(new String[array.size()]);
+                        builder.setItems((CharSequence[]) array.toArray(simpleArray), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit().putInt("chatsHeaderTitle", which).commit();
+                                if (ThemingChatsActivity.this.listView != null) {
+                                    ThemingChatsActivity.this.listView.invalidateViews();
+                                }
+                                NotificationCenter.getInstance().postNotificationName(NotificationCenter.refreshTabs, Integer.valueOf(11));
+                            }
+                        });
+                        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                        ThemingChatsActivity.this.showDialog(builder.create());
+                    } else if (i == ThemingChatsActivity.this.headerGradientRow) {
+                        Builder builder = new Builder(ThemingChatsActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("RowGradient", R.string.RowGradient));
+                        ArrayList array = new ArrayList();
+                        array.add(LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled));
+                        array.add(LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom));
+                        array.add(LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight));
+                        array.add(LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR));
+                        array.add(LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR));
+                        String[] simpleArray = new String[array.size()];
+                        array.toArray(new String[array.size()]);
+                        builder.setItems((CharSequence[]) array.toArray(simpleArray), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit().putInt("chatsHeaderGradient", which).commit();
+                                Theme.chatsHeaderGradient = which;
+                                NotificationCenter.getInstance().postNotificationName(NotificationCenter.updateDialogsTheme, Integer.valueOf(1));
+                                if (ThemingChatsActivity.this.listView != null) {
+                                    ThemingChatsActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                        ThemingChatsActivity.this.showDialog(builder.create());
+                    } else if (i == ThemingChatsActivity.this.rowGradientRow) {
+                        Builder builder = new Builder(ThemingChatsActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("RowGradient", R.string.RowGradient));
+                        ArrayList array = new ArrayList();
+                        array.add(LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled));
+                        array.add(LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom));
+                        array.add(LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight));
+                        array.add(LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR));
+                        array.add(LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR));
+                        String[] simpleArray = new String[array.size()];
+                        array.toArray(new String[array.size()]);
+                        builder.setItems((CharSequence[]) array.toArray(simpleArray), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0);
+                                Theme.chatsRowGradient = which;
+                                themePrefs.edit().putInt("chatsRowGradient", Theme.chatsRowGradient).commit();
+                                NotificationCenter.getInstance().postNotificationName(NotificationCenter.updateDialogsTheme, Integer.valueOf(2));
+                                if (ThemingChatsActivity.this.listView != null) {
+                                    ThemingChatsActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                        ThemingChatsActivity.this.showDialog(builder.create());
+                    } else if (i == ThemingChatsActivity.this.nameColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatsNameColor = color;
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                }
+                            }, Theme.chatsNameColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.groupNameColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                }
+                            }, themePrefs.getInt(key, Theme.chatsNameColor), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.unknownNameColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                }
+                            }, themePrefs.getInt(key, Theme.chatsNameColor), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.groupIconColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                }
+                            }, themePrefs.getInt(key, themePrefs.getInt(Theme.pkey_chatsGroupNameColor, -16777216)), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.muteColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                }
+                            }, themePrefs.getInt(key, -5723992), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.checksColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatsChecksColor = color;
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                }
+                            }, themePrefs.getInt(key, Theme.defColor), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.messageColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatsMessageColor = color;
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                }
+                            }, themePrefs.getInt(key, -8355712), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.highlightSearchColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                }
+                            }, themePrefs.getInt(key, Theme.lightColor), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.memberColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatsMemberColor = color;
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                }
+                            }, themePrefs.getInt(key, Theme.darkColor), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.mediaColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatsMediaColor = color;
+                                    ThemingChatsActivity.this.commitInt(Theme.pkey_chatsMediaColor, color);
+                                }
+                            }, themePrefs.getInt(Theme.pkey_chatsMediaColor, themePrefs.getInt(Theme.pkey_chatsMemberColor, Theme.darkColor)), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.typingColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                }
+                            }, themePrefs.getInt(key, Theme.defColor), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.timeColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                }
+                            }, themePrefs.getInt(key, -6710887), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.countColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                }
+                            }, themePrefs.getInt(key, -1), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.countBGColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.dialogs_countPaint.setColor(color);
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                }
+                            }, themePrefs.getInt(key, Theme.defColor), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.countSilentBGColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.dialogs_countGrayPaint.setColor(color);
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                }
+                            }, themePrefs.getInt(key, themePrefs.getInt("chatsCountBGColor", -4605511)), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.avatarRadiusRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingChatsActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("AvatarRadius", R.string.AvatarRadius));
+                            r0 = new NumberPicker(ThemingChatsActivity.this.getParentActivity());
+                            r0.setMinValue(1);
+                            r0.setMaxValue(32);
+                            r0.setValue(Theme.chatsAvatarRadius);
+                            builder.setView(r0);
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != Theme.chatsAvatarRadius) {
+                                        Theme.chatsAvatarRadius = r0.getValue();
+                                        ThemingChatsActivity.this.commitInt(key, r0.getValue());
+                                    }
+                                }
+                            });
+                            ThemingChatsActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingChatsActivity.this.tabsTextSizeRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingChatsActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("TabsTextSize", R.string.TabsTextSize));
+                            r0 = new NumberPicker(ThemingChatsActivity.this.getParentActivity());
+                            r0.setMinValue(8);
+                            r0.setMaxValue(18);
+                            r0.setValue(Theme.chatsTabsTextSize);
+                            builder.setView(r0);
+//                            r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != Theme.chatsTabsTextSize) {
+                                        int value = r0.getValue();
+                                        Theme.plusTabsTextSize = value;
+                                        Theme.chatsTabsTextSize = value;
+                                        ThemingChatsActivity.this.commitInt(key, Theme.chatsTabsTextSize);
+                                        Editor editorPlus = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit();
+                                        editorPlus.putInt("tabsTextSize", Theme.chatsTabsTextSize);
+                                        editorPlus.apply();
+                                        NotificationCenter.getInstance().postNotificationName(NotificationCenter.refreshTabs, Integer.valueOf(15));
+                                    }
+                                }
+                            });
+                            ThemingChatsActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingChatsActivity.this.tabsCounterSizeRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingChatsActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("CountSize", R.string.CountSize));
+                            r0 = new NumberPicker(ThemingChatsActivity.this.getParentActivity());
+                            r0.setMinValue(8);
+                            r0.setMaxValue(14);
+                            r0.setValue(Theme.chatsTabCounterSize);
+                            builder.setView(r0);
+//                            r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != Theme.chatsTabCounterSize) {
+                                        Theme.chatsTabCounterSize = r0.getValue();
+                                        ThemingChatsActivity.this.commitInt(key, Theme.chatsTabCounterSize);
+                                        NotificationCenter.getInstance().postNotificationName(NotificationCenter.refreshTabs, Integer.valueOf(15));
+                                    }
+                                }
+                            });
+                            ThemingChatsActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingChatsActivity.this.avatarSizeRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingChatsActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("AvatarSize", R.string.AvatarSize));
+                            r0 = new NumberPicker(ThemingChatsActivity.this.getParentActivity());
+                            r0.setMinValue(0);
+                            r0.setMaxValue(72);
+                            r0.setValue(Theme.chatsAvatarSize);
+                            builder.setView(r0);
+//                            r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != Theme.chatsAvatarSize) {
+                                        Theme.chatsAvatarSize = r0.getValue();
+                                        ThemingChatsActivity.this.commitInt(key, r0.getValue());
+                                    }
+                                }
+                            });
+                            ThemingChatsActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingChatsActivity.this.avatarMarginLeftRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingChatsActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("AvatarMarginLeft", R.string.AvatarMarginLeft));
+                            r0 = new NumberPicker(ThemingChatsActivity.this.getParentActivity());
+                            r0.setMinValue(0);
+                            r0.setMaxValue(18);
+                            r0.setValue(Theme.chatsAvatarMarginLeft);
+                            builder.setView(r0);
+//                            r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != Theme.chatsAvatarMarginLeft) {
+                                        Theme.chatsAvatarMarginLeft = r0.getValue();
+                                        ThemingChatsActivity.this.commitInt(key, r0.getValue());
+                                    }
+                                }
+                            });
+                            ThemingChatsActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingChatsActivity.this.nameSizeRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingChatsActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("NameSize", R.string.NameSize));
+                            r0 = new NumberPicker(ThemingChatsActivity.this.getParentActivity());
+                            r0.setMinValue(12);
+                            r0.setMaxValue(30);
+                            r0.setValue(Theme.chatsNameSize);
+                            builder.setView(r0);
+//                            r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != Theme.chatsNameSize) {
+                                        Theme.chatsNameSize = r0.getValue();
+                                        ThemingChatsActivity.this.commitInt(key, r0.getValue());
+                                    }
+                                }
+                            }).create();
+                            ThemingChatsActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingChatsActivity.this.groupNameSizeRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingChatsActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("GroupNameSize", R.string.GroupNameSize));
+                            r0 = new NumberPicker(ThemingChatsActivity.this.getParentActivity());
+                            currentValue = themePrefs.getInt(key, Theme.chatsNameSize);
+                            r0.setMinValue(12);
+                            r0.setMaxValue(30);
+                            r0.setValue(currentValue);
+                            builder.setView(r0);
+//                            r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != currentValue) {
+                                        ThemingChatsActivity.this.commitInt(key, r0.getValue());
+                                    }
+                                }
+                            }).create();
+                            ThemingChatsActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingChatsActivity.this.messageSizeRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingChatsActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("MessageSize", R.string.MessageSize));
+                            r0 = new NumberPicker(ThemingChatsActivity.this.getParentActivity());
+                            currentValue = themePrefs.getInt(key, 16);
+                            r0.setMinValue(12);
+                            r0.setMaxValue(30);
+                            r0.setValue(currentValue);
+                            builder.setView(r0);
+//                            r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != currentValue) {
+                                        ThemingChatsActivity.this.commitInt(key, r0.getValue());
+                                    }
+                                }
+                            });
+                            ThemingChatsActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingChatsActivity.this.timeSizeRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingChatsActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("TimeDateSize", R.string.TimeDateSize));
+                            r0 = new NumberPicker(ThemingChatsActivity.this.getParentActivity());
+                            currentValue = themePrefs.getInt(key, 13);
+                            r0.setMinValue(5);
+                            r0.setMaxValue(25);
+                            r0.setValue(currentValue);
+                            builder.setView(r0);
+//                            r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != currentValue) {
+                                        ThemingChatsActivity.this.commitInt(key, r0.getValue());
+                                    }
+                                }
+                            });
+                            ThemingChatsActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingChatsActivity.this.countSizeRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingChatsActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("CountSize", R.string.CountSize));
+                            r0 = new NumberPicker(ThemingChatsActivity.this.getParentActivity());
+                            r0.setMinValue(8);
+                            r0.setMaxValue(20);
+                            r0.setValue(Theme.chatsCountSize);
+                            builder.setView(r0);
+//                            r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != Theme.chatsCountSize) {
+                                        Theme.chatsCountSize = r0.getValue();
+                                        ThemingChatsActivity.this.commitInt(key, r0.getValue());
+                                    }
+                                }
+                            });
+                            ThemingChatsActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingChatsActivity.this.floatingPencilColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatsFloatingPencilColor = color;
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.updateDialogsTheme, Integer.valueOf(1));
+                                }
+                            }, themePrefs.getInt(key, -1), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.floatingBGColorRow) {
+                        if (ThemingChatsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingChatsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingChatsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.chatsFloatingBGColor = color;
+                                    ThemingChatsActivity.this.commitInt(key, color);
+                                    NotificationCenter.getInstance().postNotificationName(NotificationCenter.updateDialogsTheme, Integer.valueOf(1));
+                                }
+                            }, themePrefs.getInt(key, Theme.defColor), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingChatsActivity.this.hideStatusIndicatorCheckRow) {
+                        Theme.chatsHideStatusIndicator = !Theme.chatsHideStatusIndicator;
+//                        editor = themePrefs.edit();
+                        themePrefs.edit().putBoolean(key, Theme.chatsHideStatusIndicator);
+                        themePrefs.edit().commit();
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(Theme.chatsHideStatusIndicator);
+                        }
+                    } else if (i == ThemingChatsActivity.this.tabsToBottomRow) {
+                        boolean r3 = !Theme.chatsTabsToBottom;
+                        Theme.plusTabsToBottom = r3;
+                        Theme.chatsTabsToBottom = r3;
+//                        editor = themePrefs.edit();
+                        themePrefs.edit().putBoolean(key, Theme.chatsTabsToBottom);
+                        themePrefs.edit().apply();
+                        SharedPreferences.Editor editorPlus = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit();
+                        editorPlus.putBoolean("tabsToBottom", Theme.chatsTabsToBottom);
+                        editorPlus.apply();
+                        NotificationCenter.getInstance().postNotificationName(NotificationCenter.refreshTabs, Integer.valueOf(14));
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(Theme.chatsTabsToBottom);
+                        }
+                    } else if (i == ThemingChatsActivity.this.tabsTextModeRow) {
+                        boolean r3 = !Theme.chatsTabTitlesMode;
+                        Theme.plusTabTitlesMode = r3;
+                        Theme.chatsTabTitlesMode = r3;
+//                        editor = themePrefs.edit();
+                        themePrefs.edit().putBoolean(key, Theme.chatsTabTitlesMode);
+                        themePrefs.edit().apply();
+                        SharedPreferences.Editor editorPlus = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit();
+                        editorPlus.putBoolean("tabTitlesMode", Theme.chatsTabTitlesMode);
+                        editorPlus.apply();
+                        NotificationCenter.getInstance().postNotificationName(NotificationCenter.refreshTabs, Integer.valueOf(15));
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(Theme.chatsTabTitlesMode);
+                        }
+                    } else if (i == ThemingChatsActivity.this.hideHeaderShadow) {
+                        Theme.chatsHideHeaderShadow = !Theme.chatsHideHeaderShadow;
+//                        editor = themePrefs.edit();
+                        themePrefs.edit().putBoolean(key, Theme.chatsHideHeaderShadow);
+                        themePrefs.edit().commit();
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(Theme.chatsHideHeaderShadow);
+                        }
+                        NotificationCenter.getInstance().postNotificationName(NotificationCenter.updateDialogsTheme, Integer.valueOf(1));
+                    }
+                }
+            });
+            this.listView.setOnItemLongClickListener(new OnItemLongClickListener() {
+                public boolean onItemLongClick(AdapterView<?> adapterView, View view, int i, long l) {
+                    if (ThemingChatsActivity.this.getParentActivity() == null) {
+                        return false;
+                    }
+                    ThemingChatsActivity.this.resetPref(view.getTag().toString());
+                    return true;
+                }
+            });
+            frameLayout.addView(this.actionBar);
+        } else {
+            ViewGroup parent = (ViewGroup) this.fragmentView.getParent();
+            if (parent != null) {
+                parent.removeView(this.fragmentView);
+            }
+        }
+        if (Theme.usePlusTheme) {
+            updateTheme();
+        }
+        return this.fragmentView;
+    }
+
+    private void resetPref(String key) {
+        Editor editor = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
+        if (key != null) {
+            editor.remove(key);
+        }
+        editor.commit();
+        Theme.updateChatsColors();
+        if (this.listView != null) {
+            this.listView.invalidateViews();
+        }
+        refreshTheme();
+    }
+
+    private void commitInt(String key, int value) {
+        Editor editor = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
+        editor.putInt(key, value);
+        editor.commit();
+        if (this.listView != null) {
+            this.listView.invalidateViews();
+        }
+        refreshTheme();
+    }
+
+    private void refreshTheme() {
+        Theme.applyPlusTheme();
+        if (this.parentLayout != null) {
+            this.parentLayout.rebuildAllFragmentViews(false);
+        }
+    }
+
+    public void onResume() {
+        super.onResume();
+        if (this.listAdapter != null) {
+            this.listAdapter.notifyDataSetChanged();
+        }
+        fixLayout();
+    }
+
+    private void updateTheme() {
+        this.actionBar.setBackgroundColor(Theme.prefActionbarColor);
+        this.actionBar.setTitleColor(Theme.prefActionbarTitleColor);
+        Drawable back = getParentActivity().getResources().getDrawable(R.drawable.ic_ab_back);
+        back.setColorFilter(Theme.prefActionbarIconsColor, Mode.MULTIPLY);
+        this.actionBar.setBackButtonDrawable(back);
+    }
+
+    public void onConfigurationChanged(Configuration newConfig) {
+        super.onConfigurationChanged(newConfig);
+        fixLayout();
+    }
+
+    private void fixLayout() {
+        if (this.fragmentView != null) {
+            this.fragmentView.getViewTreeObserver().addOnPreDrawListener(new OnPreDrawListener() {
+                public boolean onPreDraw() {
+                    if (ThemingChatsActivity.this.fragmentView != null) {
+                        ThemingChatsActivity.this.fragmentView.getViewTreeObserver().removeOnPreDrawListener(this);
+                    }
+                    return false;
+                }
+            });
+        }
+    }
+}
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ThemingContactsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ThemingContactsActivity.java
new file mode 100644
index 000000000..e43239f2e
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ThemingContactsActivity.java
@@ -0,0 +1,717 @@
+package org.telegram.ui;
+
+import android.app.AlertDialog.Builder;
+import android.content.Context;
+import android.content.DialogInterface;
+import android.content.SharedPreferences;
+import android.content.SharedPreferences.Editor;
+import android.content.res.Configuration;
+import android.graphics.PorterDuff.Mode;
+import android.graphics.drawable.Drawable;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.View.OnClickListener;
+import android.view.ViewGroup;
+import android.view.ViewTreeObserver.OnPreDrawListener;
+import android.widget.AdapterView;
+import android.widget.AdapterView.OnItemClickListener;
+import android.widget.AdapterView.OnItemLongClickListener;
+import android.widget.BaseAdapter;
+import android.widget.FrameLayout;
+import android.widget.FrameLayout.LayoutParams;
+import android.widget.ListView;
+
+import org.telegram.messenger.AndroidUtilities;
+import org.telegram.messenger.ApplicationLoader;
+import org.telegram.messenger.LocaleController;
+import org.telegram.messenger.R;
+import org.telegram.ui.ActionBar.ActionBar.ActionBarMenuOnItemClick;
+import org.telegram.ui.ActionBar.BaseFragment;
+import org.telegram.ui.ActionBar.Theme;
+import org.telegram.ui.Cells.HeaderCell;
+import org.telegram.ui.Cells.ShadowSectionCell;
+import org.telegram.ui.Cells.TextCheckCell;
+import org.telegram.ui.Cells.TextColorCell;
+import org.telegram.ui.Cells.TextDetailSettingsCell;
+import org.telegram.ui.Cells.TextSettingsCell;
+import org.telegram.ui.Components.ColorSelectorDialog;
+import org.telegram.ui.Components.ColorSelectorDialog.OnColorChangedListener;
+import org.telegram.ui.Components.NumberPicker;
+
+import java.util.ArrayList;
+
+public class ThemingContactsActivity extends BaseFragment {
+    public static final int CENTER = 0;
+    private int avatarRadiusRow;
+    private int headerColorRow;
+    private int headerGradientColorRow;
+    private int headerGradientRow;
+    private int headerIconsColorRow;
+    private int headerSection2Row;
+    private int headerTitleColorRow;
+    private int iconsColorRow;
+    private ListAdapter listAdapter;
+    private ListView listView;
+    private int nameColorRow;
+    private int nameSizeRow;
+    private int onlineColorRow;
+    private int rowColorRow;
+    private int rowCount;
+    private int rowGradientColorRow;
+    private int rowGradientListCheckRow;
+    private int rowGradientRow;
+    private int rowsSection2Row;
+    private int rowsSectionRow;
+    private boolean showPrefix;
+    private int statusColorRow;
+    private int statusSizeRow;
+    NumberPicker numberPicker;
+    private class ListAdapter extends BaseAdapter {
+        private Context mContext;
+
+        public ListAdapter(Context context) {
+            this.mContext = context;
+        }
+
+        public boolean areAllItemsEnabled() {
+            return false;
+        }
+
+        public boolean isEnabled(int i) {
+            int g = AndroidUtilities.getIntDef("contactsRowGradient", 0);
+            if (i == ThemingContactsActivity.this.headerColorRow || i == ThemingContactsActivity.this.headerGradientRow || ((AndroidUtilities.getIntDef("contactsHeaderGradient", 0) != 0 && i == ThemingContactsActivity.this.headerGradientColorRow) || i == ThemingContactsActivity.this.headerTitleColorRow || i == ThemingContactsActivity.this.headerIconsColorRow || i == ThemingContactsActivity.this.iconsColorRow || i == ThemingContactsActivity.this.rowColorRow || i == ThemingContactsActivity.this.rowGradientRow || ((g != 0 && i == ThemingContactsActivity.this.rowGradientColorRow) || ((g != 0 && i == ThemingContactsActivity.this.rowGradientListCheckRow) || i == ThemingContactsActivity.this.avatarRadiusRow || i == ThemingContactsActivity.this.nameColorRow || i == ThemingContactsActivity.this.nameSizeRow || i == ThemingContactsActivity.this.statusColorRow || i == ThemingContactsActivity.this.statusSizeRow || i == ThemingContactsActivity.this.onlineColorRow)))) {
+                return true;
+            }
+            return false;
+        }
+
+        public int getCount() {
+            return ThemingContactsActivity.this.rowCount;
+        }
+
+        public Object getItem(int i) {
+            return null;
+        }
+
+        public long getItemId(int i) {
+            return (long) i;
+        }
+
+        public boolean hasStableIds() {
+            return false;
+        }
+
+        public View getView(int i, View view, ViewGroup viewGroup) {
+            boolean z = false;
+            int type = getItemViewType(i);
+            String prefix = "";
+            if (ThemingContactsActivity.this.showPrefix) {
+                prefix = "3.";
+                if (i == ThemingContactsActivity.this.headerSection2Row) {
+                    prefix = prefix + "1 ";
+                } else if (i == ThemingContactsActivity.this.rowsSection2Row) {
+                    prefix = prefix + "2 ";
+                } else if (i < ThemingContactsActivity.this.rowsSection2Row) {
+                    prefix = prefix + "1." + i + " ";
+                } else {
+                    prefix = prefix + "2." + (i - ThemingContactsActivity.this.rowsSection2Row) + " ";
+                }
+            }
+            SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0);
+            if (type == 0) {
+                if (view == null) {
+                    view = new ShadowSectionCell(this.mContext);
+                }
+            } else if (type == 1) {
+                if (view == null) {
+                    view = new HeaderCell(this.mContext);
+                    view.setBackgroundColor(-1);
+                }
+                if (i == ThemingContactsActivity.this.headerSection2Row) {
+                    ((HeaderCell) view).setText(prefix + LocaleController.getString("Header", R.string.Header));
+                } else if (i == ThemingContactsActivity.this.rowsSection2Row) {
+                    ((HeaderCell) view).setText(prefix + LocaleController.getString("ContactsList", R.string.ContactsList));
+                }
+            } else if (type == 2) {
+                if (view == null) {
+                    view = new TextSettingsCell(this.mContext);
+                }
+                TextSettingsCell textCell = (TextSettingsCell) view;
+                if (i == ThemingContactsActivity.this.avatarRadiusRow) {
+                    textCell.setTextAndValue(prefix + LocaleController.getString("AvatarRadius", R.string.AvatarRadius), String.format("%d", new Object[]{Integer.valueOf(Theme.contactsAvatarRadius)}), true);
+                } else if (i == ThemingContactsActivity.this.nameSizeRow) {
+                    textCell.setTextAndValue(prefix + LocaleController.getString("NameSize", R.string.NameSize), String.format("%d", new Object[]{Integer.valueOf(Theme.contactsNameSize)}), true);
+                } else if (i == ThemingContactsActivity.this.statusSizeRow) {
+                    textCell.setTextAndValue(prefix + LocaleController.getString("StatusSize", R.string.StatusSize), String.format("%d", new Object[]{Integer.valueOf(Theme.contactsStatusSize)}), true);
+                }
+            } else if (type == 3) {
+                if (view == null) {
+                    view = new TextColorCell(this.mContext);
+                }
+                TextColorCell textCell2 = (TextColorCell) view;
+                int r5 = 0;
+                if (i == ThemingContactsActivity.this.headerColorRow) {
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("HeaderColor", R.string.HeaderColor), Theme.contactsHeaderColor, false);
+                } else if (i == ThemingContactsActivity.this.headerGradientColorRow) {
+                    String r6 = prefix + LocaleController.getString("RowGradientColor", R.string.RowGradientColor);
+                    if (themePrefs.getInt("contactsHeaderGradient", 0) != 0) {
+                        r5 = themePrefs.getInt("contactsHeaderGradientColor", Theme.defColor);
+                    }
+                    textCell2.setTextAndColor(r6, r5, true);
+                } else if (i == ThemingContactsActivity.this.headerTitleColorRow) {
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("HeaderTitleColor", R.string.HeaderTitleColor), Theme.contactsHeaderTitleColor, true);
+                } else if (i == ThemingContactsActivity.this.headerIconsColorRow) {
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("HeaderIconsColor", R.string.HeaderIconsColor), Theme.contactsHeaderIconsColor, false);
+                } else if (i == ThemingContactsActivity.this.iconsColorRow) {
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("IconsColor", R.string.IconsColor), Theme.contactsIconsColor, true);
+                } else if (i == ThemingContactsActivity.this.rowColorRow) {
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("RowColor", R.string.RowColor), Theme.contactsRowColor, false);
+                } else if (i == ThemingContactsActivity.this.rowGradientColorRow) {
+                    String r6 = prefix + LocaleController.getString("RowGradientColor", R.string.RowGradientColor);
+                    if (themePrefs.getInt("contactsRowGradient", 0) != 0) {
+                        r5 = themePrefs.getInt("contactsRowGradientColor", -1);
+                    }
+                    textCell2.setTextAndColor(r6, r5, true);
+                } else if (i == ThemingContactsActivity.this.nameColorRow) {
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("NameColor", R.string.NameColor), Theme.contactsNameColor, true);
+                } else if (i == ThemingContactsActivity.this.statusColorRow) {
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("StatusColor", R.string.StatusColor), Theme.contactsStatusColor, true);
+                } else if (i == ThemingContactsActivity.this.onlineColorRow) {
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("OnlineColor", R.string.OnlineColor), Theme.contactsOnlineColor, false);
+                }
+            } else if (type == 4) {
+                if (view == null) {
+                    view = new TextCheckCell(this.mContext);
+                }
+                TextCheckCell textCell3 = (TextCheckCell) view;
+                if (i == ThemingContactsActivity.this.rowGradientListCheckRow) {
+                    textCell3.setTag("contactsRowGradientListCheck");
+                    int value = AndroidUtilities.getIntDef("contactsRowGradient", 0);
+                    String r6 = prefix + LocaleController.getString("RowGradientList", R.string.RowGradientList);
+                    if (value != 0) {
+                        z = themePrefs.getBoolean("contactsRowGradientListCheck", false);
+                    }
+                    textCell3.setTextAndCheck(r6, z, true);
+                }
+            } else if (type == 5) {
+                if (view == null) {
+                    view = new TextDetailSettingsCell(this.mContext);
+                }
+                TextDetailSettingsCell textCell4 = (TextDetailSettingsCell) view;
+                if (i == ThemingContactsActivity.this.headerGradientRow) {
+                    textCell4.setTag("contactsHeaderGradient");
+                    textCell4.setMultilineDetail(false);
+                    int value = themePrefs.getInt("contactsHeaderGradient", 0);
+                    if (value == 0) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled), false);
+                    } else if (value == 1) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom), false);
+                    } else if (value == 2) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight), false);
+                    } else if (value == 3) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR), false);
+                    } else if (value == 4) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR), false);
+                    }
+                } else if (i == ThemingContactsActivity.this.rowGradientRow) {
+                    textCell4.setTag("contactsRowGradient");
+                    textCell4.setMultilineDetail(false);
+                    int value = themePrefs.getInt("contactsRowGradient", 0);
+                    if (value == 0) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled), false);
+                    } else if (value == 1) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom), false);
+                    } else if (value == 2) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight), false);
+                    } else if (value == 3) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR), false);
+                    } else if (value == 4) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR), false);
+                    }
+                }
+            }
+            if (view != null) {
+                view.setBackgroundColor(Theme.usePlusTheme ? Theme.prefBGColor : Theme.getColor(Theme.key_windowBackgroundWhite));
+            }
+            return view;
+        }
+
+        public int getItemViewType(int i) {
+            if (i == ThemingContactsActivity.this.rowsSectionRow) {
+                return 0;
+            }
+            if (i == ThemingContactsActivity.this.headerSection2Row || i == ThemingContactsActivity.this.rowsSection2Row) {
+                return 1;
+            }
+            if (i == ThemingContactsActivity.this.avatarRadiusRow || i == ThemingContactsActivity.this.nameSizeRow || i == ThemingContactsActivity.this.statusSizeRow) {
+                return 2;
+            }
+            if (i == ThemingContactsActivity.this.headerColorRow || i == ThemingContactsActivity.this.headerGradientColorRow || i == ThemingContactsActivity.this.headerTitleColorRow || i == ThemingContactsActivity.this.headerIconsColorRow || i == ThemingContactsActivity.this.iconsColorRow || i == ThemingContactsActivity.this.rowColorRow || i == ThemingContactsActivity.this.rowGradientColorRow || i == ThemingContactsActivity.this.nameColorRow || i == ThemingContactsActivity.this.statusColorRow || i == ThemingContactsActivity.this.onlineColorRow) {
+                return 3;
+            }
+            if (i == ThemingContactsActivity.this.rowGradientListCheckRow) {
+                return 4;
+            }
+            if (i == ThemingContactsActivity.this.headerGradientRow || i == ThemingContactsActivity.this.rowGradientRow) {
+                return 5;
+            }
+            return 2;
+        }
+
+        public int getViewTypeCount() {
+            return 6;
+        }
+
+        public boolean isEmpty() {
+            return false;
+        }
+    }
+
+    public boolean onFragmentCreate() {
+        super.onFragmentCreate();
+        this.rowCount = 0;
+        int i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerSection2Row = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerGradientRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerGradientColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerTitleColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerIconsColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowsSectionRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowsSection2Row = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowGradientRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowGradientColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.avatarRadiusRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.iconsColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.nameColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.nameSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.statusColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.statusSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.onlineColorRow = i;
+        this.showPrefix = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).getBoolean("contactsShowPrefix", true);
+        return true;
+    }
+
+    public void onFragmentDestroy() {
+        super.onFragmentDestroy();
+    }
+
+    public View createView(Context context) {
+        if (this.fragmentView == null) {
+            this.actionBar.setBackButtonImage(R.drawable.ic_ab_back);
+            if (AndroidUtilities.isTablet()) {
+                this.actionBar.setOccupyStatusBar(false);
+            }
+            this.actionBar.setTitle(LocaleController.getString("ContactsScreen", R.string.ContactsScreen));
+            this.actionBar.setActionBarMenuOnItemClick(new ActionBarMenuOnItemClick() {
+                public void onItemClick(int id) {
+                    if (id == -1) {
+                        ThemingContactsActivity.this.finishFragment();
+                    }
+                }
+            });
+            this.actionBar.setOnClickListener(new OnClickListener() {
+                public void onClick(View v) {
+                    boolean z;
+                    ThemingContactsActivity themingContactsActivity = ThemingContactsActivity.this;
+                    if (ThemingContactsActivity.this.showPrefix) {
+                        z = false;
+                    } else {
+                        z = true;
+                    }
+                    themingContactsActivity.showPrefix = z;
+                    ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit().putBoolean("contactsShowPrefix", ThemingContactsActivity.this.showPrefix).apply();
+                    if (ThemingContactsActivity.this.listAdapter != null) {
+                        ThemingContactsActivity.this.listAdapter.notifyDataSetChanged();
+                    }
+                }
+            });
+            this.listAdapter = new ListAdapter(context);
+            this.fragmentView = new FrameLayout(context);
+            FrameLayout frameLayout = (FrameLayout) this.fragmentView;
+            this.listView = new ListView(context);
+            if (Theme.usePlusTheme) {
+                this.listView.setBackgroundColor(Theme.prefBGColor);
+            }
+            this.listView.setDivider(null);
+            this.listView.setDividerHeight(0);
+            this.listView.setVerticalScrollBarEnabled(false);
+            AndroidUtilities.setListViewEdgeEffectColor(this.listView, Theme.prefActionbarColor);
+            frameLayout.addView(this.listView);
+            LayoutParams layoutParams = (LayoutParams) this.listView.getLayoutParams();
+            layoutParams.width = -1;
+            layoutParams.height = -1;
+            layoutParams.gravity = 48;
+            this.listView.setLayoutParams(layoutParams);
+            this.listView.setAdapter(this.listAdapter);
+            this.listView.setOnItemClickListener(new OnItemClickListener() {
+                public void onItemClick(AdapterView<?> adapterView, View view, int i, long l) {
+                    SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0);
+                    if (i == ThemingContactsActivity.this.headerColorRow) {
+                        if (ThemingContactsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingContactsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingContactsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.contactsHeaderColor = color;
+                                    ThemingContactsActivity.this.commitInt("contactsHeaderColor", color);
+                                }
+                            }, Theme.contactsHeaderColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingContactsActivity.this.headerGradientColorRow) {
+                        if (ThemingContactsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingContactsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingContactsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingContactsActivity.this.commitInt("contactsHeaderGradientColor", color);
+                                }
+                            }, themePrefs.getInt("contactsHeaderGradientColor", Theme.defColor), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingContactsActivity.this.headerTitleColorRow) {
+                        if (ThemingContactsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingContactsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingContactsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.contactsHeaderTitleColor = color;
+                                    ThemingContactsActivity.this.commitInt("contactsHeaderTitleColor", color);
+                                }
+                            }, Theme.contactsHeaderTitleColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingContactsActivity.this.headerIconsColorRow) {
+                        if (ThemingContactsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingContactsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingContactsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.contactsHeaderIconsColor = color;
+                                    ThemingContactsActivity.this.commitInt("contactsHeaderIconsColor", color);
+                                }
+                            }, Theme.contactsHeaderIconsColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingContactsActivity.this.iconsColorRow) {
+                        if (ThemingContactsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingContactsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingContactsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.contactsIconsColor = color;
+                                    ThemingContactsActivity.this.commitInt("contactsIconsColor", color);
+                                }
+                            }, Theme.contactsIconsColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingContactsActivity.this.rowColorRow) {
+                        if (ThemingContactsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingContactsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingContactsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.contactsRowColor = color;
+                                    ThemingContactsActivity.this.commitInt("contactsRowColor", color);
+                                }
+                            }, Theme.contactsRowColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingContactsActivity.this.rowGradientColorRow) {
+                        if (ThemingContactsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingContactsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingContactsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingContactsActivity.this.commitInt("contactsRowGradientColor", color);
+                                }
+                            }, themePrefs.getInt("contactsRowGradientColor", -1), 0, 0, true).show();
+                        }
+                    } else if (i == ThemingContactsActivity.this.rowGradientListCheckRow) {
+                        boolean b = themePrefs.getBoolean("contactsRowGradientListCheck", false);
+                        Editor editor = themePrefs.edit();
+                        editor.putBoolean("contactsRowGradientListCheck", !b);
+                        editor.commit();
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(!b);
+                        }
+                    } else if (i == ThemingContactsActivity.this.headerGradientRow) {
+                        Builder builder = new Builder(ThemingContactsActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("RowGradient", R.string.RowGradient));
+                        ArrayList array = new ArrayList();
+                        array.add(LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled));
+                        array.add(LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom));
+                        array.add(LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight));
+                        array.add(LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR));
+                        array.add(LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR));
+                        String[] simpleArray = new String[array.size()];
+                        array.toArray(new String[array.size()]);
+                        builder.setItems((CharSequence[]) array.toArray(simpleArray), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit().putInt("contactsHeaderGradient", which).commit();
+                                if (ThemingContactsActivity.this.listView != null) {
+                                    ThemingContactsActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                        ThemingContactsActivity.this.showDialog(builder.create());
+                    } else if (i == ThemingContactsActivity.this.rowGradientRow) {
+                        Builder builder = new Builder(ThemingContactsActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("RowGradient", R.string.RowGradient));
+                        ArrayList array = new ArrayList();
+                        array.add(LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled));
+                        array.add(LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom));
+                        array.add(LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight));
+                        array.add(LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR));
+                        array.add(LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR));
+                        String[] simpleArray = new String[array.size()];
+                        array.toArray(new String[array.size()]);
+                        builder.setItems((CharSequence[]) array.toArray(simpleArray), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit().putInt("contactsRowGradient", which).commit();
+                                if (ThemingContactsActivity.this.listView != null) {
+                                    ThemingContactsActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                        ThemingContactsActivity.this.showDialog(builder.create());
+                    } else if (i == ThemingContactsActivity.this.nameColorRow) {
+                        if (ThemingContactsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingContactsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingContactsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.contactsRowColor = color;
+                                    ThemingContactsActivity.this.commitInt("contactsNameColor", color);
+                                }
+                            }, Theme.contactsRowColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingContactsActivity.this.statusColorRow) {
+                        if (ThemingContactsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingContactsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingContactsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.contactsStatusColor = color;
+                                    ThemingContactsActivity.this.commitInt("contactsStatusColor", color);
+                                }
+                            }, Theme.contactsStatusColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingContactsActivity.this.onlineColorRow) {
+                        if (ThemingContactsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingContactsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingContactsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.contactsOnlineColor = color;
+                                    ThemingContactsActivity.this.commitInt("contactsOnlineColor", color);
+                                }
+                            }, Theme.contactsOnlineColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingContactsActivity.this.avatarRadiusRow) {
+                        if (ThemingContactsActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingContactsActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("AvatarRadius", R.string.AvatarRadius));
+                            numberPicker = new NumberPicker(ThemingContactsActivity.this.getParentActivity());
+                            numberPicker.setMinValue(1);
+                            numberPicker.setMaxValue(32);
+                            numberPicker.setValue(Theme.contactsAvatarRadius);
+                            builder.setView(numberPicker);
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (numberPicker.getValue() != Theme.contactsAvatarRadius) {
+                                        Theme.contactsAvatarRadius = numberPicker.getValue();
+                                        ThemingContactsActivity.this.commitInt("contactsAvatarRadius", numberPicker.getValue());
+                                    }
+                                }
+                            });
+                            ThemingContactsActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingContactsActivity.this.nameSizeRow) {
+                        if (ThemingContactsActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingContactsActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("NameSize", R.string.NameSize));
+                            numberPicker = new NumberPicker(ThemingContactsActivity.this.getParentActivity());
+                            numberPicker.setMinValue(12);
+                            numberPicker.setMaxValue(30);
+                            numberPicker.setValue(Theme.contactsNameSize);
+                            builder.setView(numberPicker);
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (numberPicker.getValue() != Theme.contactsNameSize) {
+                                        Theme.contactsNameSize = numberPicker.getValue();
+                                        ThemingContactsActivity.this.commitInt("contactsNameSize", numberPicker.getValue());
+                                    }
+                                }
+                            });
+                            ThemingContactsActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingContactsActivity.this.statusSizeRow && ThemingContactsActivity.this.getParentActivity() != null) {
+                        Builder builder = new Builder(ThemingContactsActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("StatusSize", R.string.StatusSize));
+                        numberPicker = new NumberPicker(ThemingContactsActivity.this.getParentActivity());
+                        numberPicker.setMinValue(10);
+                        numberPicker.setMaxValue(20);
+                        numberPicker.setValue(Theme.contactsStatusSize);
+                        builder.setView(numberPicker);
+                        builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                if (numberPicker.getValue() != Theme.contactsStatusSize) {
+                                    Theme.contactsStatusSize = numberPicker.getValue();
+                                    ThemingContactsActivity.this.commitInt("contactsStatusSize", numberPicker.getValue());
+                                }
+                            }
+                        });
+                        ThemingContactsActivity.this.showDialog(builder.create());
+                    }
+                }
+            });
+            this.listView.setOnItemLongClickListener(new OnItemLongClickListener() {
+                public boolean onItemLongClick(AdapterView<?> adapterView, View view, int i, long l) {
+                    if (ThemingContactsActivity.this.getParentActivity() == null) {
+                        return false;
+                    }
+                    if (i == ThemingContactsActivity.this.headerColorRow) {
+                        ThemingContactsActivity.this.resetInt("contactsHeaderColor");
+                    } else if (i == ThemingContactsActivity.this.headerGradientColorRow) {
+                        ThemingContactsActivity.this.resetInt("contactsHeaderGradientColor");
+                    } else if (i == ThemingContactsActivity.this.headerTitleColorRow) {
+                        ThemingContactsActivity.this.resetInt("contactsHeaderTitleColor");
+                    } else if (i == ThemingContactsActivity.this.headerIconsColorRow) {
+                        ThemingContactsActivity.this.resetInt("contactsHeaderIconsColor");
+                    } else if (i == ThemingContactsActivity.this.iconsColorRow) {
+                        ThemingContactsActivity.this.resetInt("contactsIconsColor");
+                    } else if (i == ThemingContactsActivity.this.rowColorRow) {
+                        ThemingContactsActivity.this.resetInt("contactsRowColor");
+                    } else if (i == ThemingContactsActivity.this.rowGradientColorRow) {
+                        ThemingContactsActivity.this.resetInt("contactsRowGradientColor");
+                    } else if (i == ThemingContactsActivity.this.headerGradientRow) {
+                        ThemingContactsActivity.this.resetInt("contactsHeaderGradient");
+                    } else if (i == ThemingContactsActivity.this.rowGradientRow) {
+                        ThemingContactsActivity.this.resetInt("contactsRowGradient");
+                    } else if (i == ThemingContactsActivity.this.avatarRadiusRow) {
+                        ThemingContactsActivity.this.resetInt("contactsAvatarRadius");
+                    } else if (i == ThemingContactsActivity.this.nameColorRow) {
+                        ThemingContactsActivity.this.resetInt("contactsNameColor");
+                    } else if (i == ThemingContactsActivity.this.nameSizeRow) {
+                        ThemingContactsActivity.this.resetInt("contactsNameSize");
+                    } else if (i == ThemingContactsActivity.this.statusColorRow) {
+                        ThemingContactsActivity.this.resetInt("contactsStatusColor");
+                    } else if (i == ThemingContactsActivity.this.statusSizeRow) {
+                        ThemingContactsActivity.this.resetInt("contactsStatusSize");
+                    } else if (i == ThemingContactsActivity.this.onlineColorRow) {
+                        ThemingContactsActivity.this.resetInt("contactsOnlineColor");
+                    } else if (view.getTag() != null) {
+                        ThemingContactsActivity.this.resetPref(view.getTag().toString());
+                    }
+                    return true;
+                }
+            });
+            frameLayout.addView(this.actionBar);
+        } else {
+            ViewGroup parent = (ViewGroup) this.fragmentView.getParent();
+            if (parent != null) {
+                parent.removeView(this.fragmentView);
+            }
+        }
+        if (Theme.usePlusTheme) {
+            updateTheme();
+        }
+        return this.fragmentView;
+    }
+
+    private void resetPref(String key) {
+        Editor editor = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
+        if (key != null) {
+            editor.remove(key);
+        }
+        editor.commit();
+        if (this.listView != null) {
+            this.listView.invalidateViews();
+        }
+        refreshTheme();
+    }
+
+    private void resetInt(String key) {
+        Editor editor = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
+        editor.remove(key);
+        editor.commit();
+        if (this.listView != null) {
+            this.listView.invalidateViews();
+        }
+    }
+
+    private void commitInt(String key, int value) {
+        Editor editor = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
+        editor.putInt(key, value);
+        editor.commit();
+        if (this.listView != null) {
+            this.listView.invalidateViews();
+        }
+        refreshTheme();
+    }
+
+    private void refreshTheme() {
+        Theme.applyPlusTheme();
+        if (this.parentLayout != null) {
+            this.parentLayout.rebuildAllFragmentViews(false);
+        }
+    }
+
+    public void onResume() {
+        super.onResume();
+        if (this.listAdapter != null) {
+            this.listAdapter.notifyDataSetChanged();
+        }
+        fixLayout();
+    }
+
+    private void updateTheme() {
+        this.actionBar.setBackgroundColor(Theme.prefActionbarColor);
+        this.actionBar.setTitleColor(Theme.prefActionbarTitleColor);
+        Drawable back = getParentActivity().getResources().getDrawable(R.drawable.ic_ab_back);
+        back.setColorFilter(Theme.prefActionbarIconsColor, Mode.MULTIPLY);
+        this.actionBar.setBackButtonDrawable(back);
+    }
+
+    public void onConfigurationChanged(Configuration newConfig) {
+        super.onConfigurationChanged(newConfig);
+        fixLayout();
+    }
+
+    private void fixLayout() {
+        if (this.fragmentView != null) {
+            this.fragmentView.getViewTreeObserver().addOnPreDrawListener(new OnPreDrawListener() {
+                public boolean onPreDraw() {
+                    if (ThemingContactsActivity.this.fragmentView != null) {
+                        ThemingContactsActivity.this.fragmentView.getViewTreeObserver().removeOnPreDrawListener(this);
+                    }
+                    return false;
+                }
+            });
+        }
+    }
+}
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ThemingDrawerActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ThemingDrawerActivity.java
new file mode 100644
index 000000000..aac4d2b95
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ThemingDrawerActivity.java
@@ -0,0 +1,933 @@
+package org.telegram.ui;
+
+import android.app.AlertDialog.Builder;
+import android.content.Context;
+import android.content.DialogInterface;
+import android.content.SharedPreferences;
+import android.content.SharedPreferences.Editor;
+import android.content.res.Configuration;
+import android.graphics.PorterDuff.Mode;
+import android.graphics.drawable.Drawable;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.View.OnClickListener;
+import android.view.ViewGroup;
+import android.view.ViewTreeObserver.OnPreDrawListener;
+import android.widget.AdapterView;
+import android.widget.AdapterView.OnItemClickListener;
+import android.widget.AdapterView.OnItemLongClickListener;
+import android.widget.BaseAdapter;
+import android.widget.FrameLayout;
+import android.widget.FrameLayout.LayoutParams;
+import android.widget.ListView;
+
+import org.telegram.messenger.AndroidUtilities;
+import org.telegram.messenger.ApplicationLoader;
+import org.telegram.messenger.LocaleController;
+import org.telegram.messenger.MediaController;
+import org.telegram.messenger.NotificationCenter;
+import org.telegram.messenger.R;
+import org.telegram.ui.ActionBar.ActionBar.ActionBarMenuOnItemClick;
+import org.telegram.ui.ActionBar.BaseFragment;
+import org.telegram.ui.ActionBar.Theme;
+import org.telegram.ui.Cells.HeaderCell;
+import org.telegram.ui.Cells.ShadowSectionCell;
+import org.telegram.ui.Cells.TextCheckCell;
+import org.telegram.ui.Cells.TextColorCell;
+import org.telegram.ui.Cells.TextDetailSettingsCell;
+import org.telegram.ui.Cells.TextSettingsCell;
+import org.telegram.ui.Components.ColorSelectorDialog;
+import org.telegram.ui.Components.ColorSelectorDialog.OnColorChangedListener;
+import org.telegram.ui.Components.NumberPicker;
+
+import java.util.ArrayList;
+
+public class ThemingDrawerActivity extends BaseFragment {
+    public static final int CENTER = 0;
+    private int avatarColorRow;
+    private int avatarRadiusRow;
+    private int avatarSizeRow;
+    private int centerAvatarRow;
+    private boolean drawer = false;
+    private int headerBackgroundCheckRow;
+    private int headerColorRow;
+    private int headerGradientColorRow;
+    private int headerGradientRow;
+    private int headerSection2Row;
+    private int hideBackgroundShadowRow;
+    private int iconColorRow;
+    private ListAdapter listAdapter;
+    private int listColorRow;
+    private int listDividerColorRow;
+    private ListView listView;
+    private int nameColorRow;
+    private int nameSizeRow;
+    private int optionColorRow;
+    private int optionSizeRow;
+    private int phoneColorRow;
+    private int phoneSizeRow;
+    private boolean player = false;
+    private int rowCount;
+    private int rowGradientColorRow;
+    private int rowGradientListCheckRow;
+    private int rowGradientRow;
+    private int rowsSection2Row;
+    private int rowsSectionRow;
+    private boolean showPrefix;
+    private int versionColorRow;
+    private int versionSizeRow;
+    NumberPicker r0;
+    int currentValue;
+    private class ListAdapter extends BaseAdapter {
+        private Context mContext;
+
+        public ListAdapter(Context context) {
+            this.mContext = context;
+        }
+
+        public boolean areAllItemsEnabled() {
+            return false;
+        }
+
+        public boolean isEnabled(int i) {
+            int h = AndroidUtilities.getIntDef("drawerHeaderGradient", 0);
+            int g = AndroidUtilities.getIntDef("drawerRowGradient", 0);
+            if (i == ThemingDrawerActivity.this.headerColorRow || i == ThemingDrawerActivity.this.headerGradientRow || ((h > 0 && i == ThemingDrawerActivity.this.headerGradientColorRow) || i == ThemingDrawerActivity.this.headerBackgroundCheckRow || i == ThemingDrawerActivity.this.hideBackgroundShadowRow || i == ThemingDrawerActivity.this.centerAvatarRow || i == ThemingDrawerActivity.this.listColorRow || i == ThemingDrawerActivity.this.rowGradientRow || ((g != 0 && i == ThemingDrawerActivity.this.rowGradientColorRow) || ((g != 0 && i == ThemingDrawerActivity.this.rowGradientListCheckRow) || i == ThemingDrawerActivity.this.listDividerColorRow || i == ThemingDrawerActivity.this.iconColorRow || i == ThemingDrawerActivity.this.optionColorRow || i == ThemingDrawerActivity.this.optionSizeRow || i == ThemingDrawerActivity.this.avatarColorRow || i == ThemingDrawerActivity.this.avatarRadiusRow || i == ThemingDrawerActivity.this.nameColorRow || i == ThemingDrawerActivity.this.avatarSizeRow || i == ThemingDrawerActivity.this.nameSizeRow || i == ThemingDrawerActivity.this.phoneColorRow || i == ThemingDrawerActivity.this.phoneSizeRow || i == ThemingDrawerActivity.this.versionColorRow || i == ThemingDrawerActivity.this.versionSizeRow)))) {
+                return true;
+            }
+            return false;
+        }
+
+        public int getCount() {
+            return ThemingDrawerActivity.this.rowCount;
+        }
+
+        public Object getItem(int i) {
+            return null;
+        }
+
+        public long getItemId(int i) {
+            return (long) i;
+        }
+
+        public boolean hasStableIds() {
+            return false;
+        }
+
+        public View getView(int i, View view, ViewGroup viewGroup) {
+            int type = getItemViewType(i);
+            String prefix = "";
+            if (ThemingDrawerActivity.this.showPrefix) {
+                prefix = "4.";
+                if (i == ThemingDrawerActivity.this.headerSection2Row) {
+                    prefix = prefix + "1 ";
+                } else if (i == ThemingDrawerActivity.this.rowsSection2Row) {
+                    prefix = prefix + "2 ";
+                } else if (i < ThemingDrawerActivity.this.rowsSection2Row) {
+                    prefix = prefix + "1." + i + " ";
+                } else {
+                    prefix = prefix + "2." + (i - ThemingDrawerActivity.this.rowsSection2Row) + " ";
+                }
+            }
+            SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0);
+            int defColor = themePrefs.getInt(Theme.pkey_themeColor, AndroidUtilities.defColor);
+            if (type == 0) {
+                if (view == null) {
+                    view = new ShadowSectionCell(this.mContext);
+                }
+            } else if (type == 1) {
+                if (view == null) {
+                    view = new HeaderCell(this.mContext);
+                    view.setBackgroundColor(-1);
+                }
+                if (i == ThemingDrawerActivity.this.headerSection2Row) {
+                    ((HeaderCell) view).setText(prefix + LocaleController.getString("Header", R.string.Header));
+                } else if (i == ThemingDrawerActivity.this.rowsSection2Row) {
+                    ((HeaderCell) view).setText(prefix + LocaleController.getString("OptionsList", R.string.OptionsList));
+                }
+            } else if (type == 2) {
+                if (view == null) {
+                    view = new TextSettingsCell(this.mContext);
+                }
+                TextSettingsCell textCell = (TextSettingsCell) view;
+                int size;
+                if (i == ThemingDrawerActivity.this.avatarRadiusRow) {
+                    size = themePrefs.getInt("drawerAvatarRadius", AndroidUtilities.isTablet() ? 35 : 32);
+                    textCell.setTextAndValue(prefix + LocaleController.getString("AvatarRadius", R.string.AvatarRadius), String.format("%d", new Object[]{Integer.valueOf(size)}), true);
+                } else if (i == ThemingDrawerActivity.this.avatarSizeRow) {
+                    size = themePrefs.getInt("drawerAvatarSize", AndroidUtilities.isTablet() ? 68 : 64);
+                    textCell.setTextAndValue(prefix + LocaleController.getString("AvatarSize", R.string.AvatarSize), String.format("%d", new Object[]{Integer.valueOf(size)}), true);
+                } else if (i == ThemingDrawerActivity.this.nameSizeRow) {
+                    size = themePrefs.getInt("drawerNameSize", AndroidUtilities.isTablet() ? 17 : 15);
+                    textCell.setTextAndValue(prefix + LocaleController.getString("OwnNameSize", R.string.OwnNameSize), String.format("%d", new Object[]{Integer.valueOf(size)}), true);
+                } else if (i == ThemingDrawerActivity.this.optionSizeRow) {
+                    size = themePrefs.getInt("drawerOptionSize", AndroidUtilities.isTablet() ? 17 : 15);
+                    textCell.setTextAndValue(prefix + LocaleController.getString("OptionSize", R.string.OptionSize), String.format("%d", new Object[]{Integer.valueOf(size)}), true);
+                } else if (i == ThemingDrawerActivity.this.phoneSizeRow) {
+                    size = themePrefs.getInt("drawerPhoneSize", AndroidUtilities.isTablet() ? 15 : 13);
+                    textCell.setTextAndValue(prefix + LocaleController.getString("PhoneSize", R.string.PhoneSize), String.format("%d", new Object[]{Integer.valueOf(size)}), true);
+                } else if (i == ThemingDrawerActivity.this.versionSizeRow) {
+                    size = themePrefs.getInt("drawerVersionSize", AndroidUtilities.isTablet() ? 15 : 13);
+                    textCell.setTextAndValue(prefix + LocaleController.getString("VersionSize", R.string.VersionSize), String.format("%d", new Object[]{Integer.valueOf(size)}), false);
+                }
+            } else if (type == 3) {
+                if (view == null) {
+                    view = new TextColorCell(this.mContext);
+                }
+                TextColorCell textCell2 = (TextColorCell) view;
+                if (i == ThemingDrawerActivity.this.headerColorRow) {
+                    textCell2.setTag("drawerHeaderColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("HeaderColor", R.string.HeaderColor), Theme.drawerHeaderColor, false);
+                } else if (i == ThemingDrawerActivity.this.headerGradientColorRow) {
+                    textCell2.setTag("drawerHeaderGradientColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("RowGradientColor", R.string.RowGradientColor), themePrefs.getInt("drawerHeaderGradient", 0) == 0 ? 0 : themePrefs.getInt("drawerHeaderGradientColor", defColor), true);
+                } else if (i == ThemingDrawerActivity.this.listColorRow) {
+                    textCell2.setTag("drawerListColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("ListColor", R.string.ListColor), themePrefs.getInt("drawerListColor", -1), false);
+                } else if (i == ThemingDrawerActivity.this.rowGradientColorRow) {
+                    textCell2.setTag("drawerRowGradientColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("RowGradientColor", R.string.RowGradientColor), themePrefs.getInt("drawerRowGradient", 0) == 0 ? 0 : themePrefs.getInt("drawerRowGradientColor", -1), true);
+                } else if (i == ThemingDrawerActivity.this.listDividerColorRow) {
+                    textCell2.setTag("drawerListDividerColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("ListDividerColor", R.string.ListDividerColor), themePrefs.getInt("drawerListDividerColor", -2500135), true);
+                } else if (i == ThemingDrawerActivity.this.iconColorRow) {
+                    textCell2.setTag(Theme.pkey_drawerIconColor);
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("IconColor", R.string.IconColor), Theme.drawerIconColor, true);
+                } else if (i == ThemingDrawerActivity.this.optionColorRow) {
+                    textCell2.setTag(Theme.pkey_drawerOptionColor);
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("OptionColor", R.string.OptionColor), Theme.drawerOptionColor, true);
+                } else if (i == ThemingDrawerActivity.this.versionColorRow) {
+                    textCell2.setTag("drawerVersionColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("VersionColor", R.string.VersionColor), themePrefs.getInt("drawerVersionColor", -6052957), true);
+                } else if (i == ThemingDrawerActivity.this.avatarColorRow) {
+                    textCell2.setTag("drawerAvatarColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("AvatarColor", R.string.AvatarColor), themePrefs.getInt("drawerAvatarColor", Theme.darkColor), true);
+                } else if (i == ThemingDrawerActivity.this.nameColorRow) {
+                    textCell2.setTag(Theme.pkey_drawerNameColor);
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("NameColor", R.string.NameColor), Theme.drawerNameColor, true);
+                } else if (i == ThemingDrawerActivity.this.phoneColorRow) {
+                    textCell2.setTag(Theme.pkey_drawerPhoneColor);
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("PhoneColor", R.string.PhoneColor), themePrefs.getInt(Theme.pkey_drawerPhoneColor, AndroidUtilities.getIntDarkerColor(Theme.pkey_themeColor, -64)), true);
+                }
+            } else if (type == 4) {
+                if (view == null) {
+                    view = new TextCheckCell(this.mContext);
+                }
+                TextCheckCell textCell3 = (TextCheckCell) view;
+                if (i == ThemingDrawerActivity.this.headerBackgroundCheckRow) {
+                    textCell3.setTag("drawerHeaderBGCheck");
+                    textCell3.setTextAndCheck(prefix + LocaleController.getString("HideBackground", R.string.HideBackground), Theme.drawerHeaderBGCheck, true);
+                } else if (i == ThemingDrawerActivity.this.hideBackgroundShadowRow) {
+                    textCell3.setTag("drawerHideBGShadowCheck");
+                    textCell3.setTextAndCheck(prefix + LocaleController.getString("HideBackgroundShadow", R.string.HideBackgroundShadow), Theme.drawerHideBGShadowCheck, true);
+                } else if (i == ThemingDrawerActivity.this.centerAvatarRow) {
+                    textCell3.setTag("drawerCenterAvatarCheck");
+                    textCell3.setTextAndCheck(prefix + LocaleController.getString("CenterAvatar", R.string.CenterAvatar), Theme.drawerCenterAvatarCheck, false);
+                } else if (i == ThemingDrawerActivity.this.rowGradientListCheckRow) {
+                    textCell3.setTag("drawerRowGradientListCheck");
+                    textCell3.setTextAndCheck(prefix + LocaleController.getString("RowGradientList", R.string.RowGradientList), AndroidUtilities.getIntDef("drawerRowGradient", 0) == 0 ? false : themePrefs.getBoolean("drawerRowGradientListCheck", false), true);
+                }
+            } else if (type == 5) {
+                if (view == null) {
+                    view = new TextDetailSettingsCell(this.mContext);
+                }
+                TextDetailSettingsCell textCell4 = (TextDetailSettingsCell) view;
+                int value;
+                if (i == ThemingDrawerActivity.this.headerGradientRow) {
+                    textCell4.setTag("drawerHeaderGradient");
+                    textCell4.setMultilineDetail(false);
+                    value = themePrefs.getInt("drawerHeaderGradient", 0);
+                    if (value == 0) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled), false);
+                    } else if (value == 1) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom), false);
+                    } else if (value == 2) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight), false);
+                    } else if (value == 3) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR), false);
+                    } else if (value == 4) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR), false);
+                    }
+                } else if (i == ThemingDrawerActivity.this.rowGradientRow) {
+                    textCell4.setTag("drawerRowGradient");
+                    textCell4.setMultilineDetail(false);
+                    value = themePrefs.getInt("drawerRowGradient", 0);
+                    if (value == 0) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled), false);
+                    } else if (value == 1) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom), false);
+                    } else if (value == 2) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight), false);
+                    } else if (value == 3) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR), false);
+                    } else if (value == 4) {
+                        textCell4.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR), false);
+                    }
+                }
+            }
+            if (view != null) {
+                view.setBackgroundColor(Theme.usePlusTheme ? Theme.prefBGColor : Theme.getColor(Theme.key_windowBackgroundWhite));
+            }
+            if (view != null) {
+                view.setBackgroundColor(Theme.usePlusTheme ? Theme.prefBGColor : Theme.getColor(Theme.key_windowBackgroundWhite));
+            }
+            return view;
+        }
+
+        public int getItemViewType(int i) {
+            if (i == ThemingDrawerActivity.this.rowsSectionRow) {
+                return 0;
+            }
+            if (i == ThemingDrawerActivity.this.headerSection2Row || i == ThemingDrawerActivity.this.rowsSection2Row) {
+                return 1;
+            }
+            if (i == ThemingDrawerActivity.this.avatarRadiusRow || i == ThemingDrawerActivity.this.avatarSizeRow || i == ThemingDrawerActivity.this.nameSizeRow || i == ThemingDrawerActivity.this.phoneSizeRow || i == ThemingDrawerActivity.this.optionSizeRow || i == ThemingDrawerActivity.this.versionSizeRow) {
+                return 2;
+            }
+            if (i == ThemingDrawerActivity.this.headerColorRow || i == ThemingDrawerActivity.this.headerGradientColorRow || i == ThemingDrawerActivity.this.listColorRow || i == ThemingDrawerActivity.this.rowGradientColorRow || i == ThemingDrawerActivity.this.listDividerColorRow || i == ThemingDrawerActivity.this.iconColorRow || i == ThemingDrawerActivity.this.optionColorRow || i == ThemingDrawerActivity.this.versionColorRow || i == ThemingDrawerActivity.this.avatarColorRow || i == ThemingDrawerActivity.this.nameColorRow || i == ThemingDrawerActivity.this.phoneColorRow) {
+                return 3;
+            }
+            if (i == ThemingDrawerActivity.this.headerBackgroundCheckRow || i == ThemingDrawerActivity.this.hideBackgroundShadowRow || i == ThemingDrawerActivity.this.centerAvatarRow || i == ThemingDrawerActivity.this.rowGradientListCheckRow) {
+                return 4;
+            }
+            if (i == ThemingDrawerActivity.this.headerGradientRow || i == ThemingDrawerActivity.this.rowGradientRow) {
+                return 5;
+            }
+            return 2;
+        }
+
+        public int getViewTypeCount() {
+            return 6;
+        }
+
+        public boolean isEmpty() {
+            return false;
+        }
+    }
+
+    public boolean onFragmentCreate() {
+        super.onFragmentCreate();
+        this.rowCount = 0;
+        int i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerSection2Row = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerBackgroundCheckRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.hideBackgroundShadowRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerGradientRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerGradientColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.avatarColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.avatarRadiusRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.avatarSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.nameColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.nameSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.phoneColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.phoneSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.centerAvatarRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowsSectionRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowsSection2Row = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.listColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowGradientRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowGradientColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.listDividerColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.iconColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.optionColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.optionSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.versionColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.versionSizeRow = i;
+        this.showPrefix = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).getBoolean("drawerShowPrefix", true);
+        return true;
+    }
+
+    public void onFragmentDestroy() {
+        super.onFragmentDestroy();
+        if (this.player && MediaController.getInstance().getPlayingMessageObject() != null) {
+            NotificationCenter.getInstance().postNotificationName(NotificationCenter.audioPlayStateChanged, Integer.valueOf(MediaController.getInstance().getPlayingMessageObject().getId()));
+        }
+        if (this.drawer) {
+            NotificationCenter.getInstance().postNotificationName(NotificationCenter.mainUserInfoChanged, new Object[0]);
+        }
+    }
+
+    public View createView(Context context) {
+        if (this.fragmentView == null) {
+            this.actionBar.setBackButtonImage(R.drawable.ic_ab_back);
+            if (AndroidUtilities.isTablet()) {
+                this.actionBar.setOccupyStatusBar(false);
+            }
+            this.actionBar.setTitle(LocaleController.getString("NavigationDrawer", R.string.NavigationDrawer));
+            this.actionBar.setActionBarMenuOnItemClick(new ActionBarMenuOnItemClick() {
+                public void onItemClick(int id) {
+                    if (id == -1) {
+                        ThemingDrawerActivity.this.finishFragment();
+                    }
+                }
+            });
+            this.actionBar.setOnClickListener(new OnClickListener() {
+                public void onClick(View v) {
+                    boolean z;
+                    ThemingDrawerActivity themingDrawerActivity = ThemingDrawerActivity.this;
+                    if (ThemingDrawerActivity.this.showPrefix) {
+                        z = false;
+                    } else {
+                        z = true;
+                    }
+                    themingDrawerActivity.showPrefix = z;
+                    ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit().putBoolean("drawerShowPrefix", ThemingDrawerActivity.this.showPrefix).apply();
+                    if (ThemingDrawerActivity.this.listAdapter != null) {
+                        ThemingDrawerActivity.this.listAdapter.notifyDataSetChanged();
+                    }
+                }
+            });
+            this.listAdapter = new ListAdapter(context);
+            this.fragmentView = new FrameLayout(context);
+            FrameLayout frameLayout = (FrameLayout) this.fragmentView;
+            this.listView = new ListView(context);
+            if (Theme.usePlusTheme) {
+                this.listView.setBackgroundColor(Theme.prefBGColor);
+            }
+            this.listView.setDivider(null);
+            this.listView.setDividerHeight(0);
+            this.listView.setVerticalScrollBarEnabled(false);
+            AndroidUtilities.setListViewEdgeEffectColor(this.listView, Theme.prefActionbarColor);
+            frameLayout.addView(this.listView);
+            LayoutParams layoutParams = (LayoutParams) this.listView.getLayoutParams();
+            layoutParams.width = -1;
+            layoutParams.height = -1;
+            layoutParams.gravity = 48;
+            this.listView.setLayoutParams(layoutParams);
+            this.listView.setAdapter(this.listAdapter);
+            this.listView.setOnItemClickListener(new OnItemClickListener() {
+                public void onItemClick(AdapterView<?> adapterView, View view, int i, long l) {
+                    SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0);
+                    String key = view.getTag() != null ? view.getTag().toString() : "";
+                    int defColor = themePrefs.getInt(Theme.pkey_themeColor, AndroidUtilities.defColor);
+                    if (i == ThemingDrawerActivity.this.headerColorRow) {
+                        if (ThemingDrawerActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingDrawerActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingDrawerActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.drawerHeaderColor = color;
+                                    ThemingDrawerActivity.this.commitInt("drawerHeaderColor", color);
+                                }
+                            }, themePrefs.getInt("drawerHeaderColor", defColor), 0, 0, true).show();
+                        } else {
+                            return;
+                        }
+                    } else if (i == ThemingDrawerActivity.this.headerGradientRow) {
+                        Builder builder = new Builder(ThemingDrawerActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("RowGradient", R.string.RowGradient));
+                        ArrayList array = new ArrayList();
+                        array.add(LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled));
+                        array.add(LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom));
+                        array.add(LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight));
+                        array.add(LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR));
+                        array.add(LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR));
+                        String[] simpleArray = new String[array.size()];
+                        array.toArray(new String[array.size()]);
+                        builder.setItems((CharSequence[]) array.toArray(simpleArray), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit().putInt("drawerHeaderGradient", which).commit();
+                                if (ThemingDrawerActivity.this.listView != null) {
+                                    ThemingDrawerActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                        ThemingDrawerActivity.this.showDialog(builder.create());
+                    } else if (i == ThemingDrawerActivity.this.headerGradientColorRow) {
+                        if (ThemingDrawerActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingDrawerActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingDrawerActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingDrawerActivity.this.commitInt("drawerHeaderGradientColor", color);
+                                }
+                            }, themePrefs.getInt("drawerHeaderGradientColor", defColor), 0, 0, true).show();
+                        } else {
+                            return;
+                        }
+                    } else if (i == ThemingDrawerActivity.this.headerBackgroundCheckRow) {
+                        Theme.drawerHeaderBGCheck = !Theme.drawerHeaderBGCheck;
+                        //editor = themePrefs.edit();
+                        themePrefs.edit().putBoolean(key, Theme.drawerHeaderBGCheck);
+                        themePrefs.edit().commit();
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(Theme.drawerHeaderBGCheck);
+                        }
+                    } else if (i == ThemingDrawerActivity.this.hideBackgroundShadowRow) {
+                        Theme.drawerHideBGShadowCheck = !Theme.drawerHideBGShadowCheck;
+                        //editor = themePrefs.edit();
+                        themePrefs.edit().putBoolean(key, Theme.drawerHideBGShadowCheck);
+                        themePrefs.edit().commit();
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(Theme.drawerHideBGShadowCheck);
+                        }
+                    } else if (i == ThemingDrawerActivity.this.centerAvatarRow) {
+                        Theme.drawerCenterAvatarCheck = !Theme.drawerCenterAvatarCheck;
+                        //editor = themePrefs.edit();
+                        themePrefs.edit().putBoolean(key, Theme.drawerCenterAvatarCheck);
+                        themePrefs.edit().commit();
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(Theme.drawerCenterAvatarCheck);
+                        }
+                    } else if (i == ThemingDrawerActivity.this.listColorRow) {
+                        if (ThemingDrawerActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingDrawerActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingDrawerActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingDrawerActivity.this.commitInt("drawerListColor", color);
+                                    ThemingDrawerActivity.this.player = true;
+                                }
+                            }, themePrefs.getInt("drawerListColor", -1), 0, 0, true).show();
+                        } else {
+                            return;
+                        }
+                    } else if (i == ThemingDrawerActivity.this.rowGradientColorRow) {
+                        if (ThemingDrawerActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingDrawerActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingDrawerActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingDrawerActivity.this.commitInt("drawerRowGradientColor", color);
+                                }
+                            }, themePrefs.getInt("drawerRowGradientColor", -1), 0, 0, true).show();
+                        } else {
+                            return;
+                        }
+                    } else if (i == ThemingDrawerActivity.this.rowGradientListCheckRow) {
+                        boolean b = themePrefs.getBoolean("drawerRowGradientListCheck", false);
+                        //editor = themePrefs.edit();
+                        themePrefs.edit().putBoolean("drawerRowGradientListCheck", !b);
+                        themePrefs.edit().commit();
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(!b);
+                        }
+                    } else if (i == ThemingDrawerActivity.this.rowGradientRow) {
+                        Builder builder = new Builder(ThemingDrawerActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("RowGradient", R.string.RowGradient));
+                        ArrayList array = new ArrayList();
+                        array.add(LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled));
+                        array.add(LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom));
+                        array.add(LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight));
+                        array.add(LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR));
+                        array.add(LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR));
+                        String[] simpleArray = new String[array.size()];
+                        array.toArray(new String[array.size()]);
+                        builder.setItems((CharSequence[]) array.toArray(simpleArray), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit().putInt("drawerRowGradient", which).commit();
+                                if (ThemingDrawerActivity.this.listView != null) {
+                                    ThemingDrawerActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                        ThemingDrawerActivity.this.showDialog(builder.create());
+                    } else if (i == ThemingDrawerActivity.this.listDividerColorRow) {
+                        if (ThemingDrawerActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingDrawerActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingDrawerActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingDrawerActivity.this.commitInt("drawerListDividerColor", color);
+                                    ThemingDrawerActivity.this.player = true;
+                                }
+                            }, themePrefs.getInt("drawerListDividerColor", -2500135), 0, 0, true).show();
+                        } else {
+                            return;
+                        }
+                    } else if (i == ThemingDrawerActivity.this.iconColorRow) {
+                        if (ThemingDrawerActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingDrawerActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingDrawerActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.drawerIconColor = color;
+                                    ThemingDrawerActivity.this.commitInt(Theme.pkey_drawerIconColor, color);
+                                    ThemingDrawerActivity.this.player = true;
+                                }
+                            }, themePrefs.getInt(Theme.pkey_drawerIconColor, -9211021), 0, 0, true).show();
+                        } else {
+                            return;
+                        }
+                    } else if (i == ThemingDrawerActivity.this.optionColorRow) {
+                        if (ThemingDrawerActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingDrawerActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingDrawerActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.drawerOptionColor = color;
+                                    ThemingDrawerActivity.this.commitInt(Theme.pkey_drawerOptionColor, color);
+                                    ThemingDrawerActivity.this.player = true;
+                                }
+                            }, themePrefs.getInt(Theme.pkey_drawerOptionColor, -12303292), 0, 0, true).show();
+                        } else {
+                            return;
+                        }
+                    } else if (i == ThemingDrawerActivity.this.versionColorRow) {
+                        if (ThemingDrawerActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingDrawerActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingDrawerActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingDrawerActivity.this.commitInt("drawerVersionColor", color);
+                                }
+                            }, themePrefs.getInt("drawerVersionColor", -6052957), 0, 0, true).show();
+                        } else {
+                            return;
+                        }
+                    } else if (i == ThemingDrawerActivity.this.avatarColorRow) {
+                        if (ThemingDrawerActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingDrawerActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingDrawerActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    ThemingDrawerActivity.this.commitInt("drawerAvatarColor", color);
+                                }
+                            }, themePrefs.getInt("drawerAvatarColor", Theme.darkColor), 0, 0, true).show();
+                        } else {
+                            return;
+                        }
+                    } else if (i == ThemingDrawerActivity.this.nameColorRow) {
+                        if (ThemingDrawerActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingDrawerActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingDrawerActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.drawerNameColor = color;
+                                    ThemingDrawerActivity.this.commitInt(Theme.pkey_drawerNameColor, color);
+                                }
+                            }, themePrefs.getInt(Theme.pkey_drawerNameColor, -1), 0, 0, true).show();
+                        } else {
+                            return;
+                        }
+                    } else if (i == ThemingDrawerActivity.this.phoneColorRow) {
+                        if (ThemingDrawerActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingDrawerActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingDrawerActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.drawerPhoneColor = color;
+                                    ThemingDrawerActivity.this.commitInt(Theme.pkey_drawerPhoneColor, color);
+                                }
+                            }, themePrefs.getInt(Theme.pkey_drawerPhoneColor, AndroidUtilities.getIntDarkerColor(Theme.pkey_themeColor, -64)), 0, 0, true).show();
+                        } else {
+                            return;
+                        }
+                    } else if (i == ThemingDrawerActivity.this.avatarRadiusRow) {
+                        if (ThemingDrawerActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingDrawerActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("AvatarRadius", R.string.AvatarRadius));
+                            r0 = new NumberPicker(ThemingDrawerActivity.this.getParentActivity());
+                            currentValue = themePrefs.getInt("drawerAvatarRadius", 32);
+                            r0.setMinValue(1);
+                            r0.setMaxValue(32);
+                            r0.setValue(currentValue);
+                            builder.setView(r0);
+                          //  r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != currentValue) {
+                                        ThemingDrawerActivity.this.commitInt("drawerAvatarRadius", r0.getValue());
+                                    }
+                                }
+                            });
+                            ThemingDrawerActivity.this.showDialog(builder.create());
+                        } else {
+                            return;
+                        }
+                    } else if (i == ThemingDrawerActivity.this.avatarSizeRow) {
+                        if (ThemingDrawerActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingDrawerActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("AvatarSize", R.string.AvatarSize));
+                            r0 = new NumberPicker(ThemingDrawerActivity.this.getParentActivity());
+                            r0.setMinValue(0);
+                            r0.setMaxValue(75);
+                            r0.setValue(Theme.drawerAvatarSize);
+                            builder.setView(r0);
+                          //  r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != Theme.drawerAvatarSize) {
+                                        Theme.drawerAvatarSize = r0.getValue();
+                                        ThemingDrawerActivity.this.commitInt("drawerAvatarSize", r0.getValue());
+                                    }
+                                }
+                            });
+                            ThemingDrawerActivity.this.showDialog(builder.create());
+                        } else {
+                            return;
+                        }
+                    } else if (i == ThemingDrawerActivity.this.nameSizeRow) {
+                        if (ThemingDrawerActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingDrawerActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("OwnNameSize", R.string.OwnNameSize));
+                            r0 = new NumberPicker(ThemingDrawerActivity.this.getParentActivity());
+                            currentValue = themePrefs.getInt("drawerNameSize", 15);
+                            r0.setMinValue(10);
+                            r0.setMaxValue(20);
+                            r0.setValue(currentValue);
+                            builder.setView(r0);
+                          //  r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != currentValue) {
+                                        ThemingDrawerActivity.this.commitInt("drawerNameSize", r0.getValue());
+                                    }
+                                }
+                            });
+                            ThemingDrawerActivity.this.showDialog(builder.create());
+                        } else {
+                            return;
+                        }
+                    } else if (i == ThemingDrawerActivity.this.phoneSizeRow) {
+                        if (ThemingDrawerActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingDrawerActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("PhoneSize", R.string.StatusSize));
+                            r0 = new NumberPicker(ThemingDrawerActivity.this.getParentActivity());
+                            currentValue = themePrefs.getInt("drawerPhoneSize", 13);
+                            r0.setMinValue(8);
+                            r0.setMaxValue(18);
+                            r0.setValue(currentValue);
+                            builder.setView(r0);
+                          //  r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != currentValue) {
+                                        ThemingDrawerActivity.this.commitInt("drawerPhoneSize", r0.getValue());
+                                    }
+                                }
+                            });
+                            ThemingDrawerActivity.this.showDialog(builder.create());
+                        } else {
+                            return;
+                        }
+                    } else if (i == ThemingDrawerActivity.this.optionSizeRow) {
+                        if (ThemingDrawerActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingDrawerActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("OptionSize", R.string.OptionSize));
+                            r0 = new NumberPicker(ThemingDrawerActivity.this.getParentActivity());
+                            currentValue = themePrefs.getInt("drawerOptionSize", 15);
+                            r0.setMinValue(10);
+                            r0.setMaxValue(20);
+                            r0.setValue(currentValue);
+                            builder.setView(r0);
+                          //  r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != currentValue) {
+                                        ThemingDrawerActivity.this.commitInt("drawerOptionSize", r0.getValue());
+                                    }
+                                }
+                            });
+                            ThemingDrawerActivity.this.showDialog(builder.create());
+                        } else {
+                            return;
+                        }
+                    } else if (i == ThemingDrawerActivity.this.versionSizeRow) {
+                        if (ThemingDrawerActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingDrawerActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("VersionSize", R.string.VersionSize));
+                            r0 = new NumberPicker(ThemingDrawerActivity.this.getParentActivity());
+                            currentValue = themePrefs.getInt("drawerVersionSize", 13);
+                            r0.setMinValue(10);
+                            r0.setMaxValue(20);
+                            r0.setValue(currentValue);
+                            builder.setView(r0);
+                          //  r1 = r0;
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (r0.getValue() != currentValue) {
+                                        ThemingDrawerActivity.this.commitInt("drawerVersionSize", r0.getValue());
+                                    }
+                                }
+                            });
+                            ThemingDrawerActivity.this.showDialog(builder.create());
+                        } else {
+                            return;
+                        }
+                    }
+                    ThemingDrawerActivity.this.drawer = true;
+                }
+            });
+            this.listView.setOnItemLongClickListener(new OnItemLongClickListener() {
+                public boolean onItemLongClick(AdapterView<?> adapterView, View view, int i, long l) {
+                    if (ThemingDrawerActivity.this.getParentActivity() == null) {
+                        return false;
+                    }
+                    if (i == ThemingDrawerActivity.this.headerColorRow) {
+                        ThemingDrawerActivity.this.resetInt("drawerHeaderColor");
+                    } else if (i == ThemingDrawerActivity.this.headerGradientRow) {
+                        ThemingDrawerActivity.this.resetInt("drawerHeaderGradient");
+                    } else if (i == ThemingDrawerActivity.this.headerGradientColorRow) {
+                        ThemingDrawerActivity.this.resetInt("drawerHeaderGradientColor");
+                    } else if (i == ThemingDrawerActivity.this.listColorRow) {
+                        ThemingDrawerActivity.this.resetInt("drawerListColor");
+                        ThemingDrawerActivity.this.player = true;
+                    } else if (i == ThemingDrawerActivity.this.rowGradientColorRow) {
+                        ThemingDrawerActivity.this.resetInt("drawerRowGradientColor");
+                        ThemingDrawerActivity.this.player = true;
+                    } else if (i == ThemingDrawerActivity.this.rowGradientRow) {
+                        ThemingDrawerActivity.this.resetInt("drawerRowGradient");
+                        ThemingDrawerActivity.this.player = true;
+                    } else if (i == ThemingDrawerActivity.this.rowGradientListCheckRow) {
+                        ThemingDrawerActivity.this.resetInt("drawerRowGradientListCheck");
+                        ThemingDrawerActivity.this.player = true;
+                    } else if (i == ThemingDrawerActivity.this.listDividerColorRow) {
+                        ThemingDrawerActivity.this.resetInt("drawerListDividerColor");
+                    } else if (i == ThemingDrawerActivity.this.avatarColorRow) {
+                        ThemingDrawerActivity.this.resetInt("drawerAvatarColor");
+                    } else if (i == ThemingDrawerActivity.this.avatarRadiusRow) {
+                        ThemingDrawerActivity.this.resetInt("drawerAvatarRadius");
+                    } else if (i == ThemingDrawerActivity.this.nameColorRow) {
+                        ThemingDrawerActivity.this.resetInt(Theme.pkey_drawerNameColor);
+                    } else if (i == ThemingDrawerActivity.this.avatarSizeRow) {
+                        ThemingDrawerActivity.this.resetInt("drawerAvatarSize");
+                    } else if (i == ThemingDrawerActivity.this.nameSizeRow) {
+                        ThemingDrawerActivity.this.resetInt("drawerNameSize");
+                    } else if (i == ThemingDrawerActivity.this.phoneColorRow) {
+                        ThemingDrawerActivity.this.resetInt(Theme.pkey_drawerPhoneColor);
+                    } else if (i == ThemingDrawerActivity.this.phoneSizeRow) {
+                        ThemingDrawerActivity.this.resetInt("drawerPhoneSize");
+                    } else if (i == ThemingDrawerActivity.this.iconColorRow) {
+                        ThemingDrawerActivity.this.resetInt(Theme.pkey_drawerIconColor);
+                        ThemingDrawerActivity.this.player = true;
+                    } else if (i == ThemingDrawerActivity.this.optionColorRow) {
+                        ThemingDrawerActivity.this.resetInt(Theme.pkey_drawerOptionColor);
+                        ThemingDrawerActivity.this.player = true;
+                    } else if (i == ThemingDrawerActivity.this.optionSizeRow) {
+                        ThemingDrawerActivity.this.resetInt("drawerOptionSize");
+                    } else if (i == ThemingDrawerActivity.this.versionColorRow) {
+                        ThemingDrawerActivity.this.resetInt("drawerVersionColor");
+                    } else if (i == ThemingDrawerActivity.this.versionSizeRow) {
+                        ThemingDrawerActivity.this.resetInt("drawerVersionSize");
+                    } else if (view.getTag() != null) {
+                        ThemingDrawerActivity.this.resetPref(view.getTag().toString());
+                    }
+                    ThemingDrawerActivity.this.drawer = true;
+                    return true;
+                }
+            });
+            frameLayout.addView(this.actionBar);
+        } else {
+            ViewGroup parent = (ViewGroup) this.fragmentView.getParent();
+            if (parent != null) {
+                parent.removeView(this.fragmentView);
+            }
+        }
+        if (Theme.usePlusTheme) {
+            updateTheme();
+        }
+        return this.fragmentView;
+    }
+
+    private void resetPref(String key) {
+        Editor editor = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
+        editor.remove(key);
+        editor.commit();
+        if (this.listView != null) {
+            this.listView.invalidateViews();
+        }
+        refreshTheme();
+    }
+
+    private void resetInt(String key) {
+        Editor editor = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
+        editor.remove(key);
+        editor.commit();
+        if (this.listView != null) {
+            this.listView.invalidateViews();
+        }
+    }
+
+    private void commitInt(String key, int value) {
+        Editor editor = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
+        editor.putInt(key, value);
+        editor.commit();
+        if (this.listView != null) {
+            this.listView.invalidateViews();
+        }
+        refreshTheme();
+    }
+
+    private void refreshTheme() {
+        Theme.applyPlusTheme();
+        if (this.parentLayout != null) {
+            this.parentLayout.rebuildAllFragmentViews(false);
+        }
+    }
+
+    public void onResume() {
+        super.onResume();
+        if (this.listAdapter != null) {
+            this.listAdapter.notifyDataSetChanged();
+        }
+        fixLayout();
+    }
+
+    private void updateTheme() {
+        this.actionBar.setBackgroundColor(Theme.prefActionbarColor);
+        this.actionBar.setTitleColor(Theme.prefActionbarTitleColor);
+        Drawable back = getParentActivity().getResources().getDrawable(R.drawable.ic_ab_back);
+        back.setColorFilter(Theme.prefActionbarIconsColor, Mode.MULTIPLY);
+        this.actionBar.setBackButtonDrawable(back);
+    }
+
+    public void onConfigurationChanged(Configuration newConfig) {
+        super.onConfigurationChanged(newConfig);
+        fixLayout();
+    }
+
+    private void fixLayout() {
+        if (this.fragmentView != null) {
+            this.fragmentView.getViewTreeObserver().addOnPreDrawListener(new OnPreDrawListener() {
+                public boolean onPreDraw() {
+                    if (ThemingDrawerActivity.this.fragmentView != null) {
+                        ThemingDrawerActivity.this.fragmentView.getViewTreeObserver().removeOnPreDrawListener(this);
+                    }
+                    return false;
+                }
+            });
+        }
+    }
+}
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ThemingProfileActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ThemingProfileActivity.java
new file mode 100644
index 000000000..5981873a2
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ThemingProfileActivity.java
@@ -0,0 +1,743 @@
+package org.telegram.ui;
+
+import android.app.AlertDialog.Builder;
+import android.content.Context;
+import android.content.DialogInterface;
+import android.content.SharedPreferences.Editor;
+import android.content.res.Configuration;
+import android.graphics.PorterDuff.Mode;
+import android.graphics.drawable.Drawable;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.View.OnClickListener;
+import android.view.ViewGroup;
+import android.view.ViewTreeObserver.OnPreDrawListener;
+import android.widget.AdapterView;
+import android.widget.AdapterView.OnItemClickListener;
+import android.widget.AdapterView.OnItemLongClickListener;
+import android.widget.BaseAdapter;
+import android.widget.FrameLayout;
+import android.widget.FrameLayout.LayoutParams;
+import android.widget.ListView;
+
+import org.telegram.messenger.AndroidUtilities;
+import org.telegram.messenger.ApplicationLoader;
+import org.telegram.messenger.LocaleController;
+import org.telegram.messenger.R;
+import org.telegram.ui.ActionBar.ActionBar.ActionBarMenuOnItemClick;
+import org.telegram.ui.ActionBar.BaseFragment;
+import org.telegram.ui.ActionBar.Theme;
+import org.telegram.ui.Cells.HeaderCell;
+import org.telegram.ui.Cells.ShadowSectionCell;
+import org.telegram.ui.Cells.TextCheckCell;
+import org.telegram.ui.Cells.TextColorCell;
+import org.telegram.ui.Cells.TextDetailSettingsCell;
+import org.telegram.ui.Cells.TextSettingsCell;
+import org.telegram.ui.Components.ColorSelectorDialog;
+import org.telegram.ui.Components.ColorSelectorDialog.OnColorChangedListener;
+import org.telegram.ui.Components.NumberPicker;
+
+import java.util.ArrayList;
+
+public class ThemingProfileActivity extends BaseFragment {
+    public static final int CENTER = 0;
+    private int adminStarColorRow;
+    private int avatarRadiusRow;
+    private int creatorStarColorRow;
+    private int headerAvatarRadiusRow;
+    private int headerColorRow;
+    private int headerGradientColorRow;
+    private int headerGradientRow;
+    private int headerIconsColorRow;
+    private int headerSection2Row;
+    private int iconsColorRow;
+    private ListAdapter listAdapter;
+    private ListView listView;
+    private int nameColorRow;
+    private int nameSizeRow;
+    private int onlineColorRow;
+    private int rowColorRow;
+    private int rowCount;
+    private int rowGradientColorRow;
+    private int rowGradientListCheckRow;
+    private int rowGradientRow;
+    private int rowsSection2Row;
+    private int rowsSectionRow;
+    private boolean showPrefix;
+    private int statusColorRow;
+    private int statusSizeRow;
+    private int summaryColorRow;
+    private int titleColorRow;
+    NumberPicker numberPicker;
+    private class ListAdapter extends BaseAdapter {
+        private Context mContext;
+
+        public ListAdapter(Context context) {
+            this.mContext = context;
+        }
+
+        public boolean areAllItemsEnabled() {
+            return false;
+        }
+
+        public boolean isEnabled(int i) {
+            return i == ThemingProfileActivity.this.headerColorRow || i == ThemingProfileActivity.this.headerGradientRow || ((Theme.profileActionbarGradientList > 0 && i == ThemingProfileActivity.this.headerGradientColorRow) || i == ThemingProfileActivity.this.headerIconsColorRow || i == ThemingProfileActivity.this.iconsColorRow || i == ThemingProfileActivity.this.nameColorRow || i == ThemingProfileActivity.this.nameSizeRow || i == ThemingProfileActivity.this.statusColorRow || i == ThemingProfileActivity.this.statusSizeRow || i == ThemingProfileActivity.this.rowColorRow || i == ThemingProfileActivity.this.rowGradientRow || ((Theme.profileRowGradientList != 0 && i == ThemingProfileActivity.this.rowGradientColorRow) || ((Theme.profileRowGradientList != 0 && i == ThemingProfileActivity.this.rowGradientListCheckRow) || i == ThemingProfileActivity.this.titleColorRow || i == ThemingProfileActivity.this.summaryColorRow || i == ThemingProfileActivity.this.onlineColorRow || i == ThemingProfileActivity.this.headerAvatarRadiusRow || i == ThemingProfileActivity.this.avatarRadiusRow || i == ThemingProfileActivity.this.creatorStarColorRow || i == ThemingProfileActivity.this.adminStarColorRow)));
+        }
+
+        public int getCount() {
+            return ThemingProfileActivity.this.rowCount;
+        }
+
+        public Object getItem(int i) {
+            return null;
+        }
+
+        public long getItemId(int i) {
+            return (long) i;
+        }
+
+        public boolean hasStableIds() {
+            return false;
+        }
+
+        public View getView(int i, View view, ViewGroup viewGroup) {
+            int i2 = 0;
+            int type = getItemViewType(i);
+            String prefix = "";
+            if (ThemingProfileActivity.this.showPrefix) {
+                prefix = "5.";
+                if (i == ThemingProfileActivity.this.headerSection2Row) {
+                    prefix = prefix + "1 ";
+                } else if (i == ThemingProfileActivity.this.rowsSection2Row) {
+                    prefix = prefix + "2 ";
+                } else if (i < ThemingProfileActivity.this.rowsSection2Row) {
+                    prefix = prefix + "1." + i + " ";
+                } else {
+                    prefix = prefix + "2." + (i - ThemingProfileActivity.this.rowsSection2Row) + " ";
+                }
+            }
+            if (type == 0) {
+                if (view == null) {
+                    view = new ShadowSectionCell(this.mContext);
+                }
+            } else if (type == 1) {
+                if (view == null) {
+                    view = new HeaderCell(this.mContext);
+                    view.setBackgroundColor(-1);
+                }
+                if (i == ThemingProfileActivity.this.headerSection2Row) {
+                    ((HeaderCell) view).setText(prefix + LocaleController.getString("Header", R.string.Header));
+                } else if (i == ThemingProfileActivity.this.rowsSection2Row) {
+                    ((HeaderCell) view).setText(prefix + LocaleController.getString("OptionsList", R.string.OptionsList));
+                }
+            } else if (type == 2) {
+                if (view == null) {
+                    view = new TextSettingsCell(this.mContext);
+                }
+                TextSettingsCell textCell = (TextSettingsCell) view;
+                if (i == ThemingProfileActivity.this.nameSizeRow) {
+                    textCell.setTag("profileNameSize");
+                    textCell.setTextAndValue(prefix + LocaleController.getString("NameSize", R.string.NameSize), String.format("%d", new Object[]{Integer.valueOf(Theme.profileActionbarNameSize)}), true);
+                } else if (i == ThemingProfileActivity.this.statusSizeRow) {
+                    textCell.setTag("profileStatusSize");
+                    textCell.setTextAndValue(prefix + LocaleController.getString("StatusSize", R.string.StatusSize), String.format("%d", new Object[]{Integer.valueOf(Theme.profileActionbarStatusSize)}), true);
+                } else if (i == ThemingProfileActivity.this.headerAvatarRadiusRow) {
+                    textCell.setTag("profileAvatarRadius");
+                    textCell.setTextAndValue(prefix + LocaleController.getString("AvatarRadius", R.string.AvatarRadius), String.format("%d", new Object[]{Integer.valueOf(Theme.profileActionbarAvatarRadius)}), true);
+                } else if (i == ThemingProfileActivity.this.avatarRadiusRow) {
+                    textCell.setTag("profileRowAvatarRadius");
+                    textCell.setTextAndValue(prefix + LocaleController.getString("AvatarRadius", R.string.AvatarRadius), String.format("%d", new Object[]{Integer.valueOf(Theme.profileRowAvatarRadius)}), true);
+                }
+            } else if (type == 3) {
+                if (view == null) {
+                    view = new TextColorCell(this.mContext);
+                }
+                TextColorCell textCell2 = (TextColorCell) view;
+                if (i == ThemingProfileActivity.this.headerColorRow) {
+                    textCell2.setTag("profileHeaderColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("HeaderColor", R.string.HeaderColor), Theme.profileActionbarColor, false);
+                } else if (i == ThemingProfileActivity.this.headerGradientColorRow) {
+                    textCell2.setTag("profileHeaderGradientColor");
+                    String r4 = prefix + LocaleController.getString("RowGradientColor", R.string.RowGradientColor);
+                    if (Theme.profileActionbarGradientList != 0) {
+                        i2 = Theme.profileActionbarGradientColor;
+                    }
+                    textCell2.setTextAndColor(r4, i2, true);
+                } else if (i == ThemingProfileActivity.this.headerIconsColorRow) {
+                    textCell2.setTag("profileHeaderIconsColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("HeaderIconsColor", R.string.HeaderIconsColor), Theme.profileActionbarIconsColor, true);
+                } else if (i == ThemingProfileActivity.this.iconsColorRow) {
+                    textCell2.setTag("profileIconsColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("IconsColor", R.string.IconsColor), Theme.profileRowIconsColor, true);
+                } else if (i == ThemingProfileActivity.this.creatorStarColorRow) {
+                    textCell2.setTag("profileCreatorStarColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("CreatorStarColor", R.string.CreatorStarColor), Theme.profileRowCreatorStarColor, true);
+                } else if (i == ThemingProfileActivity.this.adminStarColorRow) {
+                    textCell2.setTag("profileAdminStarColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("AdminStarColor", R.string.AdminStarColor), Theme.profileRowAdminStarColor, false);
+                } else if (i == ThemingProfileActivity.this.nameColorRow) {
+                    textCell2.setTag("profileNameColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("NameColor", R.string.NameColor), Theme.profileActionbarNameColor, true);
+                } else if (i == ThemingProfileActivity.this.statusColorRow) {
+                    textCell2.setTag("profileStatusColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("StatusColor", R.string.StatusColor), Theme.profileActionbarStatusColor, false);
+                } else if (i == ThemingProfileActivity.this.rowColorRow) {
+                    textCell2.setTag("profileRowColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("RowColor", R.string.RowColor), Theme.profileRowColor, false);
+                } else if (i == ThemingProfileActivity.this.rowGradientColorRow) {
+                    textCell2.setTag("profileRowGradientColor");
+                    String r4 = prefix + LocaleController.getString("RowGradientColor", R.string.RowGradientColor);
+                    if (Theme.profileRowGradientList != 0) {
+                        i2 = Theme.profileRowGradientColor;
+                    }
+                    textCell2.setTextAndColor(r4, i2, true);
+                } else if (i == ThemingProfileActivity.this.titleColorRow) {
+                    textCell2.setTag("profileTitleColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("NameColor", R.string.NameColor), Theme.profileRowTitleColor, true);
+                } else if (i == ThemingProfileActivity.this.summaryColorRow) {
+                    textCell2.setTag("profileSummaryColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("StatusColor", R.string.StatusColor), Theme.profileRowStatusColor, true);
+                } else if (i == ThemingProfileActivity.this.onlineColorRow) {
+                    textCell2.setTag("profileOnlineColor");
+                    textCell2.setTextAndColor(prefix + LocaleController.getString("OnlineColor", R.string.OnlineColor), Theme.profileRowOnlineColor, true);
+                }
+            } else if (type == 4) {
+                if (view == null) {
+                    view = new TextCheckCell(this.mContext);
+                }
+            } else if (type == 5) {
+                if (view == null) {
+                    view = new TextDetailSettingsCell(this.mContext);
+                }
+                TextDetailSettingsCell textCell3 = (TextDetailSettingsCell) view;
+                if (i == ThemingProfileActivity.this.headerGradientRow) {
+                    textCell3.setTag("profileHeaderGradient");
+                    textCell3.setMultilineDetail(false);
+                    if (Theme.profileActionbarGradientList == 0) {
+                        textCell3.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled), false);
+                    } else if (Theme.profileActionbarGradientList == 1) {
+                        textCell3.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom), false);
+                    } else if (Theme.profileActionbarGradientList == 2) {
+                        textCell3.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight), false);
+                    } else if (Theme.profileActionbarGradientList == 3) {
+                        textCell3.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR), false);
+                    } else if (Theme.profileActionbarGradientList == 4) {
+                        textCell3.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR), false);
+                    }
+                } else if (i == ThemingProfileActivity.this.rowGradientRow) {
+                    textCell3.setTag("profileRowGradient");
+                    textCell3.setMultilineDetail(false);
+                    if (Theme.profileRowGradientList == 0) {
+                        textCell3.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled), false);
+                    } else if (Theme.profileRowGradientList == 1) {
+                        textCell3.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom), false);
+                    } else if (Theme.profileRowGradientList == 2) {
+                        textCell3.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight), false);
+                    } else if (Theme.profileRowGradientList == 3) {
+                        textCell3.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR), false);
+                    } else if (Theme.profileRowGradientList == 4) {
+                        textCell3.setTextAndValue(prefix + LocaleController.getString("RowGradient", R.string.RowGradient), LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR), false);
+                    }
+                }
+            }
+            if (view != null) {
+                view.setBackgroundColor(Theme.usePlusTheme ? Theme.prefBGColor : Theme.getColor(Theme.key_windowBackgroundWhite));
+            }
+            return view;
+        }
+
+        public int getItemViewType(int i) {
+            if (i == ThemingProfileActivity.this.rowsSectionRow) {
+                return 0;
+            }
+            if (i == ThemingProfileActivity.this.headerSection2Row || i == ThemingProfileActivity.this.rowsSection2Row) {
+                return 1;
+            }
+            if (i == ThemingProfileActivity.this.nameSizeRow || i == ThemingProfileActivity.this.statusSizeRow || i == ThemingProfileActivity.this.headerAvatarRadiusRow || i == ThemingProfileActivity.this.avatarRadiusRow) {
+                return 2;
+            }
+            if (i == ThemingProfileActivity.this.headerColorRow || i == ThemingProfileActivity.this.headerGradientColorRow || i == ThemingProfileActivity.this.headerIconsColorRow || i == ThemingProfileActivity.this.iconsColorRow || i == ThemingProfileActivity.this.nameColorRow || i == ThemingProfileActivity.this.statusColorRow || i == ThemingProfileActivity.this.rowColorRow || i == ThemingProfileActivity.this.rowGradientColorRow || i == ThemingProfileActivity.this.titleColorRow || i == ThemingProfileActivity.this.summaryColorRow || i == ThemingProfileActivity.this.onlineColorRow || i == ThemingProfileActivity.this.creatorStarColorRow || i == ThemingProfileActivity.this.adminStarColorRow) {
+                return 3;
+            }
+            if (i == ThemingProfileActivity.this.rowGradientListCheckRow) {
+                return 4;
+            }
+            if (i == ThemingProfileActivity.this.headerGradientRow || i == ThemingProfileActivity.this.rowGradientRow) {
+                return 5;
+            }
+            return 2;
+        }
+
+        public int getViewTypeCount() {
+            return 6;
+        }
+
+        public boolean isEmpty() {
+            return false;
+        }
+    }
+
+    public boolean onFragmentCreate() {
+        super.onFragmentCreate();
+        this.rowCount = 0;
+        int i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerSection2Row = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerGradientRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerGradientColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerIconsColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerAvatarRadiusRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.nameSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.nameColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.statusSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.statusColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowsSectionRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowsSection2Row = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowGradientRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowGradientColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.avatarRadiusRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.titleColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.summaryColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.onlineColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.iconsColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.creatorStarColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.adminStarColorRow = i;
+        this.showPrefix = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).getBoolean("profileShowPrefix", true);
+        return true;
+    }
+
+    public void onFragmentDestroy() {
+        super.onFragmentDestroy();
+    }
+
+    public View createView(Context context) {
+        if (this.fragmentView == null) {
+            this.actionBar.setBackButtonImage(R.drawable.ic_ab_back);
+            if (AndroidUtilities.isTablet()) {
+                this.actionBar.setOccupyStatusBar(false);
+            }
+            this.actionBar.setTitle(LocaleController.getString("ProfileScreen", R.string.ProfileScreen));
+            this.actionBar.setActionBarMenuOnItemClick(new ActionBarMenuOnItemClick() {
+                public void onItemClick(int id) {
+                    if (id == -1) {
+                        ThemingProfileActivity.this.finishFragment();
+                    }
+                }
+            });
+            this.actionBar.setOnClickListener(new OnClickListener() {
+                public void onClick(View v) {
+                    boolean z;
+                    ThemingProfileActivity themingProfileActivity = ThemingProfileActivity.this;
+                    if (ThemingProfileActivity.this.showPrefix) {
+                        z = false;
+                    } else {
+                        z = true;
+                    }
+                    themingProfileActivity.showPrefix = z;
+                    ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit().putBoolean("profileShowPrefix", ThemingProfileActivity.this.showPrefix).apply();
+                    if (ThemingProfileActivity.this.listAdapter != null) {
+                        ThemingProfileActivity.this.listAdapter.notifyDataSetChanged();
+                    }
+                }
+            });
+            this.listAdapter = new ListAdapter(context);
+            this.fragmentView = new FrameLayout(context);
+            FrameLayout frameLayout = (FrameLayout) this.fragmentView;
+            this.listView = new ListView(context);
+            if (Theme.usePlusTheme) {
+                this.listView.setBackgroundColor(Theme.prefBGColor);
+            }
+            this.listView.setDivider(null);
+            this.listView.setDividerHeight(0);
+            this.listView.setVerticalScrollBarEnabled(false);
+            AndroidUtilities.setListViewEdgeEffectColor(this.listView, Theme.prefActionbarColor);
+            frameLayout.addView(this.listView);
+            LayoutParams layoutParams = (LayoutParams) this.listView.getLayoutParams();
+            layoutParams.width = -1;
+            layoutParams.height = -1;
+            layoutParams.gravity = 48;
+            this.listView.setLayoutParams(layoutParams);
+            this.listView.setAdapter(this.listAdapter);
+            this.listView.setOnItemClickListener(new OnItemClickListener() {
+                public void onItemClick(AdapterView<?> adapterView, View view, int i, long l) {
+                    final String key = view.getTag() != null ? view.getTag().toString() : "";
+                    if (i == ThemingProfileActivity.this.headerColorRow) {
+                        if (ThemingProfileActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingProfileActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingProfileActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.profileActionbarColor = color;
+                                    ThemingProfileActivity.this.commitInt(key, color);
+                                }
+                            }, Theme.profileActionbarColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingProfileActivity.this.headerGradientRow) {
+                        Builder builder = new Builder(ThemingProfileActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("RowGradient", R.string.RowGradient));
+                        ArrayList array = new ArrayList();
+                        array.add(LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled));
+                        array.add(LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom));
+                        array.add(LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight));
+                        array.add(LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR));
+                        array.add(LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR));
+                        String[] simpleArray = new String[array.size()];
+                        array.toArray(new String[array.size()]);
+                        builder.setItems((CharSequence[]) array.toArray(simpleArray), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                ThemingProfileActivity.this.commitInt("profileHeaderGradient", which);
+                                Theme.profileActionbarGradientList = which;
+                                if (ThemingProfileActivity.this.listView != null) {
+                                    ThemingProfileActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                        ThemingProfileActivity.this.showDialog(builder.create());
+                    } else if (i == ThemingProfileActivity.this.rowGradientRow) {
+                        Builder builder = new Builder(ThemingProfileActivity.this.getParentActivity());
+                        builder.setTitle(LocaleController.getString("RowGradient", R.string.RowGradient));
+                        ArrayList array = new ArrayList();
+                        array.add(LocaleController.getString("RowGradientDisabled", R.string.RowGradientDisabled));
+                        array.add(LocaleController.getString("RowGradientTopBottom", R.string.RowGradientTopBottom));
+                        array.add(LocaleController.getString("RowGradientLeftRight", R.string.RowGradientLeftRight));
+                        array.add(LocaleController.getString("RowGradientTLBR", R.string.RowGradientTLBR));
+                        array.add(LocaleController.getString("RowGradientBLTR", R.string.RowGradientBLTR));
+                        String[] simpleArray = new String[array.size()];
+                        array.toArray(new String[array.size()]);
+                        builder.setItems((CharSequence[]) array.toArray(simpleArray), new DialogInterface.OnClickListener() {
+                            public void onClick(DialogInterface dialog, int which) {
+                                ThemingProfileActivity.this.commitInt("profileRowGradient", which);
+                                Theme.profileRowGradientList = which;
+                                if (ThemingProfileActivity.this.listView != null) {
+                                    ThemingProfileActivity.this.listView.invalidateViews();
+                                }
+                            }
+                        });
+                        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                        ThemingProfileActivity.this.showDialog(builder.create());
+                    } else if (i == ThemingProfileActivity.this.headerGradientColorRow) {
+                        if (ThemingProfileActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingProfileActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingProfileActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.profileActionbarGradientColor = color;
+                                    ThemingProfileActivity.this.commitInt(key, color);
+                                }
+                            }, Theme.profileActionbarGradientColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingProfileActivity.this.headerIconsColorRow) {
+                        if (ThemingProfileActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingProfileActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingProfileActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.profileActionbarIconsColor = color;
+                                    ThemingProfileActivity.this.commitInt(key, color);
+                                }
+                            }, Theme.profileActionbarIconsColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingProfileActivity.this.iconsColorRow) {
+                        if (ThemingProfileActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingProfileActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingProfileActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.profileRowIconsColor = color;
+                                    ThemingProfileActivity.this.commitInt(key, color);
+                                }
+                            }, Theme.profileRowIconsColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingProfileActivity.this.creatorStarColorRow) {
+                        if (ThemingProfileActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingProfileActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingProfileActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.profileRowCreatorStarColor = color;
+                                    ThemingProfileActivity.this.commitInt(key, color);
+                                }
+                            }, Theme.profileRowCreatorStarColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingProfileActivity.this.adminStarColorRow) {
+                        if (ThemingProfileActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingProfileActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingProfileActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.profileRowAdminStarColor = color;
+                                    ThemingProfileActivity.this.commitInt(key, color);
+                                }
+                            }, Theme.profileRowAdminStarColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingProfileActivity.this.nameColorRow) {
+                        if (ThemingProfileActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingProfileActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingProfileActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.profileActionbarNameColor = color;
+                                    ThemingProfileActivity.this.commitInt(key, color);
+                                }
+                            }, Theme.profileActionbarNameColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingProfileActivity.this.statusColorRow) {
+                        if (ThemingProfileActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingProfileActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingProfileActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.profileActionbarStatusColor = color;
+                                    ThemingProfileActivity.this.commitInt(key, color);
+                                }
+                            }, Theme.profileActionbarStatusColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingProfileActivity.this.nameSizeRow) {
+                        if (ThemingProfileActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingProfileActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("NameSize", R.string.NameSize));
+                            numberPicker = new NumberPicker(ThemingProfileActivity.this.getParentActivity());
+                            numberPicker.setMinValue(12);
+                            numberPicker.setMaxValue(30);
+                            numberPicker.setValue(Theme.profileActionbarNameSize);
+                            builder.setView(numberPicker);
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (numberPicker.getValue() != Theme.profileActionbarNameSize) {
+                                        Theme.profileActionbarNameSize = numberPicker.getValue();
+                                        ThemingProfileActivity.this.commitInt(key, numberPicker.getValue());
+                                    }
+                                }
+                            });
+                            ThemingProfileActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingProfileActivity.this.statusSizeRow) {
+                        if (ThemingProfileActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingProfileActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("StatusSize", R.string.StatusSize));
+                            numberPicker = new NumberPicker(ThemingProfileActivity.this.getParentActivity());
+                            numberPicker.setMinValue(8);
+                            numberPicker.setMaxValue(22);
+                            numberPicker.setValue(Theme.profileActionbarStatusSize);
+                            builder.setView(numberPicker);
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (numberPicker.getValue() != Theme.profileActionbarStatusSize) {
+                                        Theme.profileActionbarStatusSize = numberPicker.getValue();
+                                        ThemingProfileActivity.this.commitInt(key, numberPicker.getValue());
+                                    }
+                                }
+                            });
+                            ThemingProfileActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingProfileActivity.this.rowColorRow) {
+                        if (ThemingProfileActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingProfileActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingProfileActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.profileRowColor = color;
+                                    ThemingProfileActivity.this.commitInt(key, color);
+                                }
+                            }, Theme.profileRowColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingProfileActivity.this.rowGradientColorRow) {
+                        if (ThemingProfileActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingProfileActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingProfileActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.profileRowGradientColor = color;
+                                    ThemingProfileActivity.this.commitInt(key, color);
+                                }
+                            }, Theme.profileRowGradientColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingProfileActivity.this.headerAvatarRadiusRow) {
+                        if (ThemingProfileActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingProfileActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("AvatarRadius", R.string.AvatarRadius));
+                            numberPicker = new NumberPicker(ThemingProfileActivity.this.getParentActivity());
+                            numberPicker.setMinValue(1);
+                            numberPicker.setMaxValue(32);
+                            numberPicker.setValue(Theme.profileActionbarAvatarRadius);
+                            builder.setView(numberPicker);
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (numberPicker.getValue() != Theme.profileActionbarAvatarRadius) {
+                                        Theme.profileActionbarAvatarRadius = numberPicker.getValue();
+                                        ThemingProfileActivity.this.commitInt("profileAvatarRadius", numberPicker.getValue());
+                                    }
+                                }
+                            });
+                            ThemingProfileActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingProfileActivity.this.avatarRadiusRow) {
+                        if (ThemingProfileActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingProfileActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("AvatarRadius", R.string.AvatarRadius));
+                            numberPicker = new NumberPicker(ThemingProfileActivity.this.getParentActivity());
+                            numberPicker.setMinValue(1);
+                            numberPicker.setMaxValue(32);
+                            numberPicker.setValue(Theme.profileRowAvatarRadius);
+                            builder.setView(numberPicker);
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (numberPicker.getValue() != Theme.profileRowAvatarRadius) {
+                                        Theme.profileRowAvatarRadius = numberPicker.getValue();
+                                        ThemingProfileActivity.this.commitInt("profileRowAvatarRadius", numberPicker.getValue());
+                                    }
+                                }
+                            });
+                            ThemingProfileActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingProfileActivity.this.titleColorRow) {
+                        if (ThemingProfileActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingProfileActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingProfileActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.profileRowTitleColor = color;
+                                    ThemingProfileActivity.this.commitInt(key, color);
+                                }
+                            }, Theme.profileRowTitleColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingProfileActivity.this.summaryColorRow) {
+                        if (ThemingProfileActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingProfileActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingProfileActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.profileRowStatusColor = color;
+                                    ThemingProfileActivity.this.commitInt(key, color);
+                                }
+                            }, Theme.profileRowStatusColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingProfileActivity.this.onlineColorRow && ThemingProfileActivity.this.getParentActivity() != null) {
+                        ((LayoutInflater) ThemingProfileActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                        new ColorSelectorDialog(ThemingProfileActivity.this.getParentActivity(), new OnColorChangedListener() {
+                            public void colorChanged(int color) {
+                                Theme.profileRowOnlineColor = color;
+                                ThemingProfileActivity.this.commitInt(key, color);
+                            }
+                        }, Theme.profileRowOnlineColor, 0, 0, false).show();
+                    }
+                }
+            });
+            this.listView.setOnItemLongClickListener(new OnItemLongClickListener() {
+                public boolean onItemLongClick(AdapterView<?> adapterView, View view, int i, long l) {
+                    if (ThemingProfileActivity.this.getParentActivity() == null) {
+                        return false;
+                    }
+                    if (view.getTag() != null) {
+                        ThemingProfileActivity.this.resetPref(view.getTag().toString());
+                    }
+                    return true;
+                }
+            });
+            frameLayout.addView(this.actionBar);
+        } else {
+            ViewGroup parent = (ViewGroup) this.fragmentView.getParent();
+            if (parent != null) {
+                parent.removeView(this.fragmentView);
+            }
+        }
+        if (Theme.usePlusTheme) {
+            updateTheme();
+        }
+        return this.fragmentView;
+    }
+
+    private void resetPref(String key) {
+        Editor editor = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
+        editor.remove(key);
+        editor.commit();
+        if (this.listView != null) {
+            this.listView.invalidateViews();
+        }
+        refreshTheme();
+    }
+
+    private void commitInt(String key, int value) {
+        Editor editor = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
+        editor.putInt(key, value);
+        editor.commit();
+        if (this.listView != null) {
+            this.listView.invalidateViews();
+        }
+        refreshTheme();
+    }
+
+    private void refreshTheme() {
+        Theme.applyPlusTheme();
+        if (this.parentLayout != null) {
+            this.parentLayout.rebuildAllFragmentViews(false);
+        }
+    }
+
+    public void onResume() {
+        super.onResume();
+        if (this.listAdapter != null) {
+            this.listAdapter.notifyDataSetChanged();
+        }
+        fixLayout();
+    }
+
+    private void updateTheme() {
+        this.actionBar.setBackgroundColor(Theme.prefActionbarColor);
+        this.actionBar.setTitleColor(Theme.prefActionbarTitleColor);
+        Drawable back = getParentActivity().getResources().getDrawable(R.drawable.ic_ab_back);
+        back.setColorFilter(Theme.prefActionbarIconsColor, Mode.MULTIPLY);
+        this.actionBar.setBackButtonDrawable(back);
+    }
+
+    public void onConfigurationChanged(Configuration newConfig) {
+        super.onConfigurationChanged(newConfig);
+        fixLayout();
+    }
+
+    private void fixLayout() {
+        if (this.fragmentView != null) {
+            this.fragmentView.getViewTreeObserver().addOnPreDrawListener(new OnPreDrawListener() {
+                public boolean onPreDraw() {
+                    if (ThemingProfileActivity.this.fragmentView != null) {
+                        ThemingProfileActivity.this.fragmentView.getViewTreeObserver().removeOnPreDrawListener(this);
+                    }
+                    return false;
+                }
+            });
+        }
+    }
+}
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ThemingSettingsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ThemingSettingsActivity.java
new file mode 100644
index 000000000..80d8d50bb
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ThemingSettingsActivity.java
@@ -0,0 +1,579 @@
+package org.telegram.ui;
+
+import android.app.AlertDialog.Builder;
+import android.content.Context;
+import android.content.DialogInterface;
+import android.content.SharedPreferences;
+import android.content.SharedPreferences.Editor;
+import android.content.res.Configuration;
+import android.graphics.PorterDuff.Mode;
+import android.graphics.drawable.Drawable;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.View.OnClickListener;
+import android.view.ViewGroup;
+import android.view.ViewTreeObserver.OnPreDrawListener;
+import android.widget.AdapterView;
+import android.widget.AdapterView.OnItemClickListener;
+import android.widget.AdapterView.OnItemLongClickListener;
+import android.widget.BaseAdapter;
+import android.widget.FrameLayout;
+import android.widget.FrameLayout.LayoutParams;
+import android.widget.ListView;
+import org.telegram.messenger.AndroidUtilities;
+import org.telegram.messenger.ApplicationLoader;
+import org.telegram.messenger.LocaleController;
+import org.telegram.messenger.R;
+import org.telegram.ui.ActionBar.ActionBar.ActionBarMenuOnItemClick;
+import org.telegram.ui.ActionBar.BaseFragment;
+import org.telegram.ui.ActionBar.Theme;
+import org.telegram.ui.Cells.HeaderCell;
+import org.telegram.ui.Cells.ShadowSectionCell;
+import org.telegram.ui.Cells.TextColorCell;
+import org.telegram.ui.Cells.TextSettingsCell;
+import org.telegram.ui.Components.ColorSelectorDialog;
+import org.telegram.ui.Components.ColorSelectorDialog.OnColorChangedListener;
+import org.telegram.ui.Components.NumberPicker;
+
+public class ThemingSettingsActivity extends BaseFragment {
+    public static final int CENTER = 0;
+    private int avatarColorRow;
+    private int avatarRadiusRow;
+    private int avatarSizeRow;
+    private int backgroundColorRow;
+    private int dividerColorRow;
+    private int headerColorRow;
+    private int headerIconsColorRow;
+    private int headerSection2Row;
+    private int headerStatusColorRow;
+    private int headerTitleColorRow;
+    private ListAdapter listAdapter;
+    private ListView listView;
+    private int rowCount;
+    private int rowsSection2Row;
+    private int rowsSectionRow;
+    private int sectionColorRow;
+    private int shadowColorRow;
+    private boolean showPrefix;
+    private int summaryColorRow;
+    private int titleColorRow;
+    NumberPicker numberPicker;
+
+    private class ListAdapter extends BaseAdapter {
+        private Context mContext;
+
+        public ListAdapter(Context context) {
+            this.mContext = context;
+        }
+
+        public boolean areAllItemsEnabled() {
+            return false;
+        }
+
+        public boolean isEnabled(int i) {
+            return i == ThemingSettingsActivity.this.headerColorRow || i == ThemingSettingsActivity.this.headerTitleColorRow || i == ThemingSettingsActivity.this.headerStatusColorRow || i == ThemingSettingsActivity.this.headerIconsColorRow || i == ThemingSettingsActivity.this.avatarColorRow || i == ThemingSettingsActivity.this.avatarRadiusRow || i == ThemingSettingsActivity.this.avatarSizeRow || i == ThemingSettingsActivity.this.backgroundColorRow || i == ThemingSettingsActivity.this.shadowColorRow || i == ThemingSettingsActivity.this.sectionColorRow || i == ThemingSettingsActivity.this.titleColorRow || i == ThemingSettingsActivity.this.summaryColorRow || i == ThemingSettingsActivity.this.dividerColorRow;
+        }
+
+        public int getCount() {
+            return ThemingSettingsActivity.this.rowCount;
+        }
+
+        public Object getItem(int i) {
+            return null;
+        }
+
+        public long getItemId(int i) {
+            return (long) i;
+        }
+
+        public boolean hasStableIds() {
+            return false;
+        }
+
+        public View getView(int i, View view, ViewGroup viewGroup) {
+            int type = getItemViewType(i);
+            String prefix = "";
+            if (ThemingSettingsActivity.this.showPrefix) {
+                prefix = "6.";
+                if (i == ThemingSettingsActivity.this.headerSection2Row) {
+                    prefix = prefix + "1 ";
+                } else if (i == ThemingSettingsActivity.this.rowsSection2Row) {
+                    prefix = prefix + "2 ";
+                } else if (i < ThemingSettingsActivity.this.rowsSection2Row) {
+                    prefix = prefix + "1." + i + " ";
+                } else {
+                    prefix = prefix + "2." + (i - ThemingSettingsActivity.this.rowsSection2Row) + " ";
+                }
+            }
+            if (type == 0) {
+                if (view == null) {
+                    view = new ShadowSectionCell(this.mContext);
+                }
+            } else if (type == 1) {
+                if (view == null) {
+                    view = new HeaderCell(this.mContext);
+                    view.setBackgroundColor(-1);
+                }
+                if (i == ThemingSettingsActivity.this.headerSection2Row) {
+                    ((HeaderCell) view).setText(prefix + LocaleController.getString("Header", R.string.Header));
+                } else if (i == ThemingSettingsActivity.this.rowsSection2Row) {
+                    ((HeaderCell) view).setText(prefix + LocaleController.getString("OptionsList", R.string.OptionsList));
+                }
+            } else if (type == 2) {
+                if (view == null) {
+                    view = new TextColorCell(this.mContext);
+                }
+                TextColorCell textCell = (TextColorCell) view;
+                if (i == ThemingSettingsActivity.this.headerColorRow) {
+                    textCell.setTag(Theme.pkey_prefActionbarColor);
+                    textCell.setTextAndColor(prefix + LocaleController.getString("HeaderColor", R.string.HeaderColor), Theme.prefActionbarColor, true);
+                } else if (i == ThemingSettingsActivity.this.headerTitleColorRow) {
+                    textCell.setTag(Theme.pkey_prefActionbarTitleColor);
+                    textCell.setTextAndColor(prefix + LocaleController.getString("HeaderTitleColor", R.string.HeaderTitleColor), Theme.prefActionbarTitleColor, true);
+                } else if (i == ThemingSettingsActivity.this.headerStatusColorRow) {
+                    textCell.setTag(Theme.pkey_prefActionbarStatusColor);
+                    textCell.setTextAndColor(prefix + LocaleController.getString("StatusColor", R.string.StatusColor), Theme.prefActionbarStatusColor, true);
+                } else if (i == ThemingSettingsActivity.this.headerIconsColorRow) {
+                    textCell.setTag("prefActionbarIconsColor");
+                    textCell.setTextAndColor(prefix + LocaleController.getString("HeaderIconsColor", R.string.HeaderIconsColor), Theme.prefActionbarIconsColor, true);
+                } else if (i == ThemingSettingsActivity.this.avatarColorRow) {
+                    textCell.setTag(Theme.pkey_prefAvatarColor);
+                    textCell.setTextAndColor(prefix + LocaleController.getString("AvatarColor", R.string.AvatarColor), Theme.prefAvatarColor, true);
+                } else if (i == ThemingSettingsActivity.this.backgroundColorRow) {
+                    textCell.setTag(Theme.pkey_prefBGColor);
+                    textCell.setTextAndColor(prefix + LocaleController.getString("BackgroundColor", R.string.BackgroundColor), Theme.prefBGColor, true);
+                } else if (i == ThemingSettingsActivity.this.shadowColorRow) {
+                    textCell.setTag("prefShadowColor");
+                    textCell.setTextAndColor(prefix + LocaleController.getString("ShadowColor", R.string.ShadowColor), Theme.prefShadowColor, true);
+                } else if (i == ThemingSettingsActivity.this.sectionColorRow) {
+                    textCell.setTag("prefSectionColor");
+                    textCell.setTextAndColor(prefix + LocaleController.getString("SectionColor", R.string.SectionColor), Theme.prefSectionColor, true);
+                } else if (i == ThemingSettingsActivity.this.titleColorRow) {
+                    textCell.setTag("prefTitleColor");
+                    textCell.setTextAndColor(prefix + LocaleController.getString("TitleColor", R.string.TitleColor), Theme.prefTitleColor, true);
+                } else if (i == ThemingSettingsActivity.this.summaryColorRow) {
+                    textCell.setTag("prefSummaryColor");
+                    textCell.setTextAndColor(prefix + LocaleController.getString("SummaryColor", R.string.SummaryColor), Theme.prefSummaryColor, true);
+                } else if (i == ThemingSettingsActivity.this.dividerColorRow) {
+                    textCell.setTag("prefDividerColor");
+                    textCell.setTextAndColor(prefix + LocaleController.getString("DividerColor", R.string.DividerColor), Theme.prefDividerColor, true);
+                }
+            } else if (type == 3) {
+                if (view == null) {
+                    view = new TextSettingsCell(this.mContext);
+                }
+                TextSettingsCell textCell2 = (TextSettingsCell) view;
+                SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0);
+                int size;
+                if (i == ThemingSettingsActivity.this.avatarRadiusRow) {
+                    textCell2.setTag("prefAvatarRadius");
+                    size = themePrefs.getInt("prefAvatarRadius", AndroidUtilities.isTablet() ? 35 : 32);
+                    textCell2.setTextAndValue(prefix + LocaleController.getString("AvatarRadius", R.string.AvatarRadius), String.format("%d", new Object[]{Integer.valueOf(size)}), true);
+                } else if (i == ThemingSettingsActivity.this.avatarSizeRow) {
+                    textCell2.setTag("prefAvatarSize");
+                    size = themePrefs.getInt("prefAvatarSize", AndroidUtilities.isTablet() ? 45 : 42);
+                    textCell2.setTextAndValue(prefix + LocaleController.getString("AvatarSize", R.string.AvatarSize), String.format("%d", new Object[]{Integer.valueOf(size)}), false);
+                }
+            }
+            if (view != null) {
+                view.setBackgroundColor(Theme.usePlusTheme ? Theme.prefBGColor : Theme.getColor(Theme.key_windowBackgroundWhite));
+            }
+            return view;
+        }
+
+        public int getItemViewType(int i) {
+            if (i == ThemingSettingsActivity.this.avatarRadiusRow || i == ThemingSettingsActivity.this.avatarSizeRow) {
+                return 3;
+            }
+            if (i == ThemingSettingsActivity.this.headerColorRow || i == ThemingSettingsActivity.this.headerTitleColorRow || i == ThemingSettingsActivity.this.headerStatusColorRow || i == ThemingSettingsActivity.this.headerIconsColorRow || i == ThemingSettingsActivity.this.avatarColorRow || i == ThemingSettingsActivity.this.backgroundColorRow || i == ThemingSettingsActivity.this.shadowColorRow || i == ThemingSettingsActivity.this.sectionColorRow || i == ThemingSettingsActivity.this.titleColorRow || i == ThemingSettingsActivity.this.summaryColorRow || i == ThemingSettingsActivity.this.dividerColorRow) {
+                return 2;
+            }
+            if (i == ThemingSettingsActivity.this.headerSection2Row || i == ThemingSettingsActivity.this.rowsSection2Row) {
+                return 1;
+            }
+            return 0;
+        }
+
+        public int getViewTypeCount() {
+            return 4;
+        }
+
+        public boolean isEmpty() {
+            return false;
+        }
+    }
+
+    public boolean onFragmentCreate() {
+        super.onFragmentCreate();
+        this.rowCount = 0;
+        int i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerSection2Row = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerTitleColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerStatusColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.headerIconsColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.avatarColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.avatarRadiusRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.avatarSizeRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowsSectionRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.rowsSection2Row = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.backgroundColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.shadowColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.sectionColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.titleColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.summaryColorRow = i;
+        i = this.rowCount;
+        this.rowCount = i + 1;
+        this.dividerColorRow = i;
+        this.showPrefix = ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).getBoolean("prefShowPrefix", true);
+        return true;
+    }
+
+    public void onFragmentDestroy() {
+        super.onFragmentDestroy();
+    }
+
+    public View createView(Context context) {
+        if (this.fragmentView == null) {
+            this.actionBar.setBackButtonImage(R.drawable.ic_ab_back);
+            if (AndroidUtilities.isTablet()) {
+                this.actionBar.setOccupyStatusBar(false);
+            }
+            this.actionBar.setTitle(LocaleController.getString("SettingsScreen", R.string.SettingsScreen));
+            this.actionBar.setActionBarMenuOnItemClick(new ActionBarMenuOnItemClick() {
+                public void onItemClick(int id) {
+                    if (id == -1) {
+                        ThemingSettingsActivity.this.finishFragment();
+                    }
+                }
+            });
+            this.actionBar.setOnClickListener(new OnClickListener() {
+                public void onClick(View v) {
+                    boolean z;
+                    ThemingSettingsActivity themingSettingsActivity = ThemingSettingsActivity.this;
+                    if (ThemingSettingsActivity.this.showPrefix) {
+                        z = false;
+                    } else {
+                        z = true;
+                    }
+                    themingSettingsActivity.showPrefix = z;
+                    ApplicationLoader.applicationContext.getSharedPreferences("plusconfig", 0).edit().putBoolean("prefShowPrefix", ThemingSettingsActivity.this.showPrefix).apply();
+                    if (ThemingSettingsActivity.this.listAdapter != null) {
+                        ThemingSettingsActivity.this.listAdapter.notifyDataSetChanged();
+                    }
+                }
+            });
+            this.listAdapter = new ListAdapter(context);
+            this.fragmentView = new FrameLayout(context);
+            FrameLayout frameLayout = (FrameLayout) this.fragmentView;
+            this.listView = new ListView(context);
+            if (Theme.usePlusTheme) {
+                this.listView.setBackgroundColor(Theme.prefBGColor);
+            }
+            this.listView.setDivider(null);
+            this.listView.setDividerHeight(0);
+            this.listView.setVerticalScrollBarEnabled(false);
+            AndroidUtilities.setListViewEdgeEffectColor(this.listView, Theme.prefActionbarColor);
+            frameLayout.addView(this.listView);
+            LayoutParams layoutParams = (LayoutParams) this.listView.getLayoutParams();
+            layoutParams.width = -1;
+            layoutParams.height = -1;
+            layoutParams.gravity = 48;
+            this.listView.setLayoutParams(layoutParams);
+            this.listView.setAdapter(this.listAdapter);
+            this.listView.setOnItemClickListener(new OnItemClickListener() {
+                public void onItemClick(AdapterView<?> adapterView, View view, int i, long l) {
+                    if (i == ThemingSettingsActivity.this.headerColorRow) {
+                        if (ThemingSettingsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingSettingsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingSettingsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.prefActionbarColor = color;
+                                    ThemingSettingsActivity.this.commitInt("prefHeaderColor", color);
+                                }
+                            }, Theme.prefActionbarColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingSettingsActivity.this.headerTitleColorRow) {
+                        if (ThemingSettingsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingSettingsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingSettingsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.prefActionbarTitleColor = color;
+                                    ThemingSettingsActivity.this.commitInt("prefHeaderTitleColor", color);
+                                }
+                            }, Theme.prefActionbarTitleColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingSettingsActivity.this.headerStatusColorRow) {
+                        if (ThemingSettingsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingSettingsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingSettingsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.prefActionbarStatusColor = color;
+                                    ThemingSettingsActivity.this.commitInt("prefHeaderStatusColor", color);
+                                }
+                            }, Theme.prefActionbarStatusColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingSettingsActivity.this.headerIconsColorRow) {
+                        if (ThemingSettingsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingSettingsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingSettingsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.prefActionbarIconsColor = color;
+                                    ThemingSettingsActivity.this.commitInt("prefHeaderIconsColor", color);
+                                }
+                            }, Theme.prefActionbarIconsColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingSettingsActivity.this.avatarColorRow) {
+                        if (ThemingSettingsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingSettingsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingSettingsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.prefAvatarColor = color;
+                                    ThemingSettingsActivity.this.commitInt(Theme.pkey_prefAvatarColor, color);
+                                }
+                            }, Theme.prefAvatarColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingSettingsActivity.this.avatarRadiusRow) {
+                        if (ThemingSettingsActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingSettingsActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("AvatarRadius", R.string.AvatarRadius));
+                            numberPicker = new NumberPicker(ThemingSettingsActivity.this.getParentActivity());
+                            numberPicker.setMinValue(1);
+                            numberPicker.setMaxValue(32);
+                            numberPicker.setValue(Theme.prefAvatarRadius);
+                            builder.setView(numberPicker);
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (numberPicker.getValue() != Theme.prefAvatarRadius) {
+                                        Theme.prefAvatarRadius = numberPicker.getValue();
+                                        ThemingSettingsActivity.this.commitInt("prefAvatarRadius", numberPicker.getValue());
+                                    }
+                                }
+                            });
+                            ThemingSettingsActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingSettingsActivity.this.avatarSizeRow) {
+                        if (ThemingSettingsActivity.this.getParentActivity() != null) {
+                            Builder builder = new Builder(ThemingSettingsActivity.this.getParentActivity());
+                            builder.setTitle(LocaleController.getString("AvatarSize", R.string.AvatarSize));
+                            numberPicker = new NumberPicker(ThemingSettingsActivity.this.getParentActivity());
+                            numberPicker.setMinValue(0);
+                            numberPicker.setMaxValue(48);
+                            numberPicker.setValue(Theme.prefAvatarSize);
+                            builder.setView(numberPicker);
+                            builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                                public void onClick(DialogInterface dialog, int which) {
+                                    if (numberPicker.getValue() != Theme.prefAvatarSize) {
+                                        Theme.prefAvatarSize = numberPicker.getValue();
+                                        ThemingSettingsActivity.this.commitInt("prefAvatarSize", numberPicker.getValue());
+                                    }
+                                }
+                            });
+                            ThemingSettingsActivity.this.showDialog(builder.create());
+                        }
+                    } else if (i == ThemingSettingsActivity.this.backgroundColorRow) {
+                        if (ThemingSettingsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingSettingsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingSettingsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.prefBGColor = color;
+                                    ThemingSettingsActivity.this.commitInt(Theme.pkey_prefBGColor, color);
+                                }
+                            }, Theme.prefBGColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingSettingsActivity.this.shadowColorRow) {
+                        if (ThemingSettingsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingSettingsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingSettingsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.prefShadowColor = color;
+                                    ThemingSettingsActivity.this.commitInt("prefShadowColor", color);
+                                }
+                            }, Theme.prefShadowColor, 0, 0, true).show();
+                        }
+                    } else if (i == ThemingSettingsActivity.this.sectionColorRow) {
+                        if (ThemingSettingsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingSettingsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingSettingsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.prefSectionColor = color;
+                                    ThemingSettingsActivity.this.commitInt("prefSectionColor", color);
+                                }
+                            }, Theme.prefSectionColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingSettingsActivity.this.titleColorRow) {
+                        if (ThemingSettingsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingSettingsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingSettingsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.prefTitleColor = color;
+                                    ThemingSettingsActivity.this.commitInt("prefTitleColor", color);
+                                }
+                            }, Theme.prefTitleColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingSettingsActivity.this.summaryColorRow) {
+                        if (ThemingSettingsActivity.this.getParentActivity() != null) {
+                            ((LayoutInflater) ThemingSettingsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                            new ColorSelectorDialog(ThemingSettingsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                                public void colorChanged(int color) {
+                                    Theme.prefSummaryColor = color;
+                                    ThemingSettingsActivity.this.commitInt("prefSummaryColor", color);
+                                }
+                            }, Theme.prefSummaryColor, 0, 0, false).show();
+                        }
+                    } else if (i == ThemingSettingsActivity.this.dividerColorRow && ThemingSettingsActivity.this.getParentActivity() != null) {
+                        ((LayoutInflater) ThemingSettingsActivity.this.getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.colordialog, null, false);
+                        new ColorSelectorDialog(ThemingSettingsActivity.this.getParentActivity(), new OnColorChangedListener() {
+                            public void colorChanged(int color) {
+                                Theme.prefDividerColor = color;
+                                ThemingSettingsActivity.this.commitInt("prefDividerColor", color);
+                            }
+                        }, Theme.prefDividerColor, 0, 0, true).show();
+                    }
+                }
+            });
+            this.listView.setOnItemLongClickListener(new OnItemLongClickListener() {
+                public boolean onItemLongClick(AdapterView<?> adapterView, View view, int i, long l) {
+                    if (ThemingSettingsActivity.this.getParentActivity() == null) {
+                        return false;
+                    }
+                    if (i == ThemingSettingsActivity.this.headerColorRow) {
+                        ThemingSettingsActivity.this.resetInt("prefHeaderColor");
+                    } else if (i == ThemingSettingsActivity.this.headerTitleColorRow) {
+                        ThemingSettingsActivity.this.resetInt("prefHeaderTitleColor");
+                    } else if (i == ThemingSettingsActivity.this.headerStatusColorRow) {
+                        ThemingSettingsActivity.this.resetInt("prefHeaderStatusColor");
+                    } else if (i == ThemingSettingsActivity.this.headerIconsColorRow) {
+                        ThemingSettingsActivity.this.resetInt("prefHeaderIconsColor");
+                    } else if (i == ThemingSettingsActivity.this.avatarColorRow) {
+                        ThemingSettingsActivity.this.resetInt(Theme.pkey_prefAvatarColor);
+                    } else if (i == ThemingSettingsActivity.this.avatarRadiusRow) {
+                        ThemingSettingsActivity.this.resetInt("prefAvatarRadius");
+                    } else if (i == ThemingSettingsActivity.this.avatarSizeRow) {
+                        ThemingSettingsActivity.this.resetInt("prefAvatarSize");
+                    } else if (i == ThemingSettingsActivity.this.backgroundColorRow) {
+                        ThemingSettingsActivity.this.resetInt(Theme.pkey_prefBGColor);
+                    } else if (i == ThemingSettingsActivity.this.shadowColorRow) {
+                        ThemingSettingsActivity.this.resetInt("prefShadowColor");
+                    } else if (i == ThemingSettingsActivity.this.sectionColorRow) {
+                        ThemingSettingsActivity.this.resetInt("prefSectionColor");
+                    } else if (i == ThemingSettingsActivity.this.titleColorRow) {
+                        ThemingSettingsActivity.this.resetInt("prefTitleColor");
+                    } else if (i == ThemingSettingsActivity.this.summaryColorRow) {
+                        ThemingSettingsActivity.this.resetInt("prefSummaryColor");
+                    } else if (i == ThemingSettingsActivity.this.dividerColorRow) {
+                        ThemingSettingsActivity.this.resetInt("prefDividerColor");
+                    }
+                    return true;
+                }
+            });
+            frameLayout.addView(this.actionBar);
+        } else {
+            ViewGroup parent = (ViewGroup) this.fragmentView.getParent();
+            if (parent != null) {
+                parent.removeView(this.fragmentView);
+            }
+        }
+        if (Theme.usePlusTheme) {
+            updateTheme();
+        }
+        return this.fragmentView;
+    }
+
+    private void resetInt(String key) {
+        Editor editor = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
+        editor.remove(key);
+        editor.commit();
+        if (this.listView != null) {
+            this.listView.invalidateViews();
+        }
+        if (Theme.usePlusTheme) {
+            updateTheme();
+        }
+        refreshTheme();
+    }
+
+    private void commitInt(String key, int value) {
+        Editor editor = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, 0).edit();
+        editor.putInt(key, value);
+        editor.commit();
+        if (this.listView != null) {
+            this.listView.invalidateViews();
+        }
+        if (Theme.usePlusTheme) {
+            updateTheme();
+        }
+        refreshTheme();
+    }
+
+    private void refreshTheme() {
+        Theme.applyPlusTheme();
+        if (this.parentLayout != null) {
+            this.parentLayout.rebuildAllFragmentViews(false);
+        }
+    }
+
+    public void onResume() {
+        super.onResume();
+        if (this.listAdapter != null) {
+            this.listAdapter.notifyDataSetChanged();
+        }
+        fixLayout();
+    }
+
+    private void updateTheme() {
+        this.actionBar.setBackgroundColor(Theme.prefActionbarColor);
+        this.actionBar.setTitleColor(Theme.prefActionbarTitleColor);
+        Drawable back = getParentActivity().getResources().getDrawable(R.drawable.ic_ab_back);
+        back.setColorFilter(Theme.prefActionbarIconsColor, Mode.MULTIPLY);
+        this.actionBar.setBackButtonDrawable(back);
+        fixLayout();
+    }
+
+    public void onConfigurationChanged(Configuration newConfig) {
+        super.onConfigurationChanged(newConfig);
+        fixLayout();
+    }
+
+    private void fixLayout() {
+        if (this.fragmentView != null) {
+            this.fragmentView.getViewTreeObserver().addOnPreDrawListener(new OnPreDrawListener() {
+                public boolean onPreDraw() {
+                    if (ThemingSettingsActivity.this.fragmentView != null) {
+                        ThemingSettingsActivity.this.fragmentView.getViewTreeObserver().removeOnPreDrawListener(this);
+                    }
+                    return false;
+                }
+            });
+        }
+    }
+}
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/addmember.png b/TMessagesProj/src/main/res/drawable-hdpi/addmember.png
new file mode 100644
index 000000000..166473d7b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/addmember.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/admin_star.png b/TMessagesProj/src/main/res/drawable-hdpi/admin_star.png
index 13fc8c6ce..2f6db99ed 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/admin_star.png and b/TMessagesProj/src/main/res/drawable-hdpi/admin_star.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/admin_star2.png b/TMessagesProj/src/main/res/drawable-hdpi/admin_star2.png
new file mode 100644
index 000000000..6d9f3a892
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/admin_star2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/assign_manager.png b/TMessagesProj/src/main/res/drawable-hdpi/assign_manager.png
new file mode 100644
index 000000000..153a7fb1f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/assign_manager.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/audiosend_pause.png b/TMessagesProj/src/main/res/drawable-hdpi/audiosend_pause.png
index 4a8c89084..3900d8151 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/audiosend_pause.png and b/TMessagesProj/src/main/res/drawable-hdpi/audiosend_pause.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/audiosend_play.png b/TMessagesProj/src/main/res/drawable-hdpi/audiosend_play.png
index f032aeb38..4b13c02e6 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/audiosend_play.png and b/TMessagesProj/src/main/res/drawable-hdpi/audiosend_play.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/background_hd.jpg b/TMessagesProj/src/main/res/drawable-hdpi/background_hd.jpg
index 1baf9f865..91ba89046 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/background_hd.jpg and b/TMessagesProj/src/main/res/drawable-hdpi/background_hd.jpg differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/bot_file.png b/TMessagesProj/src/main/res/drawable-hdpi/bot_file.png
index ce32afeee..81a867e92 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/bot_file.png and b/TMessagesProj/src/main/res/drawable-hdpi/bot_file.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/bot_info.png b/TMessagesProj/src/main/res/drawable-hdpi/bot_info.png
new file mode 100644
index 000000000..6b5a4a2ba
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/bot_info.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/bot_keyboard.png b/TMessagesProj/src/main/res/drawable-hdpi/bot_keyboard.png
index 68ba9865a..e045972d8 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/bot_keyboard.png and b/TMessagesProj/src/main/res/drawable-hdpi/bot_keyboard.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/bot_keyboard2.png b/TMessagesProj/src/main/res/drawable-hdpi/bot_keyboard2.png
index 5783d098e..d43df46ce 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/bot_keyboard2.png and b/TMessagesProj/src/main/res/drawable-hdpi/bot_keyboard2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/bot_keyboard_button.9.png b/TMessagesProj/src/main/res/drawable-hdpi/bot_keyboard_button.9.png
new file mode 100644
index 000000000..55777ab32
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/bot_keyboard_button.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/bot_keyboard_button_pressed.9.png b/TMessagesProj/src/main/res/drawable-hdpi/bot_keyboard_button_pressed.9.png
new file mode 100644
index 000000000..15a03df75
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/bot_keyboard_button_pressed.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/bot_list.png b/TMessagesProj/src/main/res/drawable-hdpi/bot_list.png
new file mode 100644
index 000000000..cbcfa1f25
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/bot_list.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/bot_location.png b/TMessagesProj/src/main/res/drawable-hdpi/bot_location.png
index 8dffe4504..e587748fe 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/bot_location.png and b/TMessagesProj/src/main/res/drawable-hdpi/bot_location.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/bot_music.png b/TMessagesProj/src/main/res/drawable-hdpi/bot_music.png
index 4cccd6ed2..03857ec84 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/bot_music.png and b/TMessagesProj/src/main/res/drawable-hdpi/bot_music.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/bottom_shadow.png b/TMessagesProj/src/main/res/drawable-hdpi/bottom_shadow.png
index c2d6c3756..5dc9ed10a 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/bottom_shadow.png and b/TMessagesProj/src/main/res/drawable-hdpi/bottom_shadow.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/broadcast2.png b/TMessagesProj/src/main/res/drawable-hdpi/broadcast2.png
new file mode 100644
index 000000000..9c4837b89
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/broadcast2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/broadcast3.png b/TMessagesProj/src/main/res/drawable-hdpi/broadcast3.png
index 4c8a3328d..d29697597 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/broadcast3.png and b/TMessagesProj/src/main/res/drawable-hdpi/broadcast3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/broadcast4.png b/TMessagesProj/src/main/res/drawable-hdpi/broadcast4.png
new file mode 100644
index 000000000..ed908d804
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/broadcast4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/cancel_big.png b/TMessagesProj/src/main/res/drawable-hdpi/cancel_big.png
index 2dadadc3f..8a26eefa1 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/cancel_big.png and b/TMessagesProj/src/main/res/drawable-hdpi/cancel_big.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/cats.jpg b/TMessagesProj/src/main/res/drawable-hdpi/cats.jpg
new file mode 100644
index 000000000..02c1a43d4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/cats.jpg differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/chats_favs.png b/TMessagesProj/src/main/res/drawable-hdpi/chats_favs.png
deleted file mode 100644
index 2a354b32b..000000000
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/chats_favs.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/chats_mute.png b/TMessagesProj/src/main/res/drawable-hdpi/chats_mute.png
deleted file mode 100644
index 0aab403f1..000000000
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/chats_mute.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/chats_nofavs.png b/TMessagesProj/src/main/res/drawable-hdpi/chats_nofavs.png
deleted file mode 100644
index 118921578..000000000
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/chats_nofavs.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/chats_read.png b/TMessagesProj/src/main/res/drawable-hdpi/chats_read.png
deleted file mode 100644
index 691ae7351..000000000
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/chats_read.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/chats_shortcut.png b/TMessagesProj/src/main/res/drawable-hdpi/chats_shortcut.png
deleted file mode 100644
index c1177d589..000000000
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/chats_shortcut.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/chats_unmute.png b/TMessagesProj/src/main/res/drawable-hdpi/chats_unmute.png
deleted file mode 100644
index b962aec70..000000000
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/chats_unmute.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/chats_unread.png b/TMessagesProj/src/main/res/drawable-hdpi/chats_unread.png
deleted file mode 100644
index 17e018f4d..000000000
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/chats_unread.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/check_blue.png b/TMessagesProj/src/main/res/drawable-hdpi/check_blue.png
new file mode 100644
index 000000000..80ade6ab1
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/check_blue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/check_list.png b/TMessagesProj/src/main/res/drawable-hdpi/check_list.png
new file mode 100644
index 000000000..e739bea2f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/check_list.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/check_profile.png b/TMessagesProj/src/main/res/drawable-hdpi/check_profile.png
new file mode 100644
index 000000000..380a8ebff
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/check_profile.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/circle_big.png b/TMessagesProj/src/main/res/drawable-hdpi/circle_big.png
index 4a0f8dd5f..bdad5c802 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/circle_big.png and b/TMessagesProj/src/main/res/drawable-hdpi/circle_big.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/color_hue.png b/TMessagesProj/src/main/res/drawable-hdpi/color_hue.png
index 6f50aee81..d8ed48752 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/color_hue.png and b/TMessagesProj/src/main/res/drawable-hdpi/color_hue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/color_seekselector.png b/TMessagesProj/src/main/res/drawable-hdpi/color_seekselector.png
index 977ded6b0..39eef75fc 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/color_seekselector.png and b/TMessagesProj/src/main/res/drawable-hdpi/color_seekselector.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/color_selector.png b/TMessagesProj/src/main/res/drawable-hdpi/color_selector.png
index 00edf067f..8679d40e2 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/color_selector.png and b/TMessagesProj/src/main/res/drawable-hdpi/color_selector.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/common_full_open_on_phone.png b/TMessagesProj/src/main/res/drawable-hdpi/common_full_open_on_phone.png
deleted file mode 100644
index f6a98d51a..000000000
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/common_full_open_on_phone.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/common_google_signin_btn_icon_dark_normal_background.9.png b/TMessagesProj/src/main/res/drawable-hdpi/common_google_signin_btn_icon_dark_normal_background.9.png
deleted file mode 100644
index 66d23ae2c..000000000
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/common_google_signin_btn_icon_dark_normal_background.9.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/common_google_signin_btn_icon_light_normal_background.9.png b/TMessagesProj/src/main/res/drawable-hdpi/common_google_signin_btn_icon_light_normal_background.9.png
deleted file mode 100644
index 140b8adf7..000000000
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/common_google_signin_btn_icon_light_normal_background.9.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/common_google_signin_btn_text_dark_normal_background.9.png b/TMessagesProj/src/main/res/drawable-hdpi/common_google_signin_btn_text_dark_normal_background.9.png
deleted file mode 100644
index 994d86509..000000000
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/common_google_signin_btn_text_dark_normal_background.9.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/common_google_signin_btn_text_light_normal_background.9.png b/TMessagesProj/src/main/res/drawable-hdpi/common_google_signin_btn_text_light_normal_background.9.png
deleted file mode 100644
index 5e3caee8d..000000000
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/common_google_signin_btn_text_light_normal_background.9.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/compose_panel.9.png b/TMessagesProj/src/main/res/drawable-hdpi/compose_panel.9.png
new file mode 100644
index 000000000..19f2a5a70
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/compose_panel.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/contact_blue.png b/TMessagesProj/src/main/res/drawable-hdpi/contact_blue.png
new file mode 100644
index 000000000..0f52e8781
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/contact_blue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/contact_green.png b/TMessagesProj/src/main/res/drawable-hdpi/contact_green.png
new file mode 100644
index 000000000..1b3c67d76
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/contact_green.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/delete_reply.png b/TMessagesProj/src/main/res/drawable-hdpi/delete_reply.png
new file mode 100644
index 000000000..213ff5b50
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/delete_reply.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/devices.png b/TMessagesProj/src/main/res/drawable-hdpi/devices.png
index 71ffe85e0..768704968 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/devices.png and b/TMessagesProj/src/main/res/drawable-hdpi/devices.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogbg.xml b/TMessagesProj/src/main/res/drawable-hdpi/dialogbg.xml
index e1918356d..a4153cc5e 100644
--- a/TMessagesProj/src/main/res/drawable-hdpi/dialogbg.xml
+++ b/TMessagesProj/src/main/res/drawable-hdpi/dialogbg.xml
@@ -1,7 +1,8 @@
 <?xml version="1.0" encoding="utf-8"?>
-<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle">
-    <corners android:radius="0dp" />
-    <padding android:left="3dp" android:top="3dp" android:right="3dp" android:bottom="3dp" />
+<shape android:shape="rectangle"
+  xmlns:android="http://schemas.android.com/apk/res/android">
+    <corners android:radius="0.0dip" />
+    <padding android:left="3.0dip" android:top="3.0dip" android:right="3.0dip" android:bottom="3.0dip" />
     <solid android:color="#ff9a9a9a" />
-    <stroke android:width="3dp" android:color="#ff9a9a9a" />
-</shape>
+    <stroke android:width="3.0dip" android:color="#ff9a9a9a" />
+</shape>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_badge.9.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_badge.9.png
new file mode 100644
index 000000000..dbb256bc3
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_badge.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_badge2.9.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_badge2.9.png
new file mode 100644
index 000000000..3a857ff23
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_badge2.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check.png
new file mode 100644
index 000000000..11380095e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_10.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_10.png
index 18c352cbc..68aa1dfe3 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_10.png and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_11.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_11.png
index 53b59243a..152fca1ab 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_11.png and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_12.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_12.png
index ffb32eb38..346081048 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_12.png and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_2.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_2.png
index 1836696e1..0f3b1c171 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_2.png and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_3.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_3.png
index 72a0a7e1d..454d59ac2 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_3.png and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_4.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_4.png
index 3f1d79775..325239358 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_4.png and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_5.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_5.png
index e600878bc..717613629 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_5.png and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_6.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_6.png
index c04dfde88..ad37a1d0f 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_6.png and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_7.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_7.png
index f1694e3b1..1649119a8 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_7.png and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_8.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_8.png
index f23e2ff1a..b59bdcd41 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_8.png and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_9.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_9.png
index 3a09de96a..3ae0c5b15 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_9.png and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_check_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck.png
new file mode 100644
index 000000000..f75f9ccb2
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_10.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_10.png
index f23e2ff1a..b59bdcd41 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_10.png and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_11.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_11.png
index 942900981..850c1174c 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_11.png and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_12.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_12.png
index 6c7c9303f..c2abcc0ac 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_12.png and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_2.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_2.png
index 1836696e1..0f3b1c171 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_2.png and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_3.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_3.png
index 72a0a7e1d..454d59ac2 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_3.png and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_4.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_4.png
index 96b2a06c5..9f8f9c995 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_4.png and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_5.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_5.png
index 591fc07a3..6eadf894d 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_5.png and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_6.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_6.png
index d1122b139..d454b6486 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_6.png and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_7.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_7.png
index cab3a6236..25053a21c 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_7.png and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_8.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_8.png
index f23e2ff1a..b59bdcd41 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_8.png and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_9.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_9.png
index bda368f1f..36d5afcca 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_9.png and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_halfcheck_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/dialogs_warning.png b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_warning.png
new file mode 100644
index 000000000..c1474e23b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/dialogs_warning.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/doc_actions_b.png b/TMessagesProj/src/main/res/drawable-hdpi/doc_actions_b.png
new file mode 100644
index 000000000..7d13ee813
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/doc_actions_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/doc_actions_b_s.png b/TMessagesProj/src/main/res/drawable-hdpi/doc_actions_b_s.png
new file mode 100644
index 000000000..f107194d7
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/doc_actions_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/doc_actions_g.png b/TMessagesProj/src/main/res/drawable-hdpi/doc_actions_g.png
new file mode 100644
index 000000000..09dea5d2a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/doc_actions_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/doc_actions_w.png b/TMessagesProj/src/main/res/drawable-hdpi/doc_actions_w.png
index b9d5c86f6..c4690c2b7 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/doc_actions_w.png and b/TMessagesProj/src/main/res/drawable-hdpi/doc_actions_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/doc_blue.png b/TMessagesProj/src/main/res/drawable-hdpi/doc_blue.png
new file mode 100644
index 000000000..a6a72c978
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/doc_blue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/doc_blue_s.png b/TMessagesProj/src/main/res/drawable-hdpi/doc_blue_s.png
new file mode 100644
index 000000000..0484f441a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/doc_blue_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/doc_green.png b/TMessagesProj/src/main/res/drawable-hdpi/doc_green.png
new file mode 100644
index 000000000..72180a744
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/doc_green.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/doc_white.png b/TMessagesProj/src/main/res/drawable-hdpi/doc_white.png
index 6f3240977..7086f1944 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/doc_white.png and b/TMessagesProj/src/main/res/drawable-hdpi/doc_white.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/doccancel_b.png b/TMessagesProj/src/main/res/drawable-hdpi/doccancel_b.png
new file mode 100644
index 000000000..897ac3a3f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/doccancel_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/doccancel_b_s.png b/TMessagesProj/src/main/res/drawable-hdpi/doccancel_b_s.png
new file mode 100644
index 000000000..0f607d717
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/doccancel_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/doccancel_g.png b/TMessagesProj/src/main/res/drawable-hdpi/doccancel_g.png
new file mode 100644
index 000000000..b53eebb55
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/doccancel_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/doccancel_w.png b/TMessagesProj/src/main/res/drawable-hdpi/doccancel_w.png
index 686d369f8..7257eaa89 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/doccancel_w.png and b/TMessagesProj/src/main/res/drawable-hdpi/doccancel_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/docload_b.png b/TMessagesProj/src/main/res/drawable-hdpi/docload_b.png
new file mode 100644
index 000000000..e27febd6a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/docload_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/docload_b_s.png b/TMessagesProj/src/main/res/drawable-hdpi/docload_b_s.png
new file mode 100644
index 000000000..e5bbd51f0
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/docload_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/docload_g.png b/TMessagesProj/src/main/res/drawable-hdpi/docload_g.png
new file mode 100644
index 000000000..f93437c16
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/docload_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/docload_w.png b/TMessagesProj/src/main/res/drawable-hdpi/docload_w.png
index f9588d09e..b4dd7e5b4 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/docload_w.png and b/TMessagesProj/src/main/res/drawable-hdpi/docload_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/docpause_b.png b/TMessagesProj/src/main/res/drawable-hdpi/docpause_b.png
new file mode 100644
index 000000000..d7c483a02
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/docpause_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/docpause_b_s.png b/TMessagesProj/src/main/res/drawable-hdpi/docpause_b_s.png
new file mode 100644
index 000000000..3bc4621ec
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/docpause_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/docpause_g.png b/TMessagesProj/src/main/res/drawable-hdpi/docpause_g.png
new file mode 100644
index 000000000..35ca985fb
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/docpause_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/docpause_w.png b/TMessagesProj/src/main/res/drawable-hdpi/docpause_w.png
index 65ed98655..19d7a3bbc 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/docpause_w.png and b/TMessagesProj/src/main/res/drawable-hdpi/docpause_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/edit_doneblue.png b/TMessagesProj/src/main/res/drawable-hdpi/edit_doneblue.png
new file mode 100644
index 000000000..ad5f280d1
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/edit_doneblue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/file_b.png b/TMessagesProj/src/main/res/drawable-hdpi/file_b.png
new file mode 100644
index 000000000..b9b9fdbc1
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/file_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/file_b_cancel.png b/TMessagesProj/src/main/res/drawable-hdpi/file_b_cancel.png
new file mode 100644
index 000000000..76fccb3be
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/file_b_cancel.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/file_b_cancel_s.png b/TMessagesProj/src/main/res/drawable-hdpi/file_b_cancel_s.png
new file mode 100644
index 000000000..212a68f29
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/file_b_cancel_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/file_b_load.png b/TMessagesProj/src/main/res/drawable-hdpi/file_b_load.png
new file mode 100644
index 000000000..d704af86e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/file_b_load.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/file_b_load_s.png b/TMessagesProj/src/main/res/drawable-hdpi/file_b_load_s.png
new file mode 100644
index 000000000..23a413daa
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/file_b_load_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/file_b_s.png b/TMessagesProj/src/main/res/drawable-hdpi/file_b_s.png
new file mode 100644
index 000000000..b682a368c
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/file_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/file_g.png b/TMessagesProj/src/main/res/drawable-hdpi/file_g.png
new file mode 100644
index 000000000..6b805748c
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/file_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/file_g_cancel.png b/TMessagesProj/src/main/res/drawable-hdpi/file_g_cancel.png
new file mode 100644
index 000000000..5fbc87d9b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/file_g_cancel.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/file_g_cancel_s.png b/TMessagesProj/src/main/res/drawable-hdpi/file_g_cancel_s.png
new file mode 100644
index 000000000..07b8de153
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/file_g_cancel_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/file_g_load.png b/TMessagesProj/src/main/res/drawable-hdpi/file_g_load.png
new file mode 100644
index 000000000..741b69864
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/file_g_load.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/file_g_load_s.png b/TMessagesProj/src/main/res/drawable-hdpi/file_g_load_s.png
new file mode 100644
index 000000000..244900120
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/file_g_load_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/file_g_s.png b/TMessagesProj/src/main/res/drawable-hdpi/file_g_s.png
new file mode 100644
index 000000000..41228655b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/file_g_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/floating.png b/TMessagesProj/src/main/res/drawable-hdpi/floating.png
new file mode 100644
index 000000000..99fdffa70
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/floating.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/floating3_profile.png b/TMessagesProj/src/main/res/drawable-hdpi/floating3_profile.png
new file mode 100644
index 000000000..de9e52d62
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/floating3_profile.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/floating3_profile_m.png b/TMessagesProj/src/main/res/drawable-hdpi/floating3_profile_m.png
new file mode 100644
index 000000000..834d0195a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/floating3_profile_m.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/floating3_profile_pressed.png b/TMessagesProj/src/main/res/drawable-hdpi/floating3_profile_pressed.png
new file mode 100644
index 000000000..82f31bdfa
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/floating3_profile_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/floating_camera.png b/TMessagesProj/src/main/res/drawable-hdpi/floating_camera.png
index 7d1701ef8..0980e9e08 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/floating_camera.png and b/TMessagesProj/src/main/res/drawable-hdpi/floating_camera.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/floating_m.png b/TMessagesProj/src/main/res/drawable-hdpi/floating_m.png
new file mode 100644
index 000000000..7b5f02ca5
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/floating_m.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/floating_message.png b/TMessagesProj/src/main/res/drawable-hdpi/floating_message.png
index 7fb41f8bc..c6743f12a 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/floating_message.png and b/TMessagesProj/src/main/res/drawable-hdpi/floating_message.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/floating_pressed.png b/TMessagesProj/src/main/res/drawable-hdpi/floating_pressed.png
new file mode 100644
index 000000000..1edf010e5
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/floating_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/floating_white.png b/TMessagesProj/src/main/res/drawable-hdpi/floating_white.png
index 36b79b2fe..de9e52d62 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/floating_white.png and b/TMessagesProj/src/main/res/drawable-hdpi/floating_white.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/forward_blue.png b/TMessagesProj/src/main/res/drawable-hdpi/forward_blue.png
new file mode 100644
index 000000000..36d5c85d6
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/forward_blue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/foursquare.png b/TMessagesProj/src/main/res/drawable-hdpi/foursquare.png
index ca3a16b3a..64783f7ec 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/foursquare.png and b/TMessagesProj/src/main/res/drawable-hdpi/foursquare.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/googleg_disabled_color_18.png b/TMessagesProj/src/main/res/drawable-hdpi/googleg_disabled_color_18.png
deleted file mode 100644
index 97fe86f58..000000000
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/googleg_disabled_color_18.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/googleg_standard_color_18.png b/TMessagesProj/src/main/res/drawable-hdpi/googleg_standard_color_18.png
deleted file mode 100644
index 70c10bf2d..000000000
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/googleg_standard_color_18.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/greydivider.9.png b/TMessagesProj/src/main/res/drawable-hdpi/greydivider.9.png
index 7d2ced607..9a69cf43d 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/greydivider.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/greydivider.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/greydivider_bottom.9.png b/TMessagesProj/src/main/res/drawable-hdpi/greydivider_bottom.9.png
index 900fd1b08..64d23a36c 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/greydivider_bottom.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/greydivider_bottom.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/greydivider_top.9.png b/TMessagesProj/src/main/res/drawable-hdpi/greydivider_top.9.png
index 7505f0150..4523e953c 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/greydivider_top.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/greydivider_top.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/header_timer.png b/TMessagesProj/src/main/res/drawable-hdpi/header_timer.png
new file mode 100644
index 000000000..0c17b9bba
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/header_timer.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/header_timer2.png b/TMessagesProj/src/main/res/drawable-hdpi/header_timer2.png
new file mode 100644
index 000000000..019ad9c9a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/header_timer2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_attach.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_attach.png
index 4a2855b21..7f1bacc6b 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_attach.png and b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_attach.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_attach3.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_attach3.png
new file mode 100644
index 000000000..7529e81e6
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_attach3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_attach_white.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_attach_white.png
index cd45aafc4..60deb7005 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_attach_white.png and b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_attach_white.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_back_grey.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_back_grey.png
new file mode 100644
index 000000000..0ca6612a9
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_back_grey.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_doc.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_doc.png
new file mode 100644
index 000000000..25e2c036b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_doc.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_done_gray.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_done_gray.png
new file mode 100644
index 000000000..99240881d
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_done_gray.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_fwd_copy.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_fwd_copy.png
new file mode 100644
index 000000000..64ed7cd05
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_fwd_copy.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_fwd_delete.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_fwd_delete.png
new file mode 100644
index 000000000..9af1eb095
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_fwd_delete.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_fwd_forward.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_fwd_forward.png
new file mode 100644
index 000000000..bbe96ec85
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_fwd_forward.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_fwd_quoteforward.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_fwd_quoteforward.png
index 2a92b0df0..dcca40094 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_fwd_quoteforward.png and b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_fwd_quoteforward.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_new.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_new.png
index 890c3367c..b604e6257 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_new.png and b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_new.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_reply.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_reply.png
index 0b4e6a813..2d78652e7 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_reply.png and b/TMessagesProj/src/main/res/drawable-hdpi/ic_ab_reply.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_attach_sticker.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_attach_sticker.png
new file mode 100644
index 000000000..0e9e8754d
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_attach_sticker.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_backup_white_24dp.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_backup_white_24dp.png
deleted file mode 100644
index da310601f..000000000
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_backup_white_24dp.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_create.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_create.png
new file mode 100644
index 000000000..82966ed28
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_create.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_directory.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_directory.png
index a13bd1569..f0cc429d5 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_directory.png and b/TMessagesProj/src/main/res/drawable-hdpi/ic_directory.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_external_storage.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_external_storage.png
index b9b8af36a..bbf0414c0 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_external_storage.png and b/TMessagesProj/src/main/res/drawable-hdpi/ic_external_storage.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_fingerprint_error.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_fingerprint_error.png
deleted file mode 100644
index 80bfd08ff..000000000
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_fingerprint_error.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_launcher.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_launcher.png
index 0a3874d44..eafbd5592 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_launcher.png and b/TMessagesProj/src/main/res/drawable-hdpi/ic_launcher.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_launcher_beta.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_launcher_beta.png
index 4b251ca16..a2c116814 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_launcher_beta.png and b/TMessagesProj/src/main/res/drawable-hdpi/ic_launcher_beta.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_msg_panel_kb.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_msg_panel_kb.png
index f5dd8c7d7..4a9ed0d81 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_msg_panel_kb.png and b/TMessagesProj/src/main/res/drawable-hdpi/ic_msg_panel_kb.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_msg_panel_kb_white.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_msg_panel_kb_white.png
index 8b84bcfc5..4501f44d4 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_msg_panel_kb_white.png and b/TMessagesProj/src/main/res/drawable-hdpi/ic_msg_panel_kb_white.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_msg_panel_smiles.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_msg_panel_smiles.png
index 94ef04311..ea4e65f36 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_msg_panel_smiles.png and b/TMessagesProj/src/main/res/drawable-hdpi/ic_msg_panel_smiles.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_send.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_send.png
index ffa715e32..50e63ae1e 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_send.png and b/TMessagesProj/src/main/res/drawable-hdpi/ic_send.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_settings.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_settings.png
new file mode 100644
index 000000000..e999e3293
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_settings.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_backspace.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_backspace.png
index 19eb21d5e..50c5312f2 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_backspace.png and b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_backspace.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_backspace_active.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_backspace_active.png
index 90e9663ec..b02ed7c29 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_backspace_active.png and b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_backspace_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_bell.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_bell.png
new file mode 100644
index 000000000..a7a2cffb3
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_bell.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_bell_active.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_bell_active.png
new file mode 100644
index 000000000..14cc9aedc
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_bell_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_car.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_car.png
new file mode 100644
index 000000000..b8fa468aa
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_car.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_car_active.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_car_active.png
new file mode 100644
index 000000000..7436b5603
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_car_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_flower.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_flower.png
new file mode 100644
index 000000000..b70bcd452
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_flower.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_flower_active.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_flower_active.png
new file mode 100644
index 000000000..bd783f405
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_flower_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_gif.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_gif.png
index 016963ba6..a06057c56 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_gif.png and b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_gif.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_grid.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_grid.png
new file mode 100644
index 000000000..f311de53e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_grid.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_grid_active.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_grid_active.png
new file mode 100644
index 000000000..2d020da1f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_grid_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_recent.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_recent.png
new file mode 100644
index 000000000..3208bcecc
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_recent.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_recent_active.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_recent_active.png
new file mode 100644
index 000000000..bbf721b80
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_recent_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_smile.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_smile.png
new file mode 100644
index 000000000..2d98101f8
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_smile.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_smile_active.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_smile_active.png
new file mode 100644
index 000000000..d37ab0982
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_smile_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_sticker.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_sticker.png
new file mode 100644
index 000000000..b6f0f7fa0
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_sticker.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_sticker_active.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_sticker_active.png
new file mode 100644
index 000000000..6fa2547d7
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/ic_smiles_sticker_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_storage.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_storage.png
index 014219a19..6c2c8e927 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_storage.png and b/TMessagesProj/src/main/res/drawable-hdpi/ic_storage.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_storage_gallery.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_storage_gallery.png
index 01e504f42..7cd764da3 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_storage_gallery.png and b/TMessagesProj/src/main/res/drawable-hdpi/ic_storage_gallery.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_swap_vertical.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_swap_vertical.png
index 40b673292..9d824e99c 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_swap_vertical.png and b/TMessagesProj/src/main/res/drawable-hdpi/ic_swap_vertical.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/intro1.png b/TMessagesProj/src/main/res/drawable-hdpi/intro1.png
index 4831c0214..3380b5fe4 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/intro1.png and b/TMessagesProj/src/main/res/drawable-hdpi/intro1.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/link.png b/TMessagesProj/src/main/res/drawable-hdpi/link.png
new file mode 100644
index 000000000..5ad1fcb8f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/link.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/list_broadcast.png b/TMessagesProj/src/main/res/drawable-hdpi/list_broadcast.png
index 46876a5e1..54a56f821 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/list_broadcast.png and b/TMessagesProj/src/main/res/drawable-hdpi/list_broadcast.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/list_group.png b/TMessagesProj/src/main/res/drawable-hdpi/list_group.png
index 4b2e05477..bde0ddcb3 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/list_group.png and b/TMessagesProj/src/main/res/drawable-hdpi/list_group.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/list_longpressed_holo_light.9.png b/TMessagesProj/src/main/res/drawable-hdpi/list_longpressed_holo_light.9.png
new file mode 100644
index 000000000..e9afcc924
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/list_longpressed_holo_light.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/list_pressed_holo_light.9.png b/TMessagesProj/src/main/res/drawable-hdpi/list_pressed_holo_light.9.png
new file mode 100644
index 000000000..2054530ed
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/list_pressed_holo_light.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/list_secret.png b/TMessagesProj/src/main/res/drawable-hdpi/list_secret.png
index 80d702f86..54ed6bf28 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/list_secret.png and b/TMessagesProj/src/main/res/drawable-hdpi/list_secret.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/list_selector_disabled_holo_light.9.png b/TMessagesProj/src/main/res/drawable-hdpi/list_selector_disabled_holo_light.9.png
new file mode 100644
index 000000000..ca8e9a277
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/list_selector_disabled_holo_light.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/list_supergroup.png b/TMessagesProj/src/main/res/drawable-hdpi/list_supergroup.png
index 5fbe73e52..1968085ae 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/list_supergroup.png and b/TMessagesProj/src/main/res/drawable-hdpi/list_supergroup.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/load_big.png b/TMessagesProj/src/main/res/drawable-hdpi/load_big.png
index 6a082f283..54ebdc932 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/load_big.png and b/TMessagesProj/src/main/res/drawable-hdpi/load_big.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/location2.png b/TMessagesProj/src/main/res/drawable-hdpi/location2.png
new file mode 100644
index 000000000..84e92b27b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/location2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/location_b.9.png b/TMessagesProj/src/main/res/drawable-hdpi/location_b.9.png
new file mode 100644
index 000000000..84e92b27b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/location_b.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/location_g.9.png b/TMessagesProj/src/main/res/drawable-hdpi/location_g.9.png
new file mode 100644
index 000000000..2c9c70da2
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/location_g.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/managers.png b/TMessagesProj/src/main/res/drawable-hdpi/managers.png
index ccf2c72fa..0cad1f458 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/managers.png and b/TMessagesProj/src/main/res/drawable-hdpi/managers.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/media_doc_load.png b/TMessagesProj/src/main/res/drawable-hdpi/media_doc_load.png
index 5ddef7dd3..35678c12d 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/media_doc_load.png and b/TMessagesProj/src/main/res/drawable-hdpi/media_doc_load.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/media_doc_pause.png b/TMessagesProj/src/main/res/drawable-hdpi/media_doc_pause.png
index 561f81051..364c6d990 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/media_doc_pause.png and b/TMessagesProj/src/main/res/drawable-hdpi/media_doc_pause.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/menu_admin.png b/TMessagesProj/src/main/res/drawable-hdpi/menu_admin.png
index db98dc681..b8418c52d 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/menu_admin.png and b/TMessagesProj/src/main/res/drawable-hdpi/menu_admin.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/menu_broadcast.png b/TMessagesProj/src/main/res/drawable-hdpi/menu_broadcast.png
index e3d63728b..439cbb7cd 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/menu_broadcast.png and b/TMessagesProj/src/main/res/drawable-hdpi/menu_broadcast.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/menu_contacts.png b/TMessagesProj/src/main/res/drawable-hdpi/menu_contacts.png
index 8ee5e0ba8..d2ce6e645 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/menu_contacts.png and b/TMessagesProj/src/main/res/drawable-hdpi/menu_contacts.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/menu_forum.png b/TMessagesProj/src/main/res/drawable-hdpi/menu_forum.png
index c628b6fb8..7f34f5594 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/menu_forum.png and b/TMessagesProj/src/main/res/drawable-hdpi/menu_forum.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/menu_help.png b/TMessagesProj/src/main/res/drawable-hdpi/menu_help.png
index eb3f753a2..3acaa23ee 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/menu_help.png and b/TMessagesProj/src/main/res/drawable-hdpi/menu_help.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/menu_invite.png b/TMessagesProj/src/main/res/drawable-hdpi/menu_invite.png
index f746b62ab..eee0ec8f1 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/menu_invite.png and b/TMessagesProj/src/main/res/drawable-hdpi/menu_invite.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/menu_newgroup.png b/TMessagesProj/src/main/res/drawable-hdpi/menu_newgroup.png
index 502be61ff..09dec72f6 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/menu_newgroup.png and b/TMessagesProj/src/main/res/drawable-hdpi/menu_newgroup.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/menu_plus.png b/TMessagesProj/src/main/res/drawable-hdpi/menu_plus.png
index 1247e2c49..60948cb1a 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/menu_plus.png and b/TMessagesProj/src/main/res/drawable-hdpi/menu_plus.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/menu_secret.png b/TMessagesProj/src/main/res/drawable-hdpi/menu_secret.png
index e9143ffd4..60c65a29c 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/menu_secret.png and b/TMessagesProj/src/main/res/drawable-hdpi/menu_secret.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/menu_settings.png b/TMessagesProj/src/main/res/drawable-hdpi/menu_settings.png
index 520c2c465..012774675 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/menu_settings.png and b/TMessagesProj/src/main/res/drawable-hdpi/menu_settings.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/menu_themes.png b/TMessagesProj/src/main/res/drawable-hdpi/menu_themes.png
index 18891c08d..0f3f38a10 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/menu_themes.png and b/TMessagesProj/src/main/res/drawable-hdpi/menu_themes.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/menu_theming.png b/TMessagesProj/src/main/res/drawable-hdpi/menu_theming.png
index 114c8b811..2b0100d25 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/menu_theming.png and b/TMessagesProj/src/main/res/drawable-hdpi/menu_theming.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/mic.png b/TMessagesProj/src/main/res/drawable-hdpi/mic.png
index 6bbf1f4fb..75e7bbf83 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/mic.png and b/TMessagesProj/src/main/res/drawable-hdpi/mic.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/mic_pressed.png b/TMessagesProj/src/main/res/drawable-hdpi/mic_pressed.png
new file mode 100644
index 000000000..ae9ea3bf4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/mic_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/mic_white.png b/TMessagesProj/src/main/res/drawable-hdpi/mic_white.png
index 624df3416..e2503caaf 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/mic_white.png and b/TMessagesProj/src/main/res/drawable-hdpi/mic_white.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/miniplayer_close.png b/TMessagesProj/src/main/res/drawable-hdpi/miniplayer_close.png
index 95ef2b917..ee4972c7a 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/miniplayer_close.png and b/TMessagesProj/src/main/res/drawable-hdpi/miniplayer_close.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/miniplayer_pause.png b/TMessagesProj/src/main/res/drawable-hdpi/miniplayer_pause.png
index 612b8704d..f173ae63a 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/miniplayer_pause.png and b/TMessagesProj/src/main/res/drawable-hdpi/miniplayer_pause.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/miniplayer_play.png b/TMessagesProj/src/main/res/drawable-hdpi/miniplayer_play.png
index 9e90258b7..7dd0d0688 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/miniplayer_play.png and b/TMessagesProj/src/main/res/drawable-hdpi/miniplayer_play.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check.png
index 9d1983663..80e7278e6 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_check.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_10.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_10.png
new file mode 100644
index 000000000..8d63ea2ba
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_11.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_11.png
new file mode 100644
index 000000000..727e3047a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_12.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_12.png
new file mode 100644
index 000000000..3a25d80bd
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_2.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_2.png
new file mode 100644
index 000000000..f0296d411
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_3.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_3.png
new file mode 100644
index 000000000..5d438f8da
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_4.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_4.png
new file mode 100644
index 000000000..39c26c52d
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_5.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_5.png
new file mode 100644
index 000000000..6052c9cd1
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_6.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_6.png
new file mode 100644
index 000000000..7dd4d9b4b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_7.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_7.png
new file mode 100644
index 000000000..0d98dd328
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_8.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_8.png
new file mode 100644
index 000000000..5a52b24c4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_9.png
new file mode 100644
index 000000000..578adf6a8
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w.png
index 698cce886..be83f2bf2 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_10.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_10.png
index 6dabf7f54..f5bd31df1 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_10.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_11.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_11.png
index e1b5b2dc3..c3191aeef 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_11.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_12.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_12.png
index a48c13a60..dba17090f 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_12.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_2.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_2.png
index 8f6004fa1..a5706f460 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_2.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_3.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_3.png
index 0d987b837..ba41ad6bd 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_3.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_4.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_4.png
index 861f76a49..f8e33cd5c 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_4.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_5.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_5.png
index f21e07def..4c717f51c 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_5.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_6.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_6.png
index 9e13d5eaf..2cdee8623 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_6.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_7.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_7.png
index 59bfd836f..de3fddadb 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_7.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_8.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_8.png
index c61d114b9..3b01d65e6 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_8.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_9.png
index ddeb94d3f..c5286f135 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_check_w_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_clock.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_clock.png
index 1587746c4..94b24e32b 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_clock.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_clock.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_clock2.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_clock2.png
new file mode 100644
index 000000000..68c4f3555
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_clock2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_clock2_s.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_clock2_s.png
new file mode 100644
index 000000000..741664570
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_clock2_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_clock_photo.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_clock_photo.png
new file mode 100644
index 000000000..a7f059cb4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_clock_photo.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck.png
index e3b19944e..f568503fd 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_10.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_10.png
new file mode 100644
index 000000000..5a52b24c4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_11.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_11.png
new file mode 100644
index 000000000..22c90419a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_12.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_12.png
new file mode 100644
index 000000000..ec4ca2b6d
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_13.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_13.png
new file mode 100644
index 000000000..36a478826
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_13.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_2.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_2.png
new file mode 100644
index 000000000..f0296d411
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_3.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_3.png
new file mode 100644
index 000000000..5d438f8da
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_4.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_4.png
new file mode 100644
index 000000000..e8935d730
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_5.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_5.png
new file mode 100644
index 000000000..d9c9b8ccd
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_6.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_6.png
new file mode 100644
index 000000000..41c21aa6b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_7.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_7.png
new file mode 100644
index 000000000..4ae460545
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_8.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_8.png
new file mode 100644
index 000000000..5a52b24c4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_9.png
new file mode 100644
index 000000000..0969549d8
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w.png
new file mode 100644
index 000000000..1cb636875
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_10.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_10.png
index 3e8c307db..6dd74b409 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_10.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_11.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_11.png
index 83fcab2ae..c96ab3aa7 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_11.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_12.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_12.png
index 1ebdc5961..3fd76704c 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_12.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_13.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_13.png
index 4db064db5..a455ecb1b 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_13.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_13.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_2.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_2.png
index 8f6004fa1..a5706f460 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_2.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_3.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_3.png
index 0d987b837..ba41ad6bd 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_3.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_4.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_4.png
index bbdb0a480..fc2db41ae 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_4.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_5.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_5.png
index ae0b2804c..22c6acd39 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_5.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_6.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_6.png
index 52979fbc1..8a9429b0e 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_6.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_7.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_7.png
index 6ebeb96bd..e0b6d6714 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_7.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_8.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_8.png
index c61d114b9..3b01d65e6 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_8.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_9.png
index e110766e3..3d2c1f549 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_halfcheck_w_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in.9.png
index 50df48361..3d4ba4d33 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_10.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_10.9.png
index 153a610ae..5f10981dd 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_10.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_10.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_10_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_10_photo.9.png
index 91d530f85..a8d120685 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_10_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_10_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_10_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_10_photo_selected.9.png
index 307dc480c..53ba1ab2f 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_10_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_10_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_10_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_10_selected.9.png
index 8f5907cd0..11117be87 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_10_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_10_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_11.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_11.9.png
index 3b2bc749e..324798903 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_11.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_11.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_11_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_11_photo.9.png
index 655e064a5..1b009c09c 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_11_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_11_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_11_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_11_photo_selected.9.png
index 24566d630..864edb17e 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_11_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_11_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_11_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_11_selected.9.png
index dd8503ab8..cfa767616 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_11_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_11_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_12.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_12.9.png
index ff612ad13..d4f7ad939 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_12.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_12.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_12_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_12_photo.9.png
index cf0fb0a4c..5c42c1202 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_12_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_12_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_12_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_12_photo_selected.9.png
index 0e14d13ce..343a4f2e8 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_12_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_12_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_12_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_12_selected.9.png
index c842b4db6..998b11820 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_12_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_12_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_13.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_13.9.png
index 340e93aff..9940f0f9a 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_13.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_13.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_13_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_13_photo.9.png
index 02f112f76..8f1cd254e 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_13_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_13_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_13_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_13_photo_selected.9.png
index 0fdbbc944..6b6ee2249 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_13_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_13_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_13_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_13_selected.9.png
index cbbc35e53..afa8e73f7 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_13_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_13_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_2.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_2.9.png
index 50734de15..c1f2a0d6f 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_2.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_2.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_2_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_2_photo.9.png
index 15e64432f..fd7f1083c 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_2_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_2_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_2_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_2_photo_selected.9.png
index 35a73ca67..d6e9b6713 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_2_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_2_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_2_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_2_selected.9.png
index 9309ced9f..54856ab32 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_2_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_2_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_3.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_3.9.png
index 9be6f866f..5a78477cf 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_3.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_3.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_3_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_3_photo.9.png
index 91d530f85..a8d120685 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_3_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_3_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_3_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_3_photo_selected.9.png
index 307dc480c..53ba1ab2f 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_3_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_3_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_3_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_3_selected.9.png
index c680f9ab7..80d9bf457 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_3_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_3_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_4.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_4.9.png
index 05eabab33..7c433cdc2 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_4.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_4.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_4_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_4_photo.9.png
index 7ab764709..d17e434a2 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_4_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_4_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_4_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_4_photo_selected.9.png
index bb79608d9..bcc45a266 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_4_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_4_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_4_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_4_selected.9.png
index 6fdff3382..4ecb33e3e 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_4_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_4_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_5.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_5.9.png
index bc0630426..5982e0ebc 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_5.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_5.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_5_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_5_photo.9.png
index 32ab80be8..832c7b1be 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_5_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_5_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_5_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_5_photo_selected.9.png
index d6f7e6970..f8771f57b 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_5_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_5_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_5_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_5_selected.9.png
index d682b616e..4d36fa41e 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_5_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_5_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_6.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_6.9.png
index 2e99e338d..9fec686eb 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_6.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_6.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_6_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_6_photo.9.png
index bee776b69..7f7236630 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_6_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_6_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_6_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_6_photo_selected.9.png
index 3f2ed45e4..ff7de7d68 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_6_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_6_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_6_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_6_selected.9.png
index 5db329b5d..cfbe1fb72 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_6_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_6_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_7.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_7.9.png
index 1b55d8340..17b90a1af 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_7.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_7.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_7_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_7_photo.9.png
index 32ab80be8..832c7b1be 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_7_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_7_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_7_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_7_photo_selected.9.png
index d6f7e6970..f8771f57b 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_7_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_7_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_7_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_7_selected.9.png
index f9b5a8c15..d12fd9793 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_7_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_7_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_8.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_8.9.png
index c7cb2a79f..946ff5155 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_8.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_8.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_8_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_8_photo.9.png
index 32ab80be8..832c7b1be 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_8_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_8_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_8_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_8_photo_selected.9.png
index d6f7e6970..f8771f57b 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_8_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_8_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_8_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_8_selected.9.png
index fe481e657..edda629f6 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_8_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_8_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_9.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_9.9.png
index 61eef7971..6853a0bba 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_9.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_9.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_9_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_9_photo.9.png
index 15e64432f..fd7f1083c 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_9_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_9_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_9_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_9_photo_selected.9.png
index 35a73ca67..d6e9b6713 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_9_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_9_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_9_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_9_selected.9.png
index 533e3a8b7..d57002fdb 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_9_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_9_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_photo.9.png
new file mode 100644
index 000000000..e92d7aedb
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_photo_selected.9.png
new file mode 100644
index 000000000..f88932d19
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_selected.9.png
new file mode 100644
index 000000000..a7638c2d6
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_shadow.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_shadow.9.png
index c97fb2a18..b15b6d69c 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_in_shadow.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_in_shadow.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_instant.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_instant.png
index 0d44d5ac6..1a7a0557a 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_instant.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_instant.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out.9.png
index 9087ef0c2..22d8e6f79 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_10.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_10.9.png
index 4ea8a5dd2..68ee42058 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_10.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_10.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_10_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_10_photo.9.png
index 134dbf972..6060a3d4d 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_10_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_10_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_10_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_10_photo_selected.9.png
index 6dccb9c78..6435674df 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_10_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_10_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_10_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_10_selected.9.png
index 707b28adf..ce22aa401 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_10_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_10_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_11.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_11.9.png
index d1f96f672..ca01f651b 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_11.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_11.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_11_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_11_photo.9.png
index a6729041b..2c3162c2c 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_11_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_11_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_11_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_11_photo_selected.9.png
index eab848e84..fade72d00 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_11_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_11_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_11_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_11_selected.9.png
index e0d5cf2ce..546ff16e6 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_11_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_11_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_12.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_12.9.png
index c90207d15..2be46008e 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_12.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_12.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_12_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_12_photo.9.png
index 0042b61d7..9b605e331 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_12_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_12_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_12_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_12_photo_selected.9.png
index 14488cea6..931ec7d96 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_12_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_12_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_12_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_12_selected.9.png
index 24e43603d..eec15fa93 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_12_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_12_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_13.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_13.9.png
index 70685275b..6c1f80d68 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_13.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_13.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_13_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_13_photo.9.png
index ec0087aab..7f52c7a65 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_13_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_13_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_13_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_13_photo_selected.9.png
index 7cb32e1a9..22e3e8d6a 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_13_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_13_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_13_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_13_selected.9.png
index 4aca750db..a663d2cba 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_13_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_13_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_2.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_2.9.png
index c1460b055..923c699c1 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_2.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_2.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_2_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_2_photo.9.png
index 75dace2e3..89379e54b 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_2_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_2_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_2_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_2_photo_selected.9.png
index bc8121c1f..c343c0f38 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_2_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_2_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_2_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_2_selected.9.png
index b8a505e0f..f4e43ec4b 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_2_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_2_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_3.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_3.9.png
index 3ca21936b..94742ba31 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_3.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_3.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_3_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_3_photo.9.png
index 134dbf972..6060a3d4d 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_3_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_3_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_3_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_3_photo_selected.9.png
index 6dccb9c78..6435674df 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_3_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_3_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_3_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_3_selected.9.png
index 99ece8a06..5af92ae8f 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_3_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_3_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_4.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_4.9.png
index 3c4e1582b..b8c1e33eb 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_4.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_4.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_4_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_4_photo.9.png
index 6508081bd..5915f515d 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_4_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_4_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_4_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_4_photo_selected.9.png
index 1711d90d7..255454f41 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_4_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_4_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_4_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_4_selected.9.png
index 66f5b757b..405a05603 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_4_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_4_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_5.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_5.9.png
index a497040b1..7e353c78d 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_5.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_5.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_5_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_5_photo.9.png
index 98653f674..d1871f279 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_5_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_5_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_5_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_5_photo_selected.9.png
index b1692f3bc..2ac6efd9c 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_5_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_5_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_5_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_5_selected.9.png
index a497040b1..7e353c78d 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_5_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_5_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_6.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_6.9.png
index bb4dd39b5..001f67c85 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_6.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_6.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_6_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_6_photo.9.png
index 3c413e696..4d40f1efc 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_6_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_6_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_6_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_6_photo_selected.9.png
index 3bf45f657..bfa278f93 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_6_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_6_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_6_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_6_selected.9.png
index bb4dd39b5..001f67c85 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_6_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_6_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_7.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_7.9.png
index 11cffd7e4..88e5ce7e0 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_7.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_7.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_7_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_7_photo.9.png
index 98653f674..d1871f279 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_7_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_7_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_7_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_7_photo_selected.9.png
index b1692f3bc..2ac6efd9c 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_7_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_7_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_7_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_7_selected.9.png
index 2e77829b0..f40f47a31 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_7_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_7_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_8.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_8.9.png
index 950bd7bb4..a7e4801f4 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_8.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_8.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_8_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_8_photo.9.png
index 98653f674..d1871f279 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_8_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_8_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_8_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_8_photo_selected.9.png
index b1692f3bc..2ac6efd9c 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_8_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_8_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_8_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_8_selected.9.png
index ea6ac0380..be15dd9e5 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_8_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_8_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_9.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_9.9.png
index dd5c729af..e09fbf5fd 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_9.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_9.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_9_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_9_photo.9.png
index 75dace2e3..89379e54b 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_9_photo.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_9_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_9_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_9_photo_selected.9.png
index bc8121c1f..c343c0f38 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_9_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_9_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_9_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_9_selected.9.png
index b0239a00c..2f7131fca 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_9_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_9_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_photo.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_photo.9.png
new file mode 100644
index 000000000..f8f07f7fb
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_photo_selected.9.png
new file mode 100644
index 000000000..3d5b1f9fa
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_selected.9.png
new file mode 100644
index 000000000..5e01d8fe3
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_shadow.9.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_shadow.9.png
index 9899e38da..6d315252a 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_out_shadow.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_out_shadow.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/msg_warning.png b/TMessagesProj/src/main/res/drawable-hdpi/msg_warning.png
index c52eebd93..8c3a54cac 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/msg_warning.png and b/TMessagesProj/src/main/res/drawable-hdpi/msg_warning.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/mute_blue.png b/TMessagesProj/src/main/res/drawable-hdpi/mute_blue.png
new file mode 100644
index 000000000..27af0fa13
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/mute_blue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/mute_grey.png b/TMessagesProj/src/main/res/drawable-hdpi/mute_grey.png
new file mode 100644
index 000000000..57a0acb9f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/mute_grey.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/myloc_on.png b/TMessagesProj/src/main/res/drawable-hdpi/myloc_on.png
index ad517c3a7..0e93b8072 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/myloc_on.png and b/TMessagesProj/src/main/res/drawable-hdpi/myloc_on.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/newmsg_divider.png b/TMessagesProj/src/main/res/drawable-hdpi/newmsg_divider.png
index 58321338a..b6c3c9a33 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/newmsg_divider.png and b/TMessagesProj/src/main/res/drawable-hdpi/newmsg_divider.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/nocover.png b/TMessagesProj/src/main/res/drawable-hdpi/nocover.png
index 27d173943..4c0748a94 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/nocover.png and b/TMessagesProj/src/main/res/drawable-hdpi/nocover.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/notification.png b/TMessagesProj/src/main/res/drawable-hdpi/notification.png
index e9ba19015..8b8dfbb0a 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/notification.png and b/TMessagesProj/src/main/res/drawable-hdpi/notification.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/notify_members_off.png b/TMessagesProj/src/main/res/drawable-hdpi/notify_members_off.png
index 4f8ac8214..6f77fbdcf 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/notify_members_off.png and b/TMessagesProj/src/main/res/drawable-hdpi/notify_members_off.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/notify_members_on.png b/TMessagesProj/src/main/res/drawable-hdpi/notify_members_on.png
index d6bd8e531..cd6f42297 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/notify_members_on.png and b/TMessagesProj/src/main/res/drawable-hdpi/notify_members_on.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/numberpicker_selection_divider.9.png b/TMessagesProj/src/main/res/drawable-hdpi/numberpicker_selection_divider.9.png
new file mode 100644
index 000000000..c9c72ba61
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/numberpicker_selection_divider.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/numberpicker_selection_divider_white.9.png b/TMessagesProj/src/main/res/drawable-hdpi/numberpicker_selection_divider_white.9.png
index 8374d1016..77e096cda 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/numberpicker_selection_divider_white.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/numberpicker_selection_divider_white.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/pagedown.png b/TMessagesProj/src/main/res/drawable-hdpi/pagedown.png
index 18c03ae07..21ed36ba4 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/pagedown.png and b/TMessagesProj/src/main/res/drawable-hdpi/pagedown.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/passcode_logo.png b/TMessagesProj/src/main/res/drawable-hdpi/passcode_logo.png
index a004ca95c..b80db564e 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/passcode_logo.png and b/TMessagesProj/src/main/res/drawable-hdpi/passcode_logo.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/pause_b.png b/TMessagesProj/src/main/res/drawable-hdpi/pause_b.png
new file mode 100644
index 000000000..a9ac7a794
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/pause_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/pause_b_s.png b/TMessagesProj/src/main/res/drawable-hdpi/pause_b_s.png
new file mode 100644
index 000000000..fe250126e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/pause_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/pause_g.png b/TMessagesProj/src/main/res/drawable-hdpi/pause_g.png
new file mode 100644
index 000000000..b8bd88ef3
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/pause_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/pause_g_s.png b/TMessagesProj/src/main/res/drawable-hdpi/pause_g_s.png
new file mode 100644
index 000000000..f9b9d4285
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/pause_g_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/phone_change.png b/TMessagesProj/src/main/res/drawable-hdpi/phone_change.png
index 592645f6c..dfd3a8e4b 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/phone_change.png and b/TMessagesProj/src/main/res/drawable-hdpi/phone_change.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/phone_grey.png b/TMessagesProj/src/main/res/drawable-hdpi/phone_grey.png
new file mode 100644
index 000000000..e1d32825a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/phone_grey.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/photo_text2.png b/TMessagesProj/src/main/res/drawable-hdpi/photo_text2.png
index 7efa1adb6..9e0fc848b 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/photo_text2.png and b/TMessagesProj/src/main/res/drawable-hdpi/photo_text2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/photocancel.png b/TMessagesProj/src/main/res/drawable-hdpi/photocancel.png
new file mode 100644
index 000000000..fb7572ece
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/photocancel.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/photocancel_b.png b/TMessagesProj/src/main/res/drawable-hdpi/photocancel_b.png
new file mode 100644
index 000000000..780ecf6ac
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/photocancel_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/photocancel_b_s.png b/TMessagesProj/src/main/res/drawable-hdpi/photocancel_b_s.png
new file mode 100644
index 000000000..6c2bc841f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/photocancel_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/photocancel_g.png b/TMessagesProj/src/main/res/drawable-hdpi/photocancel_g.png
new file mode 100644
index 000000000..23200be5d
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/photocancel_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/photocancel_g_s.png b/TMessagesProj/src/main/res/drawable-hdpi/photocancel_g_s.png
new file mode 100644
index 000000000..a8aad3a0e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/photocancel_g_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/photocancel_pressed.png b/TMessagesProj/src/main/res/drawable-hdpi/photocancel_pressed.png
new file mode 100644
index 000000000..3aa1632d8
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/photocancel_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/photogif.png b/TMessagesProj/src/main/res/drawable-hdpi/photogif.png
new file mode 100644
index 000000000..0033e3db6
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/photogif.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/photogif_pressed.png b/TMessagesProj/src/main/res/drawable-hdpi/photogif_pressed.png
new file mode 100644
index 000000000..ec339890c
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/photogif_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/photoload.png b/TMessagesProj/src/main/res/drawable-hdpi/photoload.png
new file mode 100644
index 000000000..2dbd58252
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/photoload.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/photoload_b.png b/TMessagesProj/src/main/res/drawable-hdpi/photoload_b.png
new file mode 100644
index 000000000..f78f534d8
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/photoload_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/photoload_b_s.png b/TMessagesProj/src/main/res/drawable-hdpi/photoload_b_s.png
new file mode 100644
index 000000000..563dd17c5
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/photoload_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/photoload_g.png b/TMessagesProj/src/main/res/drawable-hdpi/photoload_g.png
new file mode 100644
index 000000000..bb7ba472c
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/photoload_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/photoload_g_s.png b/TMessagesProj/src/main/res/drawable-hdpi/photoload_g_s.png
new file mode 100644
index 000000000..027d0da08
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/photoload_g_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/photoload_pressed.png b/TMessagesProj/src/main/res/drawable-hdpi/photoload_pressed.png
new file mode 100644
index 000000000..588a4fa7b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/photoload_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/phototime_white.9.png b/TMessagesProj/src/main/res/drawable-hdpi/phototime_white.9.png
index af627ffb8..399fd54c3 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/phototime_white.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/phototime_white.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/pin.png b/TMessagesProj/src/main/res/drawable-hdpi/pin.png
index e3a4f7962..386acb228 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/pin.png and b/TMessagesProj/src/main/res/drawable-hdpi/pin.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/pl_next.png b/TMessagesProj/src/main/res/drawable-hdpi/pl_next.png
index 6617d44de..c65818124 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/pl_next.png and b/TMessagesProj/src/main/res/drawable-hdpi/pl_next.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/pl_next_pressed.png b/TMessagesProj/src/main/res/drawable-hdpi/pl_next_pressed.png
new file mode 100644
index 000000000..5a01fac92
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/pl_next_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/pl_pause.png b/TMessagesProj/src/main/res/drawable-hdpi/pl_pause.png
index c83137501..c3cbab416 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/pl_pause.png and b/TMessagesProj/src/main/res/drawable-hdpi/pl_pause.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/pl_pause_pressed.png b/TMessagesProj/src/main/res/drawable-hdpi/pl_pause_pressed.png
new file mode 100644
index 000000000..4ec1ead1a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/pl_pause_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/pl_play.png b/TMessagesProj/src/main/res/drawable-hdpi/pl_play.png
index 1d2312f70..434039be9 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/pl_play.png and b/TMessagesProj/src/main/res/drawable-hdpi/pl_play.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/pl_play_pressed.png b/TMessagesProj/src/main/res/drawable-hdpi/pl_play_pressed.png
new file mode 100644
index 000000000..836f92d59
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/pl_play_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/pl_previous.png b/TMessagesProj/src/main/res/drawable-hdpi/pl_previous.png
index d9662db4a..b9d678725 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/pl_previous.png and b/TMessagesProj/src/main/res/drawable-hdpi/pl_previous.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/pl_previous_pressed.png b/TMessagesProj/src/main/res/drawable-hdpi/pl_previous_pressed.png
new file mode 100644
index 000000000..4ef7d468b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/pl_previous_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/pl_repeat.png b/TMessagesProj/src/main/res/drawable-hdpi/pl_repeat.png
index 4450600ce..492637b71 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/pl_repeat.png and b/TMessagesProj/src/main/res/drawable-hdpi/pl_repeat.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/pl_repeat1_active.png b/TMessagesProj/src/main/res/drawable-hdpi/pl_repeat1_active.png
new file mode 100644
index 000000000..4379bbd2c
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/pl_repeat1_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/pl_repeat_active.png b/TMessagesProj/src/main/res/drawable-hdpi/pl_repeat_active.png
new file mode 100644
index 000000000..432f02870
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/pl_repeat_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/pl_shuffle.png b/TMessagesProj/src/main/res/drawable-hdpi/pl_shuffle.png
index fcd1cac3e..0389f00b9 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/pl_shuffle.png and b/TMessagesProj/src/main/res/drawable-hdpi/pl_shuffle.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/pl_shuffle_active.png b/TMessagesProj/src/main/res/drawable-hdpi/pl_shuffle_active.png
new file mode 100644
index 000000000..c1c5ab850
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/pl_shuffle_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/place_x.png b/TMessagesProj/src/main/res/drawable-hdpi/place_x.png
index 734a1466a..c4ee065d3 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/place_x.png and b/TMessagesProj/src/main/res/drawable-hdpi/place_x.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/play_b.png b/TMessagesProj/src/main/res/drawable-hdpi/play_b.png
new file mode 100644
index 000000000..702c57a9a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/play_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/play_b_s.png b/TMessagesProj/src/main/res/drawable-hdpi/play_b_s.png
new file mode 100644
index 000000000..fd1dc1228
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/play_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/play_big.png b/TMessagesProj/src/main/res/drawable-hdpi/play_big.png
index ede6189a8..a4e74383e 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/play_big.png and b/TMessagesProj/src/main/res/drawable-hdpi/play_big.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/play_g.png b/TMessagesProj/src/main/res/drawable-hdpi/play_g.png
new file mode 100644
index 000000000..6b61de3ff
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/play_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/play_g_s.png b/TMessagesProj/src/main/res/drawable-hdpi/play_g_s.png
new file mode 100644
index 000000000..0cffb436f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/play_g_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/playvideo.png b/TMessagesProj/src/main/res/drawable-hdpi/playvideo.png
new file mode 100644
index 000000000..1bead9ee9
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/playvideo.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/playvideo_pressed.png b/TMessagesProj/src/main/res/drawable-hdpi/playvideo_pressed.png
new file mode 100644
index 000000000..63b03ebb4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/playvideo_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/plus.png b/TMessagesProj/src/main/res/drawable-hdpi/plus.png
index 1bc967dfe..0c2063264 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/plus.png and b/TMessagesProj/src/main/res/drawable-hdpi/plus.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/post_views.png b/TMessagesProj/src/main/res/drawable-hdpi/post_views.png
new file mode 100644
index 000000000..ec2add861
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/post_views.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/post_views_s.png b/TMessagesProj/src/main/res/drawable-hdpi/post_views_s.png
new file mode 100644
index 000000000..ab68d75a0
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/post_views_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/post_views_w.png b/TMessagesProj/src/main/res/drawable-hdpi/post_views_w.png
new file mode 100644
index 000000000..a224f5961
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/post_views_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/post_viewsg.png b/TMessagesProj/src/main/res/drawable-hdpi/post_viewsg.png
new file mode 100644
index 000000000..ff153d198
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/post_viewsg.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/profile_list.png b/TMessagesProj/src/main/res/drawable-hdpi/profile_list.png
index 56a4d8933..c201168e4 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/profile_list.png and b/TMessagesProj/src/main/res/drawable-hdpi/profile_list.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/publish.png b/TMessagesProj/src/main/res/drawable-hdpi/publish.png
new file mode 100644
index 000000000..978024758
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/publish.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/publish_active.png b/TMessagesProj/src/main/res/drawable-hdpi/publish_active.png
new file mode 100644
index 000000000..9354ce65f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/publish_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/recorded.9.png b/TMessagesProj/src/main/res/drawable-hdpi/recorded.9.png
new file mode 100644
index 000000000..5709cf575
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/recorded.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/regbtn2.9.png b/TMessagesProj/src/main/res/drawable-hdpi/regbtn2.9.png
index 715b972ea..2b757d35d 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/regbtn2.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/regbtn2.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/regbtn2_pressed.9.png b/TMessagesProj/src/main/res/drawable-hdpi/regbtn2_pressed.9.png
index 49da253e7..15e60441a 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/regbtn2_pressed.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/regbtn2_pressed.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/reply.png b/TMessagesProj/src/main/res/drawable-hdpi/reply.png
new file mode 100644
index 000000000..98db79e65
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/reply.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/s_pause_pressed.png b/TMessagesProj/src/main/res/drawable-hdpi/s_pause_pressed.png
new file mode 100644
index 000000000..1965bd3be
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/s_pause_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/s_play_pressed.png b/TMessagesProj/src/main/res/drawable-hdpi/s_play_pressed.png
new file mode 100644
index 000000000..56284c35a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/s_play_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/search_dark.9.png b/TMessagesProj/src/main/res/drawable-hdpi/search_dark.9.png
index cbe5823ba..a178a67f0 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/search_dark.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/search_dark.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/search_dark_activated.9.png b/TMessagesProj/src/main/res/drawable-hdpi/search_dark_activated.9.png
index 5fb492d87..d5d4c78b0 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/search_dark_activated.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/search_dark_activated.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/search_down.png b/TMessagesProj/src/main/res/drawable-hdpi/search_down.png
index 59b3e1960..f7831fa7a 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/search_down.png and b/TMessagesProj/src/main/res/drawable-hdpi/search_down.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/search_share.png b/TMessagesProj/src/main/res/drawable-hdpi/search_share.png
new file mode 100644
index 000000000..e5bf1d95c
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/search_share.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/search_up.png b/TMessagesProj/src/main/res/drawable-hdpi/search_up.png
index cfb07e55d..41839a16b 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/search_up.png and b/TMessagesProj/src/main/res/drawable-hdpi/search_up.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/slidearrow.png b/TMessagesProj/src/main/res/drawable-hdpi/slidearrow.png
index f7c95e8e3..b04164901 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/slidearrow.png and b/TMessagesProj/src/main/res/drawable-hdpi/slidearrow.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/stickercounter.9.png b/TMessagesProj/src/main/res/drawable-hdpi/stickercounter.9.png
new file mode 100644
index 000000000..e17364d60
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/stickercounter.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/stickers_back_left.9.png b/TMessagesProj/src/main/res/drawable-hdpi/stickers_back_left.9.png
index 6afd3266a..c50efac83 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/stickers_back_left.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/stickers_back_left.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/stickers_back_right.9.png b/TMessagesProj/src/main/res/drawable-hdpi/stickers_back_right.9.png
index c87f02450..068039da0 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/stickers_back_right.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/stickers_back_right.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/system_white.9.png b/TMessagesProj/src/main/res/drawable-hdpi/system_white.9.png
new file mode 100644
index 000000000..b3913d6b3
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/system_white.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/system_white_3.9.png b/TMessagesProj/src/main/res/drawable-hdpi/system_white_3.9.png
new file mode 100644
index 000000000..bfc0f1eaf
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/system_white_3.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/system_white_4.9.png b/TMessagesProj/src/main/res/drawable-hdpi/system_white_4.9.png
new file mode 100644
index 000000000..8804dfd59
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/system_white_4.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/tab_all.png b/TMessagesProj/src/main/res/drawable-hdpi/tab_all.png
index 447814f7d..7ec922398 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/tab_all.png and b/TMessagesProj/src/main/res/drawable-hdpi/tab_all.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/tab_bg_selected.xml b/TMessagesProj/src/main/res/drawable-hdpi/tab_bg_selected.xml
index a1fc5f259..47e5005a2 100644
--- a/TMessagesProj/src/main/res/drawable-hdpi/tab_bg_selected.xml
+++ b/TMessagesProj/src/main/res/drawable-hdpi/tab_bg_selected.xml
@@ -1,4 +1,6 @@
 <?xml version="1.0" encoding="utf-8"?>
-<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle">
-    <gradient android:startColor="#31a3dd" android:endColor="#2ca5e0" android:angle="-90.0" android:centerColor="#31a3dd" />
+<shape xmlns:android="http://schemas.android.com/apk/res/android"
+	android:shape="rectangle">
+	<gradient android:startColor="#31A3DD" android:centerColor="#31A3DD"
+		android:endColor="#2CA5E0" android:angle="-90" />
 </shape>
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/tab_bg_selector.xml b/TMessagesProj/src/main/res/drawable-hdpi/tab_bg_selector.xml
index 462fe3f91..4ede9cf30 100644
--- a/TMessagesProj/src/main/res/drawable-hdpi/tab_bg_selector.xml
+++ b/TMessagesProj/src/main/res/drawable-hdpi/tab_bg_selector.xml
@@ -1,7 +1,10 @@
 <?xml version="1.0" encoding="utf-8"?>
 <selector xmlns:android="http://schemas.android.com/apk/res/android">
-    <item android:state_focused="false" android:state_selected="true" android:state_pressed="false" android:drawable="@drawable/tab_bg_selected" />
-    <item android:state_focused="false" android:state_selected="false" android:state_pressed="false" android:drawable="@drawable/tab_bg_unselected" />
-    <item android:state_pressed="true" android:drawable="0x106000d" />
-    <item android:state_focused="true" android:state_selected="true" android:state_pressed="false" android:drawable="0x106000d" />
+	<item android:state_selected="true" android:state_focused="false"
+		android:state_pressed="false" android:drawable="@drawable/tab_bg_selected" />
+	<item android:state_selected="false" android:state_focused="false"
+		android:state_pressed="false" android:drawable="@drawable/tab_bg_unselected" />
+	<item android:state_pressed="true" android:drawable="@android:color/transparent" />
+	<item android:state_focused="true" android:state_selected="true"
+		android:state_pressed="false" android:drawable="@android:color/transparent" />
 </selector>
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/tab_bg_unselected.xml b/TMessagesProj/src/main/res/drawable-hdpi/tab_bg_unselected.xml
index 12abb21fb..c890cef3d 100644
--- a/TMessagesProj/src/main/res/drawable-hdpi/tab_bg_unselected.xml
+++ b/TMessagesProj/src/main/res/drawable-hdpi/tab_bg_unselected.xml
@@ -1,4 +1,6 @@
 <?xml version="1.0" encoding="utf-8"?>
-<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle">
-    <gradient android:startColor="#bdbdbd" android:endColor="#bdbdbd" android:angle="-90.0" android:centerColor="#bdbdbd" />
+<shape xmlns:android="http://schemas.android.com/apk/res/android"
+	android:shape="rectangle">
+	<gradient android:startColor="#BDBDBD" android:centerColor="#BDBDBD"
+		android:endColor="#BDBDBD" android:angle="-90" />
 </shape>
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/tab_bot.png b/TMessagesProj/src/main/res/drawable-hdpi/tab_bot.png
index a4af59c91..bc252c774 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/tab_bot.png and b/TMessagesProj/src/main/res/drawable-hdpi/tab_bot.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/tab_channel.png b/TMessagesProj/src/main/res/drawable-hdpi/tab_channel.png
index 3d7ef97ed..439cbb7cd 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/tab_channel.png and b/TMessagesProj/src/main/res/drawable-hdpi/tab_channel.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/tab_favs.png b/TMessagesProj/src/main/res/drawable-hdpi/tab_favs.png
index c8523bd9e..c42f507ed 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/tab_favs.png and b/TMessagesProj/src/main/res/drawable-hdpi/tab_favs.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/tab_group.png b/TMessagesProj/src/main/res/drawable-hdpi/tab_group.png
index e1b749e99..91f99f888 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/tab_group.png and b/TMessagesProj/src/main/res/drawable-hdpi/tab_group.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/tab_selected.9.png b/TMessagesProj/src/main/res/drawable-hdpi/tab_selected.9.png
index bebbe6a15..181a528ed 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/tab_selected.9.png and b/TMessagesProj/src/main/res/drawable-hdpi/tab_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/tab_supergroup.png b/TMessagesProj/src/main/res/drawable-hdpi/tab_supergroup.png
index 310bbd669..b4e7e907b 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/tab_supergroup.png and b/TMessagesProj/src/main/res/drawable-hdpi/tab_supergroup.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/tab_text_selector.xml b/TMessagesProj/src/main/res/drawable-hdpi/tab_text_selector.xml
index ec31389cc..2c74af624 100644
--- a/TMessagesProj/src/main/res/drawable-hdpi/tab_text_selector.xml
+++ b/TMessagesProj/src/main/res/drawable-hdpi/tab_text_selector.xml
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="utf-8"?>
 <selector xmlns:android="http://schemas.android.com/apk/res/android">
-    <item android:state_selected="true" android:color="0x106000b" />
-    <item android:state_focused="true" android:color="0x106000b" />
-    <item android:state_pressed="true" android:color="0x106000b" />
+    <item android:state_selected="true" android:color="@android:color/white" />
+    <item android:state_focused="true" android:color="@android:color/white" />
+    <item android:state_pressed="true" android:color="@android:color/white" />
     <item android:color="#575757" />
 </selector>
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/tab_user.png b/TMessagesProj/src/main/res/drawable-hdpi/tab_user.png
index 50228149b..98d50a264 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/tab_user.png and b/TMessagesProj/src/main/res/drawable-hdpi/tab_user.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/tooltip.9.png b/TMessagesProj/src/main/res/drawable-hdpi/tooltip.9.png
new file mode 100644
index 000000000..dba0f1598
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/tooltip.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/transparentback.png b/TMessagesProj/src/main/res/drawable-hdpi/transparentback.png
index de0161688..0c283adb9 100644
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/transparentback.png and b/TMessagesProj/src/main/res/drawable-hdpi/transparentback.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/transparentbackrepeat.xml b/TMessagesProj/src/main/res/drawable-hdpi/transparentbackrepeat.xml
index 8e5201f2c..f2bb5bf6e 100644
--- a/TMessagesProj/src/main/res/drawable-hdpi/transparentbackrepeat.xml
+++ b/TMessagesProj/src/main/res/drawable-hdpi/transparentbackrepeat.xml
@@ -1,2 +1,3 @@
 <?xml version="1.0" encoding="utf-8"?>
-<bitmap xmlns:android="http://schemas.android.com/apk/res/android" android:src="@drawable/transparentback" android:tileMode="repeat" />
+<bitmap android:src="@drawable/transparentback" android:tileMode="repeat"
+  xmlns:android="http://schemas.android.com/apk/res/android" />
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/videolapse.png b/TMessagesProj/src/main/res/drawable-hdpi/videolapse.png
new file mode 100644
index 000000000..9165609b2
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/videolapse.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/videotrimmer.png b/TMessagesProj/src/main/res/drawable-hdpi/videotrimmer.png
new file mode 100644
index 000000000..c28033118
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/videotrimmer.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/addmember.png b/TMessagesProj/src/main/res/drawable-mdpi/addmember.png
new file mode 100644
index 000000000..439b82d41
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/addmember.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/admin_star.png b/TMessagesProj/src/main/res/drawable-mdpi/admin_star.png
index 23e2a094b..d676d01e4 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/admin_star.png and b/TMessagesProj/src/main/res/drawable-mdpi/admin_star.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/admin_star2.png b/TMessagesProj/src/main/res/drawable-mdpi/admin_star2.png
new file mode 100644
index 000000000..150fb2159
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/admin_star2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/assign_manager.png b/TMessagesProj/src/main/res/drawable-mdpi/assign_manager.png
new file mode 100644
index 000000000..40800d94b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/assign_manager.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/audiosend_pause.png b/TMessagesProj/src/main/res/drawable-mdpi/audiosend_pause.png
index cc46f5653..df9cc8f14 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/audiosend_pause.png and b/TMessagesProj/src/main/res/drawable-mdpi/audiosend_pause.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/audiosend_play.png b/TMessagesProj/src/main/res/drawable-mdpi/audiosend_play.png
index ec37d365f..b2352c30a 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/audiosend_play.png and b/TMessagesProj/src/main/res/drawable-mdpi/audiosend_play.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/background_hd.jpg b/TMessagesProj/src/main/res/drawable-mdpi/background_hd.jpg
index 9087f3e2a..772f2e871 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/background_hd.jpg and b/TMessagesProj/src/main/res/drawable-mdpi/background_hd.jpg differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/bot_file.png b/TMessagesProj/src/main/res/drawable-mdpi/bot_file.png
index 38f4b9d00..44b53c442 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/bot_file.png and b/TMessagesProj/src/main/res/drawable-mdpi/bot_file.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/bot_info.png b/TMessagesProj/src/main/res/drawable-mdpi/bot_info.png
new file mode 100644
index 000000000..d25ea6e3e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/bot_info.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/bot_keyboard.png b/TMessagesProj/src/main/res/drawable-mdpi/bot_keyboard.png
index cf775a2d8..0e9f59a4c 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/bot_keyboard.png and b/TMessagesProj/src/main/res/drawable-mdpi/bot_keyboard.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/bot_keyboard2.png b/TMessagesProj/src/main/res/drawable-mdpi/bot_keyboard2.png
index 4631330cb..200acbe00 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/bot_keyboard2.png and b/TMessagesProj/src/main/res/drawable-mdpi/bot_keyboard2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/bot_keyboard_button.9.png b/TMessagesProj/src/main/res/drawable-mdpi/bot_keyboard_button.9.png
new file mode 100644
index 000000000..d84e51881
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/bot_keyboard_button.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/bot_keyboard_button_pressed.9.png b/TMessagesProj/src/main/res/drawable-mdpi/bot_keyboard_button_pressed.9.png
new file mode 100644
index 000000000..094720870
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/bot_keyboard_button_pressed.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/bot_list.png b/TMessagesProj/src/main/res/drawable-mdpi/bot_list.png
new file mode 100644
index 000000000..41a7ae2f0
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/bot_list.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/bot_location.png b/TMessagesProj/src/main/res/drawable-mdpi/bot_location.png
index f2b4113de..e18474ab1 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/bot_location.png and b/TMessagesProj/src/main/res/drawable-mdpi/bot_location.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/bot_music.png b/TMessagesProj/src/main/res/drawable-mdpi/bot_music.png
index 36c1bb4ad..2a9f2e532 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/bot_music.png and b/TMessagesProj/src/main/res/drawable-mdpi/bot_music.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/bottom_shadow.png b/TMessagesProj/src/main/res/drawable-mdpi/bottom_shadow.png
index 08ede3f29..3e170fda5 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/bottom_shadow.png and b/TMessagesProj/src/main/res/drawable-mdpi/bottom_shadow.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/broadcast2.png b/TMessagesProj/src/main/res/drawable-mdpi/broadcast2.png
new file mode 100644
index 000000000..57e7d3b31
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/broadcast2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/broadcast3.png b/TMessagesProj/src/main/res/drawable-mdpi/broadcast3.png
index 4024613db..fb81e5ebf 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/broadcast3.png and b/TMessagesProj/src/main/res/drawable-mdpi/broadcast3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/broadcast4.png b/TMessagesProj/src/main/res/drawable-mdpi/broadcast4.png
new file mode 100644
index 000000000..dda48af2b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/broadcast4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/cancel_big.png b/TMessagesProj/src/main/res/drawable-mdpi/cancel_big.png
index 105022781..8ffce8e40 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/cancel_big.png and b/TMessagesProj/src/main/res/drawable-mdpi/cancel_big.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/cats.jpg b/TMessagesProj/src/main/res/drawable-mdpi/cats.jpg
new file mode 100644
index 000000000..c32ce0403
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/cats.jpg differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/chats_favs.png b/TMessagesProj/src/main/res/drawable-mdpi/chats_favs.png
deleted file mode 100644
index ef7b94fc9..000000000
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/chats_favs.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/chats_mute.png b/TMessagesProj/src/main/res/drawable-mdpi/chats_mute.png
deleted file mode 100644
index b83431e8d..000000000
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/chats_mute.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/chats_nofavs.png b/TMessagesProj/src/main/res/drawable-mdpi/chats_nofavs.png
deleted file mode 100644
index 72d1877c2..000000000
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/chats_nofavs.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/chats_read.png b/TMessagesProj/src/main/res/drawable-mdpi/chats_read.png
deleted file mode 100644
index 45885dd97..000000000
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/chats_read.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/chats_shortcut.png b/TMessagesProj/src/main/res/drawable-mdpi/chats_shortcut.png
deleted file mode 100644
index b930772b5..000000000
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/chats_shortcut.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/chats_unmute.png b/TMessagesProj/src/main/res/drawable-mdpi/chats_unmute.png
deleted file mode 100644
index ebd661e2a..000000000
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/chats_unmute.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/chats_unread.png b/TMessagesProj/src/main/res/drawable-mdpi/chats_unread.png
deleted file mode 100644
index 02f729cf9..000000000
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/chats_unread.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/check_blue.png b/TMessagesProj/src/main/res/drawable-mdpi/check_blue.png
new file mode 100644
index 000000000..c37aa71b2
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/check_blue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/check_list.png b/TMessagesProj/src/main/res/drawable-mdpi/check_list.png
new file mode 100644
index 000000000..4061ffae9
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/check_list.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/check_profile.png b/TMessagesProj/src/main/res/drawable-mdpi/check_profile.png
new file mode 100644
index 000000000..ada9e496d
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/check_profile.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/circle_big.png b/TMessagesProj/src/main/res/drawable-mdpi/circle_big.png
index a42899d88..46266d416 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/circle_big.png and b/TMessagesProj/src/main/res/drawable-mdpi/circle_big.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/common_google_signin_btn_icon_dark_normal_background.9.png b/TMessagesProj/src/main/res/drawable-mdpi/common_google_signin_btn_icon_dark_normal_background.9.png
deleted file mode 100644
index d2f52eccc..000000000
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/common_google_signin_btn_icon_dark_normal_background.9.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/common_google_signin_btn_icon_light_normal_background.9.png b/TMessagesProj/src/main/res/drawable-mdpi/common_google_signin_btn_icon_light_normal_background.9.png
deleted file mode 100644
index afa4b494c..000000000
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/common_google_signin_btn_icon_light_normal_background.9.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/common_google_signin_btn_text_dark_normal_background.9.png b/TMessagesProj/src/main/res/drawable-mdpi/common_google_signin_btn_text_dark_normal_background.9.png
deleted file mode 100644
index 307a12fa8..000000000
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/common_google_signin_btn_text_dark_normal_background.9.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/common_google_signin_btn_text_light_normal_background.9.png b/TMessagesProj/src/main/res/drawable-mdpi/common_google_signin_btn_text_light_normal_background.9.png
deleted file mode 100644
index 0c313e34c..000000000
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/common_google_signin_btn_text_light_normal_background.9.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/compose_panel.9.png b/TMessagesProj/src/main/res/drawable-mdpi/compose_panel.9.png
new file mode 100644
index 000000000..d01a64efb
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/compose_panel.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/contact_blue.png b/TMessagesProj/src/main/res/drawable-mdpi/contact_blue.png
new file mode 100644
index 000000000..1b2beced2
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/contact_blue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/contact_green.png b/TMessagesProj/src/main/res/drawable-mdpi/contact_green.png
new file mode 100644
index 000000000..0cb733438
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/contact_green.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/delete_reply.png b/TMessagesProj/src/main/res/drawable-mdpi/delete_reply.png
new file mode 100644
index 000000000..2fd1c1ac9
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/delete_reply.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/devices.png b/TMessagesProj/src/main/res/drawable-mdpi/devices.png
index 9422ede4b..b6bd7a72c 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/devices.png and b/TMessagesProj/src/main/res/drawable-mdpi/devices.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_badge.9.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_badge.9.png
new file mode 100644
index 000000000..2c32c51ef
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_badge.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_badge2.9.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_badge2.9.png
new file mode 100644
index 000000000..26856e0f3
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_badge2.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check.png
new file mode 100644
index 000000000..072cce7cd
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_10.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_10.png
index f417896fd..4d77be825 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_10.png and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_11.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_11.png
index a09c52f15..edae957b0 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_11.png and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_12.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_12.png
index b7bb64433..3032df913 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_12.png and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_2.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_2.png
index e05196c70..0554f3065 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_2.png and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_3.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_3.png
index a939439f6..e559d9728 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_3.png and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_4.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_4.png
index ae6886a7a..37a762c46 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_4.png and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_5.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_5.png
index ea19e1c59..d0829b025 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_5.png and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_6.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_6.png
index 41a8c67b6..afa76a96d 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_6.png and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_7.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_7.png
index 599f3a04f..6bf1adaf4 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_7.png and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_8.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_8.png
index bfc645313..a647c304a 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_8.png and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_9.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_9.png
index 771f8a9b4..2a58571ae 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_9.png and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_check_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck.png
new file mode 100644
index 000000000..0a0d29d9f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_10.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_10.png
index bfc645313..a647c304a 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_10.png and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_11.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_11.png
index d83fdaee0..b0fc3242b 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_11.png and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_12.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_12.png
index 343346fa4..0f657069a 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_12.png and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_2.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_2.png
index e05196c70..0554f3065 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_2.png and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_3.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_3.png
index a939439f6..e559d9728 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_3.png and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_4.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_4.png
index 2efdf0637..826a998b4 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_4.png and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_5.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_5.png
index 4567ca5ba..4dc83ec82 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_5.png and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_6.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_6.png
index b43823b8f..92213ed05 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_6.png and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_7.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_7.png
index bee257626..c9c3aa336 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_7.png and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_8.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_8.png
index bfc645313..a647c304a 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_8.png and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_9.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_9.png
index c40762b30..f71b52908 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_9.png and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_halfcheck_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/dialogs_warning.png b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_warning.png
new file mode 100644
index 000000000..0c0f3fb5f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/dialogs_warning.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/doc_actions_b.png b/TMessagesProj/src/main/res/drawable-mdpi/doc_actions_b.png
new file mode 100644
index 000000000..a65aa9da9
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/doc_actions_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/doc_actions_b_s.png b/TMessagesProj/src/main/res/drawable-mdpi/doc_actions_b_s.png
new file mode 100644
index 000000000..0d86fadac
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/doc_actions_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/doc_actions_g.png b/TMessagesProj/src/main/res/drawable-mdpi/doc_actions_g.png
new file mode 100644
index 000000000..1c1921a82
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/doc_actions_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/doc_actions_w.png b/TMessagesProj/src/main/res/drawable-mdpi/doc_actions_w.png
index 9443f26c7..5a569bfd8 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/doc_actions_w.png and b/TMessagesProj/src/main/res/drawable-mdpi/doc_actions_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/doc_blue.png b/TMessagesProj/src/main/res/drawable-mdpi/doc_blue.png
new file mode 100644
index 000000000..153d689ba
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/doc_blue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/doc_blue_s.png b/TMessagesProj/src/main/res/drawable-mdpi/doc_blue_s.png
new file mode 100644
index 000000000..361da2e7f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/doc_blue_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/doc_green.png b/TMessagesProj/src/main/res/drawable-mdpi/doc_green.png
new file mode 100644
index 000000000..3636a40ca
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/doc_green.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/doc_white.png b/TMessagesProj/src/main/res/drawable-mdpi/doc_white.png
index 819e6b320..fa2a5fed0 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/doc_white.png and b/TMessagesProj/src/main/res/drawable-mdpi/doc_white.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/doccancel_b.png b/TMessagesProj/src/main/res/drawable-mdpi/doccancel_b.png
new file mode 100644
index 000000000..984b0f36f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/doccancel_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/doccancel_b_s.png b/TMessagesProj/src/main/res/drawable-mdpi/doccancel_b_s.png
new file mode 100644
index 000000000..fdf95793c
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/doccancel_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/doccancel_g.png b/TMessagesProj/src/main/res/drawable-mdpi/doccancel_g.png
new file mode 100644
index 000000000..d33f5d0bd
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/doccancel_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/doccancel_w.png b/TMessagesProj/src/main/res/drawable-mdpi/doccancel_w.png
index 0fcb2a441..148214310 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/doccancel_w.png and b/TMessagesProj/src/main/res/drawable-mdpi/doccancel_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/docload_b.png b/TMessagesProj/src/main/res/drawable-mdpi/docload_b.png
new file mode 100644
index 000000000..b6f8de393
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/docload_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/docload_b_s.png b/TMessagesProj/src/main/res/drawable-mdpi/docload_b_s.png
new file mode 100644
index 000000000..3b7fa820d
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/docload_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/docload_g.png b/TMessagesProj/src/main/res/drawable-mdpi/docload_g.png
new file mode 100644
index 000000000..bd998016d
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/docload_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/docload_w.png b/TMessagesProj/src/main/res/drawable-mdpi/docload_w.png
index 8704f34af..f57f98acf 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/docload_w.png and b/TMessagesProj/src/main/res/drawable-mdpi/docload_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/docpause_b.png b/TMessagesProj/src/main/res/drawable-mdpi/docpause_b.png
new file mode 100644
index 000000000..485fbaca9
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/docpause_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/docpause_b_s.png b/TMessagesProj/src/main/res/drawable-mdpi/docpause_b_s.png
new file mode 100644
index 000000000..dfe863db5
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/docpause_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/docpause_g.png b/TMessagesProj/src/main/res/drawable-mdpi/docpause_g.png
new file mode 100644
index 000000000..c909c00be
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/docpause_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/docpause_w.png b/TMessagesProj/src/main/res/drawable-mdpi/docpause_w.png
index 79e46d437..26bc83de9 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/docpause_w.png and b/TMessagesProj/src/main/res/drawable-mdpi/docpause_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/edit_doneblue.png b/TMessagesProj/src/main/res/drawable-mdpi/edit_doneblue.png
new file mode 100644
index 000000000..494f4f85a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/edit_doneblue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/file_b.png b/TMessagesProj/src/main/res/drawable-mdpi/file_b.png
new file mode 100644
index 000000000..463d64525
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/file_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/file_b_cancel.png b/TMessagesProj/src/main/res/drawable-mdpi/file_b_cancel.png
new file mode 100644
index 000000000..d2e695375
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/file_b_cancel.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/file_b_cancel_s.png b/TMessagesProj/src/main/res/drawable-mdpi/file_b_cancel_s.png
new file mode 100644
index 000000000..0535435fb
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/file_b_cancel_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/file_b_load.png b/TMessagesProj/src/main/res/drawable-mdpi/file_b_load.png
new file mode 100644
index 000000000..4038ef607
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/file_b_load.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/file_b_load_s.png b/TMessagesProj/src/main/res/drawable-mdpi/file_b_load_s.png
new file mode 100644
index 000000000..68251f82f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/file_b_load_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/file_b_s.png b/TMessagesProj/src/main/res/drawable-mdpi/file_b_s.png
new file mode 100644
index 000000000..970f88a98
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/file_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/file_g.png b/TMessagesProj/src/main/res/drawable-mdpi/file_g.png
new file mode 100644
index 000000000..7e3ba2594
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/file_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/file_g_cancel.png b/TMessagesProj/src/main/res/drawable-mdpi/file_g_cancel.png
new file mode 100644
index 000000000..8697a7efd
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/file_g_cancel.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/file_g_cancel_s.png b/TMessagesProj/src/main/res/drawable-mdpi/file_g_cancel_s.png
new file mode 100644
index 000000000..16c52423f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/file_g_cancel_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/file_g_load.png b/TMessagesProj/src/main/res/drawable-mdpi/file_g_load.png
new file mode 100644
index 000000000..9a760469d
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/file_g_load.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/file_g_load_s.png b/TMessagesProj/src/main/res/drawable-mdpi/file_g_load_s.png
new file mode 100644
index 000000000..dd8042267
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/file_g_load_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/file_g_s.png b/TMessagesProj/src/main/res/drawable-mdpi/file_g_s.png
new file mode 100644
index 000000000..e72c909d9
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/file_g_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/floating.png b/TMessagesProj/src/main/res/drawable-mdpi/floating.png
new file mode 100644
index 000000000..4f11fc264
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/floating.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/floating3_profile.png b/TMessagesProj/src/main/res/drawable-mdpi/floating3_profile.png
new file mode 100644
index 000000000..35eb5bbb6
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/floating3_profile.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/floating3_profile_m.png b/TMessagesProj/src/main/res/drawable-mdpi/floating3_profile_m.png
new file mode 100644
index 000000000..652630fc4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/floating3_profile_m.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/floating3_profile_pressed.png b/TMessagesProj/src/main/res/drawable-mdpi/floating3_profile_pressed.png
new file mode 100644
index 000000000..fbcb4da6b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/floating3_profile_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/floating_camera.png b/TMessagesProj/src/main/res/drawable-mdpi/floating_camera.png
index 0f3911b17..0e74dc260 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/floating_camera.png and b/TMessagesProj/src/main/res/drawable-mdpi/floating_camera.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/floating_m.png b/TMessagesProj/src/main/res/drawable-mdpi/floating_m.png
new file mode 100644
index 000000000..6d1b38184
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/floating_m.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/floating_message.png b/TMessagesProj/src/main/res/drawable-mdpi/floating_message.png
index f84107450..8d5f07d4e 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/floating_message.png and b/TMessagesProj/src/main/res/drawable-mdpi/floating_message.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/floating_pressed.png b/TMessagesProj/src/main/res/drawable-mdpi/floating_pressed.png
new file mode 100644
index 000000000..0ff85c17d
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/floating_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/floating_white.png b/TMessagesProj/src/main/res/drawable-mdpi/floating_white.png
index 1322c858d..35eb5bbb6 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/floating_white.png and b/TMessagesProj/src/main/res/drawable-mdpi/floating_white.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/forward_blue.png b/TMessagesProj/src/main/res/drawable-mdpi/forward_blue.png
new file mode 100644
index 000000000..7f4ec885e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/forward_blue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/foursquare.png b/TMessagesProj/src/main/res/drawable-mdpi/foursquare.png
index 845b3c9ad..e13d17641 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/foursquare.png and b/TMessagesProj/src/main/res/drawable-mdpi/foursquare.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/googleg_disabled_color_18.png b/TMessagesProj/src/main/res/drawable-mdpi/googleg_disabled_color_18.png
deleted file mode 100644
index 9169bc57c..000000000
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/googleg_disabled_color_18.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/googleg_standard_color_18.png b/TMessagesProj/src/main/res/drawable-mdpi/googleg_standard_color_18.png
deleted file mode 100644
index c42a3531e..000000000
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/googleg_standard_color_18.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/greydivider.9.png b/TMessagesProj/src/main/res/drawable-mdpi/greydivider.9.png
index f37c794c8..48a212597 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/greydivider.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/greydivider.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/greydivider_bottom.9.png b/TMessagesProj/src/main/res/drawable-mdpi/greydivider_bottom.9.png
index 87c76fba2..d8fc75bc8 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/greydivider_bottom.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/greydivider_bottom.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/greydivider_top.9.png b/TMessagesProj/src/main/res/drawable-mdpi/greydivider_top.9.png
index 997f15345..1faeb2636 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/greydivider_top.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/greydivider_top.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/header_timer.png b/TMessagesProj/src/main/res/drawable-mdpi/header_timer.png
new file mode 100644
index 000000000..66aee6c2e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/header_timer.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/header_timer2.png b/TMessagesProj/src/main/res/drawable-mdpi/header_timer2.png
new file mode 100644
index 000000000..5b63eb2ad
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/header_timer2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_attach.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_attach.png
index 5d25c50ba..bcd6ffcee 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_attach.png and b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_attach.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_attach3.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_attach3.png
new file mode 100644
index 000000000..b18e0362b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_attach3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_attach_white.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_attach_white.png
index c6562224d..45f193dce 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_attach_white.png and b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_attach_white.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_back_grey.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_back_grey.png
new file mode 100644
index 000000000..44e1c11bb
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_back_grey.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_doc.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_doc.png
new file mode 100644
index 000000000..ce1100b80
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_doc.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_done_gray.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_done_gray.png
new file mode 100644
index 000000000..47beed22b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_done_gray.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_fwd_copy.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_fwd_copy.png
new file mode 100644
index 000000000..f8bfd187f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_fwd_copy.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_fwd_delete.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_fwd_delete.png
new file mode 100644
index 000000000..e2370b3b4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_fwd_delete.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_fwd_forward.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_fwd_forward.png
new file mode 100644
index 000000000..5a0f86d73
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_fwd_forward.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_fwd_quoteforward.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_fwd_quoteforward.png
index 01847c957..9ab6408d5 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_fwd_quoteforward.png and b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_fwd_quoteforward.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_new.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_new.png
index a877390bd..1f55ff56f 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_new.png and b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_new.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_reply.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_reply.png
index 5e66fa969..a8d829411 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_reply.png and b/TMessagesProj/src/main/res/drawable-mdpi/ic_ab_reply.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_attach_sticker.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_attach_sticker.png
new file mode 100644
index 000000000..327314d8d
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_attach_sticker.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_backup_white_24dp.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_backup_white_24dp.png
deleted file mode 100644
index 35af12145..000000000
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_backup_white_24dp.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_create.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_create.png
new file mode 100644
index 000000000..289f7933e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_create.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_directory.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_directory.png
index 4d64f01e0..3000004c8 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_directory.png and b/TMessagesProj/src/main/res/drawable-mdpi/ic_directory.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_external_storage.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_external_storage.png
index 903927e72..97bd0b615 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_external_storage.png and b/TMessagesProj/src/main/res/drawable-mdpi/ic_external_storage.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_fingerprint_error.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_fingerprint_error.png
deleted file mode 100644
index 6ae687f29..000000000
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_fingerprint_error.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_launcher.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_launcher.png
index cfd7b8e77..5022ded51 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_launcher.png and b/TMessagesProj/src/main/res/drawable-mdpi/ic_launcher.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_launcher_beta.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_launcher_beta.png
index 0d6d748f6..8a8cbb530 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_launcher_beta.png and b/TMessagesProj/src/main/res/drawable-mdpi/ic_launcher_beta.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_msg_panel_kb.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_msg_panel_kb.png
index 50d1439d6..44b4285c5 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_msg_panel_kb.png and b/TMessagesProj/src/main/res/drawable-mdpi/ic_msg_panel_kb.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_msg_panel_kb_white.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_msg_panel_kb_white.png
index 8b5e607cb..685430df6 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_msg_panel_kb_white.png and b/TMessagesProj/src/main/res/drawable-mdpi/ic_msg_panel_kb_white.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_msg_panel_smiles.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_msg_panel_smiles.png
index c53353143..3ea0ee195 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_msg_panel_smiles.png and b/TMessagesProj/src/main/res/drawable-mdpi/ic_msg_panel_smiles.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_send.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_send.png
index 982a7e522..64dd4c8e3 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_send.png and b/TMessagesProj/src/main/res/drawable-mdpi/ic_send.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_settings.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_settings.png
new file mode 100644
index 000000000..1d60c823c
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_settings.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_backspace.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_backspace.png
index 3ca28d429..d63ba596a 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_backspace.png and b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_backspace.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_backspace_active.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_backspace_active.png
index 81582f53a..45140c69f 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_backspace_active.png and b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_backspace_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_bell.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_bell.png
new file mode 100644
index 000000000..8807b989f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_bell.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_bell_active.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_bell_active.png
new file mode 100644
index 000000000..6536bc7b3
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_bell_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_car.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_car.png
new file mode 100644
index 000000000..e52411af8
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_car.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_car_active.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_car_active.png
new file mode 100644
index 000000000..360b8e85d
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_car_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_flower.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_flower.png
new file mode 100644
index 000000000..867f5b3f0
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_flower.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_flower_active.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_flower_active.png
new file mode 100644
index 000000000..53c890bc8
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_flower_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_gif.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_gif.png
index 2e5e499d1..0017818ec 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_gif.png and b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_gif.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_grid.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_grid.png
new file mode 100644
index 000000000..844206619
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_grid.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_grid_active.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_grid_active.png
new file mode 100644
index 000000000..926576661
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_grid_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_recent.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_recent.png
new file mode 100644
index 000000000..d306da4f3
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_recent.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_recent_active.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_recent_active.png
new file mode 100644
index 000000000..c208b675e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_recent_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_smile.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_smile.png
new file mode 100644
index 000000000..eb7c383dc
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_smile.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_smile_active.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_smile_active.png
new file mode 100644
index 000000000..1de2e16a7
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_smile_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_sticker.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_sticker.png
new file mode 100644
index 000000000..b76d05515
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_sticker.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_sticker_active.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_sticker_active.png
new file mode 100644
index 000000000..056a2d0d5
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/ic_smiles_sticker_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_storage.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_storage.png
index 6b7f42149..dcef21d24 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_storage.png and b/TMessagesProj/src/main/res/drawable-mdpi/ic_storage.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_storage_gallery.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_storage_gallery.png
index 69faf7c21..3dc4bd980 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_storage_gallery.png and b/TMessagesProj/src/main/res/drawable-mdpi/ic_storage_gallery.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_swap_vertical.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_swap_vertical.png
index 78d8cd25f..fe70588fb 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_swap_vertical.png and b/TMessagesProj/src/main/res/drawable-mdpi/ic_swap_vertical.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/intro1.png b/TMessagesProj/src/main/res/drawable-mdpi/intro1.png
index 4831c0214..5e6cd3376 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/intro1.png and b/TMessagesProj/src/main/res/drawable-mdpi/intro1.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/link.png b/TMessagesProj/src/main/res/drawable-mdpi/link.png
new file mode 100644
index 000000000..24125b57e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/link.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/list_broadcast.png b/TMessagesProj/src/main/res/drawable-mdpi/list_broadcast.png
index 72e0fa3e8..f772b53ec 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/list_broadcast.png and b/TMessagesProj/src/main/res/drawable-mdpi/list_broadcast.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/list_group.png b/TMessagesProj/src/main/res/drawable-mdpi/list_group.png
index 896d41b56..3d5818c4a 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/list_group.png and b/TMessagesProj/src/main/res/drawable-mdpi/list_group.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/list_longpressed_holo_light.9.png b/TMessagesProj/src/main/res/drawable-mdpi/list_longpressed_holo_light.9.png
new file mode 100644
index 000000000..3226ab760
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/list_longpressed_holo_light.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/list_pressed_holo_light.9.png b/TMessagesProj/src/main/res/drawable-mdpi/list_pressed_holo_light.9.png
new file mode 100644
index 000000000..061904c42
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/list_pressed_holo_light.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/list_secret.png b/TMessagesProj/src/main/res/drawable-mdpi/list_secret.png
index 123d3a8d6..4fc91b4d9 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/list_secret.png and b/TMessagesProj/src/main/res/drawable-mdpi/list_secret.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/list_selector_disabled_holo_light.9.png b/TMessagesProj/src/main/res/drawable-mdpi/list_selector_disabled_holo_light.9.png
new file mode 100644
index 000000000..42cb6463e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/list_selector_disabled_holo_light.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/list_supergroup.png b/TMessagesProj/src/main/res/drawable-mdpi/list_supergroup.png
index 294029e80..bdbf41afa 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/list_supergroup.png and b/TMessagesProj/src/main/res/drawable-mdpi/list_supergroup.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/load_big.png b/TMessagesProj/src/main/res/drawable-mdpi/load_big.png
index 6cc2fabe4..ea86a8760 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/load_big.png and b/TMessagesProj/src/main/res/drawable-mdpi/load_big.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/location2.png b/TMessagesProj/src/main/res/drawable-mdpi/location2.png
new file mode 100644
index 000000000..3f0abf8b4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/location2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/location_b.9.png b/TMessagesProj/src/main/res/drawable-mdpi/location_b.9.png
new file mode 100644
index 000000000..3f0abf8b4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/location_b.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/location_g.9.png b/TMessagesProj/src/main/res/drawable-mdpi/location_g.9.png
new file mode 100644
index 000000000..d77aa911d
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/location_g.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/managers.png b/TMessagesProj/src/main/res/drawable-mdpi/managers.png
index b66987884..71c809f14 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/managers.png and b/TMessagesProj/src/main/res/drawable-mdpi/managers.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/media_doc_load.png b/TMessagesProj/src/main/res/drawable-mdpi/media_doc_load.png
index 49b64c185..6ea401f9c 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/media_doc_load.png and b/TMessagesProj/src/main/res/drawable-mdpi/media_doc_load.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/media_doc_pause.png b/TMessagesProj/src/main/res/drawable-mdpi/media_doc_pause.png
index a87d0cf92..e6c168245 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/media_doc_pause.png and b/TMessagesProj/src/main/res/drawable-mdpi/media_doc_pause.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/menu_admin.png b/TMessagesProj/src/main/res/drawable-mdpi/menu_admin.png
index 80f1a5930..f2caffcb8 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/menu_admin.png and b/TMessagesProj/src/main/res/drawable-mdpi/menu_admin.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/menu_broadcast.png b/TMessagesProj/src/main/res/drawable-mdpi/menu_broadcast.png
index 9a4acf68a..ff619d43b 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/menu_broadcast.png and b/TMessagesProj/src/main/res/drawable-mdpi/menu_broadcast.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/menu_contacts.png b/TMessagesProj/src/main/res/drawable-mdpi/menu_contacts.png
index 1e6013d68..d068de483 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/menu_contacts.png and b/TMessagesProj/src/main/res/drawable-mdpi/menu_contacts.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/menu_forum.png b/TMessagesProj/src/main/res/drawable-mdpi/menu_forum.png
index af465caaa..e56099732 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/menu_forum.png and b/TMessagesProj/src/main/res/drawable-mdpi/menu_forum.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/menu_help.png b/TMessagesProj/src/main/res/drawable-mdpi/menu_help.png
index a3c0e40ba..73fa5a6b5 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/menu_help.png and b/TMessagesProj/src/main/res/drawable-mdpi/menu_help.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/menu_invite.png b/TMessagesProj/src/main/res/drawable-mdpi/menu_invite.png
index 89e67e2e8..6f2d41a50 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/menu_invite.png and b/TMessagesProj/src/main/res/drawable-mdpi/menu_invite.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/menu_newgroup.png b/TMessagesProj/src/main/res/drawable-mdpi/menu_newgroup.png
index dc51fb9fb..7b5185f95 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/menu_newgroup.png and b/TMessagesProj/src/main/res/drawable-mdpi/menu_newgroup.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/menu_plus.png b/TMessagesProj/src/main/res/drawable-mdpi/menu_plus.png
index 4e1aab446..8427ee2f1 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/menu_plus.png and b/TMessagesProj/src/main/res/drawable-mdpi/menu_plus.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/menu_secret.png b/TMessagesProj/src/main/res/drawable-mdpi/menu_secret.png
index 0c6cc42db..c24175901 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/menu_secret.png and b/TMessagesProj/src/main/res/drawable-mdpi/menu_secret.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/menu_settings.png b/TMessagesProj/src/main/res/drawable-mdpi/menu_settings.png
index 8a9422d3f..c3d57c210 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/menu_settings.png and b/TMessagesProj/src/main/res/drawable-mdpi/menu_settings.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/menu_themes.png b/TMessagesProj/src/main/res/drawable-mdpi/menu_themes.png
index 153a9e6ab..2ece2e05e 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/menu_themes.png and b/TMessagesProj/src/main/res/drawable-mdpi/menu_themes.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/menu_theming.png b/TMessagesProj/src/main/res/drawable-mdpi/menu_theming.png
index 3ec63ef24..3573f31d3 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/menu_theming.png and b/TMessagesProj/src/main/res/drawable-mdpi/menu_theming.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/mic.png b/TMessagesProj/src/main/res/drawable-mdpi/mic.png
index ab5f4c3eb..2b9dec258 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/mic.png and b/TMessagesProj/src/main/res/drawable-mdpi/mic.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/mic_pressed.png b/TMessagesProj/src/main/res/drawable-mdpi/mic_pressed.png
new file mode 100644
index 000000000..ed471652e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/mic_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/mic_pressed_white.png b/TMessagesProj/src/main/res/drawable-mdpi/mic_pressed_white.png
index b39331fb5..6cf907a54 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/mic_pressed_white.png and b/TMessagesProj/src/main/res/drawable-mdpi/mic_pressed_white.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/miniplayer_close.png b/TMessagesProj/src/main/res/drawable-mdpi/miniplayer_close.png
index 7f74b0156..1f5816b6f 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/miniplayer_close.png and b/TMessagesProj/src/main/res/drawable-mdpi/miniplayer_close.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/miniplayer_pause.png b/TMessagesProj/src/main/res/drawable-mdpi/miniplayer_pause.png
index 0f608a014..295f9addc 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/miniplayer_pause.png and b/TMessagesProj/src/main/res/drawable-mdpi/miniplayer_pause.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/miniplayer_play.png b/TMessagesProj/src/main/res/drawable-mdpi/miniplayer_play.png
index 28116e88c..10b948e60 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/miniplayer_play.png and b/TMessagesProj/src/main/res/drawable-mdpi/miniplayer_play.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check.png
index f56fd66a3..2fdad7a38 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_check.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_10.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_10.png
new file mode 100644
index 000000000..0a1d9df16
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_11.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_11.png
new file mode 100644
index 000000000..f7e7ad33f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_12.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_12.png
new file mode 100644
index 000000000..d8607ee36
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_2.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_2.png
new file mode 100644
index 000000000..14c78681a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_3.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_3.png
new file mode 100644
index 000000000..faaf6e5d0
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_4.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_4.png
new file mode 100644
index 000000000..c678560f5
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_5.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_5.png
new file mode 100644
index 000000000..b52a6afe4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_6.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_6.png
new file mode 100644
index 000000000..6e53ff1c0
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_7.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_7.png
new file mode 100644
index 000000000..e0c192aaf
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_8.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_8.png
new file mode 100644
index 000000000..cfc778df2
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_9.png
new file mode 100644
index 000000000..5787d6816
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w.png
new file mode 100644
index 000000000..f2448a0a5
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_10.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_10.png
index eb9317275..e0c75de40 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_10.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_11.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_11.png
index a5471186c..12af3a7c8 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_11.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_12.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_12.png
index 63ff8ad3f..f82f04ff6 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_12.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_2.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_2.png
index 153de0e02..19ec6c16f 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_2.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_3.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_3.png
index 6f692a734..5cdca9320 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_3.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_4.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_4.png
index dc3945c2f..a7a003ea8 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_4.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_5.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_5.png
index 9b2493675..722ab8b28 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_5.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_6.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_6.png
index 8ecea6c39..d356f9faa 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_6.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_7.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_7.png
index f5c7dece2..9b71c3247 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_7.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_8.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_8.png
index fdedc197a..5471f3d1b 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_8.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_9.png
index 0b7395291..c839f3077 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_check_w_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_clock.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_clock.png
index 2182fb4e1..4bb0fe3df 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_clock.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_clock.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_clock2.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_clock2.png
new file mode 100644
index 000000000..94a136ebd
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_clock2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_clock2_s.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_clock2_s.png
new file mode 100644
index 000000000..11805a2e6
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_clock2_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_clock_photo.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_clock_photo.png
new file mode 100644
index 000000000..0c3c94421
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_clock_photo.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck.png
index 23ed5e7ce..010da7c52 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_10.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_10.png
new file mode 100644
index 000000000..cfc778df2
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_11.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_11.png
new file mode 100644
index 000000000..2b7ee6577
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_12.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_12.png
new file mode 100644
index 000000000..b92c5737c
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_2.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_2.png
new file mode 100644
index 000000000..14c78681a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_3.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_3.png
new file mode 100644
index 000000000..faaf6e5d0
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_4.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_4.png
new file mode 100644
index 000000000..82a1d94b8
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_5.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_5.png
new file mode 100644
index 000000000..630d5b5d4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_6.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_6.png
new file mode 100644
index 000000000..c9f5ef908
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_7.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_7.png
new file mode 100644
index 000000000..49df61b7b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_8.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_8.png
new file mode 100644
index 000000000..cfc778df2
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_9.png
new file mode 100644
index 000000000..f263edea8
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w.png
index 7c46d4b27..d5c1888a9 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_10.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_10.png
index 0ee499f29..4f4e87def 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_10.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_11.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_11.png
index a78166495..44600c994 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_11.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_12.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_12.png
index 36b25f623..0e289e23c 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_12.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_2.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_2.png
index 153de0e02..19ec6c16f 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_2.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_3.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_3.png
index 6f692a734..5cdca9320 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_3.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_4.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_4.png
index 228292829..c45cdcd7c 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_4.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_5.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_5.png
index 19a3e12af..66e34f65a 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_5.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_6.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_6.png
index a402d688a..8e0eacc7e 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_6.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_7.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_7.png
index da1af0d17..c1f624348 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_7.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_8.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_8.png
index fdedc197a..5471f3d1b 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_8.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_9.png
index bbeb0e9a8..42fc9ac2a 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_halfcheck_w_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in.9.png
index 1b993976d..bf4f21b80 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_10.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_10.9.png
index a3e919ad9..fa515a9c5 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_10.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_10.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_10_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_10_photo.9.png
index 4a3116516..26c3caf63 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_10_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_10_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_10_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_10_photo_selected.9.png
index 04a32c073..336478986 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_10_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_10_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_10_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_10_selected.9.png
index 0fb54da6f..766974b9e 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_10_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_10_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_11.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_11.9.png
index d7cbeb65b..840642b53 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_11.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_11.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_11_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_11_photo.9.png
index 9818c50da..56e94c670 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_11_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_11_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_11_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_11_photo_selected.9.png
index 444e7775b..75074552d 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_11_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_11_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_11_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_11_selected.9.png
index 07c426bac..375345d69 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_11_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_11_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_12.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_12.9.png
index c18d19912..63e6f3f98 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_12.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_12.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_12_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_12_photo.9.png
index 94cf1380f..df7b0bc55 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_12_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_12_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_12_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_12_photo_selected.9.png
index 8aee12f06..f0b93128a 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_12_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_12_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_12_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_12_selected.9.png
index 2d9ad73b2..13eafb7fe 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_12_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_12_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_13.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_13.9.png
index e4bf1f2b7..bcf40e188 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_13.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_13.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_13_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_13_photo.9.png
index 758906536..46b92142d 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_13_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_13_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_13_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_13_photo_selected.9.png
index 6fa0d2ba7..729047a94 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_13_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_13_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_13_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_13_selected.9.png
index 8d0fbcc9a..410b56576 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_13_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_13_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_2.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_2.9.png
index 9ab9e7cf2..59da973b5 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_2.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_2.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_2_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_2_photo.9.png
index a76b1cc97..917d50531 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_2_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_2_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_2_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_2_photo_selected.9.png
index d5f57eb24..4f53f42b8 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_2_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_2_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_2_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_2_selected.9.png
index 0301306eb..2841e4099 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_2_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_2_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_3.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_3.9.png
index ee570ef8f..7cbda17c7 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_3.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_3.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_3_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_3_photo.9.png
index 4a3116516..26c3caf63 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_3_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_3_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_3_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_3_photo_selected.9.png
index 04a32c073..336478986 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_3_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_3_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_3_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_3_selected.9.png
index de68804ad..498656fce 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_3_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_3_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_4.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_4.9.png
index a59da2062..9b52ab4e7 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_4.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_4.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_4_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_4_photo.9.png
index 0fdd1ef59..79f22b5cf 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_4_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_4_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_4_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_4_photo_selected.9.png
index f5e0d54e8..29e73414c 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_4_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_4_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_4_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_4_selected.9.png
index c8e4d1c18..b47a4fb2d 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_4_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_4_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_5.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_5.9.png
index 52458630b..d94f51e59 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_5.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_5.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_5_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_5_photo.9.png
index b16038fac..add732f20 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_5_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_5_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_5_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_5_photo_selected.9.png
index 3c9c7ac94..52fada8d0 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_5_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_5_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_5_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_5_selected.9.png
index f1f02c513..987286812 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_5_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_5_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_6.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_6.9.png
index 41e99136a..1ab4d3fa7 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_6.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_6.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_6_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_6_photo.9.png
index 177ab9be2..bad6ad488 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_6_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_6_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_6_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_6_photo_selected.9.png
index 40f46f9c5..5be86f72b 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_6_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_6_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_6_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_6_selected.9.png
index f27e1b088..373181da8 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_6_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_6_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_7.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_7.9.png
index 07a0a4ddb..31adb3360 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_7.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_7.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_7_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_7_photo.9.png
index b16038fac..add732f20 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_7_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_7_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_7_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_7_photo_selected.9.png
index 3c9c7ac94..52fada8d0 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_7_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_7_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_7_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_7_selected.9.png
index a1a227d4c..a504ab386 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_7_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_7_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_8.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_8.9.png
index b6648555b..1fe245465 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_8.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_8.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_8_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_8_photo.9.png
index b16038fac..add732f20 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_8_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_8_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_8_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_8_photo_selected.9.png
index 3c9c7ac94..52fada8d0 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_8_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_8_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_8_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_8_selected.9.png
index 829edf690..3d8d311bb 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_8_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_8_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_9.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_9.9.png
index 4309a4793..3b780977d 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_9.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_9.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_9_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_9_photo.9.png
index a76b1cc97..917d50531 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_9_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_9_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_9_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_9_photo_selected.9.png
index d5f57eb24..4f53f42b8 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_9_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_9_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_9_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_9_selected.9.png
index bfd180287..40d4df9e3 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_9_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_9_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_photo.9.png
new file mode 100644
index 000000000..c5c6aa595
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_photo_selected.9.png
new file mode 100644
index 000000000..0658e94ae
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_selected.9.png
new file mode 100644
index 000000000..cd1118061
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_shadow.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_shadow.9.png
index 6a780bdbc..cc12dd61c 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_in_shadow.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_in_shadow.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_instant.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_instant.png
index 1cacca81c..6d3f4677f 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_instant.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_instant.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out.9.png
index 869bf1479..d2d4b89cc 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_10.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_10.9.png
index 76c076a8b..42c3312ad 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_10.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_10.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_10_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_10_photo.9.png
index 25697931b..55f4449b7 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_10_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_10_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_10_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_10_photo_selected.9.png
index ae490ac8f..5246c20b3 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_10_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_10_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_10_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_10_selected.9.png
index b6f854265..55b8bee42 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_10_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_10_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_11.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_11.9.png
index cf3536762..fd967f22f 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_11.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_11.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_11_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_11_photo.9.png
index af02108f1..c9d14788d 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_11_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_11_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_11_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_11_photo_selected.9.png
index 8b383e5fd..a809aaaf0 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_11_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_11_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_11_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_11_selected.9.png
index 204397f3b..e3f6a2d69 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_11_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_11_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_12.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_12.9.png
index 40be6519d..b1c5516f0 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_12.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_12.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_12_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_12_photo.9.png
index 526035b9d..58df4a35b 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_12_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_12_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_12_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_12_photo_selected.9.png
index eadf56256..d483ff7cb 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_12_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_12_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_12_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_12_selected.9.png
index c7a90bd0c..1c89cb96a 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_12_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_12_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_13.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_13.9.png
index cca18fca7..c559931ee 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_13.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_13.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_13_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_13_photo.9.png
index e765dc115..57b4d65f8 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_13_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_13_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_13_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_13_photo_selected.9.png
index 808679970..4bc70b756 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_13_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_13_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_13_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_13_selected.9.png
index 8268b09b9..a5dd835e2 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_13_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_13_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_2.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_2.9.png
index ef9fef77a..24eb3eb21 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_2.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_2.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_2_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_2_photo.9.png
index b3480c430..dc5c8b001 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_2_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_2_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_2_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_2_photo_selected.9.png
index 723c801e6..31a0936f2 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_2_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_2_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_2_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_2_selected.9.png
index a4328245c..93e0cbc3e 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_2_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_2_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_3.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_3.9.png
index e3f74bef7..4a8b2a0f1 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_3.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_3.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_3_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_3_photo.9.png
index 25697931b..55f4449b7 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_3_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_3_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_3_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_3_photo_selected.9.png
index ae490ac8f..5246c20b3 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_3_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_3_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_3_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_3_selected.9.png
index 473ff2100..ad48b3738 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_3_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_3_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_4.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_4.9.png
index 9a90f4c5c..4a04af697 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_4.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_4.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_4_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_4_photo.9.png
index e863da94b..592019959 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_4_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_4_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_4_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_4_photo_selected.9.png
index 1c6402c1a..529bc0121 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_4_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_4_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_4_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_4_selected.9.png
index daec19e22..14b54a235 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_4_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_4_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_5.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_5.9.png
index f2424adc3..ba6c853e8 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_5.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_5.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_5_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_5_photo.9.png
index b987f32c0..d7b7b3ba2 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_5_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_5_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_5_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_5_photo_selected.9.png
index 2e318db62..ea44b5ac2 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_5_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_5_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_5_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_5_selected.9.png
index f2424adc3..ba6c853e8 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_5_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_5_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_6.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_6.9.png
index af09c464e..1df8e5930 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_6.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_6.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_6_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_6_photo.9.png
index 1cbae627d..305427709 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_6_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_6_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_6_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_6_photo_selected.9.png
index 4ccc5f5e7..ba88219c5 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_6_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_6_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_6_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_6_selected.9.png
index af09c464e..1df8e5930 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_6_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_6_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_7.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_7.9.png
index d0ee0c744..76517ef32 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_7.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_7.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_7_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_7_photo.9.png
index b987f32c0..d7b7b3ba2 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_7_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_7_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_7_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_7_photo_selected.9.png
index 2e318db62..ea44b5ac2 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_7_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_7_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_7_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_7_selected.9.png
index abbb9fb23..e3645a6d1 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_7_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_7_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_8.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_8.9.png
index 6a3b43a35..710994ea7 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_8.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_8.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_8_.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_8_.9.png
index 734f05098..44817fa9a 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_8_.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_8_.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_8_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_8_photo.9.png
index b987f32c0..d7b7b3ba2 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_8_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_8_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_8_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_8_photo_selected.9.png
index 2e318db62..ea44b5ac2 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_8_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_8_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_8_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_8_selected.9.png
index aa4f76757..6c8c37418 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_8_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_8_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_9.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_9.9.png
index a2e6b41ec..6d244f01a 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_9.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_9.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_9_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_9_photo.9.png
index b3480c430..dc5c8b001 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_9_photo.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_9_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_9_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_9_photo_selected.9.png
index 723c801e6..31a0936f2 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_9_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_9_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_9_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_9_selected.9.png
index 222374f81..efe9e7a6e 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_9_selected.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_9_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_photo.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_photo.9.png
new file mode 100644
index 000000000..ad4ad9ce2
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_photo_selected.9.png
new file mode 100644
index 000000000..734f94360
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_selected.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_selected.9.png
new file mode 100644
index 000000000..7e29c8128
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_shadow.9.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_shadow.9.png
index 047d9dd7b..6cc21bcb2 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_out_shadow.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_out_shadow.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/msg_warning.png b/TMessagesProj/src/main/res/drawable-mdpi/msg_warning.png
index 0c868b862..968a0d27c 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/msg_warning.png and b/TMessagesProj/src/main/res/drawable-mdpi/msg_warning.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/mute_blue.png b/TMessagesProj/src/main/res/drawable-mdpi/mute_blue.png
new file mode 100644
index 000000000..365d4cc78
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/mute_blue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/mute_grey.png b/TMessagesProj/src/main/res/drawable-mdpi/mute_grey.png
new file mode 100644
index 000000000..fb6674649
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/mute_grey.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/myloc_on.png b/TMessagesProj/src/main/res/drawable-mdpi/myloc_on.png
index 5484c902d..a86dd1570 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/myloc_on.png and b/TMessagesProj/src/main/res/drawable-mdpi/myloc_on.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/newmsg_divider.png b/TMessagesProj/src/main/res/drawable-mdpi/newmsg_divider.png
index 61510e887..81afcd30e 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/newmsg_divider.png and b/TMessagesProj/src/main/res/drawable-mdpi/newmsg_divider.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/nocover.png b/TMessagesProj/src/main/res/drawable-mdpi/nocover.png
index 30db7ed46..abbedfc21 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/nocover.png and b/TMessagesProj/src/main/res/drawable-mdpi/nocover.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/notification.png b/TMessagesProj/src/main/res/drawable-mdpi/notification.png
index 675c75020..aa748f183 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/notification.png and b/TMessagesProj/src/main/res/drawable-mdpi/notification.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/notify_members_off.png b/TMessagesProj/src/main/res/drawable-mdpi/notify_members_off.png
index 947ddd999..d6bb409e8 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/notify_members_off.png and b/TMessagesProj/src/main/res/drawable-mdpi/notify_members_off.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/notify_members_on.png b/TMessagesProj/src/main/res/drawable-mdpi/notify_members_on.png
index 48c52c5f2..001f109bd 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/notify_members_on.png and b/TMessagesProj/src/main/res/drawable-mdpi/notify_members_on.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/numberpicker_selection_divider.9.png b/TMessagesProj/src/main/res/drawable-mdpi/numberpicker_selection_divider.9.png
new file mode 100644
index 000000000..076fc1664
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/numberpicker_selection_divider.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/pagedown.png b/TMessagesProj/src/main/res/drawable-mdpi/pagedown.png
index ed6168eac..ce2e10bf0 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/pagedown.png and b/TMessagesProj/src/main/res/drawable-mdpi/pagedown.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/passcode_logo.png b/TMessagesProj/src/main/res/drawable-mdpi/passcode_logo.png
index 865cb4c97..5c66a99e5 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/passcode_logo.png and b/TMessagesProj/src/main/res/drawable-mdpi/passcode_logo.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/pause_b.png b/TMessagesProj/src/main/res/drawable-mdpi/pause_b.png
new file mode 100644
index 000000000..4d74e901d
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/pause_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/pause_b_s.png b/TMessagesProj/src/main/res/drawable-mdpi/pause_b_s.png
new file mode 100644
index 000000000..80fafabb3
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/pause_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/pause_g.png b/TMessagesProj/src/main/res/drawable-mdpi/pause_g.png
new file mode 100644
index 000000000..a95855259
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/pause_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/pause_g_s.png b/TMessagesProj/src/main/res/drawable-mdpi/pause_g_s.png
new file mode 100644
index 000000000..b711a3138
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/pause_g_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/pause_w_pressed.png b/TMessagesProj/src/main/res/drawable-mdpi/pause_w_pressed.png
index bf8b34602..b12e36df9 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/pause_w_pressed.png and b/TMessagesProj/src/main/res/drawable-mdpi/pause_w_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/phone_change.png b/TMessagesProj/src/main/res/drawable-mdpi/phone_change.png
index 20ba8c38a..99e036d89 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/phone_change.png and b/TMessagesProj/src/main/res/drawable-mdpi/phone_change.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/phone_grey.png b/TMessagesProj/src/main/res/drawable-mdpi/phone_grey.png
new file mode 100644
index 000000000..4d0d08081
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/phone_grey.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/photo_text2.png b/TMessagesProj/src/main/res/drawable-mdpi/photo_text2.png
index 078f115db..bbc1835bd 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/photo_text2.png and b/TMessagesProj/src/main/res/drawable-mdpi/photo_text2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/photocancel.png b/TMessagesProj/src/main/res/drawable-mdpi/photocancel.png
new file mode 100644
index 000000000..e3e7a3595
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/photocancel.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/photocancel_b.png b/TMessagesProj/src/main/res/drawable-mdpi/photocancel_b.png
new file mode 100644
index 000000000..be189093f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/photocancel_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/photocancel_b_s.png b/TMessagesProj/src/main/res/drawable-mdpi/photocancel_b_s.png
new file mode 100644
index 000000000..2d4328698
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/photocancel_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/photocancel_g.png b/TMessagesProj/src/main/res/drawable-mdpi/photocancel_g.png
new file mode 100644
index 000000000..9493aa821
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/photocancel_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/photocancel_g_s.png b/TMessagesProj/src/main/res/drawable-mdpi/photocancel_g_s.png
new file mode 100644
index 000000000..7d4af0439
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/photocancel_g_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/photocancel_pressed.png b/TMessagesProj/src/main/res/drawable-mdpi/photocancel_pressed.png
new file mode 100644
index 000000000..491b3d434
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/photocancel_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/photogif.png b/TMessagesProj/src/main/res/drawable-mdpi/photogif.png
new file mode 100644
index 000000000..1241d8f5a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/photogif.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/photogif_pressed.png b/TMessagesProj/src/main/res/drawable-mdpi/photogif_pressed.png
new file mode 100644
index 000000000..64af18ac8
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/photogif_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/photoload.png b/TMessagesProj/src/main/res/drawable-mdpi/photoload.png
new file mode 100644
index 000000000..18b75497e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/photoload.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/photoload_b.png b/TMessagesProj/src/main/res/drawable-mdpi/photoload_b.png
new file mode 100644
index 000000000..fb97fc7c9
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/photoload_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/photoload_b_s.png b/TMessagesProj/src/main/res/drawable-mdpi/photoload_b_s.png
new file mode 100644
index 000000000..be2dfb74f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/photoload_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/photoload_g.png b/TMessagesProj/src/main/res/drawable-mdpi/photoload_g.png
new file mode 100644
index 000000000..7321550e4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/photoload_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/photoload_g_s.png b/TMessagesProj/src/main/res/drawable-mdpi/photoload_g_s.png
new file mode 100644
index 000000000..2411e380e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/photoload_g_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/photoload_pressed.png b/TMessagesProj/src/main/res/drawable-mdpi/photoload_pressed.png
new file mode 100644
index 000000000..87810072f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/photoload_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/phototime_white.9.png b/TMessagesProj/src/main/res/drawable-mdpi/phototime_white.9.png
index c573cc2c4..0763f2482 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/phototime_white.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/phototime_white.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/pin.png b/TMessagesProj/src/main/res/drawable-mdpi/pin.png
index 8aba83c90..ce126ca8c 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/pin.png and b/TMessagesProj/src/main/res/drawable-mdpi/pin.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/pl_back.png b/TMessagesProj/src/main/res/drawable-mdpi/pl_back.png
index 4a9ebd193..6702c4be6 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/pl_back.png and b/TMessagesProj/src/main/res/drawable-mdpi/pl_back.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/pl_next.png b/TMessagesProj/src/main/res/drawable-mdpi/pl_next.png
index 2252cc911..08df043ef 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/pl_next.png and b/TMessagesProj/src/main/res/drawable-mdpi/pl_next.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/pl_next_pressed.png b/TMessagesProj/src/main/res/drawable-mdpi/pl_next_pressed.png
new file mode 100644
index 000000000..fc645c147
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/pl_next_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/pl_pause.png b/TMessagesProj/src/main/res/drawable-mdpi/pl_pause.png
index f2e357b1b..1bf3d4abf 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/pl_pause.png and b/TMessagesProj/src/main/res/drawable-mdpi/pl_pause.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/pl_pause_pressed.png b/TMessagesProj/src/main/res/drawable-mdpi/pl_pause_pressed.png
new file mode 100644
index 000000000..b8e61746f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/pl_pause_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/pl_play.png b/TMessagesProj/src/main/res/drawable-mdpi/pl_play.png
index 330e5f4f2..31fce9bc1 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/pl_play.png and b/TMessagesProj/src/main/res/drawable-mdpi/pl_play.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/pl_play_pressed.png b/TMessagesProj/src/main/res/drawable-mdpi/pl_play_pressed.png
new file mode 100644
index 000000000..d8ca3eb74
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/pl_play_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/pl_previous.png b/TMessagesProj/src/main/res/drawable-mdpi/pl_previous.png
index 13bd58e9e..1b52aca08 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/pl_previous.png and b/TMessagesProj/src/main/res/drawable-mdpi/pl_previous.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/pl_previous_pressed.png b/TMessagesProj/src/main/res/drawable-mdpi/pl_previous_pressed.png
new file mode 100644
index 000000000..1b34ae6fe
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/pl_previous_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/pl_repeat.png b/TMessagesProj/src/main/res/drawable-mdpi/pl_repeat.png
index 5c196f269..c62fb6c85 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/pl_repeat.png and b/TMessagesProj/src/main/res/drawable-mdpi/pl_repeat.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/pl_repeat1_active.png b/TMessagesProj/src/main/res/drawable-mdpi/pl_repeat1_active.png
new file mode 100644
index 000000000..0b1a47433
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/pl_repeat1_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/pl_repeat_active.png b/TMessagesProj/src/main/res/drawable-mdpi/pl_repeat_active.png
new file mode 100644
index 000000000..140c797bf
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/pl_repeat_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/pl_shuffle.png b/TMessagesProj/src/main/res/drawable-mdpi/pl_shuffle.png
index 11a6e7d6f..c22ab8e3f 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/pl_shuffle.png and b/TMessagesProj/src/main/res/drawable-mdpi/pl_shuffle.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/pl_shuffle_active.png b/TMessagesProj/src/main/res/drawable-mdpi/pl_shuffle_active.png
new file mode 100644
index 000000000..8e3888ddc
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/pl_shuffle_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/place_x.png b/TMessagesProj/src/main/res/drawable-mdpi/place_x.png
index bf940d8cf..3e4869bf6 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/place_x.png and b/TMessagesProj/src/main/res/drawable-mdpi/place_x.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/play_b.png b/TMessagesProj/src/main/res/drawable-mdpi/play_b.png
new file mode 100644
index 000000000..247246ed3
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/play_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/play_b_s.png b/TMessagesProj/src/main/res/drawable-mdpi/play_b_s.png
new file mode 100644
index 000000000..c3e88682f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/play_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/play_big.png b/TMessagesProj/src/main/res/drawable-mdpi/play_big.png
index 341bcac7f..1424f1301 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/play_big.png and b/TMessagesProj/src/main/res/drawable-mdpi/play_big.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/play_g.png b/TMessagesProj/src/main/res/drawable-mdpi/play_g.png
new file mode 100644
index 000000000..10f5caf0d
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/play_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/play_g_s.png b/TMessagesProj/src/main/res/drawable-mdpi/play_g_s.png
new file mode 100644
index 000000000..761fa5188
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/play_g_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/playvideo.png b/TMessagesProj/src/main/res/drawable-mdpi/playvideo.png
new file mode 100644
index 000000000..e77608feb
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/playvideo.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/playvideo_pressed.png b/TMessagesProj/src/main/res/drawable-mdpi/playvideo_pressed.png
new file mode 100644
index 000000000..5a361fe42
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/playvideo_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/plus.png b/TMessagesProj/src/main/res/drawable-mdpi/plus.png
index 1a1d05e2a..2bb1bf4fe 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/plus.png and b/TMessagesProj/src/main/res/drawable-mdpi/plus.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/post_views.png b/TMessagesProj/src/main/res/drawable-mdpi/post_views.png
new file mode 100644
index 000000000..7004aa51f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/post_views.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/post_views_s.png b/TMessagesProj/src/main/res/drawable-mdpi/post_views_s.png
new file mode 100644
index 000000000..2ecc48092
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/post_views_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/post_views_w.png b/TMessagesProj/src/main/res/drawable-mdpi/post_views_w.png
new file mode 100644
index 000000000..894d8cbb6
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/post_views_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/post_viewsg.png b/TMessagesProj/src/main/res/drawable-mdpi/post_viewsg.png
new file mode 100644
index 000000000..f59e64f88
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/post_viewsg.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/profile_list.png b/TMessagesProj/src/main/res/drawable-mdpi/profile_list.png
index 0d808d0ea..b27a67622 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/profile_list.png and b/TMessagesProj/src/main/res/drawable-mdpi/profile_list.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/publish.png b/TMessagesProj/src/main/res/drawable-mdpi/publish.png
new file mode 100644
index 000000000..4864c24db
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/publish.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/publish_active.png b/TMessagesProj/src/main/res/drawable-mdpi/publish_active.png
new file mode 100644
index 000000000..bd5ce853c
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/publish_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/recorded.9.png b/TMessagesProj/src/main/res/drawable-mdpi/recorded.9.png
new file mode 100644
index 000000000..efe1f2a7f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/recorded.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/regbtn2.9.png b/TMessagesProj/src/main/res/drawable-mdpi/regbtn2.9.png
index 9068fa941..4c8199b2f 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/regbtn2.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/regbtn2.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/regbtn2_pressed.9.png b/TMessagesProj/src/main/res/drawable-mdpi/regbtn2_pressed.9.png
index 1134f1ad4..ff9108a7f 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/regbtn2_pressed.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/regbtn2_pressed.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/reply.png b/TMessagesProj/src/main/res/drawable-mdpi/reply.png
new file mode 100644
index 000000000..7d71990f7
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/reply.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/s_pause_pressed.png b/TMessagesProj/src/main/res/drawable-mdpi/s_pause_pressed.png
new file mode 100644
index 000000000..40e04fc77
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/s_pause_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/s_play_pressed.png b/TMessagesProj/src/main/res/drawable-mdpi/s_play_pressed.png
new file mode 100644
index 000000000..f5a735089
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/s_play_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/search_dark.9.png b/TMessagesProj/src/main/res/drawable-mdpi/search_dark.9.png
index 19ca07db0..e7ae60406 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/search_dark.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/search_dark.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/search_dark_activated.9.png b/TMessagesProj/src/main/res/drawable-mdpi/search_dark_activated.9.png
index 3617983da..cf31f1c66 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/search_dark_activated.9.png and b/TMessagesProj/src/main/res/drawable-mdpi/search_dark_activated.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/search_down.png b/TMessagesProj/src/main/res/drawable-mdpi/search_down.png
index 7cabdcc9f..143e47d83 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/search_down.png and b/TMessagesProj/src/main/res/drawable-mdpi/search_down.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/search_share.png b/TMessagesProj/src/main/res/drawable-mdpi/search_share.png
new file mode 100644
index 000000000..9e0e2da33
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/search_share.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/search_up.png b/TMessagesProj/src/main/res/drawable-mdpi/search_up.png
index 50353171f..9c3d94a2b 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/search_up.png and b/TMessagesProj/src/main/res/drawable-mdpi/search_up.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/slidearrow.png b/TMessagesProj/src/main/res/drawable-mdpi/slidearrow.png
index c796dddc4..9206c2552 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/slidearrow.png and b/TMessagesProj/src/main/res/drawable-mdpi/slidearrow.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/stickercounter.9.png b/TMessagesProj/src/main/res/drawable-mdpi/stickercounter.9.png
new file mode 100644
index 000000000..217e9f16c
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/stickercounter.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/system_white.9.png b/TMessagesProj/src/main/res/drawable-mdpi/system_white.9.png
new file mode 100644
index 000000000..98ccb50a2
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/system_white.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/system_white_3.9.png b/TMessagesProj/src/main/res/drawable-mdpi/system_white_3.9.png
new file mode 100644
index 000000000..58c70b4b4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/system_white_3.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/system_white_4.9.png b/TMessagesProj/src/main/res/drawable-mdpi/system_white_4.9.png
new file mode 100644
index 000000000..61c067e91
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/system_white_4.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/tab_all.png b/TMessagesProj/src/main/res/drawable-mdpi/tab_all.png
index bd7bcd168..6b2d9710a 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/tab_all.png and b/TMessagesProj/src/main/res/drawable-mdpi/tab_all.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/tab_bot.png b/TMessagesProj/src/main/res/drawable-mdpi/tab_bot.png
index dc563c023..32edca1e8 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/tab_bot.png and b/TMessagesProj/src/main/res/drawable-mdpi/tab_bot.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/tab_channel.png b/TMessagesProj/src/main/res/drawable-mdpi/tab_channel.png
index 5c6c78452..ff619d43b 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/tab_channel.png and b/TMessagesProj/src/main/res/drawable-mdpi/tab_channel.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/tab_favs.png b/TMessagesProj/src/main/res/drawable-mdpi/tab_favs.png
index 6e46e15c0..89b79c49b 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/tab_favs.png and b/TMessagesProj/src/main/res/drawable-mdpi/tab_favs.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/tab_group.png b/TMessagesProj/src/main/res/drawable-mdpi/tab_group.png
index 79ddbb2db..3cc59fbe3 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/tab_group.png and b/TMessagesProj/src/main/res/drawable-mdpi/tab_group.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/tab_supergroup.png b/TMessagesProj/src/main/res/drawable-mdpi/tab_supergroup.png
index ac42095ae..4495cd86e 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/tab_supergroup.png and b/TMessagesProj/src/main/res/drawable-mdpi/tab_supergroup.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/tab_user.png b/TMessagesProj/src/main/res/drawable-mdpi/tab_user.png
index d8ca3dfe8..a78e7e6a0 100644
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/tab_user.png and b/TMessagesProj/src/main/res/drawable-mdpi/tab_user.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/tooltip.9.png b/TMessagesProj/src/main/res/drawable-mdpi/tooltip.9.png
new file mode 100644
index 000000000..a0d9bd351
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/tooltip.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/videolapse.png b/TMessagesProj/src/main/res/drawable-mdpi/videolapse.png
new file mode 100644
index 000000000..08336314a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/videolapse.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/videotrimmer.png b/TMessagesProj/src/main/res/drawable-mdpi/videotrimmer.png
new file mode 100644
index 000000000..f68380eb2
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-mdpi/videotrimmer.png differ
diff --git a/TMessagesProj/src/main/res/drawable-v21/floating_states.xml b/TMessagesProj/src/main/res/drawable-v21/floating_states.xml
new file mode 100644
index 000000000..f92baa8aa
--- /dev/null
+++ b/TMessagesProj/src/main/res/drawable-v21/floating_states.xml
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="UTF-8"?>
+
+<ripple xmlns:android="http://schemas.android.com/apk/res/android"
+    android:color="#ff4c8cc4">
+    <item android:drawable="@drawable/floating_m"/>
+</ripple>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/drawable-v21/floating_user_states.xml b/TMessagesProj/src/main/res/drawable-v21/floating_user_states.xml
new file mode 100644
index 000000000..41f9bd332
--- /dev/null
+++ b/TMessagesProj/src/main/res/drawable-v21/floating_user_states.xml
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="UTF-8"?>
+
+<ripple xmlns:android="http://schemas.android.com/apk/res/android"
+    android:color="#fff2f2f2">
+    <item android:drawable="@drawable/floating3_profile_m"/>
+</ripple>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/drawable-v21/list_selector.xml b/TMessagesProj/src/main/res/drawable-v21/list_selector.xml
new file mode 100644
index 000000000..0ba2177bc
--- /dev/null
+++ b/TMessagesProj/src/main/res/drawable-v21/list_selector.xml
@@ -0,0 +1,5 @@
+<?xml version="1.0" encoding="utf-8"?>
+<ripple xmlns:android="http://schemas.android.com/apk/res/android"
+    android:color="#2f000000">
+    <item android:id="@android:id/mask" android:drawable="@android:color/white"/>
+</ripple>
diff --git a/TMessagesProj/src/main/res/drawable-v21/list_selector_white.xml b/TMessagesProj/src/main/res/drawable-v21/list_selector_white.xml
new file mode 100644
index 000000000..a7802617f
--- /dev/null
+++ b/TMessagesProj/src/main/res/drawable-v21/list_selector_white.xml
@@ -0,0 +1,14 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+  ~ This is the source code of Telegram for Android v. 3.x.x.
+  ~ It is licensed under GNU GPL v. 2 or later.
+  ~ You should have received a copy of the license in this archive (see LICENSE).
+  ~
+  ~ Copyright Nikolai Kudashov, 2013-2016.
+  -->
+
+<ripple xmlns:android="http://schemas.android.com/apk/res/android"
+    android:color="#2f000000">
+    <item android:id="@android:id/mask" android:drawable="@android:color/white"/>
+    <item android:id="@android:id/background" android:drawable="@android:color/white"/>
+</ripple>
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/addmember.png b/TMessagesProj/src/main/res/drawable-xhdpi/addmember.png
new file mode 100644
index 000000000..8440ca18f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/addmember.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/admin_star.png b/TMessagesProj/src/main/res/drawable-xhdpi/admin_star.png
index 3f67c0089..370787e2f 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/admin_star.png and b/TMessagesProj/src/main/res/drawable-xhdpi/admin_star.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/admin_star2.png b/TMessagesProj/src/main/res/drawable-xhdpi/admin_star2.png
new file mode 100644
index 000000000..6afc194ec
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/admin_star2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/assign_manager.png b/TMessagesProj/src/main/res/drawable-xhdpi/assign_manager.png
new file mode 100644
index 000000000..114615b19
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/assign_manager.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/audiosend_pause.png b/TMessagesProj/src/main/res/drawable-xhdpi/audiosend_pause.png
index db13c0430..8078779df 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/audiosend_pause.png and b/TMessagesProj/src/main/res/drawable-xhdpi/audiosend_pause.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/audiosend_play.png b/TMessagesProj/src/main/res/drawable-xhdpi/audiosend_play.png
index b4764fc7f..bfd90992e 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/audiosend_play.png and b/TMessagesProj/src/main/res/drawable-xhdpi/audiosend_play.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/background_hd.jpg b/TMessagesProj/src/main/res/drawable-xhdpi/background_hd.jpg
index a6e95cd79..a26860eb3 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/background_hd.jpg and b/TMessagesProj/src/main/res/drawable-xhdpi/background_hd.jpg differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/bot_file.png b/TMessagesProj/src/main/res/drawable-xhdpi/bot_file.png
index 35879ffb7..2191a418d 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/bot_file.png and b/TMessagesProj/src/main/res/drawable-xhdpi/bot_file.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/bot_info.png b/TMessagesProj/src/main/res/drawable-xhdpi/bot_info.png
new file mode 100644
index 000000000..69c0388ef
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/bot_info.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/bot_keyboard.png b/TMessagesProj/src/main/res/drawable-xhdpi/bot_keyboard.png
index 5a46d4ce8..af078978d 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/bot_keyboard.png and b/TMessagesProj/src/main/res/drawable-xhdpi/bot_keyboard.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/bot_keyboard2.png b/TMessagesProj/src/main/res/drawable-xhdpi/bot_keyboard2.png
index 850395293..6a672a795 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/bot_keyboard2.png and b/TMessagesProj/src/main/res/drawable-xhdpi/bot_keyboard2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/bot_keyboard_button.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/bot_keyboard_button.9.png
new file mode 100644
index 000000000..7f5fd2a7a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/bot_keyboard_button.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/bot_keyboard_button_pressed.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/bot_keyboard_button_pressed.9.png
new file mode 100644
index 000000000..66fe8b30e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/bot_keyboard_button_pressed.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/bot_list.png b/TMessagesProj/src/main/res/drawable-xhdpi/bot_list.png
new file mode 100644
index 000000000..f8ed9caa5
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/bot_list.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/bot_location.png b/TMessagesProj/src/main/res/drawable-xhdpi/bot_location.png
index 984b1c749..f66cdbd7b 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/bot_location.png and b/TMessagesProj/src/main/res/drawable-xhdpi/bot_location.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/bot_music.png b/TMessagesProj/src/main/res/drawable-xhdpi/bot_music.png
index 262bb1975..e1aebb69f 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/bot_music.png and b/TMessagesProj/src/main/res/drawable-xhdpi/bot_music.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/bottom_shadow.png b/TMessagesProj/src/main/res/drawable-xhdpi/bottom_shadow.png
index 9e1a2a274..eeb3c8374 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/bottom_shadow.png and b/TMessagesProj/src/main/res/drawable-xhdpi/bottom_shadow.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/broadcast2.png b/TMessagesProj/src/main/res/drawable-xhdpi/broadcast2.png
new file mode 100644
index 000000000..38524b578
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/broadcast2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/broadcast3.png b/TMessagesProj/src/main/res/drawable-xhdpi/broadcast3.png
index ddfd4b155..c95c69020 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/broadcast3.png and b/TMessagesProj/src/main/res/drawable-xhdpi/broadcast3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/broadcast4.png b/TMessagesProj/src/main/res/drawable-xhdpi/broadcast4.png
new file mode 100644
index 000000000..727ee6f41
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/broadcast4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/cancel_big.png b/TMessagesProj/src/main/res/drawable-xhdpi/cancel_big.png
index 843ef5eb6..90be05edf 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/cancel_big.png and b/TMessagesProj/src/main/res/drawable-xhdpi/cancel_big.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/cats.jpg b/TMessagesProj/src/main/res/drawable-xhdpi/cats.jpg
new file mode 100644
index 000000000..48eef82e9
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/cats.jpg differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/chats_favs.png b/TMessagesProj/src/main/res/drawable-xhdpi/chats_favs.png
deleted file mode 100644
index 8d2d4b6aa..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/chats_favs.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/chats_mute.png b/TMessagesProj/src/main/res/drawable-xhdpi/chats_mute.png
deleted file mode 100644
index 9f3302e8b..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/chats_mute.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/chats_nofavs.png b/TMessagesProj/src/main/res/drawable-xhdpi/chats_nofavs.png
deleted file mode 100644
index 571570ffa..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/chats_nofavs.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/chats_read.png b/TMessagesProj/src/main/res/drawable-xhdpi/chats_read.png
deleted file mode 100644
index 3d249ac35..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/chats_read.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/chats_shortcut.png b/TMessagesProj/src/main/res/drawable-xhdpi/chats_shortcut.png
deleted file mode 100644
index 60f1348c1..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/chats_shortcut.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/chats_unmute.png b/TMessagesProj/src/main/res/drawable-xhdpi/chats_unmute.png
deleted file mode 100644
index 958d1a362..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/chats_unmute.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/chats_unread.png b/TMessagesProj/src/main/res/drawable-xhdpi/chats_unread.png
deleted file mode 100644
index e567bf6be..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/chats_unread.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/check_blue.png b/TMessagesProj/src/main/res/drawable-xhdpi/check_blue.png
new file mode 100644
index 000000000..37b2d0472
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/check_blue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/check_list.png b/TMessagesProj/src/main/res/drawable-xhdpi/check_list.png
new file mode 100644
index 000000000..7bc4bc303
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/check_list.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/check_profile.png b/TMessagesProj/src/main/res/drawable-xhdpi/check_profile.png
new file mode 100644
index 000000000..36efe5482
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/check_profile.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/circle_big.png b/TMessagesProj/src/main/res/drawable-xhdpi/circle_big.png
index a661d8bae..7a1e10611 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/circle_big.png and b/TMessagesProj/src/main/res/drawable-xhdpi/circle_big.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/common_full_open_on_phone.png b/TMessagesProj/src/main/res/drawable-xhdpi/common_full_open_on_phone.png
deleted file mode 100644
index 292f40776..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/common_full_open_on_phone.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/common_google_signin_btn_icon_dark_normal_background.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/common_google_signin_btn_icon_dark_normal_background.9.png
deleted file mode 100644
index e9d911baf..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/common_google_signin_btn_icon_dark_normal_background.9.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/common_google_signin_btn_icon_light_normal_background.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/common_google_signin_btn_icon_light_normal_background.9.png
deleted file mode 100644
index e10f493d9..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/common_google_signin_btn_icon_light_normal_background.9.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/common_google_signin_btn_text_dark_normal_background.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/common_google_signin_btn_text_dark_normal_background.9.png
deleted file mode 100644
index 87a6d4ab3..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/common_google_signin_btn_text_dark_normal_background.9.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/common_google_signin_btn_text_light_normal_background.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/common_google_signin_btn_text_light_normal_background.9.png
deleted file mode 100644
index 71be7eae7..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/common_google_signin_btn_text_light_normal_background.9.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/compose_panel.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/compose_panel.9.png
new file mode 100644
index 000000000..559747bea
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/compose_panel.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/contact_blue.png b/TMessagesProj/src/main/res/drawable-xhdpi/contact_blue.png
new file mode 100644
index 000000000..0691158e3
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/contact_blue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/contact_green.png b/TMessagesProj/src/main/res/drawable-xhdpi/contact_green.png
new file mode 100644
index 000000000..d50586ac1
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/contact_green.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/delete_reply.png b/TMessagesProj/src/main/res/drawable-xhdpi/delete_reply.png
new file mode 100644
index 000000000..ce9fd147b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/delete_reply.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/devices.png b/TMessagesProj/src/main/res/drawable-xhdpi/devices.png
index c2a90afc6..9b5663ff9 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/devices.png and b/TMessagesProj/src/main/res/drawable-xhdpi/devices.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_badge.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_badge.9.png
new file mode 100644
index 000000000..9632851cc
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_badge.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_badge2.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_badge2.9.png
new file mode 100644
index 000000000..6ddebe881
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_badge2.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check.png
new file mode 100644
index 000000000..83e79ba58
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_10.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_10.png
index 36a4eef4b..7018bc7c8 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_10.png and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_11.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_11.png
index a309fe56f..6a7a25daa 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_11.png and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_12.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_12.png
index 444755ed8..6738a349f 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_12.png and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_2.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_2.png
index 1c8ecd1f0..730dfeccd 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_2.png and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_3.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_3.png
index fb4879c92..bae528cf9 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_3.png and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_4.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_4.png
index 8c32f2b89..1974ba487 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_4.png and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_5.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_5.png
index 0bf6d3be5..182be4551 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_5.png and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_6.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_6.png
index f5bae796c..4c3db0631 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_6.png and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_7.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_7.png
index 6c8a7d2c9..3faf39fe2 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_7.png and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_8.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_8.png
index d004a205f..1e4d8b946 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_8.png and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_9.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_9.png
index e0cdbed96..513861284 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_check_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck.png
new file mode 100644
index 000000000..4756cbf5c
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_10.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_10.png
index d004a205f..1e4d8b946 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_10.png and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_11.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_11.png
index 098f2f114..fbdf0fdcb 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_11.png and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_12.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_12.png
index cbae20de6..8842f9e7d 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_12.png and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_2.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_2.png
index 1c8ecd1f0..730dfeccd 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_2.png and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_3.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_3.png
index fb4879c92..bae528cf9 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_3.png and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_4.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_4.png
index 033a7f7c1..37be4e471 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_4.png and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_5.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_5.png
index 5acd6d133..72deaaa55 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_5.png and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_6.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_6.png
index cd9f7fa73..f73d9391a 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_6.png and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_7.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_7.png
index 22247346a..621291e08 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_7.png and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_8.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_8.png
index d004a205f..1e4d8b946 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_8.png and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_9.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_9.png
index 52edd368b..959f2e02f 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_halfcheck_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_warning.png b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_warning.png
new file mode 100644
index 000000000..83fd07ad7
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/dialogs_warning.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/doc_actions_b.png b/TMessagesProj/src/main/res/drawable-xhdpi/doc_actions_b.png
new file mode 100644
index 000000000..d36cc8375
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/doc_actions_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/doc_actions_b_s.png b/TMessagesProj/src/main/res/drawable-xhdpi/doc_actions_b_s.png
new file mode 100644
index 000000000..ac076eff8
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/doc_actions_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/doc_actions_g.png b/TMessagesProj/src/main/res/drawable-xhdpi/doc_actions_g.png
new file mode 100644
index 000000000..bc4b1d285
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/doc_actions_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/doc_actions_w.png b/TMessagesProj/src/main/res/drawable-xhdpi/doc_actions_w.png
index 365979e58..e2493fb59 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/doc_actions_w.png and b/TMessagesProj/src/main/res/drawable-xhdpi/doc_actions_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/doc_blue.png b/TMessagesProj/src/main/res/drawable-xhdpi/doc_blue.png
new file mode 100644
index 000000000..835fec45e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/doc_blue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/doc_blue_s.png b/TMessagesProj/src/main/res/drawable-xhdpi/doc_blue_s.png
new file mode 100644
index 000000000..ae8dcf517
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/doc_blue_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/doc_green.png b/TMessagesProj/src/main/res/drawable-xhdpi/doc_green.png
new file mode 100644
index 000000000..7c4fba30a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/doc_green.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/doc_white.png b/TMessagesProj/src/main/res/drawable-xhdpi/doc_white.png
index f737904d2..056dffe86 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/doc_white.png and b/TMessagesProj/src/main/res/drawable-xhdpi/doc_white.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/doccancel_b.png b/TMessagesProj/src/main/res/drawable-xhdpi/doccancel_b.png
new file mode 100644
index 000000000..fefafdca4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/doccancel_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/doccancel_b_s.png b/TMessagesProj/src/main/res/drawable-xhdpi/doccancel_b_s.png
new file mode 100644
index 000000000..c157d8543
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/doccancel_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/doccancel_g.png b/TMessagesProj/src/main/res/drawable-xhdpi/doccancel_g.png
new file mode 100644
index 000000000..d43a5fe19
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/doccancel_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/doccancel_w.png b/TMessagesProj/src/main/res/drawable-xhdpi/doccancel_w.png
index 449a6a0a8..14a6162cc 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/doccancel_w.png and b/TMessagesProj/src/main/res/drawable-xhdpi/doccancel_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/docload_b.png b/TMessagesProj/src/main/res/drawable-xhdpi/docload_b.png
new file mode 100644
index 000000000..9a6d2f9af
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/docload_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/docload_b_s.png b/TMessagesProj/src/main/res/drawable-xhdpi/docload_b_s.png
new file mode 100644
index 000000000..13fbdb3d0
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/docload_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/docload_g.png b/TMessagesProj/src/main/res/drawable-xhdpi/docload_g.png
new file mode 100644
index 000000000..c80fb6b0d
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/docload_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/docload_w.png b/TMessagesProj/src/main/res/drawable-xhdpi/docload_w.png
index 74fa52fef..9af1ce09d 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/docload_w.png and b/TMessagesProj/src/main/res/drawable-xhdpi/docload_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/docpause_b.png b/TMessagesProj/src/main/res/drawable-xhdpi/docpause_b.png
new file mode 100644
index 000000000..b665d65b8
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/docpause_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/docpause_b_s.png b/TMessagesProj/src/main/res/drawable-xhdpi/docpause_b_s.png
new file mode 100644
index 000000000..98445c9ae
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/docpause_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/docpause_g.png b/TMessagesProj/src/main/res/drawable-xhdpi/docpause_g.png
new file mode 100644
index 000000000..da750eba0
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/docpause_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/docpause_w.png b/TMessagesProj/src/main/res/drawable-xhdpi/docpause_w.png
index f006ceceb..8f596c1ad 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/docpause_w.png and b/TMessagesProj/src/main/res/drawable-xhdpi/docpause_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/edit_doneblue.png b/TMessagesProj/src/main/res/drawable-xhdpi/edit_doneblue.png
new file mode 100644
index 000000000..301434f89
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/edit_doneblue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/file_b.png b/TMessagesProj/src/main/res/drawable-xhdpi/file_b.png
new file mode 100644
index 000000000..85c47ecf7
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/file_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/file_b_cancel.png b/TMessagesProj/src/main/res/drawable-xhdpi/file_b_cancel.png
new file mode 100644
index 000000000..ed4c2381d
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/file_b_cancel.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/file_b_cancel_s.png b/TMessagesProj/src/main/res/drawable-xhdpi/file_b_cancel_s.png
new file mode 100644
index 000000000..0efa019d1
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/file_b_cancel_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/file_b_load.png b/TMessagesProj/src/main/res/drawable-xhdpi/file_b_load.png
new file mode 100644
index 000000000..f9412a04f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/file_b_load.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/file_b_load_s.png b/TMessagesProj/src/main/res/drawable-xhdpi/file_b_load_s.png
new file mode 100644
index 000000000..50cc62b0b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/file_b_load_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/file_b_s.png b/TMessagesProj/src/main/res/drawable-xhdpi/file_b_s.png
new file mode 100644
index 000000000..da8180c03
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/file_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/file_g.png b/TMessagesProj/src/main/res/drawable-xhdpi/file_g.png
new file mode 100644
index 000000000..7b1911ab2
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/file_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/file_g_cancel.png b/TMessagesProj/src/main/res/drawable-xhdpi/file_g_cancel.png
new file mode 100644
index 000000000..376d89f64
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/file_g_cancel.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/file_g_cancel_s.png b/TMessagesProj/src/main/res/drawable-xhdpi/file_g_cancel_s.png
new file mode 100644
index 000000000..4a8e785ff
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/file_g_cancel_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/file_g_load.png b/TMessagesProj/src/main/res/drawable-xhdpi/file_g_load.png
new file mode 100644
index 000000000..8ef2faff7
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/file_g_load.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/file_g_load_s.png b/TMessagesProj/src/main/res/drawable-xhdpi/file_g_load_s.png
new file mode 100644
index 000000000..6eb2518eb
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/file_g_load_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/file_g_s.png b/TMessagesProj/src/main/res/drawable-xhdpi/file_g_s.png
new file mode 100644
index 000000000..aaae696a7
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/file_g_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/floating.png b/TMessagesProj/src/main/res/drawable-xhdpi/floating.png
new file mode 100644
index 000000000..5523f817d
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/floating.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/floating3_profile.png b/TMessagesProj/src/main/res/drawable-xhdpi/floating3_profile.png
new file mode 100644
index 000000000..c838c5412
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/floating3_profile.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/floating3_profile_m.png b/TMessagesProj/src/main/res/drawable-xhdpi/floating3_profile_m.png
new file mode 100644
index 000000000..5a1e0bae6
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/floating3_profile_m.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/floating3_profile_pressed.png b/TMessagesProj/src/main/res/drawable-xhdpi/floating3_profile_pressed.png
new file mode 100644
index 000000000..5ae6d6fc2
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/floating3_profile_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/floating_camera.png b/TMessagesProj/src/main/res/drawable-xhdpi/floating_camera.png
index 253e7503d..aa5089de5 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/floating_camera.png and b/TMessagesProj/src/main/res/drawable-xhdpi/floating_camera.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/floating_m.png b/TMessagesProj/src/main/res/drawable-xhdpi/floating_m.png
new file mode 100644
index 000000000..0e5daf6ac
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/floating_m.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/floating_message.png b/TMessagesProj/src/main/res/drawable-xhdpi/floating_message.png
index 4aefc95d7..914283172 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/floating_message.png and b/TMessagesProj/src/main/res/drawable-xhdpi/floating_message.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/floating_pressed.png b/TMessagesProj/src/main/res/drawable-xhdpi/floating_pressed.png
new file mode 100644
index 000000000..7a28b2124
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/floating_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/floating_white.png b/TMessagesProj/src/main/res/drawable-xhdpi/floating_white.png
index d07536124..c838c5412 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/floating_white.png and b/TMessagesProj/src/main/res/drawable-xhdpi/floating_white.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/forward_blue.png b/TMessagesProj/src/main/res/drawable-xhdpi/forward_blue.png
new file mode 100644
index 000000000..40af0d3dc
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/forward_blue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/foursquare.png b/TMessagesProj/src/main/res/drawable-xhdpi/foursquare.png
index a59c7757e..2b5bb36dc 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/foursquare.png and b/TMessagesProj/src/main/res/drawable-xhdpi/foursquare.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/googleg_disabled_color_18.png b/TMessagesProj/src/main/res/drawable-xhdpi/googleg_disabled_color_18.png
deleted file mode 100644
index 46d69d54b..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/googleg_disabled_color_18.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/googleg_standard_color_18.png b/TMessagesProj/src/main/res/drawable-xhdpi/googleg_standard_color_18.png
deleted file mode 100644
index e5382dd35..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/googleg_standard_color_18.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/greydivider.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/greydivider.9.png
index de385834c..f14b47337 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/greydivider.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/greydivider.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/greydivider_bottom.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/greydivider_bottom.9.png
index 4caba0c7a..e1043341d 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/greydivider_bottom.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/greydivider_bottom.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/greydivider_top.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/greydivider_top.9.png
index 7c1041972..aeb9cc803 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/greydivider_top.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/greydivider_top.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/header_timer.png b/TMessagesProj/src/main/res/drawable-xhdpi/header_timer.png
new file mode 100644
index 000000000..7bdc8d569
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/header_timer.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/header_timer2.png b/TMessagesProj/src/main/res/drawable-xhdpi/header_timer2.png
new file mode 100644
index 000000000..37c985e65
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/header_timer2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_attach.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_attach.png
index ed39a9bab..403b24dd9 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_attach.png and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_attach.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_attach3.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_attach3.png
new file mode 100644
index 000000000..5b7b0f652
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_attach3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_attach_white.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_attach_white.png
index a1f852b22..04e501f72 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_attach_white.png and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_attach_white.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_back_grey.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_back_grey.png
new file mode 100644
index 000000000..acb9af955
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_back_grey.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_doc.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_doc.png
new file mode 100644
index 000000000..245a76f03
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_doc.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_done_gray.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_done_gray.png
new file mode 100644
index 000000000..41671b4fb
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_done_gray.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_fwd_copy.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_fwd_copy.png
new file mode 100644
index 000000000..4bc6df880
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_fwd_copy.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_fwd_delete.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_fwd_delete.png
new file mode 100644
index 000000000..ac3d1e980
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_fwd_delete.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_fwd_forward.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_fwd_forward.png
new file mode 100644
index 000000000..519de969b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_fwd_forward.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_fwd_quoteforward.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_fwd_quoteforward.png
index 5bcc5fcef..192835fe6 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_fwd_quoteforward.png and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_fwd_quoteforward.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_new.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_new.png
index efb7d8949..700ba4271 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_new.png and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_new.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_reply.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_reply.png
index 258cd5a28..1b6cbc5b4 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_reply.png and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_ab_reply.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_attach_sticker.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_attach_sticker.png
new file mode 100644
index 000000000..4d46fea74
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_attach_sticker.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_backup_white_24dp.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_backup_white_24dp.png
deleted file mode 100644
index b9133acf3..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/ic_backup_white_24dp.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_create.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_create.png
new file mode 100644
index 000000000..27579452d
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_create.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_directory.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_directory.png
index dcbfcc9d9..f91f66653 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/ic_directory.png and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_directory.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_external_storage.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_external_storage.png
index 511cbbc74..41ea21d87 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/ic_external_storage.png and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_external_storage.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_fingerprint_error.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_fingerprint_error.png
deleted file mode 100644
index a243d9428..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/ic_fingerprint_error.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_launcher.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_launcher.png
index 221413f0a..a0772a488 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/ic_launcher.png and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_launcher.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_launcher_beta.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_launcher_beta.png
index ba4c2f512..1be48bf13 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/ic_launcher_beta.png and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_launcher_beta.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_msg_panel_kb.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_msg_panel_kb.png
index 81ad38432..f811db00e 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/ic_msg_panel_kb.png and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_msg_panel_kb.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_msg_panel_kb_white.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_msg_panel_kb_white.png
index f1ab4b261..2e2dbeb1e 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/ic_msg_panel_kb_white.png and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_msg_panel_kb_white.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_msg_panel_smiles.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_msg_panel_smiles.png
index e16659743..35d3ee544 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/ic_msg_panel_smiles.png and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_msg_panel_smiles.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_send.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_send.png
index 79e85a8eb..4c42bc008 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/ic_send.png and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_send.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_settings.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_settings.png
new file mode 100644
index 000000000..c2d1c30b0
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_settings.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_backspace.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_backspace.png
index 536579024..3d4d64c15 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_backspace.png and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_backspace.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_backspace_active.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_backspace_active.png
new file mode 100644
index 000000000..6f76811cb
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_backspace_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_bell.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_bell.png
new file mode 100644
index 000000000..faad89895
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_bell.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_bell_active.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_bell_active.png
new file mode 100644
index 000000000..ebdb0c9e2
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_bell_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_car.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_car.png
new file mode 100644
index 000000000..5d312c39c
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_car.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_car_active.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_car_active.png
new file mode 100644
index 000000000..152f0c1bd
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_car_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_flower.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_flower.png
new file mode 100644
index 000000000..c9e2a36a2
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_flower.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_flower_active.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_flower_active.png
new file mode 100644
index 000000000..d95654808
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_flower_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_gif.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_gif.png
index 1de26dbda..1feede315 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_gif.png and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_gif.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_grid.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_grid.png
new file mode 100644
index 000000000..aae876d0b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_grid.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_grid_active.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_grid_active.png
new file mode 100644
index 000000000..ea9338477
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_grid_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_recent.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_recent.png
new file mode 100644
index 000000000..aa1b12a7e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_recent.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_recent_active.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_recent_active.png
new file mode 100644
index 000000000..950176fdf
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_recent_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_smile.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_smile.png
new file mode 100644
index 000000000..0f94a602e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_smile.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_smile_active.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_smile_active.png
new file mode 100644
index 000000000..6b883ef6f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_smile_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_sticker.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_sticker.png
new file mode 100644
index 000000000..8f423142f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_sticker.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_sticker_active.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_sticker_active.png
new file mode 100644
index 000000000..b2141d6cb
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_smiles_sticker_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_storage.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_storage.png
index e7913dd2f..7d8f350ab 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/ic_storage.png and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_storage.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_storage_gallery.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_storage_gallery.png
index aa2a87ddc..89685206c 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/ic_storage_gallery.png and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_storage_gallery.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_swap_vertical.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_swap_vertical.png
index 394aa6abf..c6110bd0f 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/ic_swap_vertical.png and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_swap_vertical.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/intro1.png b/TMessagesProj/src/main/res/drawable-xhdpi/intro1.png
index 4831c0214..2895d3a1e 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/intro1.png and b/TMessagesProj/src/main/res/drawable-xhdpi/intro1.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/link.png b/TMessagesProj/src/main/res/drawable-xhdpi/link.png
new file mode 100644
index 000000000..ba82f35b9
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/link.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/list_broadcast.png b/TMessagesProj/src/main/res/drawable-xhdpi/list_broadcast.png
index 9c9220c31..d4fae87b2 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/list_broadcast.png and b/TMessagesProj/src/main/res/drawable-xhdpi/list_broadcast.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/list_group.png b/TMessagesProj/src/main/res/drawable-xhdpi/list_group.png
index 185c653ea..98e1e2be8 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/list_group.png and b/TMessagesProj/src/main/res/drawable-xhdpi/list_group.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/list_longpressed_holo_light.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/list_longpressed_holo_light.9.png
new file mode 100644
index 000000000..5532e88c2
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/list_longpressed_holo_light.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/list_pressed_holo_light.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/list_pressed_holo_light.9.png
new file mode 100644
index 000000000..f4af92657
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/list_pressed_holo_light.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/list_secret.png b/TMessagesProj/src/main/res/drawable-xhdpi/list_secret.png
index 03d8c9d53..f4ebc8b57 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/list_secret.png and b/TMessagesProj/src/main/res/drawable-xhdpi/list_secret.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/list_selector_disabled_holo_light.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/list_selector_disabled_holo_light.9.png
new file mode 100644
index 000000000..c6a7d4d87
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/list_selector_disabled_holo_light.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/list_supergroup.png b/TMessagesProj/src/main/res/drawable-xhdpi/list_supergroup.png
index f9766108f..f0e09776a 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/list_supergroup.png and b/TMessagesProj/src/main/res/drawable-xhdpi/list_supergroup.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/load_big.png b/TMessagesProj/src/main/res/drawable-xhdpi/load_big.png
index 747d9aff9..c405336a0 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/load_big.png and b/TMessagesProj/src/main/res/drawable-xhdpi/load_big.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/location2.png b/TMessagesProj/src/main/res/drawable-xhdpi/location2.png
new file mode 100644
index 000000000..ade7b9ef9
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/location2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/location_b.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/location_b.9.png
new file mode 100644
index 000000000..ade7b9ef9
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/location_b.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/location_g.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/location_g.9.png
new file mode 100644
index 000000000..bbaeb93c4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/location_g.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/managers.png b/TMessagesProj/src/main/res/drawable-xhdpi/managers.png
index f57278000..cdcbc9baa 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/managers.png and b/TMessagesProj/src/main/res/drawable-xhdpi/managers.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/media_doc_load.png b/TMessagesProj/src/main/res/drawable-xhdpi/media_doc_load.png
index 2e3afc94c..f701d7d94 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/media_doc_load.png and b/TMessagesProj/src/main/res/drawable-xhdpi/media_doc_load.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/media_doc_pause.png b/TMessagesProj/src/main/res/drawable-xhdpi/media_doc_pause.png
index eb6dd4c26..78b4017c9 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/media_doc_pause.png and b/TMessagesProj/src/main/res/drawable-xhdpi/media_doc_pause.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/menu_admin.png b/TMessagesProj/src/main/res/drawable-xhdpi/menu_admin.png
index 94d719b10..f4e79ff41 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/menu_admin.png and b/TMessagesProj/src/main/res/drawable-xhdpi/menu_admin.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/menu_broadcast.png b/TMessagesProj/src/main/res/drawable-xhdpi/menu_broadcast.png
index 14ac878f2..1a2a61a0c 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/menu_broadcast.png and b/TMessagesProj/src/main/res/drawable-xhdpi/menu_broadcast.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/menu_contacts.png b/TMessagesProj/src/main/res/drawable-xhdpi/menu_contacts.png
index be1eba57f..a7cc40dff 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/menu_contacts.png and b/TMessagesProj/src/main/res/drawable-xhdpi/menu_contacts.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/menu_forum.png b/TMessagesProj/src/main/res/drawable-xhdpi/menu_forum.png
index 48678567f..ad852de03 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/menu_forum.png and b/TMessagesProj/src/main/res/drawable-xhdpi/menu_forum.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/menu_help.png b/TMessagesProj/src/main/res/drawable-xhdpi/menu_help.png
index 8b4172818..256a4fc15 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/menu_help.png and b/TMessagesProj/src/main/res/drawable-xhdpi/menu_help.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/menu_invite.png b/TMessagesProj/src/main/res/drawable-xhdpi/menu_invite.png
index 84fece051..67ff57b19 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/menu_invite.png and b/TMessagesProj/src/main/res/drawable-xhdpi/menu_invite.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/menu_newgroup.png b/TMessagesProj/src/main/res/drawable-xhdpi/menu_newgroup.png
index 49f33b655..a55f0aa5f 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/menu_newgroup.png and b/TMessagesProj/src/main/res/drawable-xhdpi/menu_newgroup.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/menu_plus.png b/TMessagesProj/src/main/res/drawable-xhdpi/menu_plus.png
index 4caf017d3..27c74af97 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/menu_plus.png and b/TMessagesProj/src/main/res/drawable-xhdpi/menu_plus.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/menu_secret.png b/TMessagesProj/src/main/res/drawable-xhdpi/menu_secret.png
index 01867174d..ffb647b0b 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/menu_secret.png and b/TMessagesProj/src/main/res/drawable-xhdpi/menu_secret.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/menu_settings.png b/TMessagesProj/src/main/res/drawable-xhdpi/menu_settings.png
index d631f43e2..972c2ab6b 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/menu_settings.png and b/TMessagesProj/src/main/res/drawable-xhdpi/menu_settings.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/menu_themes.png b/TMessagesProj/src/main/res/drawable-xhdpi/menu_themes.png
index 6469b31e1..ceceef5b6 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/menu_themes.png and b/TMessagesProj/src/main/res/drawable-xhdpi/menu_themes.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/menu_theming.png b/TMessagesProj/src/main/res/drawable-xhdpi/menu_theming.png
index b205a97e3..dc07b2597 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/menu_theming.png and b/TMessagesProj/src/main/res/drawable-xhdpi/menu_theming.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/mic.png b/TMessagesProj/src/main/res/drawable-xhdpi/mic.png
index 3de143d14..f8b453804 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/mic.png and b/TMessagesProj/src/main/res/drawable-xhdpi/mic.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/mic_pressed.png b/TMessagesProj/src/main/res/drawable-xhdpi/mic_pressed.png
new file mode 100644
index 000000000..bebe93611
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/mic_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/mic_white.png b/TMessagesProj/src/main/res/drawable-xhdpi/mic_white.png
index 78aea912a..271ace800 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/mic_white.png and b/TMessagesProj/src/main/res/drawable-xhdpi/mic_white.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/miniplayer_close.png b/TMessagesProj/src/main/res/drawable-xhdpi/miniplayer_close.png
index 37f544ec0..07d83314b 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/miniplayer_close.png and b/TMessagesProj/src/main/res/drawable-xhdpi/miniplayer_close.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/miniplayer_pause.png b/TMessagesProj/src/main/res/drawable-xhdpi/miniplayer_pause.png
index 4b1840d21..556aec500 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/miniplayer_pause.png and b/TMessagesProj/src/main/res/drawable-xhdpi/miniplayer_pause.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/miniplayer_play.png b/TMessagesProj/src/main/res/drawable-xhdpi/miniplayer_play.png
index 3967d3725..fd6c00ec9 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/miniplayer_play.png and b/TMessagesProj/src/main/res/drawable-xhdpi/miniplayer_play.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check.png
index e869b16ba..d214b0240 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_10.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_10.png
new file mode 100644
index 000000000..c6b957de9
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_11.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_11.png
new file mode 100644
index 000000000..d61620efa
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_12.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_12.png
new file mode 100644
index 000000000..a5a294c05
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_2.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_2.png
new file mode 100644
index 000000000..5731295cf
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_3.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_3.png
new file mode 100644
index 000000000..87ca9c973
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_4.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_4.png
new file mode 100644
index 000000000..5593c59a8
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_5.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_5.png
new file mode 100644
index 000000000..8ace05575
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_6.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_6.png
new file mode 100644
index 000000000..2da3d8b5b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_7.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_7.png
new file mode 100644
index 000000000..c8a831f8a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_8.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_8.png
new file mode 100644
index 000000000..ca5b122b6
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_9.png
new file mode 100644
index 000000000..52cea1dcb
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w.png
new file mode 100644
index 000000000..9e797a5c3
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_10.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_10.png
index acc2e6184..0b4c37746 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_10.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_11.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_11.png
index 585c70512..f82c99cea 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_11.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_12.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_12.png
index 07cb2b83e..cb42bc2b0 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_12.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_2.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_2.png
index c3f2e0e18..3be28fff4 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_2.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_3.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_3.png
index fa34c0fda..080f1c28a 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_3.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_4.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_4.png
index e27387e49..ed74800e1 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_4.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_5.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_5.png
index c97691a3c..b921904a8 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_5.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_6.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_6.png
index 8cc08b3ad..3e0c12d93 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_6.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_7.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_7.png
index 2c29da6fa..13478019d 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_7.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_8.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_8.png
index a16da07d5..42a26425a 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_8.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_9.png
index fe35c3faf..32a179bbc 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_check_w_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_clock.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_clock.png
index e38d7f9fd..2719ac9e4 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_clock.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_clock.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_clock2.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_clock2.png
new file mode 100644
index 000000000..334d7aa09
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_clock2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_clock2_s.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_clock2_s.png
new file mode 100644
index 000000000..f2303b7ce
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_clock2_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_clock_photo.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_clock_photo.png
new file mode 100644
index 000000000..50d10cbeb
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_clock_photo.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck.png
index f357df4f6..7ae6e79c7 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_10.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_10.png
new file mode 100644
index 000000000..ca5b122b6
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_11.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_11.png
new file mode 100644
index 000000000..bd01dc5a4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_12.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_12.png
new file mode 100644
index 000000000..1ec4b9155
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_2.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_2.png
new file mode 100644
index 000000000..5731295cf
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_3.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_3.png
new file mode 100644
index 000000000..87ca9c973
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_4.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_4.png
new file mode 100644
index 000000000..d8bebefb6
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_5.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_5.png
new file mode 100644
index 000000000..facd83a65
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_6.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_6.png
new file mode 100644
index 000000000..9a8d3a5c9
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_7.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_7.png
new file mode 100644
index 000000000..20d5d2904
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_8.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_8.png
new file mode 100644
index 000000000..ca5b122b6
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_9.png
new file mode 100644
index 000000000..521d3cd70
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w.png
new file mode 100644
index 000000000..dd2891607
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_10.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_10.png
index cb8152cd2..7324946df 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_10.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_11.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_11.png
index 56f104034..058837300 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_11.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_12.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_12.png
index cfa9b089c..b7f9b31bb 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_12.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_2.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_2.png
index c3f2e0e18..3be28fff4 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_2.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_3.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_3.png
index fa34c0fda..080f1c28a 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_3.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_4.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_4.png
index 248a82e41..2e53da180 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_4.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_5.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_5.png
index bd64788e4..ba9ac44a8 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_5.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_6.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_6.png
index bbbdf4e11..fc8b52f3c 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_6.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_7.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_7.png
index 4055b1af6..c78ccdb52 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_7.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_8.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_8.png
index a16da07d5..42a26425a 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_8.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_9.png
index 22e97c591..803e97fb6 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_halfcheck_w_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in.9.png
index 63fee107e..351d8328e 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_10.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_10.9.png
index 432c123e2..d85807e92 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_10.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_10.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_10_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_10_photo.9.png
index bc0875519..6dc3320df 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_10_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_10_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_10_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_10_photo_selected.9.png
index a18990344..4bf4b1052 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_10_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_10_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_10_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_10_selected.9.png
index 2a1b83b0a..e06d5aeae 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_10_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_10_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_11.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_11.9.png
index 6cc5ac3a2..54d18cfde 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_11.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_11.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_11_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_11_photo.9.png
index 51a9e2854..7a326cc47 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_11_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_11_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_11_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_11_photo_selected.9.png
index 827d28d34..9f8e10ffc 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_11_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_11_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_11_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_11_selected.9.png
index 67ee52aaf..96ce46e0e 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_11_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_11_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_12.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_12.9.png
index f242f8b30..6f6cd13fd 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_12.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_12.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_12_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_12_photo.9.png
index f3f223688..82f3a166a 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_12_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_12_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_12_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_12_photo_selected.9.png
index ecd8cba9c..f9a315e79 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_12_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_12_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_12_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_12_selected.9.png
index b1fce9223..e944c9c7a 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_12_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_12_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_13.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_13.9.png
index fb3929350..8b95a34f8 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_13.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_13.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_13_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_13_photo.9.png
index b4cfa0a9b..561cd47ad 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_13_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_13_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_13_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_13_photo_selected.9.png
index 8b65aab1b..a0f2c77c9 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_13_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_13_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_13_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_13_selected.9.png
index 135cb4a80..93e05ed8d 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_13_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_13_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_2.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_2.9.png
index 92713c175..366da7495 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_2.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_2.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_2_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_2_photo.9.png
index 7e60e4647..9420e8070 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_2_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_2_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_2_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_2_photo_selected.9.png
index 998393f27..ee605f618 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_2_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_2_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_2_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_2_selected.9.png
index 77ce61941..06c33c2e7 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_2_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_2_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_3.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_3.9.png
index ed53c690c..5974efdcb 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_3.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_3.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_3_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_3_photo.9.png
index bc0875519..6dc3320df 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_3_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_3_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_3_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_3_photo_selected.9.png
index a18990344..4bf4b1052 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_3_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_3_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_3_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_3_selected.9.png
index 7470096f4..98b0b909b 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_3_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_3_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_4.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_4.9.png
index 41000715f..f53e6ea29 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_4.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_4.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_4_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_4_photo.9.png
index db3076a2e..6383bd7fa 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_4_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_4_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_4_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_4_photo_selected.9.png
index 1165e8f56..931aed7e3 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_4_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_4_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_4_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_4_selected.9.png
index 94892c505..764c4d8fb 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_4_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_4_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_5.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_5.9.png
index 36ca8d982..431d9aa5e 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_5.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_5.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_5_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_5_photo.9.png
index e6030f6d7..2d1228409 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_5_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_5_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_5_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_5_photo_selected.9.png
index 1357e060d..dead8dcc2 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_5_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_5_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_5_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_5_selected.9.png
index 91a86cfb5..e5740f609 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_5_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_5_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_6.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_6.9.png
index 639f659e8..6d8eaa541 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_6.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_6.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_6_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_6_photo.9.png
index b06f031d2..6e0ceb270 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_6_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_6_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_6_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_6_photo_selected.9.png
index 4abee5504..5e96c1eb9 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_6_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_6_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_6_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_6_selected.9.png
index a2e70a745..6a7177703 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_6_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_6_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_7.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_7.9.png
index 30536fa4c..6ad31844e 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_7.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_7.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_7_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_7_photo.9.png
index e6030f6d7..2d1228409 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_7_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_7_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_7_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_7_photo_selected.9.png
index 1357e060d..dead8dcc2 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_7_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_7_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_7_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_7_selected.9.png
index 60acea9ef..8f3af9200 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_7_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_7_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_8.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_8.9.png
index b9c17c1b7..6610c6373 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_8.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_8.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_8_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_8_photo.9.png
index e6030f6d7..2d1228409 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_8_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_8_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_8_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_8_photo_selected.9.png
index 1357e060d..dead8dcc2 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_8_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_8_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_8_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_8_selected.9.png
index baf27e927..c619655d4 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_8_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_8_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_9.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_9.9.png
index f60cd3afb..bed68859f 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_9.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_9.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_9_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_9_photo.9.png
index ed4451048..9420e8070 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_9_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_9_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_9_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_9_photo_selected.9.png
index 998393f27..ee605f618 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_9_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_9_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_9_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_9_selected.9.png
index 2cb3151af..d4492a86c 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_9_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_9_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_photo.9.png
new file mode 100644
index 000000000..248b9ba2b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_photo_selected.9.png
new file mode 100644
index 000000000..91dabc475
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_selected.9.png
new file mode 100644
index 000000000..e61ca03bf
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_shadow.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_shadow.9.png
index e7286533d..5de304c14 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_shadow.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_in_shadow.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_instant.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_instant.png
index f03df3f07..cc6db5974 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_instant.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_instant.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out.9.png
index 34de041e9..47c951c69 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_10.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_10.9.png
index a786a7540..a3dbd5f3c 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_10.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_10.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_10_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_10_photo.9.png
index dddbc26d7..d7919f847 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_10_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_10_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_10_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_10_photo_selected.9.png
index 6e022b994..e18cb9fb7 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_10_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_10_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_10_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_10_selected.9.png
index bdc85230b..31533f3fd 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_10_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_10_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_11.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_11.9.png
index 8e1177d23..b172faba2 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_11.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_11.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_11_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_11_photo.9.png
index a2cb593bd..be4101511 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_11_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_11_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_11_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_11_photo_selected.9.png
index 08cc475a0..b5fd0a252 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_11_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_11_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_11_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_11_selected.9.png
index e1e6759de..5d5df770b 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_11_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_11_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_12.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_12.9.png
index cb8a9a2fe..a3c2e9171 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_12.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_12.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_12_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_12_photo.9.png
index bc99058b6..a2025814e 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_12_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_12_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_12_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_12_photo_selected.9.png
index 76cd8262e..8b038c612 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_12_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_12_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_12_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_12_selected.9.png
index afd9db92d..ed8c0acdf 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_12_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_12_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_13.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_13.9.png
index d357b5576..fadae06ee 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_13.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_13.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_13_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_13_photo.9.png
index 6af963124..a125e669f 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_13_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_13_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_13_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_13_photo_selected.9.png
index 1e81c53dc..e369c3bb3 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_13_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_13_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_13_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_13_selected.9.png
index 90e4967dd..053d42629 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_13_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_13_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_2.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_2.9.png
index d9a07fb57..79d11d8a9 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_2.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_2.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_2_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_2_photo.9.png
index 97521b5e6..61295182d 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_2_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_2_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_2_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_2_photo_selected.9.png
index fa8b5b8e3..6586f4d0d 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_2_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_2_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_2_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_2_selected.9.png
index f7131e691..76eb6b827 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_2_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_2_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_3.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_3.9.png
index 94f321fd7..2ededec31 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_3.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_3.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_3_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_3_photo.9.png
index dddbc26d7..d7919f847 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_3_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_3_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_3_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_3_photo_selected.9.png
index 6e022b994..e18cb9fb7 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_3_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_3_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_3_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_3_selected.9.png
index ec5af918f..0f9d31fd3 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_3_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_3_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_4.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_4.9.png
index 57f4829d7..d4b989665 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_4.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_4.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_4_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_4_photo.9.png
index c0c2d5c56..43b9693e7 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_4_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_4_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_4_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_4_photo_selected.9.png
index a9835d62a..7e52412f4 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_4_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_4_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_4_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_4_selected.9.png
index f7ba81ba7..7896733de 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_4_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_4_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_5.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_5.9.png
index d393829df..8dbb5ece7 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_5.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_5.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_5_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_5_photo.9.png
index bb8dc46e6..31685f5fb 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_5_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_5_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_5_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_5_photo_selected.9.png
index 1e3476153..22edf73b7 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_5_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_5_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_5_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_5_selected.9.png
index d393829df..8dbb5ece7 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_5_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_5_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_6.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_6.9.png
index 80c8388bc..53961d45f 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_6.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_6.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_6_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_6_photo.9.png
index 61d6a37df..22f8c3a1e 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_6_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_6_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_6_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_6_photo_selected.9.png
index 25b7a6ab8..69e73a6ae 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_6_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_6_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_6_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_6_selected.9.png
index 80c8388bc..53961d45f 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_6_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_6_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_7.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_7.9.png
index 2c47362ab..18ef670dd 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_7.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_7.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_7_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_7_photo.9.png
index bb8dc46e6..31685f5fb 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_7_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_7_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_7_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_7_photo_selected.9.png
index 1e3476153..22edf73b7 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_7_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_7_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_7_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_7_selected.9.png
index 8539b519d..44195e767 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_7_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_7_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_8.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_8.9.png
index d83ed9c0c..c84e04f61 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_8.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_8.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_8_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_8_photo.9.png
index bb8dc46e6..31685f5fb 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_8_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_8_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_8_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_8_photo_selected.9.png
index 1e3476153..22edf73b7 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_8_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_8_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_8_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_8_selected.9.png
index 6bccdaf50..01941a9a2 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_8_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_8_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_9.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_9.9.png
index d78079ee6..f52a6c063 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_9.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_9.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_9_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_9_photo.9.png
index 97521b5e6..61295182d 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_9_photo.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_9_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_9_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_9_photo_selected.9.png
index fa8b5b8e3..6586f4d0d 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_9_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_9_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_9_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_9_selected.9.png
index fe7dc8932..a7a85acd4 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_9_selected.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_9_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_photo.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_photo.9.png
new file mode 100644
index 000000000..c452372f3
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_photo_selected.9.png
new file mode 100644
index 000000000..faa2daa55
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_selected.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_selected.9.png
new file mode 100644
index 000000000..65e00a868
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_shadow.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_shadow.9.png
index dc71a23f9..29fd0863b 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_shadow.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_out_shadow.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/msg_warning.png b/TMessagesProj/src/main/res/drawable-xhdpi/msg_warning.png
index e0d2c5999..ca7d471e8 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/msg_warning.png and b/TMessagesProj/src/main/res/drawable-xhdpi/msg_warning.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/mute_blue.png b/TMessagesProj/src/main/res/drawable-xhdpi/mute_blue.png
new file mode 100644
index 000000000..e5e62eaec
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/mute_blue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/mute_grey.png b/TMessagesProj/src/main/res/drawable-xhdpi/mute_grey.png
new file mode 100644
index 000000000..73b1e3976
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/mute_grey.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/myloc_on.png b/TMessagesProj/src/main/res/drawable-xhdpi/myloc_on.png
index 0ebd34173..0ec99ef2a 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/myloc_on.png and b/TMessagesProj/src/main/res/drawable-xhdpi/myloc_on.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/newmsg_divider.png b/TMessagesProj/src/main/res/drawable-xhdpi/newmsg_divider.png
index 935c3fb0f..555f2bf13 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/newmsg_divider.png and b/TMessagesProj/src/main/res/drawable-xhdpi/newmsg_divider.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/nocover.png b/TMessagesProj/src/main/res/drawable-xhdpi/nocover.png
index 6d655f833..0e916f376 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/nocover.png and b/TMessagesProj/src/main/res/drawable-xhdpi/nocover.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/notification.png b/TMessagesProj/src/main/res/drawable-xhdpi/notification.png
index fb9787589..8baff7b27 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/notification.png and b/TMessagesProj/src/main/res/drawable-xhdpi/notification.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/notify_members_off.png b/TMessagesProj/src/main/res/drawable-xhdpi/notify_members_off.png
index 0343bd583..7fcaef929 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/notify_members_off.png and b/TMessagesProj/src/main/res/drawable-xhdpi/notify_members_off.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/notify_members_on.png b/TMessagesProj/src/main/res/drawable-xhdpi/notify_members_on.png
index c34b85630..74270aae7 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/notify_members_on.png and b/TMessagesProj/src/main/res/drawable-xhdpi/notify_members_on.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/numberpicker_selection_divider.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/numberpicker_selection_divider.9.png
new file mode 100644
index 000000000..97eb5fe80
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/numberpicker_selection_divider.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/pagedown.png b/TMessagesProj/src/main/res/drawable-xhdpi/pagedown.png
index 6e7cfa11b..c84cc4057 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/pagedown.png and b/TMessagesProj/src/main/res/drawable-xhdpi/pagedown.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/passcode_logo.png b/TMessagesProj/src/main/res/drawable-xhdpi/passcode_logo.png
index 92c5f2d5b..9dacb6183 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/passcode_logo.png and b/TMessagesProj/src/main/res/drawable-xhdpi/passcode_logo.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/pause_b.png b/TMessagesProj/src/main/res/drawable-xhdpi/pause_b.png
new file mode 100644
index 000000000..851500ecd
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/pause_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/pause_b_s.png b/TMessagesProj/src/main/res/drawable-xhdpi/pause_b_s.png
new file mode 100644
index 000000000..6c796c011
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/pause_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/pause_g.png b/TMessagesProj/src/main/res/drawable-xhdpi/pause_g.png
new file mode 100644
index 000000000..0708a5ede
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/pause_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/pause_g_s.png b/TMessagesProj/src/main/res/drawable-xhdpi/pause_g_s.png
new file mode 100644
index 000000000..a7bb4434a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/pause_g_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/phone_change.png b/TMessagesProj/src/main/res/drawable-xhdpi/phone_change.png
index 4b39140b9..770c9bd67 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/phone_change.png and b/TMessagesProj/src/main/res/drawable-xhdpi/phone_change.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/phone_grey.png b/TMessagesProj/src/main/res/drawable-xhdpi/phone_grey.png
new file mode 100644
index 000000000..981ed79f0
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/phone_grey.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/photo_text2.png b/TMessagesProj/src/main/res/drawable-xhdpi/photo_text2.png
index d537cbc0a..244a4b355 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/photo_text2.png and b/TMessagesProj/src/main/res/drawable-xhdpi/photo_text2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/photocancel.png b/TMessagesProj/src/main/res/drawable-xhdpi/photocancel.png
new file mode 100644
index 000000000..4dc4b06be
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/photocancel.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/photocancel_b.png b/TMessagesProj/src/main/res/drawable-xhdpi/photocancel_b.png
new file mode 100644
index 000000000..7fef9dc1d
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/photocancel_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/photocancel_b_s.png b/TMessagesProj/src/main/res/drawable-xhdpi/photocancel_b_s.png
new file mode 100644
index 000000000..81fcc3a97
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/photocancel_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/photocancel_g.png b/TMessagesProj/src/main/res/drawable-xhdpi/photocancel_g.png
new file mode 100644
index 000000000..e61452ac4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/photocancel_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/photocancel_g_s.png b/TMessagesProj/src/main/res/drawable-xhdpi/photocancel_g_s.png
new file mode 100644
index 000000000..6600032fc
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/photocancel_g_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/photocancel_pressed.png b/TMessagesProj/src/main/res/drawable-xhdpi/photocancel_pressed.png
new file mode 100644
index 000000000..99ff3c7ec
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/photocancel_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/photogif.png b/TMessagesProj/src/main/res/drawable-xhdpi/photogif.png
new file mode 100644
index 000000000..067b09c22
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/photogif.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/photogif_pressed.png b/TMessagesProj/src/main/res/drawable-xhdpi/photogif_pressed.png
new file mode 100644
index 000000000..4c9032569
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/photogif_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/photoload.png b/TMessagesProj/src/main/res/drawable-xhdpi/photoload.png
new file mode 100644
index 000000000..fb4eaec18
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/photoload.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/photoload_b.png b/TMessagesProj/src/main/res/drawable-xhdpi/photoload_b.png
new file mode 100644
index 000000000..08d8ba1e1
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/photoload_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/photoload_b_s.png b/TMessagesProj/src/main/res/drawable-xhdpi/photoload_b_s.png
new file mode 100644
index 000000000..9b860d1ee
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/photoload_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/photoload_g.png b/TMessagesProj/src/main/res/drawable-xhdpi/photoload_g.png
new file mode 100644
index 000000000..9ffbdfdd4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/photoload_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/photoload_g_s.png b/TMessagesProj/src/main/res/drawable-xhdpi/photoload_g_s.png
new file mode 100644
index 000000000..c22b11e89
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/photoload_g_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/photoload_pressed.png b/TMessagesProj/src/main/res/drawable-xhdpi/photoload_pressed.png
new file mode 100644
index 000000000..3fc49d398
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/photoload_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/phototime_white.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/phototime_white.9.png
index 528983016..eaf9b7638 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/phototime_white.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/phototime_white.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/pin.png b/TMessagesProj/src/main/res/drawable-xhdpi/pin.png
index 46300d17d..1fa36f892 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/pin.png and b/TMessagesProj/src/main/res/drawable-xhdpi/pin.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/pl_next.png b/TMessagesProj/src/main/res/drawable-xhdpi/pl_next.png
index 2471be4ec..a9b7bb559 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/pl_next.png and b/TMessagesProj/src/main/res/drawable-xhdpi/pl_next.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/pl_next_pressed.png b/TMessagesProj/src/main/res/drawable-xhdpi/pl_next_pressed.png
new file mode 100644
index 000000000..adfa91502
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/pl_next_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/pl_pause.png b/TMessagesProj/src/main/res/drawable-xhdpi/pl_pause.png
index 98e88278a..88901a49e 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/pl_pause.png and b/TMessagesProj/src/main/res/drawable-xhdpi/pl_pause.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/pl_pause_pressed.png b/TMessagesProj/src/main/res/drawable-xhdpi/pl_pause_pressed.png
new file mode 100644
index 000000000..95d5b1224
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/pl_pause_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/pl_play.png b/TMessagesProj/src/main/res/drawable-xhdpi/pl_play.png
index 5d23c88b8..337bf8a37 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/pl_play.png and b/TMessagesProj/src/main/res/drawable-xhdpi/pl_play.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/pl_play_pressed.png b/TMessagesProj/src/main/res/drawable-xhdpi/pl_play_pressed.png
new file mode 100644
index 000000000..adc3c6fe0
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/pl_play_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/pl_previous.png b/TMessagesProj/src/main/res/drawable-xhdpi/pl_previous.png
index 293d9fc11..1dbd201bd 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/pl_previous.png and b/TMessagesProj/src/main/res/drawable-xhdpi/pl_previous.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/pl_previous_pressed.png b/TMessagesProj/src/main/res/drawable-xhdpi/pl_previous_pressed.png
new file mode 100644
index 000000000..6979d0dd2
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/pl_previous_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/pl_repeat.png b/TMessagesProj/src/main/res/drawable-xhdpi/pl_repeat.png
index 2f36cc7b4..f0ebf4987 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/pl_repeat.png and b/TMessagesProj/src/main/res/drawable-xhdpi/pl_repeat.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/pl_repeat1_active.png b/TMessagesProj/src/main/res/drawable-xhdpi/pl_repeat1_active.png
new file mode 100644
index 000000000..9b37d2dd3
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/pl_repeat1_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/pl_repeat_active.png b/TMessagesProj/src/main/res/drawable-xhdpi/pl_repeat_active.png
new file mode 100644
index 000000000..da9e63bc1
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/pl_repeat_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/pl_shuffle.png b/TMessagesProj/src/main/res/drawable-xhdpi/pl_shuffle.png
index e7af0c031..00293fad0 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/pl_shuffle.png and b/TMessagesProj/src/main/res/drawable-xhdpi/pl_shuffle.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/pl_shuffle_active.png b/TMessagesProj/src/main/res/drawable-xhdpi/pl_shuffle_active.png
new file mode 100644
index 000000000..1cba5d2f5
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/pl_shuffle_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/place_x.png b/TMessagesProj/src/main/res/drawable-xhdpi/place_x.png
index be7548eb3..3d95f25f9 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/place_x.png and b/TMessagesProj/src/main/res/drawable-xhdpi/place_x.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/play_b.png b/TMessagesProj/src/main/res/drawable-xhdpi/play_b.png
new file mode 100644
index 000000000..c2f1803c7
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/play_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/play_b_s.png b/TMessagesProj/src/main/res/drawable-xhdpi/play_b_s.png
new file mode 100644
index 000000000..9ab9ba848
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/play_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/play_big.png b/TMessagesProj/src/main/res/drawable-xhdpi/play_big.png
index 37409d865..77bccc78b 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/play_big.png and b/TMessagesProj/src/main/res/drawable-xhdpi/play_big.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/play_g.png b/TMessagesProj/src/main/res/drawable-xhdpi/play_g.png
new file mode 100644
index 000000000..6c442666b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/play_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/play_g_s.png b/TMessagesProj/src/main/res/drawable-xhdpi/play_g_s.png
new file mode 100644
index 000000000..95b40bc0e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/play_g_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/playvideo.png b/TMessagesProj/src/main/res/drawable-xhdpi/playvideo.png
new file mode 100644
index 000000000..d590b0f66
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/playvideo.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/playvideo_pressed.png b/TMessagesProj/src/main/res/drawable-xhdpi/playvideo_pressed.png
new file mode 100644
index 000000000..1f3374c2e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/playvideo_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/plus.png b/TMessagesProj/src/main/res/drawable-xhdpi/plus.png
index 0451c72bf..e29a05563 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/plus.png and b/TMessagesProj/src/main/res/drawable-xhdpi/plus.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/post_views.png b/TMessagesProj/src/main/res/drawable-xhdpi/post_views.png
new file mode 100644
index 000000000..9cf0d5bdf
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/post_views.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/post_views_s.png b/TMessagesProj/src/main/res/drawable-xhdpi/post_views_s.png
new file mode 100644
index 000000000..87af72332
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/post_views_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/post_views_w.png b/TMessagesProj/src/main/res/drawable-xhdpi/post_views_w.png
new file mode 100644
index 000000000..2de06dd70
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/post_views_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/post_viewsg.png b/TMessagesProj/src/main/res/drawable-xhdpi/post_viewsg.png
new file mode 100644
index 000000000..fc3764cc9
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/post_viewsg.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/profile_list.png b/TMessagesProj/src/main/res/drawable-xhdpi/profile_list.png
index ad39ad088..1383d6bc6 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/profile_list.png and b/TMessagesProj/src/main/res/drawable-xhdpi/profile_list.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/publish.png b/TMessagesProj/src/main/res/drawable-xhdpi/publish.png
new file mode 100644
index 000000000..e48445bc6
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/publish.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/publish_active.png b/TMessagesProj/src/main/res/drawable-xhdpi/publish_active.png
new file mode 100644
index 000000000..d27375270
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/publish_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/recorded.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/recorded.9.png
new file mode 100644
index 000000000..af215a34c
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/recorded.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/regbtn2.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/regbtn2.9.png
index 815fed375..31100b73d 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/regbtn2.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/regbtn2.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/regbtn2_pressed.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/regbtn2_pressed.9.png
index 5549918ce..3bffdd8d3 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/regbtn2_pressed.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/regbtn2_pressed.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/reply.png b/TMessagesProj/src/main/res/drawable-xhdpi/reply.png
new file mode 100644
index 000000000..ee23fc6b6
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/reply.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/s_pause_pressed.png b/TMessagesProj/src/main/res/drawable-xhdpi/s_pause_pressed.png
new file mode 100644
index 000000000..83e9e8201
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/s_pause_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/s_play_pressed.png b/TMessagesProj/src/main/res/drawable-xhdpi/s_play_pressed.png
new file mode 100644
index 000000000..f0993b742
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/s_play_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/search_dark.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/search_dark.9.png
index cc5dfb27d..fcb8ced74 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/search_dark.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/search_dark.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/search_dark_activated.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/search_dark_activated.9.png
index 71aa58d74..cd2456c16 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/search_dark_activated.9.png and b/TMessagesProj/src/main/res/drawable-xhdpi/search_dark_activated.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/search_down.png b/TMessagesProj/src/main/res/drawable-xhdpi/search_down.png
index 5b07c1dff..2b8bd80cc 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/search_down.png and b/TMessagesProj/src/main/res/drawable-xhdpi/search_down.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/search_share.png b/TMessagesProj/src/main/res/drawable-xhdpi/search_share.png
new file mode 100644
index 000000000..c8c15c21b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/search_share.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/search_up.png b/TMessagesProj/src/main/res/drawable-xhdpi/search_up.png
index 8ff662fdf..a212e27c0 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/search_up.png and b/TMessagesProj/src/main/res/drawable-xhdpi/search_up.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/slidearrow.png b/TMessagesProj/src/main/res/drawable-xhdpi/slidearrow.png
index aea2017d6..519e2b173 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/slidearrow.png and b/TMessagesProj/src/main/res/drawable-xhdpi/slidearrow.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/stickercounter.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/stickercounter.9.png
new file mode 100644
index 000000000..7f1f17fbd
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/stickercounter.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/system_white.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/system_white.9.png
new file mode 100644
index 000000000..ef47b12e6
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/system_white.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/system_white_3.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/system_white_3.9.png
new file mode 100644
index 000000000..88fb8d0d9
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/system_white_3.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/system_white_4.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/system_white_4.9.png
new file mode 100644
index 000000000..82e8af27f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/system_white_4.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/tab_all.png b/TMessagesProj/src/main/res/drawable-xhdpi/tab_all.png
index c2ca1e5f5..a8e6b133e 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/tab_all.png and b/TMessagesProj/src/main/res/drawable-xhdpi/tab_all.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/tab_bot.png b/TMessagesProj/src/main/res/drawable-xhdpi/tab_bot.png
index 124f98a21..8708650e7 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/tab_bot.png and b/TMessagesProj/src/main/res/drawable-xhdpi/tab_bot.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/tab_channel.png b/TMessagesProj/src/main/res/drawable-xhdpi/tab_channel.png
index 29762e25b..1a2a61a0c 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/tab_channel.png and b/TMessagesProj/src/main/res/drawable-xhdpi/tab_channel.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/tab_favs.png b/TMessagesProj/src/main/res/drawable-xhdpi/tab_favs.png
index 484c680e8..037adfc6f 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/tab_favs.png and b/TMessagesProj/src/main/res/drawable-xhdpi/tab_favs.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/tab_group.png b/TMessagesProj/src/main/res/drawable-xhdpi/tab_group.png
index cce517011..4258728f6 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/tab_group.png and b/TMessagesProj/src/main/res/drawable-xhdpi/tab_group.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/tab_supergroup.png b/TMessagesProj/src/main/res/drawable-xhdpi/tab_supergroup.png
index 023de73a2..2fd5e872a 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/tab_supergroup.png and b/TMessagesProj/src/main/res/drawable-xhdpi/tab_supergroup.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/tab_user.png b/TMessagesProj/src/main/res/drawable-xhdpi/tab_user.png
index d2b0f852e..738e3490d 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/tab_user.png and b/TMessagesProj/src/main/res/drawable-xhdpi/tab_user.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/tooltip.9.png b/TMessagesProj/src/main/res/drawable-xhdpi/tooltip.9.png
new file mode 100644
index 000000000..ab5eb8075
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/tooltip.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/videolapse.png b/TMessagesProj/src/main/res/drawable-xhdpi/videolapse.png
new file mode 100644
index 000000000..6347d2bae
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/videolapse.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/videotrimmer.png b/TMessagesProj/src/main/res/drawable-xhdpi/videotrimmer.png
new file mode 100644
index 000000000..5c8753f2e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xhdpi/videotrimmer.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/addmember.png b/TMessagesProj/src/main/res/drawable-xxhdpi/addmember.png
new file mode 100644
index 000000000..b4a262083
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/addmember.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/admin_star.png b/TMessagesProj/src/main/res/drawable-xxhdpi/admin_star.png
index fd56eb406..8724c05b1 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/admin_star.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/admin_star.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/admin_star2.png b/TMessagesProj/src/main/res/drawable-xxhdpi/admin_star2.png
new file mode 100644
index 000000000..6dac9318e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/admin_star2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/assign_manager.png b/TMessagesProj/src/main/res/drawable-xxhdpi/assign_manager.png
new file mode 100644
index 000000000..fcad7d9e8
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/assign_manager.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/audiosend_pause.png b/TMessagesProj/src/main/res/drawable-xxhdpi/audiosend_pause.png
index a7beb78c0..6a227efc2 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/audiosend_pause.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/audiosend_pause.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/audiosend_play.png b/TMessagesProj/src/main/res/drawable-xxhdpi/audiosend_play.png
index b4362fa07..40478b917 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/audiosend_play.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/audiosend_play.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/background_hd.jpg b/TMessagesProj/src/main/res/drawable-xxhdpi/background_hd.jpg
index 46351c313..b1168211a 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/background_hd.jpg and b/TMessagesProj/src/main/res/drawable-xxhdpi/background_hd.jpg differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/bot_file.png b/TMessagesProj/src/main/res/drawable-xxhdpi/bot_file.png
index 9cd059b8c..3fdbe9907 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/bot_file.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/bot_file.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/bot_info.png b/TMessagesProj/src/main/res/drawable-xxhdpi/bot_info.png
new file mode 100644
index 000000000..c620bbaf6
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/bot_info.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/bot_keyboard.png b/TMessagesProj/src/main/res/drawable-xxhdpi/bot_keyboard.png
index f57e1bc6e..67b0fa4de 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/bot_keyboard.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/bot_keyboard.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/bot_keyboard2.png b/TMessagesProj/src/main/res/drawable-xxhdpi/bot_keyboard2.png
index 7991e46a6..b75abe5c3 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/bot_keyboard2.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/bot_keyboard2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/bot_keyboard_button.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/bot_keyboard_button.9.png
new file mode 100644
index 000000000..58fccc6e9
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/bot_keyboard_button.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/bot_keyboard_button_pressed.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/bot_keyboard_button_pressed.9.png
new file mode 100644
index 000000000..dba2a36bc
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/bot_keyboard_button_pressed.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/bot_list.png b/TMessagesProj/src/main/res/drawable-xxhdpi/bot_list.png
new file mode 100644
index 000000000..3391bb61a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/bot_list.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/bot_location.png b/TMessagesProj/src/main/res/drawable-xxhdpi/bot_location.png
index 21652a6bd..6c75f1deb 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/bot_location.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/bot_location.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/bot_music.png b/TMessagesProj/src/main/res/drawable-xxhdpi/bot_music.png
index ce6c20adc..16bf5bc9e 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/bot_music.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/bot_music.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/bottom_shadow.png b/TMessagesProj/src/main/res/drawable-xxhdpi/bottom_shadow.png
index 36ba70346..cf81b6c14 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/bottom_shadow.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/bottom_shadow.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/broadcast2.png b/TMessagesProj/src/main/res/drawable-xxhdpi/broadcast2.png
new file mode 100644
index 000000000..9b686f347
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/broadcast2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/broadcast3.png b/TMessagesProj/src/main/res/drawable-xxhdpi/broadcast3.png
index a4fca0864..f89697b73 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/broadcast3.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/broadcast3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/broadcast4.png b/TMessagesProj/src/main/res/drawable-xxhdpi/broadcast4.png
new file mode 100644
index 000000000..9a1b9b2ab
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/broadcast4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/cancel_big.png b/TMessagesProj/src/main/res/drawable-xxhdpi/cancel_big.png
index 96a6c3d71..87537b0ba 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/cancel_big.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/cancel_big.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/cats.jpg b/TMessagesProj/src/main/res/drawable-xxhdpi/cats.jpg
new file mode 100644
index 000000000..cdbd729a2
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/cats.jpg differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/chats_favs.png b/TMessagesProj/src/main/res/drawable-xxhdpi/chats_favs.png
deleted file mode 100644
index 29860ff24..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/chats_favs.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/chats_mute.png b/TMessagesProj/src/main/res/drawable-xxhdpi/chats_mute.png
deleted file mode 100644
index 7cf392067..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/chats_mute.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/chats_nofavs.png b/TMessagesProj/src/main/res/drawable-xxhdpi/chats_nofavs.png
deleted file mode 100644
index 44df821d8..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/chats_nofavs.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/chats_read.png b/TMessagesProj/src/main/res/drawable-xxhdpi/chats_read.png
deleted file mode 100644
index 4f94da395..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/chats_read.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/chats_shortcut.png b/TMessagesProj/src/main/res/drawable-xxhdpi/chats_shortcut.png
deleted file mode 100644
index beaafc7ff..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/chats_shortcut.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/chats_unmute.png b/TMessagesProj/src/main/res/drawable-xxhdpi/chats_unmute.png
deleted file mode 100644
index c13e2af33..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/chats_unmute.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/chats_unread.png b/TMessagesProj/src/main/res/drawable-xxhdpi/chats_unread.png
deleted file mode 100644
index 1fbc0b1e8..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/chats_unread.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/check_blue.png b/TMessagesProj/src/main/res/drawable-xxhdpi/check_blue.png
new file mode 100644
index 000000000..d01961fac
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/check_blue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/check_list.png b/TMessagesProj/src/main/res/drawable-xxhdpi/check_list.png
new file mode 100644
index 000000000..fd5a56b44
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/check_list.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/check_profile.png b/TMessagesProj/src/main/res/drawable-xxhdpi/check_profile.png
new file mode 100644
index 000000000..30bfdb482
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/check_profile.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/circle_big.png b/TMessagesProj/src/main/res/drawable-xxhdpi/circle_big.png
index 8b0cd9fd1..40750ead3 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/circle_big.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/circle_big.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/common_google_signin_btn_icon_dark_normal_background.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/common_google_signin_btn_icon_dark_normal_background.9.png
deleted file mode 100644
index 0385dd05d..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/common_google_signin_btn_icon_dark_normal_background.9.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/common_google_signin_btn_icon_light_normal_background.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/common_google_signin_btn_icon_light_normal_background.9.png
deleted file mode 100644
index b7a3decc2..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/common_google_signin_btn_icon_light_normal_background.9.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/common_google_signin_btn_text_dark_normal_background.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/common_google_signin_btn_text_dark_normal_background.9.png
deleted file mode 100644
index 1bef839f5..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/common_google_signin_btn_text_dark_normal_background.9.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/common_google_signin_btn_text_light_normal_background.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/common_google_signin_btn_text_light_normal_background.9.png
deleted file mode 100644
index b3ef0cd82..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/common_google_signin_btn_text_light_normal_background.9.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/compose_panel.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/compose_panel.9.png
new file mode 100644
index 000000000..e2ee05bee
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/compose_panel.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/contact_blue.png b/TMessagesProj/src/main/res/drawable-xxhdpi/contact_blue.png
new file mode 100644
index 000000000..aa2f30e37
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/contact_blue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/contact_green.png b/TMessagesProj/src/main/res/drawable-xxhdpi/contact_green.png
new file mode 100644
index 000000000..1fb42bf40
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/contact_green.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/delete_reply.png b/TMessagesProj/src/main/res/drawable-xxhdpi/delete_reply.png
new file mode 100644
index 000000000..3cfc6883e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/delete_reply.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/devices.png b/TMessagesProj/src/main/res/drawable-xxhdpi/devices.png
index e767cc0f2..3afa7788d 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/devices.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/devices.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_badge.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_badge.9.png
new file mode 100644
index 000000000..5de08904f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_badge.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_badge2.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_badge2.9.png
new file mode 100644
index 000000000..7facfe30e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_badge2.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check.png
new file mode 100644
index 000000000..a3c0f9cec
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_10.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_10.png
index 1296e8312..29e57eedb 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_10.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_11.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_11.png
index dae5f83e1..2a7bd52a9 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_11.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_12.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_12.png
index c92b59963..55b6bbf24 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_12.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_2.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_2.png
index 6ab51d1a6..bf63c9151 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_2.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_3.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_3.png
index ba14b4f8a..00f7237a4 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_3.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_4.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_4.png
index 509438804..7f239afbe 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_4.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_5.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_5.png
index 9e07fd9e0..8c86e128b 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_5.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_6.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_6.png
index d0dc74c04..d151dbeaa 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_6.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_7.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_7.png
index 7c98d85d2..42599e90b 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_7.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_8.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_8.png
index 5fa9e26c2..cf6322c68 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_8.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_9.png
index 33f2fe549..0cef03b98 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_check_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck.png
new file mode 100644
index 000000000..5f5a7b1e1
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_10.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_10.png
index 5fa9e26c2..cf6322c68 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_10.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_11.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_11.png
index f2b580c35..571c6834d 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_11.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_12.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_12.png
index a6aa35438..15d5ee712 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_12.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_2.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_2.png
index 6e676b83d..a9482f530 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_2.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_3.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_3.png
index d98ec0b01..2914e3a4b 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_3.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_4.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_4.png
index 639b1f107..10ebec6c8 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_4.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_5.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_5.png
index ed5d9bbb6..2b21705c6 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_5.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_6.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_6.png
index 9f9b85302..fbfd4ac45 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_6.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_7.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_7.png
index 65c5f44d9..ad69bc418 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_7.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_8.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_8.png
index 5fa9e26c2..cf6322c68 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_8.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_9.png
index da7ab56fa..e470bf420 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_halfcheck_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_warning.png b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_warning.png
new file mode 100644
index 000000000..8b1332493
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/dialogs_warning.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/doc_actions_b.png b/TMessagesProj/src/main/res/drawable-xxhdpi/doc_actions_b.png
new file mode 100644
index 000000000..3b169ff04
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/doc_actions_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/doc_actions_b_s.png b/TMessagesProj/src/main/res/drawable-xxhdpi/doc_actions_b_s.png
new file mode 100644
index 000000000..34f1206fa
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/doc_actions_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/doc_actions_g.png b/TMessagesProj/src/main/res/drawable-xxhdpi/doc_actions_g.png
new file mode 100644
index 000000000..109c13fd7
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/doc_actions_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/doc_actions_w.png b/TMessagesProj/src/main/res/drawable-xxhdpi/doc_actions_w.png
index b8bb6773b..d60fd6d38 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/doc_actions_w.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/doc_actions_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/doc_blue.png b/TMessagesProj/src/main/res/drawable-xxhdpi/doc_blue.png
new file mode 100644
index 000000000..f8a4f5b75
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/doc_blue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/doc_blue_s.png b/TMessagesProj/src/main/res/drawable-xxhdpi/doc_blue_s.png
new file mode 100644
index 000000000..466b3cb3d
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/doc_blue_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/doc_green.png b/TMessagesProj/src/main/res/drawable-xxhdpi/doc_green.png
new file mode 100644
index 000000000..e8bb7431b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/doc_green.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/doc_white.png b/TMessagesProj/src/main/res/drawable-xxhdpi/doc_white.png
index 4e4e1e962..92ee934d3 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/doc_white.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/doc_white.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/doccancel_b.png b/TMessagesProj/src/main/res/drawable-xxhdpi/doccancel_b.png
new file mode 100644
index 000000000..fad332f1e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/doccancel_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/doccancel_b_s.png b/TMessagesProj/src/main/res/drawable-xxhdpi/doccancel_b_s.png
new file mode 100644
index 000000000..4eae493c8
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/doccancel_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/doccancel_g.png b/TMessagesProj/src/main/res/drawable-xxhdpi/doccancel_g.png
new file mode 100644
index 000000000..c31c831eb
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/doccancel_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/doccancel_w.png b/TMessagesProj/src/main/res/drawable-xxhdpi/doccancel_w.png
index 53a768752..cd457190b 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/doccancel_w.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/doccancel_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/docload_b.png b/TMessagesProj/src/main/res/drawable-xxhdpi/docload_b.png
new file mode 100644
index 000000000..a54e9deac
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/docload_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/docload_b_s.png b/TMessagesProj/src/main/res/drawable-xxhdpi/docload_b_s.png
new file mode 100644
index 000000000..e86d9347a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/docload_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/docload_g.png b/TMessagesProj/src/main/res/drawable-xxhdpi/docload_g.png
new file mode 100644
index 000000000..5da89c783
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/docload_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/docload_w.png b/TMessagesProj/src/main/res/drawable-xxhdpi/docload_w.png
index 6a284e14f..5da89c783 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/docload_w.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/docload_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/docpause_b.png b/TMessagesProj/src/main/res/drawable-xxhdpi/docpause_b.png
new file mode 100644
index 000000000..370878820
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/docpause_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/docpause_b_s.png b/TMessagesProj/src/main/res/drawable-xxhdpi/docpause_b_s.png
new file mode 100644
index 000000000..fd117934c
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/docpause_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/docpause_g.png b/TMessagesProj/src/main/res/drawable-xxhdpi/docpause_g.png
new file mode 100644
index 000000000..18dcd57d1
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/docpause_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/docpause_w.png b/TMessagesProj/src/main/res/drawable-xxhdpi/docpause_w.png
index 0969183c0..4c86456cf 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/docpause_w.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/docpause_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/edit_doneblue.png b/TMessagesProj/src/main/res/drawable-xxhdpi/edit_doneblue.png
new file mode 100644
index 000000000..643fa3c6e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/edit_doneblue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/file_b.png b/TMessagesProj/src/main/res/drawable-xxhdpi/file_b.png
new file mode 100644
index 000000000..1c8598cd7
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/file_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/file_b_cancel.png b/TMessagesProj/src/main/res/drawable-xxhdpi/file_b_cancel.png
new file mode 100644
index 000000000..9d48270d9
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/file_b_cancel.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/file_b_cancel_s.png b/TMessagesProj/src/main/res/drawable-xxhdpi/file_b_cancel_s.png
new file mode 100644
index 000000000..5e323f926
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/file_b_cancel_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/file_b_load.png b/TMessagesProj/src/main/res/drawable-xxhdpi/file_b_load.png
new file mode 100644
index 000000000..dc4dae1fb
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/file_b_load.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/file_b_load_s.png b/TMessagesProj/src/main/res/drawable-xxhdpi/file_b_load_s.png
new file mode 100644
index 000000000..044304d96
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/file_b_load_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/file_b_s.png b/TMessagesProj/src/main/res/drawable-xxhdpi/file_b_s.png
new file mode 100644
index 000000000..925351b02
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/file_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/file_g.png b/TMessagesProj/src/main/res/drawable-xxhdpi/file_g.png
new file mode 100644
index 000000000..7dd85a3b5
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/file_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/file_g_cancel.png b/TMessagesProj/src/main/res/drawable-xxhdpi/file_g_cancel.png
new file mode 100644
index 000000000..1ccbe9d93
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/file_g_cancel.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/file_g_cancel_s.png b/TMessagesProj/src/main/res/drawable-xxhdpi/file_g_cancel_s.png
new file mode 100644
index 000000000..de91f9158
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/file_g_cancel_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/file_g_load.png b/TMessagesProj/src/main/res/drawable-xxhdpi/file_g_load.png
new file mode 100644
index 000000000..bcddac3bc
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/file_g_load.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/file_g_load_s.png b/TMessagesProj/src/main/res/drawable-xxhdpi/file_g_load_s.png
new file mode 100644
index 000000000..174947d79
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/file_g_load_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/file_g_s.png b/TMessagesProj/src/main/res/drawable-xxhdpi/file_g_s.png
new file mode 100644
index 000000000..8395b5ac8
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/file_g_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/floating.png b/TMessagesProj/src/main/res/drawable-xxhdpi/floating.png
new file mode 100644
index 000000000..65abfe39f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/floating.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/floating3_profile.png b/TMessagesProj/src/main/res/drawable-xxhdpi/floating3_profile.png
new file mode 100644
index 000000000..3715273b0
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/floating3_profile.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/floating3_profile_m.png b/TMessagesProj/src/main/res/drawable-xxhdpi/floating3_profile_m.png
new file mode 100644
index 000000000..f9b8bc1f5
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/floating3_profile_m.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/floating3_profile_pressed.png b/TMessagesProj/src/main/res/drawable-xxhdpi/floating3_profile_pressed.png
new file mode 100644
index 000000000..291e574fd
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/floating3_profile_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/floating_camera.png b/TMessagesProj/src/main/res/drawable-xxhdpi/floating_camera.png
index fbb08d565..ca6d5ef98 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/floating_camera.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/floating_camera.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/floating_m.png b/TMessagesProj/src/main/res/drawable-xxhdpi/floating_m.png
new file mode 100644
index 000000000..6a353103a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/floating_m.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/floating_message.png b/TMessagesProj/src/main/res/drawable-xxhdpi/floating_message.png
index 0bb02efaa..40451f298 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/floating_message.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/floating_message.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/floating_pressed.png b/TMessagesProj/src/main/res/drawable-xxhdpi/floating_pressed.png
new file mode 100644
index 000000000..26d91f198
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/floating_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/floating_white.png b/TMessagesProj/src/main/res/drawable-xxhdpi/floating_white.png
index 57cd6daff..3715273b0 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/floating_white.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/floating_white.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/forward_blue.png b/TMessagesProj/src/main/res/drawable-xxhdpi/forward_blue.png
new file mode 100644
index 000000000..075a4f7f7
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/forward_blue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/foursquare.png b/TMessagesProj/src/main/res/drawable-xxhdpi/foursquare.png
index baeaca21e..0104f7dc9 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/foursquare.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/foursquare.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/googleg_disabled_color_18.png b/TMessagesProj/src/main/res/drawable-xxhdpi/googleg_disabled_color_18.png
deleted file mode 100644
index 15daee591..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/googleg_disabled_color_18.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/googleg_standard_color_18.png b/TMessagesProj/src/main/res/drawable-xxhdpi/googleg_standard_color_18.png
deleted file mode 100644
index d6892d332..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/googleg_standard_color_18.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/greydivider.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/greydivider.9.png
index c88965c28..ef001a3d5 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/greydivider.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/greydivider.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/greydivider_bottom.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/greydivider_bottom.9.png
index 89206a6ef..1d72587a8 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/greydivider_bottom.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/greydivider_bottom.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/greydivider_top.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/greydivider_top.9.png
index 54a14ea8e..4c3d0b316 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/greydivider_top.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/greydivider_top.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/header_timer.png b/TMessagesProj/src/main/res/drawable-xxhdpi/header_timer.png
new file mode 100644
index 000000000..9d27a863f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/header_timer.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/header_timer2.png b/TMessagesProj/src/main/res/drawable-xxhdpi/header_timer2.png
new file mode 100644
index 000000000..aeaa2455b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/header_timer2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_attach.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_attach.png
index 22fca80de..5f2d555b4 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_attach.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_attach.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_attach3.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_attach3.png
new file mode 100644
index 000000000..39b7c7d15
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_attach3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_back_grey.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_back_grey.png
new file mode 100644
index 000000000..06104d817
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_back_grey.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_doc.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_doc.png
new file mode 100644
index 000000000..7a86b6f08
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_doc.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_done_gray.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_done_gray.png
new file mode 100644
index 000000000..4ff3b63bb
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_done_gray.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_fwd_copy.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_fwd_copy.png
new file mode 100644
index 000000000..31054c205
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_fwd_copy.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_fwd_delete.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_fwd_delete.png
new file mode 100644
index 000000000..74398b6cb
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_fwd_delete.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_fwd_forward.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_fwd_forward.png
new file mode 100644
index 000000000..3861355bf
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_fwd_forward.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_fwd_quoteforward.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_fwd_quoteforward.png
index 44a8d776d..b730e90db 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_fwd_quoteforward.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_fwd_quoteforward.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_new.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_new.png
index 0c668fdc8..4a5f91710 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_new.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_new.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_reply.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_reply.png
index 2e74dd013..2af3db4e5 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_reply.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_ab_reply.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_attach_sticker.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_attach_sticker.png
new file mode 100644
index 000000000..77e67a21a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_attach_sticker.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_backup_white_24dp.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_backup_white_24dp.png
deleted file mode 100644
index 3ffefb155..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_backup_white_24dp.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_create.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_create.png
new file mode 100644
index 000000000..54d4e808f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_create.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_directory.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_directory.png
index 2254d8106..591886a3c 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_directory.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_directory.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_external_storage.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_external_storage.png
index dc7764cb9..f1971d6be 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_external_storage.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_external_storage.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_fingerprint_error.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_fingerprint_error.png
deleted file mode 100644
index 9b1681535..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_fingerprint_error.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_launcher.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_launcher.png
index 9fd73b483..36e734e76 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_launcher.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_launcher.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_launcher_beta.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_launcher_beta.png
index bdcc00cb2..25227b62b 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_launcher_beta.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_launcher_beta.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_msg_panel_kb.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_msg_panel_kb.png
index e82bd3c21..98b58eef5 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_msg_panel_kb.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_msg_panel_kb.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_msg_panel_kb_white.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_msg_panel_kb_white.png
index ad9104991..2367322d7 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_msg_panel_kb_white.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_msg_panel_kb_white.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_msg_panel_smiles.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_msg_panel_smiles.png
index be0f86f02..b47f91717 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_msg_panel_smiles.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_msg_panel_smiles.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_send.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_send.png
index 69c6f9978..eec17c547 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_send.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_send.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_settings.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_settings.png
new file mode 100644
index 000000000..c95355277
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_settings.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_backspace.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_backspace.png
index 15486e100..8580a8b67 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_backspace.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_backspace.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_backspace_active.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_backspace_active.png
new file mode 100644
index 000000000..eb046dea7
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_backspace_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_bell.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_bell.png
new file mode 100644
index 000000000..bcd04f991
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_bell.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_bell_active.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_bell_active.png
new file mode 100644
index 000000000..701047dcc
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_bell_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_car.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_car.png
new file mode 100644
index 000000000..430ef9348
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_car.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_car_active.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_car_active.png
new file mode 100644
index 000000000..8568ffb25
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_car_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_flower.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_flower.png
new file mode 100644
index 000000000..63ba2bcee
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_flower.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_flower_active.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_flower_active.png
new file mode 100644
index 000000000..852144ab4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_flower_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_gif.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_gif.png
index 35d512420..13882c22f 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_gif.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_gif.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_grid.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_grid.png
new file mode 100644
index 000000000..c701d3124
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_grid.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_grid_active.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_grid_active.png
new file mode 100644
index 000000000..dc60847bb
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_grid_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_recent.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_recent.png
new file mode 100644
index 000000000..d08b38cd7
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_recent.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_recent_active.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_recent_active.png
new file mode 100644
index 000000000..34fe4ff4d
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_recent_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_smile.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_smile.png
new file mode 100644
index 000000000..0e8515a12
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_smile.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_smile_active.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_smile_active.png
new file mode 100644
index 000000000..36dff7616
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_smile_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_sticker.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_sticker.png
new file mode 100644
index 000000000..91e9a0746
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_sticker.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_sticker_active.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_sticker_active.png
new file mode 100644
index 000000000..c0b2af66c
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_smiles_sticker_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_storage.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_storage.png
index 7759760e6..352270132 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_storage.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_storage.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_storage_gallery.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_storage_gallery.png
index bdb863009..5ec0a940e 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_storage_gallery.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_storage_gallery.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_swap_vertical.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_swap_vertical.png
index 6328c8e7d..0a53b2e00 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_swap_vertical.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_swap_vertical.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/intro1.png b/TMessagesProj/src/main/res/drawable-xxhdpi/intro1.png
index 4831c0214..42019436f 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/intro1.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/intro1.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/link.png b/TMessagesProj/src/main/res/drawable-xxhdpi/link.png
new file mode 100644
index 000000000..655dc9e9a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/link.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/list_broadcast.png b/TMessagesProj/src/main/res/drawable-xxhdpi/list_broadcast.png
index adf93a846..3118410eb 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/list_broadcast.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/list_broadcast.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/list_group.png b/TMessagesProj/src/main/res/drawable-xxhdpi/list_group.png
index 14c071e67..8113ffea0 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/list_group.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/list_group.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/list_longpressed_holo_light.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/list_longpressed_holo_light.9.png
new file mode 100644
index 000000000..230d649bf
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/list_longpressed_holo_light.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/list_pressed_holo_light.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/list_pressed_holo_light.9.png
new file mode 100644
index 000000000..1352a1702
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/list_pressed_holo_light.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/list_secret.png b/TMessagesProj/src/main/res/drawable-xxhdpi/list_secret.png
index 35a15b3bf..fd1e9f59f 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/list_secret.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/list_secret.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/load_big.png b/TMessagesProj/src/main/res/drawable-xxhdpi/load_big.png
index cbf60bc07..3b1f44819 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/load_big.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/load_big.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/location2.png b/TMessagesProj/src/main/res/drawable-xxhdpi/location2.png
new file mode 100644
index 000000000..01ea9f4dd
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/location2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/location_b.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/location_b.9.png
new file mode 100644
index 000000000..01ea9f4dd
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/location_b.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/location_g.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/location_g.9.png
new file mode 100644
index 000000000..7343d9636
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/location_g.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/managers.png b/TMessagesProj/src/main/res/drawable-xxhdpi/managers.png
index f58abc4ae..e777cb3d2 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/managers.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/managers.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/media_doc_load.png b/TMessagesProj/src/main/res/drawable-xxhdpi/media_doc_load.png
index 44a6b9c6c..1381ece38 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/media_doc_load.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/media_doc_load.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/media_doc_pause.png b/TMessagesProj/src/main/res/drawable-xxhdpi/media_doc_pause.png
index 402a45525..c4d4125d7 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/media_doc_pause.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/media_doc_pause.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_admin.png b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_admin.png
index c5fac38e7..a51b598f3 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_admin.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_admin.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_broadcast.png b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_broadcast.png
index 9c5e3b730..cf8e5baa9 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_broadcast.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_broadcast.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_contacts.png b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_contacts.png
index 3a87eadef..483e8669b 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_contacts.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_contacts.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_forum.png b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_forum.png
index 953cd6717..a4ef52ce3 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_forum.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_forum.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_help.png b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_help.png
index 4d9ca592c..6d46163da 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_help.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_help.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_invite.png b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_invite.png
index d1afc6be7..e7e1adbeb 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_invite.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_invite.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_newgroup.png b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_newgroup.png
index 9f9950942..d83702f7b 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_newgroup.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_newgroup.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_plus.png b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_plus.png
index ac73663ea..968aa3ee9 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_plus.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_plus.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_secret.png b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_secret.png
index 8566c7076..9c1b7903f 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_secret.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_secret.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_settings.png b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_settings.png
index 5c9c7388f..bcd8ec6b9 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_settings.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_settings.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_themes.png b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_themes.png
index 1b2e9c8ad..eb03acd51 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_themes.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_themes.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_theming.png b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_theming.png
index 3fd93d7aa..6cec3d5a6 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/menu_theming.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/menu_theming.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/mic.png b/TMessagesProj/src/main/res/drawable-xxhdpi/mic.png
index 42fd12185..ba25d2612 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/mic.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/mic.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/mic_pressed.png b/TMessagesProj/src/main/res/drawable-xxhdpi/mic_pressed.png
new file mode 100644
index 000000000..e7ca00427
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/mic_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/mic_white.png b/TMessagesProj/src/main/res/drawable-xxhdpi/mic_white.png
index c7f9e8147..895c37273 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/mic_white.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/mic_white.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/miniplayer_close.png b/TMessagesProj/src/main/res/drawable-xxhdpi/miniplayer_close.png
index 650dc6fc4..909458acf 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/miniplayer_close.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/miniplayer_close.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/miniplayer_pause.png b/TMessagesProj/src/main/res/drawable-xxhdpi/miniplayer_pause.png
index df49d651a..b3e388b96 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/miniplayer_pause.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/miniplayer_pause.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/miniplayer_play.png b/TMessagesProj/src/main/res/drawable-xxhdpi/miniplayer_play.png
index 0926c4326..e8a04810e 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/miniplayer_play.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/miniplayer_play.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check.png
index 7c78b851e..5a38cea3e 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_10.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_10.png
new file mode 100644
index 000000000..854c6be71
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_11.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_11.png
new file mode 100644
index 000000000..586404b52
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_12.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_12.png
new file mode 100644
index 000000000..c2a23ccef
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_2.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_2.png
new file mode 100644
index 000000000..16d5b32c5
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_3.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_3.png
new file mode 100644
index 000000000..b06c539a4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_4.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_4.png
new file mode 100644
index 000000000..2671398aa
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_5.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_5.png
new file mode 100644
index 000000000..7ab17b552
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_6.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_6.png
new file mode 100644
index 000000000..ca6a2ee40
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_7.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_7.png
new file mode 100644
index 000000000..6466f3ecc
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_8.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_8.png
new file mode 100644
index 000000000..de8246899
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_9.png
new file mode 100644
index 000000000..2edb08be1
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w.png
new file mode 100644
index 000000000..7a6da6cc5
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_10.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_10.png
index c228c48f6..6e88d21f9 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_10.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_11.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_11.png
index d0ce5e26d..782c69b45 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_11.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_12.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_12.png
index 2bae9666e..72ea825e9 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_12.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_2.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_2.png
index a479ad317..b6092d559 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_2.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_3.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_3.png
index bc392e15b..8767cf63c 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_3.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_4.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_4.png
index 480436961..2f3966569 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_4.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_5.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_5.png
index 44a55ee8b..87a1711b1 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_5.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_6.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_6.png
index aab37d287..a3edcd1fd 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_6.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_7.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_7.png
index 9e5cff6b6..387e7e92a 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_7.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_8.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_8.png
index 22a318812..47b689036 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_8.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_9.png
index d189884bc..da9b654aa 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_check_w_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_clock.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_clock.png
index c7b96ea3a..6c28c8e03 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_clock.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_clock.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_clock2.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_clock2.png
new file mode 100644
index 000000000..5130d83de
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_clock2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_clock2_s.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_clock2_s.png
new file mode 100644
index 000000000..af7cba16a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_clock2_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_clock_photo.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_clock_photo.png
new file mode 100644
index 000000000..4bf6b168b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_clock_photo.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck.png
index 9e52c5bf7..4dbbf75b8 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_10.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_10.png
new file mode 100644
index 000000000..de8246899
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_11.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_11.png
new file mode 100644
index 000000000..8b5274075
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_12.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_12.png
new file mode 100644
index 000000000..66651fca5
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_2.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_2.png
new file mode 100644
index 000000000..f521b08fd
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_3.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_3.png
new file mode 100644
index 000000000..694fc2119
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_4.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_4.png
new file mode 100644
index 000000000..660bdafe8
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_5.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_5.png
new file mode 100644
index 000000000..f869cdc61
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_6.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_6.png
new file mode 100644
index 000000000..3914a19f7
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_7.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_7.png
new file mode 100644
index 000000000..23f129071
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_8.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_8.png
new file mode 100644
index 000000000..f182637b5
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_9.png
new file mode 100644
index 000000000..f4e17a0db
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w.png
new file mode 100644
index 000000000..841c77bcc
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_10.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_10.png
index f80915666..bd4e674d9 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_10.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_10.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_11.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_11.png
index ef21ef61f..56486bc4d 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_11.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_11.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_12.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_12.png
index db1ff4002..5167821b0 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_12.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_12.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_2.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_2.png
index a479ad317..b6092d559 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_2.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_3.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_3.png
index bc392e15b..8767cf63c 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_3.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_3.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_4.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_4.png
index 7f91515a4..96ab31fa3 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_4.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_4.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_5.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_5.png
index f948650dc..88e9f6b64 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_5.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_5.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_6.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_6.png
index b7e32b902..360ef71a5 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_6.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_6.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_7.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_7.png
index 2755f4295..4a938b9af 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_7.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_7.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_8.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_8.png
index 22a318812..47b689036 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_8.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_8.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_9.png
index 0c05d39f8..16753c874 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_halfcheck_w_9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in.9.png
index 9288fdb23..b7a8f0131 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_10.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_10.9.png
index e96f2b5a0..1ff0cd26c 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_10.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_10.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_10_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_10_photo.9.png
index 5f74b00cf..cd3146157 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_10_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_10_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_10_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_10_photo_selected.9.png
index 271482f4d..9f6d05850 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_10_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_10_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_10_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_10_selected.9.png
index 6e0a9ce1e..09d4011ed 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_10_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_10_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_11.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_11.9.png
index 738a162dd..504a601e2 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_11.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_11.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_11_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_11_photo.9.png
index b7d6ecff6..7107f6bd6 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_11_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_11_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_11_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_11_photo_selected.9.png
index 88117a752..558cd2321 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_11_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_11_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_11_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_11_selected.9.png
index 3f656ad74..e9d57c644 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_11_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_11_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_12.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_12.9.png
index f89dc8c33..28884a9bc 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_12.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_12.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_12_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_12_photo.9.png
index 717e33175..54bd119a1 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_12_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_12_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_12_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_12_photo_selected.9.png
index aedaedbc8..892126282 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_12_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_12_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_12_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_12_selected.9.png
index fcbdce472..8fd2727f5 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_12_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_12_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_13.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_13.9.png
index a13635b93..81c1653ef 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_13.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_13.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_13_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_13_photo.9.png
index 9cc51df9c..085ae5323 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_13_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_13_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_13_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_13_photo_selected.9.png
index 827e04209..067385a01 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_13_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_13_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_13_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_13_selected.9.png
index a84738322..c18b8b0ac 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_13_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_13_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_2.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_2.9.png
index 42b362551..c50324f9e 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_2.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_2.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_2_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_2_photo.9.png
index 0ce371704..a2c0f9175 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_2_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_2_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_2_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_2_photo_selected.9.png
index c014759f5..ab210e050 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_2_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_2_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_2_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_2_selected.9.png
index 4a151addb..c4cf4154a 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_2_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_2_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_3.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_3.9.png
index 6f4bf0034..4dd5f19af 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_3.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_3.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_3_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_3_photo.9.png
index 5f74b00cf..cd3146157 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_3_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_3_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_3_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_3_photo_selected.9.png
index 271482f4d..9f6d05850 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_3_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_3_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_3_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_3_selected.9.png
index 4ca351b02..968ca69a2 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_3_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_3_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_4.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_4.9.png
index f90582491..a0239b93a 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_4.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_4.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_4_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_4_photo.9.png
index 005339083..e2902e335 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_4_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_4_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_4_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_4_photo_selected.9.png
index 4c3425ac9..56626cdb0 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_4_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_4_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_4_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_4_selected.9.png
index 35f16776e..8082bf801 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_4_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_4_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_5.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_5.9.png
index 2ceb6ea14..6690792b9 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_5.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_5.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_5_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_5_photo.9.png
index f2e1c0dae..1dc0b2f09 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_5_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_5_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_5_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_5_photo_selected.9.png
index 9e74317c5..43ec39c90 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_5_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_5_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_5_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_5_selected.9.png
index 7ff439008..4f62bf98f 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_5_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_5_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_6.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_6.9.png
index 9fef9595b..30f059e52 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_6.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_6.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_6_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_6_photo.9.png
index 99e4b67ee..0e8a58226 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_6_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_6_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_6_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_6_photo_selected.9.png
index 99c15a41c..456ef198e 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_6_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_6_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_6_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_6_selected.9.png
index 85777d400..1a8bbc128 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_6_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_6_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_7.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_7.9.png
index ec23a5e80..f254d5696 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_7.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_7.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_7_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_7_photo.9.png
index f2e1c0dae..1dc0b2f09 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_7_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_7_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_7_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_7_photo_selected.9.png
index 9e74317c5..43ec39c90 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_7_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_7_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_7_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_7_selected.9.png
index 46689e511..765b3d19f 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_7_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_7_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_8.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_8.9.png
index daca2a137..659ff56e0 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_8.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_8.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_8_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_8_photo.9.png
index f2e1c0dae..1dc0b2f09 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_8_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_8_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_8_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_8_photo_selected.9.png
index 9e74317c5..43ec39c90 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_8_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_8_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_8_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_8_selected.9.png
index 7bb9a08c1..b75d95f5a 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_8_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_8_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_9.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_9.9.png
index aafaab3c9..41320e4dc 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_9.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_9.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_9_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_9_photo.9.png
index 0ce371704..a2c0f9175 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_9_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_9_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_9_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_9_photo_selected.9.png
index c014759f5..ab210e050 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_9_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_9_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_9_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_9_selected.9.png
index ae81b14c6..f0f16ace0 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_9_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_9_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_photo.9.png
new file mode 100644
index 000000000..7ca493f77
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_photo_selected.9.png
new file mode 100644
index 000000000..350b66faf
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_selected.9.png
new file mode 100644
index 000000000..09abd80eb
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_shadow.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_shadow.9.png
index 00ccf246c..ef00ca9ca 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_shadow.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_in_shadow.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_instant.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_instant.png
index 59968c26c..f47c9d0c1 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_instant.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_instant.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_location.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_location.png
index fc080b46d..18a367684 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_location.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_location.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out.9.png
index f2115074c..415d8cedd 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_10.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_10.9.png
index 1017b8074..2d2a57f3e 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_10.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_10.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_10_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_10_photo.9.png
index 2f95ed9e6..1fc532283 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_10_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_10_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_10_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_10_photo_selected.9.png
index 70faf9ef1..266dcbb9f 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_10_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_10_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_10_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_10_selected.9.png
index 8dfb78ffc..b1702625b 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_10_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_10_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_11.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_11.9.png
index 2e3b10eee..5a515e9cd 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_11.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_11.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_11_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_11_photo.9.png
index c82db56df..eb7b6bbc8 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_11_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_11_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_11_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_11_photo_selected.9.png
index 6e1e945fe..04dce708c 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_11_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_11_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_11_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_11_selected.9.png
index 77c7ee2f5..b5fead572 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_11_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_11_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_12.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_12.9.png
index e8d065a1b..c34063902 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_12.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_12.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_12_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_12_photo.9.png
index 248b36fe1..5c2ada793 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_12_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_12_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_12_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_12_photo_selected.9.png
index 83b231205..f433553a8 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_12_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_12_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_12_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_12_selected.9.png
index c3c9f836f..18ecae81b 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_12_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_12_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_13.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_13.9.png
index cf95595b8..b302cae21 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_13.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_13.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_13_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_13_photo.9.png
index 4b942457a..8fb35c08d 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_13_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_13_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_13_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_13_photo_selected.9.png
index 5b5fe301c..28da85b95 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_13_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_13_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_13_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_13_selected.9.png
index d0633f9c5..63982f1fc 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_13_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_13_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_2.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_2.9.png
index 01fabd3dc..422522ecf 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_2.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_2.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_2_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_2_photo.9.png
index a54b4277c..21e92b58a 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_2_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_2_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_2_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_2_photo_selected.9.png
index 99d78d773..5bae59d03 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_2_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_2_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_2_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_2_selected.9.png
index cad800ddb..22803a52b 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_2_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_2_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_3.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_3.9.png
index 55eea0494..885fb3e64 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_3.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_3.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_3_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_3_photo.9.png
index 2f95ed9e6..1fc532283 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_3_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_3_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_3_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_3_photo_selected.9.png
index 70faf9ef1..266dcbb9f 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_3_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_3_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_3_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_3_selected.9.png
index 87675eb15..94ced0f74 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_3_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_3_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_4.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_4.9.png
index 5f8722d08..b3571e512 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_4.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_4.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_4_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_4_photo.9.png
index 89b465353..38de5a412 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_4_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_4_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_4_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_4_photo_selected.9.png
index 0fb2ed141..d73c4c660 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_4_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_4_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_4_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_4_selected.9.png
index 207614377..179954766 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_4_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_4_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_5.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_5.9.png
index 87bcc7b6d..3471cc2ba 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_5.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_5.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_5_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_5_photo.9.png
index 1efde53ed..b7040bdf5 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_5_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_5_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_5_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_5_photo_selected.9.png
index f6d74d2b5..6397c4700 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_5_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_5_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_5_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_5_selected.9.png
index 87bcc7b6d..3471cc2ba 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_5_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_5_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_6.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_6.9.png
index ce800ca0b..9f00ba343 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_6.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_6.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_6_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_6_photo.9.png
index 7482747d4..dd7dd5d92 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_6_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_6_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_6_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_6_photo_selected.9.png
index d28f6e5c6..8e3a8dce0 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_6_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_6_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_6_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_6_selected.9.png
index ce800ca0b..9f00ba343 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_6_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_6_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_7.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_7.9.png
index 167e47cc0..bcadf04bc 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_7.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_7.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_7_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_7_photo.9.png
index 1efde53ed..b7040bdf5 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_7_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_7_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_7_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_7_photo_selected.9.png
index f6d74d2b5..6397c4700 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_7_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_7_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_7_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_7_selected.9.png
index 167e47cc0..bcadf04bc 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_7_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_7_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_8.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_8.9.png
index 491413d00..dc4dafb2c 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_8.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_8.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_8_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_8_photo.9.png
index 1efde53ed..b7040bdf5 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_8_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_8_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_8_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_8_photo_selected.9.png
index f6d74d2b5..6397c4700 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_8_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_8_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_8_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_8_selected.9.png
index 390b93f60..55a96fcf7 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_8_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_8_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_9.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_9.9.png
index 446428425..787ae9294 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_9.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_9.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_9_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_9_photo.9.png
index a54b4277c..21e92b58a 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_9_photo.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_9_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_9_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_9_photo_selected.9.png
index 99d78d773..5bae59d03 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_9_photo_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_9_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_9_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_9_selected.9.png
index e8df81f1f..6001214f2 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_9_selected.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_9_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_photo.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_photo.9.png
new file mode 100644
index 000000000..02e3ad804
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_photo.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_photo_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_photo_selected.9.png
new file mode 100644
index 000000000..67713607b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_photo_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_selected.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_selected.9.png
new file mode 100644
index 000000000..6ce8fda0e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_selected.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_shadow.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_shadow.9.png
index fc5612f08..bba48450b 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_shadow.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_out_shadow.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_warning.png b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_warning.png
index 8a7d22f35..ac1c5f331 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/msg_warning.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/msg_warning.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/mute_blue.png b/TMessagesProj/src/main/res/drawable-xxhdpi/mute_blue.png
new file mode 100644
index 000000000..4860d2f26
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/mute_blue.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/mute_grey.png b/TMessagesProj/src/main/res/drawable-xxhdpi/mute_grey.png
new file mode 100644
index 000000000..e6f3ded37
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/mute_grey.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/myloc_on.png b/TMessagesProj/src/main/res/drawable-xxhdpi/myloc_on.png
index 92fbeda71..1b40c0f1b 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/myloc_on.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/myloc_on.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/newmsg_divider.png b/TMessagesProj/src/main/res/drawable-xxhdpi/newmsg_divider.png
index e9c1a24b7..5b8d2eaf7 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/newmsg_divider.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/newmsg_divider.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/nocover.png b/TMessagesProj/src/main/res/drawable-xxhdpi/nocover.png
index ae86c205b..61aab196a 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/nocover.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/nocover.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/notification.png b/TMessagesProj/src/main/res/drawable-xxhdpi/notification.png
index 6ed95b8fd..5aa45ac7c 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/notification.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/notification.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/notify_members_off.png b/TMessagesProj/src/main/res/drawable-xxhdpi/notify_members_off.png
index 229c3ea69..3097e16f1 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/notify_members_off.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/notify_members_off.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/notify_members_on.png b/TMessagesProj/src/main/res/drawable-xxhdpi/notify_members_on.png
index 6427a9fe2..b468befd5 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/notify_members_on.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/notify_members_on.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/numberpicker_selection_divider.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/numberpicker_selection_divider.9.png
new file mode 100644
index 000000000..b7a99402e
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/numberpicker_selection_divider.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/pagedown.png b/TMessagesProj/src/main/res/drawable-xxhdpi/pagedown.png
index ace471404..96affd8d8 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/pagedown.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/pagedown.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/passcode_logo.png b/TMessagesProj/src/main/res/drawable-xxhdpi/passcode_logo.png
index af2428a20..18d903ce6 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/passcode_logo.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/passcode_logo.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/pause_b.png b/TMessagesProj/src/main/res/drawable-xxhdpi/pause_b.png
new file mode 100644
index 000000000..fa34156e3
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/pause_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/pause_b_s.png b/TMessagesProj/src/main/res/drawable-xxhdpi/pause_b_s.png
new file mode 100644
index 000000000..3b056929b
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/pause_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/pause_g.png b/TMessagesProj/src/main/res/drawable-xxhdpi/pause_g.png
new file mode 100644
index 000000000..58230127c
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/pause_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/pause_g_s.png b/TMessagesProj/src/main/res/drawable-xxhdpi/pause_g_s.png
new file mode 100644
index 000000000..ce7328a18
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/pause_g_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/phone_change.png b/TMessagesProj/src/main/res/drawable-xxhdpi/phone_change.png
index 2133e1604..169a52164 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/phone_change.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/phone_change.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/phone_grey.png b/TMessagesProj/src/main/res/drawable-xxhdpi/phone_grey.png
new file mode 100644
index 000000000..a32cf0173
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/phone_grey.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/photo_text2.png b/TMessagesProj/src/main/res/drawable-xxhdpi/photo_text2.png
index 63e514b02..461b2a3e2 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/photo_text2.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/photo_text2.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/photocancel.png b/TMessagesProj/src/main/res/drawable-xxhdpi/photocancel.png
new file mode 100644
index 000000000..774066fe0
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/photocancel.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/photocancel_b.png b/TMessagesProj/src/main/res/drawable-xxhdpi/photocancel_b.png
new file mode 100644
index 000000000..80d4d9032
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/photocancel_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/photocancel_b_s.png b/TMessagesProj/src/main/res/drawable-xxhdpi/photocancel_b_s.png
new file mode 100644
index 000000000..6d29a2681
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/photocancel_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/photocancel_g.png b/TMessagesProj/src/main/res/drawable-xxhdpi/photocancel_g.png
new file mode 100644
index 000000000..d42899e9c
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/photocancel_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/photocancel_g_s.png b/TMessagesProj/src/main/res/drawable-xxhdpi/photocancel_g_s.png
new file mode 100644
index 000000000..bfa63bb48
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/photocancel_g_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/photocancel_pressed.png b/TMessagesProj/src/main/res/drawable-xxhdpi/photocancel_pressed.png
new file mode 100644
index 000000000..1477b2476
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/photocancel_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/photogif.png b/TMessagesProj/src/main/res/drawable-xxhdpi/photogif.png
new file mode 100644
index 000000000..efc3a64d2
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/photogif.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/photogif_pressed.png b/TMessagesProj/src/main/res/drawable-xxhdpi/photogif_pressed.png
new file mode 100644
index 000000000..365f8f595
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/photogif_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/photoload.png b/TMessagesProj/src/main/res/drawable-xxhdpi/photoload.png
new file mode 100644
index 000000000..b720d6d37
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/photoload.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/photoload_b.png b/TMessagesProj/src/main/res/drawable-xxhdpi/photoload_b.png
new file mode 100644
index 000000000..314b02410
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/photoload_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/photoload_b_s.png b/TMessagesProj/src/main/res/drawable-xxhdpi/photoload_b_s.png
new file mode 100644
index 000000000..8b30d79ef
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/photoload_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/photoload_g.png b/TMessagesProj/src/main/res/drawable-xxhdpi/photoload_g.png
new file mode 100644
index 000000000..5f85ecced
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/photoload_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/photoload_g_s.png b/TMessagesProj/src/main/res/drawable-xxhdpi/photoload_g_s.png
new file mode 100644
index 000000000..fdd610942
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/photoload_g_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/photoload_pressed.png b/TMessagesProj/src/main/res/drawable-xxhdpi/photoload_pressed.png
new file mode 100644
index 000000000..df021f024
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/photoload_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/phototime_white.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/phototime_white.9.png
index 17f82103a..d1382b74d 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/phototime_white.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/phototime_white.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/pin.png b/TMessagesProj/src/main/res/drawable-xxhdpi/pin.png
index 3eded6c82..8580d9a2f 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/pin.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/pin.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/pl_next.png b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_next.png
index 8cf29a4aa..7895ed90f 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/pl_next.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_next.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/pl_next_pressed.png b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_next_pressed.png
new file mode 100644
index 000000000..fa5646ca3
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_next_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/pl_pause.png b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_pause.png
index 8808ce137..10dac92ff 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/pl_pause.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_pause.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/pl_pause_pressed.png b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_pause_pressed.png
new file mode 100644
index 000000000..1eb9c4eb4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_pause_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/pl_play.png b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_play.png
index 55c92dbd7..41d57747c 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/pl_play.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_play.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/pl_play_pressed.png b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_play_pressed.png
new file mode 100644
index 000000000..bc1b06969
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_play_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/pl_previous.png b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_previous.png
index c2e3c33fa..6d45e33ca 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/pl_previous.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_previous.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/pl_previous_pressed.png b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_previous_pressed.png
new file mode 100644
index 000000000..92baf19cd
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_previous_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/pl_repeat.png b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_repeat.png
index d50ffdef1..a0404007d 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/pl_repeat.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_repeat.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/pl_repeat1_active.png b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_repeat1_active.png
new file mode 100644
index 000000000..49caea600
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_repeat1_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/pl_repeat_active.png b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_repeat_active.png
new file mode 100644
index 000000000..38266b9d1
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_repeat_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/pl_shuffle.png b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_shuffle.png
index 00e3337e6..59108a061 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/pl_shuffle.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_shuffle.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/pl_shuffle_active.png b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_shuffle_active.png
index 267ae6734..1ca88b2e7 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/pl_shuffle_active.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/pl_shuffle_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/place_x.png b/TMessagesProj/src/main/res/drawable-xxhdpi/place_x.png
index f0d94e6df..aa7aebba0 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/place_x.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/place_x.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/play_b.png b/TMessagesProj/src/main/res/drawable-xxhdpi/play_b.png
new file mode 100644
index 000000000..99e2c15c3
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/play_b.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/play_b_s.png b/TMessagesProj/src/main/res/drawable-xxhdpi/play_b_s.png
new file mode 100644
index 000000000..c5c551054
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/play_b_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/play_big.png b/TMessagesProj/src/main/res/drawable-xxhdpi/play_big.png
index b04acefb6..12ae35019 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/play_big.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/play_big.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/play_g.png b/TMessagesProj/src/main/res/drawable-xxhdpi/play_g.png
new file mode 100644
index 000000000..d4461d657
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/play_g.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/play_g_s.png b/TMessagesProj/src/main/res/drawable-xxhdpi/play_g_s.png
new file mode 100644
index 000000000..d471364b4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/play_g_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/playvideo.png b/TMessagesProj/src/main/res/drawable-xxhdpi/playvideo.png
new file mode 100644
index 000000000..c32d8f270
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/playvideo.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/playvideo_pressed.png b/TMessagesProj/src/main/res/drawable-xxhdpi/playvideo_pressed.png
new file mode 100644
index 000000000..6d98bdf7f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/playvideo_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/plus.png b/TMessagesProj/src/main/res/drawable-xxhdpi/plus.png
index 10b5f8f17..d2515016c 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/plus.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/plus.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/post_views.png b/TMessagesProj/src/main/res/drawable-xxhdpi/post_views.png
new file mode 100644
index 000000000..c86017216
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/post_views.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/post_views_s.png b/TMessagesProj/src/main/res/drawable-xxhdpi/post_views_s.png
new file mode 100644
index 000000000..7839b3d39
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/post_views_s.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/post_views_w.png b/TMessagesProj/src/main/res/drawable-xxhdpi/post_views_w.png
new file mode 100644
index 000000000..7ddf4de63
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/post_views_w.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/post_viewsg.png b/TMessagesProj/src/main/res/drawable-xxhdpi/post_viewsg.png
new file mode 100644
index 000000000..b8889aa3f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/post_viewsg.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/profile_list.png b/TMessagesProj/src/main/res/drawable-xxhdpi/profile_list.png
index 7d87c6373..b07f5de4d 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/profile_list.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/profile_list.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/publish.png b/TMessagesProj/src/main/res/drawable-xxhdpi/publish.png
new file mode 100644
index 000000000..6c02add37
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/publish.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/publish_active.png b/TMessagesProj/src/main/res/drawable-xxhdpi/publish_active.png
new file mode 100644
index 000000000..2d74763e8
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/publish_active.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/recorded.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/recorded.9.png
new file mode 100644
index 000000000..0c72100ab
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/recorded.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/regbtn2.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/regbtn2.9.png
index d5cf498e9..a7c570925 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/regbtn2.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/regbtn2.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/regbtn2_pressed.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/regbtn2_pressed.9.png
index bbc881c2a..b29e993cd 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/regbtn2_pressed.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/regbtn2_pressed.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/reply.png b/TMessagesProj/src/main/res/drawable-xxhdpi/reply.png
new file mode 100644
index 000000000..d08e72b82
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/reply.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/s_pause.png b/TMessagesProj/src/main/res/drawable-xxhdpi/s_pause.png
index 48279a1c2..07deeb180 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/s_pause.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/s_pause.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/s_pause_pressed.png b/TMessagesProj/src/main/res/drawable-xxhdpi/s_pause_pressed.png
new file mode 100644
index 000000000..29423e283
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/s_pause_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/s_play.png b/TMessagesProj/src/main/res/drawable-xxhdpi/s_play.png
index ec1dd1751..4757ae74d 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/s_play.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/s_play.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/s_play_pressed.png b/TMessagesProj/src/main/res/drawable-xxhdpi/s_play_pressed.png
new file mode 100644
index 000000000..a9575a4c3
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/s_play_pressed.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/search_dark.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/search_dark.9.png
index df1a121bc..6df53875d 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/search_dark.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/search_dark.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/search_dark_activated.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/search_dark_activated.9.png
index bebe13be5..3a49d9baa 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/search_dark_activated.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/search_dark_activated.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/search_down.png b/TMessagesProj/src/main/res/drawable-xxhdpi/search_down.png
index 71c3667e7..55352cb7d 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/search_down.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/search_down.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/search_share.png b/TMessagesProj/src/main/res/drawable-xxhdpi/search_share.png
new file mode 100644
index 000000000..60007340a
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/search_share.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/search_up.png b/TMessagesProj/src/main/res/drawable-xxhdpi/search_up.png
index ec9efb265..35730561d 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/search_up.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/search_up.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/slidearrow.png b/TMessagesProj/src/main/res/drawable-xxhdpi/slidearrow.png
index 6fb78051e..f60d77275 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/slidearrow.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/slidearrow.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/stickercounter.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/stickercounter.9.png
new file mode 100644
index 000000000..a9ff07a7f
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/stickercounter.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/switch_to_on3.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/switch_to_on3.9.png
index ee7818849..00fb83ec9 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/switch_to_on3.9.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/switch_to_on3.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/system_white.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/system_white.9.png
new file mode 100644
index 000000000..3404498a2
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/system_white.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/system_white_3.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/system_white_3.9.png
new file mode 100644
index 000000000..3f93dac18
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/system_white_3.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/system_white_4.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/system_white_4.9.png
new file mode 100644
index 000000000..a19de0a71
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/system_white_4.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/tab_all.png b/TMessagesProj/src/main/res/drawable-xxhdpi/tab_all.png
index 164353e82..318057b90 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/tab_all.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/tab_all.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/tab_bot.png b/TMessagesProj/src/main/res/drawable-xxhdpi/tab_bot.png
index 1e15560fe..33c486b4c 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/tab_bot.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/tab_bot.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/tab_channel.png b/TMessagesProj/src/main/res/drawable-xxhdpi/tab_channel.png
index 18a9c0ffc..cf8e5baa9 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/tab_channel.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/tab_channel.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/tab_favs.png b/TMessagesProj/src/main/res/drawable-xxhdpi/tab_favs.png
index ca190e474..4409173e1 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/tab_favs.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/tab_favs.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/tab_group.png b/TMessagesProj/src/main/res/drawable-xxhdpi/tab_group.png
index a4c14f6b6..5df1d9203 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/tab_group.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/tab_group.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/tab_supergroup.png b/TMessagesProj/src/main/res/drawable-xxhdpi/tab_supergroup.png
index a63dd0381..324f9c047 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/tab_supergroup.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/tab_supergroup.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/tab_user.png b/TMessagesProj/src/main/res/drawable-xxhdpi/tab_user.png
index 59a5d81ef..de2a86e89 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/tab_user.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/tab_user.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/tooltip.9.png b/TMessagesProj/src/main/res/drawable-xxhdpi/tooltip.9.png
new file mode 100644
index 000000000..263f788fd
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/tooltip.9.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/videolapse.png b/TMessagesProj/src/main/res/drawable-xxhdpi/videolapse.png
new file mode 100644
index 000000000..059016c44
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/videolapse.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/videotrimmer.png b/TMessagesProj/src/main/res/drawable-xxhdpi/videotrimmer.png
new file mode 100644
index 000000000..f880b9d38
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/videotrimmer.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxxhdpi/book_logo.png b/TMessagesProj/src/main/res/drawable-xxxhdpi/book_logo.png
index f0f1d3c9b..4831c0214 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxxhdpi/book_logo.png and b/TMessagesProj/src/main/res/drawable-xxxhdpi/book_logo.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_bar_close.png b/TMessagesProj/src/main/res/drawable-xxxhdpi/ic_bar_close.png
similarity index 100%
rename from TMessagesProj/src/main/res/drawable-xxhdpi/ic_bar_close.png
rename to TMessagesProj/src/main/res/drawable-xxxhdpi/ic_bar_close.png
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_bar_open.png b/TMessagesProj/src/main/res/drawable-xxxhdpi/ic_bar_open.png
similarity index 100%
rename from TMessagesProj/src/main/res/drawable-xxhdpi/ic_bar_open.png
rename to TMessagesProj/src/main/res/drawable-xxxhdpi/ic_bar_open.png
diff --git a/TMessagesProj/src/main/res/drawable-xxxhdpi/ic_fingerprint_error.png b/TMessagesProj/src/main/res/drawable-xxxhdpi/ic_fingerprint_error.png
deleted file mode 100644
index 85f22ed0e..000000000
Binary files a/TMessagesProj/src/main/res/drawable-xxxhdpi/ic_fingerprint_error.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-xxxhdpi/ic_launcher_beta.png b/TMessagesProj/src/main/res/drawable-xxxhdpi/ic_launcher_beta.png
index 27eefaf3a..3895b31fa 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxxhdpi/ic_launcher_beta.png and b/TMessagesProj/src/main/res/drawable-xxxhdpi/ic_launcher_beta.png differ
diff --git a/TMessagesProj/src/main/res/drawable/edit_text.xml b/TMessagesProj/src/main/res/drawable/edit_text.xml
new file mode 100644
index 000000000..b9d7fc543
--- /dev/null
+++ b/TMessagesProj/src/main/res/drawable/edit_text.xml
@@ -0,0 +1,7 @@
+<?xml version="1.0" encoding="utf-8"?>
+
+<selector xmlns:android="http://schemas.android.com/apk/res/android">
+    <item android:state_enabled="true" android:state_focused="true" android:drawable="@drawable/search_dark_activated" />
+    <item android:state_focused="true" android:drawable="@drawable/search_dark_activated" />
+    <item android:drawable="@drawable/search_dark" />
+</selector>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/layout/color_colorselectview.xml b/TMessagesProj/src/main/res/layout/color_colorselectview.xml
index 29160ce33..f622643f2 100644
--- a/TMessagesProj/src/main/res/layout/color_colorselectview.xml
+++ b/TMessagesProj/src/main/res/layout/color_colorselectview.xml
@@ -1,11 +1,12 @@
 <?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:orientation="vertical" android:layout_width="match_parent" android:layout_height="match_parent"
-    <LinearLayout android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_weight="1.0">
-        <TabHost android:id="@+id/colorview_tabColors" android:layout_width="match_parent" android:layout_height="match_parent">
-            <LinearLayout android:orientation="vertical" android:layout_width="match_parent" android:layout_height="match_parent">
-                <TabWidget android:id="0x1020013" android:layout_width="match_parent" android:layout_height="UNKNOWN_DATA_0x2801" />
-                <FrameLayout android:id="0x1020011" android:layout_width="match_parent" android:layout_height="match_parent" />
+<LinearLayout android:orientation="vertical" android:layout_width="fill_parent" android:layout_height="fill_parent"
+  xmlns:android="http://schemas.android.com/apk/res/android">
+    <LinearLayout android:layout_width="fill_parent" android:layout_height="wrap_content" android:layout_weight="1.0">
+        <TabHost android:id="@+id/colorview_tabColors" android:layout_width="fill_parent" android:layout_height="fill_parent">
+            <LinearLayout android:orientation="vertical" android:layout_width="fill_parent" android:layout_height="fill_parent">
+                <TabWidget android:id="@android:id/tabs" android:layout_width="fill_parent" android:layout_height="40.0dip" />
+                <FrameLayout android:id="@android:id/tabcontent" android:layout_width="fill_parent" android:layout_height="fill_parent" />
             </LinearLayout>
         </TabHost>
     </LinearLayout>
-</LinearLayout>
+</LinearLayout>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/layout/color_hexview.xml b/TMessagesProj/src/main/res/layout/color_hexview.xml
index bcdecdb53..b0e3218f7 100644
--- a/TMessagesProj/src/main/res/layout/color_hexview.xml
+++ b/TMessagesProj/src/main/res/layout/color_hexview.xml
@@ -1,11 +1,12 @@
 <?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:gravity="top|bottom|left|right|center_vertical|fill_vertical|center_horizontal|fill_horizontal|center|fill|start|end" android:orientation="vertical" android:layout_width="match_parent" android:layout_height="match_parent"
-    <LinearLayout android:orientation="horizontal" android:paddingTop="80px" android:layout_width="match_parent" android:layout_height="wrap_content">
-        <TextView android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginRight="10px" android:text="HEX" />
-        <EditText android:id="@+id/color_hex_edit" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_marginRight="10px" android:minWidth="150px" android:singleLine="true" android:maxLength="10" />
+<LinearLayout android:gravity="top|center" android:orientation="vertical" android:layout_width="fill_parent" android:layout_height="fill_parent"
+  xmlns:android="http://schemas.android.com/apk/res/android">
+    <LinearLayout android:orientation="horizontal" android:paddingTop="80.0px" android:layout_width="fill_parent" android:layout_height="wrap_content">
+        <TextView android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginRight="10.0px" android:text="HEX" />
+        <EditText android:id="@+id/color_hex_edit" android:layout_width="fill_parent" android:layout_height="wrap_content" android:layout_marginRight="10.0px" android:minWidth="150.0px" android:singleLine="true" android:maxLength="10" />
     </LinearLayout>
-    <Button android:id="@+id/color_hex_btnSave" android:visibility="gone" android:layout_width="match_parent" android:layout_height="wrap_content" android:text="OK" />
-    <LinearLayout android:orientation="horizontal" android:layout_width="match_parent" android:layout_height="wrap_content">
-        <TextView android:textColor="#ffff0000" android:id="@+id/color_hex_txtError" android:visibility="gone" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginTop="10px" android:text="@string/colorHexInvalid" />
+    <Button android:id="@+id/color_hex_btnSave" android:visibility="gone" android:layout_width="fill_parent" android:layout_height="wrap_content" android:text="OK" />
+    <LinearLayout android:orientation="horizontal" android:layout_width="fill_parent" android:layout_height="wrap_content">
+        <TextView android:textColor="#ffff0000" android:id="@+id/color_hex_txtError" android:visibility="gone" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginTop="10.0px" android:text="@string/colorHexInvalid" />
     </LinearLayout>
-</LinearLayout>
+</LinearLayout>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/layout/color_historyview.xml b/TMessagesProj/src/main/res/layout/color_historyview.xml
index 80088b10f..232e4bbc3 100644
--- a/TMessagesProj/src/main/res/layout/color_historyview.xml
+++ b/TMessagesProj/src/main/res/layout/color_historyview.xml
@@ -1,7 +1,8 @@
 <?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:orientation="vertical" android:layout_width="match_parent" android:layout_height="wrap_content">
-    <HorizontalScrollView android:id="@+id/colorlistscroll" android:scrollbars="UNKNOWN_DATA_0x0" android:layout_width="wrap_content" android:layout_height="UNKNOWN_DATA_0x3201">
-        <LinearLayout android:orientation="horizontal" android:id="@+id/colorlist" android:layout_width="match_parent" android:layout_height="wrap_content" />
+<LinearLayout android:orientation="vertical" android:layout_width="fill_parent" android:layout_height="wrap_content"
+  xmlns:android="http://schemas.android.com/apk/res/android">
+    <HorizontalScrollView android:id="@+id/colorlistscroll" android:scrollbars="none" android:layout_width="wrap_content" android:layout_height="50.0dip">
+        <LinearLayout android:orientation="horizontal" android:id="@+id/colorlist" android:layout_width="fill_parent" android:layout_height="wrap_content" />
     </HorizontalScrollView>
-    <TextView android:gravity="top|bottom|left|right|center_vertical|fill_vertical|center_horizontal|fill_horizontal|center|fill|start|end" android:id="@+id/nocolors" android:visibility="gone" android:layout_width="match_parent" android:layout_height="UNKNOWN_DATA_0x3201" android:text="No recent colors" />
-</LinearLayout>
+    <TextView android:gravity="center" android:id="@+id/nocolors" android:visibility="gone" android:layout_width="fill_parent" android:layout_height="50.0dip" android:text="No recent colors" />
+</LinearLayout>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/layout/color_historyview_item.xml b/TMessagesProj/src/main/res/layout/color_historyview_item.xml
index 70d5f0bdd..02e0b4206 100644
--- a/TMessagesProj/src/main/res/layout/color_historyview_item.xml
+++ b/TMessagesProj/src/main/res/layout/color_historyview_item.xml
@@ -1,4 +1,6 @@
 <?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:gravity="top|bottom|center_vertical|fill_vertical|center|fill" android:layout_width="UNKNOWN_DATA_0x3201" android:layout_height="UNKNOWN_DATA_0x3201" android:layout_marginRight="2dp">
-    <TextView android:textSize="12dp" android:gravity="top|bottom|center_vertical|fill_vertical|center|fill" android:id="@+id/colorbox" android:layout_width="UNKNOWN_DATA_0x3201" android:layout_height="UNKNOWN_DATA_0x3201" />
-</LinearLayout>
+<LinearLayout android:gravity="bottom" android:layout_width="50.0dip" android:layout_height="50.0dip" android:layout_marginRight="2.0dip"
+  xmlns:android="http://schemas.android.com/apk/res/android">
+    <TextView android:textSize="12.0dip" android:gravity="bottom" android:id="@+id/colorbox" android:layout_width="50.0dip" android:layout_height="50.0dip"
+      xmlns:android="http://schemas.android.com/apk/res/android" />
+</LinearLayout>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/layout/color_hsvview.xml b/TMessagesProj/src/main/res/layout/color_hsvview.xml
index abdfeafca..22e4a2186 100644
--- a/TMessagesProj/src/main/res/layout/color_hsvview.xml
+++ b/TMessagesProj/src/main/res/layout/color_hsvview.xml
@@ -1,8 +1,9 @@
 <?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:orientation="vertical" android:layout_width="match_parent" android:layout_height="match_parent" android:minWidth="300dp" android:minHeight="200dp"
-    <LinearLayout android:gravity="top|bottom|left|right|center_vertical|fill_vertical|center_horizontal|fill_horizontal|center|fill|start|end" android:orientation="horizontal" android:padding="10dp" android:layout_width="match_parent" android:layout_height="match_parent">
-        <org.telegram.ui.Components.HsvAlphaSelectorView android:id="@+id/color_hsv_alpha" android:layout_width="UNKNOWN_DATA_0x1e01" android:layout_height="match_parent" android:layout_weight="0.0" />
-        <org.telegram.ui.Components.HsvColorValueView android:id="@+id/color_hsv_value" android:layout_width="match_parent" android:layout_height="match_parent" android:layout_marginLeft="10dp" android:layout_marginRight="5dp" android:layout_weight="1.0" />
-        <org.telegram.ui.Components.HsvHueSelectorView android:id="@+id/color_hsv_hue" android:layout_width="UNKNOWN_DATA_0x1e01" android:layout_height="match_parent" android:layout_weight="0.0" />
+<LinearLayout android:orientation="vertical" android:layout_width="fill_parent" android:layout_height="fill_parent" android:minWidth="300.0dip" android:minHeight="200.0dip"
+  xmlns:android="http://schemas.android.com/apk/res/android">
+    <LinearLayout android:orientation="horizontal" android:gravity="center" android:padding="10.0dip" android:layout_width="fill_parent" android:layout_height="fill_parent">
+        <org.telegram.ui.Components.HsvAlphaSelectorView android:id="@+id/color_hsv_alpha" android:layout_width="30.0dip" android:layout_height="fill_parent" android:layout_weight="0.0" />
+        <org.telegram.ui.Components.HsvColorValueView android:id="@+id/color_hsv_value" android:layout_width="fill_parent" android:layout_height="fill_parent" android:layout_marginLeft="10.0dip" android:layout_marginRight="5.0dip" android:layout_weight="1.0" />
+        <org.telegram.ui.Components.HsvHueSelectorView android:id="@+id/color_hsv_hue" android:layout_width="30.0dip" android:layout_height="fill_parent" android:layout_weight="0.0" />
     </LinearLayout>
-</LinearLayout>
+</LinearLayout>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/layout/color_rgbview.xml b/TMessagesProj/src/main/res/layout/color_rgbview.xml
index 191329cba..bdfe37bbc 100644
--- a/TMessagesProj/src/main/res/layout/color_rgbview.xml
+++ b/TMessagesProj/src/main/res/layout/color_rgbview.xml
@@ -1,30 +1,31 @@
 <?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:gravity="top|bottom|left|right|center_vertical|fill_vertical|center_horizontal|fill_horizontal|center|fill|start|end" android:orientation="horizontal" android:layout_width="match_parent" android:layout_height="match_parent"
-    <LinearLayout android:orientation="horizontal" android:paddingTop="10dp" android:layout_width="match_parent" android:layout_height="match_parent"
-        <LinearLayout android:gravity="top|bottom|left|right|center_vertical|fill_vertical|center_horizontal|fill_horizontal|center|fill|start|end" android:layout_width="wrap_content" android:layout_height="match_parent">
-            <ImageView android:id="@+id/color_rgb_imgpreview" android:background="@drawable/transparentbackrepeat" android:layout_width="UNKNOWN_DATA_0x2c01" android:layout_height="UNKNOWN_DATA_0x2c01" android:layout_marginRight="10dp" android:scaleType="fitXY" />
+<LinearLayout android:gravity="center|top" android:orientation="horizontal" android:layout_width="fill_parent" android:layout_height="fill_parent"
+  xmlns:android="http://schemas.android.com/apk/res/android">
+    <LinearLayout android:orientation="horizontal" android:paddingTop="10.0dip" android:layout_width="fill_parent" android:layout_height="fill_parent">
+        <LinearLayout android:gravity="center" android:layout_width="wrap_content" android:layout_height="fill_parent">
+            <ImageView android:id="@id/color_rgb_imgpreview" android:background="@drawable/transparentbackrepeat" android:layout_width="44.0dip" android:layout_height="44.0dip" android:layout_marginRight="10.0dip" android:scaleType="fitXY" />
         </LinearLayout>
-        <LinearLayout android:gravity="top|bottom|left|right|center_vertical|fill_vertical|center_horizontal|fill_horizontal|center|fill|start|end" android:orientation="vertical" android:layout_width="match_parent" android:layout_height="match_parent" android:layout_weight="1.0"
-            <LinearLayout android:gravity="top|bottom|left|right|center_vertical|fill_vertical|center_horizontal|fill_horizontal|center|fill|start|end" android:layout_width="match_parent" android:layout_height="wrap_content">
-                <TextView android:id="@+id/color_rgb_tvRed" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="R" />
-                <SeekBar android:id="@+id/color_rgb_seekRed" android:paddingLeft="10dp" android:paddingRight="10dp" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_margin="1dp" android:max="255" android:minWidth="150dp" android:layout_weight="1.0" />
-                <TextView android:gravity="left|right|center_horizontal|fill_horizontal|center|fill|start|end" android:id="@+id/color_rgb_tvRed_value" android:layout_width="UNKNOWN_DATA_0x1901" android:layout_height="wrap_content" android:text="255" />
+        <LinearLayout android:gravity="center" android:orientation="vertical" android:layout_width="fill_parent" android:layout_height="fill_parent" android:layout_weight="1.0">
+            <LinearLayout android:gravity="center" android:layout_width="fill_parent" android:layout_height="wrap_content">
+                <TextView android:id="@id/color_rgb_tvRed" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="R" />
+                <SeekBar android:id="@id/color_rgb_seekRed" android:paddingLeft="10.0dip" android:paddingRight="10.0dip" android:layout_width="fill_parent" android:layout_height="wrap_content" android:layout_margin="1.0dip" android:max="255" android:minWidth="150.0dip" android:layout_weight="1.0" />
+                <TextView android:gravity="center_horizontal" android:id="@id/color_rgb_tvRed_value" android:layout_width="25.0dip" android:layout_height="wrap_content" android:text="255" />
             </LinearLayout>
-            <LinearLayout android:gravity="top|bottom|left|right|center_vertical|fill_vertical|center_horizontal|fill_horizontal|center|fill|start|end" android:layout_width="match_parent" android:layout_height="wrap_content">
-                <TextView android:id="@+id/color_rgb_tvGreen" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="G" />
-                <SeekBar android:id="@+id/color_rgb_seekGreen" android:paddingLeft="10dp" android:paddingRight="10dp" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_margin="1dp" android:max="255" android:minWidth="150dp" android:layout_weight="1.0" />
-                <TextView android:gravity="left|right|center_horizontal|fill_horizontal|center|fill|start|end" android:id="@+id/color_rgb_tvGreen_value" android:layout_width="UNKNOWN_DATA_0x1901" android:layout_height="wrap_content" android:text="255" />
+            <LinearLayout android:gravity="center" android:layout_width="fill_parent" android:layout_height="wrap_content">
+                <TextView android:id="@id/color_rgb_tvGreen" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="G" />
+                <SeekBar android:id="@id/color_rgb_seekGreen" android:paddingLeft="10.0dip" android:paddingRight="10.0dip" android:layout_width="fill_parent" android:layout_height="wrap_content" android:layout_margin="1.0dip" android:max="255" android:minWidth="150.0dip" android:layout_weight="1.0" />
+                <TextView android:gravity="center_horizontal" android:id="@id/color_rgb_tvGreen_value" android:layout_width="25.0dip" android:layout_height="wrap_content" android:text="255" />
             </LinearLayout>
-            <LinearLayout android:gravity="top|bottom|left|right|center_vertical|fill_vertical|center_horizontal|fill_horizontal|center|fill|start|end" android:layout_width="match_parent" android:layout_height="wrap_content">
-                <TextView android:id="@+id/color_rgb_tvBlue" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="B" />
-                <SeekBar android:id="@+id/color_rgb_seekBlue" android:paddingLeft="10dp" android:paddingRight="10dp" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_margin="1dp" android:max="255" android:minWidth="150dp" android:layout_weight="1.0" />
-                <TextView android:gravity="left|right|center_horizontal|fill_horizontal|center|fill|start|end" android:id="@+id/color_rgb_tvBlue_value" android:layout_width="UNKNOWN_DATA_0x1901" android:layout_height="wrap_content" android:text="255" />
+            <LinearLayout android:gravity="center" android:layout_width="fill_parent" android:layout_height="wrap_content">
+                <TextView android:id="@id/color_rgb_tvBlue" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="B" />
+                <SeekBar android:id="@id/color_rgb_seekBlue" android:paddingLeft="10.0dip" android:paddingRight="10.0dip" android:layout_width="fill_parent" android:layout_height="wrap_content" android:layout_margin="1.0dip" android:max="255" android:minWidth="150.0dip" android:layout_weight="1.0" />
+                <TextView android:gravity="center_horizontal" android:id="@id/color_rgb_tvBlue_value" android:layout_width="25.0dip" android:layout_height="wrap_content" android:text="255" />
             </LinearLayout>
-            <LinearLayout android:gravity="top|bottom|left|right|center_vertical|fill_vertical|center_horizontal|fill_horizontal|center|fill|start|end" android:layout_width="match_parent" android:layout_height="wrap_content">
-                <TextView android:id="@+id/color_rgb_tvAlpha" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="A" />
-                <SeekBar android:id="@+id/color_rgb_seekAlpha" android:paddingLeft="10dp" android:paddingRight="10dp" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_margin="1dp" android:max="255" android:minWidth="150dp" android:layout_weight="1.0" />
-                <TextView android:gravity="left|right|center_horizontal|fill_horizontal|center|fill|start|end" android:id="@+id/color_rgb_tvAlpha_value" android:layout_width="UNKNOWN_DATA_0x1901" android:layout_height="wrap_content" android:text="255" />
+            <LinearLayout android:gravity="center" android:layout_width="fill_parent" android:layout_height="wrap_content">
+                <TextView android:id="@id/color_rgb_tvAlpha" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="A" />
+                <SeekBar android:id="@id/color_rgb_seekAlpha" android:paddingLeft="10.0dip" android:paddingRight="10.0dip" android:layout_width="fill_parent" android:layout_height="wrap_content" android:layout_margin="1.0dip" android:max="255" android:minWidth="150.0dip" android:layout_weight="1.0" />
+                <TextView android:gravity="center_horizontal" android:id="@id/color_rgb_tvAlpha_value" android:layout_width="25.0dip" android:layout_height="wrap_content" android:text="255" />
             </LinearLayout>
         </LinearLayout>
     </LinearLayout>
-</LinearLayout>
+</LinearLayout>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/layout/colordialog.xml b/TMessagesProj/src/main/res/layout/colordialog.xml
index f33a5c9ab..1beb17725 100644
--- a/TMessagesProj/src/main/res/layout/colordialog.xml
+++ b/TMessagesProj/src/main/res/layout/colordialog.xml
@@ -1,10 +1,11 @@
 <?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:orientation="vertical" android:id="@+id/popupbox" android:background="@drawable/dialogbg" android:layout_width="UNKNOWN_DATA_0x12c01" android:layout_height="wrap_content">
-    <org.telegram.ui.Components.ColorSelectorView android:orientation="horizontal" android:id="@+id/content" android:layout_width="match_parent" android:layout_height="match_parent" />
-    <org.telegram.ui.Components.HistorySelectorView android:id="@+id/historyselector" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_marginBottom="5dp" />
-    <LinearLayout android:orientation="horizontal" android:background="@drawable/transparentbackrepeat" android:layout_width="match_parent" android:layout_height="wrap_content">
-        <Button android:id="@+id/button_old" android:layout_width="match_parent" android:layout_height="UNKNOWN_DATA_0x2801" android:text="@string/Cancel" android:layout_weight="1.0" />
-        <View android:background="#9a9a9a" android:layout_width="UNKNOWN_DATA_0x501" android:layout_height="UNKNOWN_DATA_0x2801" android:layout_weight="0.01" />
-        <Button android:id="@+id/button_new" android:layout_width="match_parent" android:layout_height="UNKNOWN_DATA_0x2801" android:text="@string/OK" android:layout_weight="1.0" />
+<LinearLayout android:orientation="vertical" android:id="@+id/popupbox" android:background="@drawable/dialogbg" android:layout_width="300.0dip" android:layout_height="wrap_content"
+  xmlns:android="http://schemas.android.com/apk/res/android">
+    <org.telegram.ui.Components.ColorSelectorView android:orientation="horizontal" android:id="@+id/content" android:layout_width="fill_parent" android:layout_height="fill_parent" />
+    <org.telegram.ui.Components.HistorySelectorView android:id="@+id/historyselector" android:layout_width="fill_parent" android:layout_height="wrap_content" android:layout_marginBottom="5.0dip" />
+    <LinearLayout android:orientation="horizontal" android:background="@drawable/transparentbackrepeat" android:layout_width="fill_parent" android:layout_height="wrap_content">
+        <Button android:id="@+id/button_old" android:layout_width="fill_parent" android:layout_height="40.0dip" android:text="@string/Cancel" android:layout_weight="1.0" />
+        <View android:background="#9a9a9a" android:layout_width="5.0dip" android:layout_height="40.0dip" android:layout_weight="0.01" />
+        <Button android:id="@+id/button_new" android:layout_width="fill_parent" android:layout_height="40.0dip" android:text="@string/OK" android:layout_weight="1.0" />
     </LinearLayout>
-</LinearLayout>
+</LinearLayout>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/layout/document_select_layout.xml b/TMessagesProj/src/main/res/layout/document_select_layout.xml
new file mode 100644
index 000000000..9c9329f61
--- /dev/null
+++ b/TMessagesProj/src/main/res/layout/document_select_layout.xml
@@ -0,0 +1,27 @@
+<FrameLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent">
+
+    <ListView
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:id="@+id/listView"
+        android:clipToPadding="false"
+        android:fadingEdge="none"
+        android:fadingEdgeLength="0dp"
+        android:dividerHeight="0dp"
+        android:divider="@null"
+        android:scrollbars="none"
+        android:cacheColorHint="#ffffffff"/>
+
+    <TextView android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:textColor="#808080"
+        android:gravity="center"
+        android:textSize="20dp"
+        android:id="@+id/searchEmptyView"
+        android:visibility="gone"
+        android:layout_gravity="top"/>
+
+</FrameLayout>
diff --git a/TMessagesProj/src/main/res/layout/editbox_dialog.xml b/TMessagesProj/src/main/res/layout/editbox_dialog.xml
index 4a07af974..5a9d6b6bf 100644
--- a/TMessagesProj/src/main/res/layout/editbox_dialog.xml
+++ b/TMessagesProj/src/main/res/layout/editbox_dialog.xml
@@ -1,6 +1,7 @@
 <?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:orientation="vertical" android:padding="10dp" android:layout_width="match_parent" android:layout_height="match_parent">
-    <EditText android:id="@+id/editTextDialogUserInput" android:layout_width="match_parent" android:layout_height="UNKNOWN_DATA_0x2801" android:maxLength="28">
+<LinearLayout android:orientation="vertical" android:padding="10.0dip" android:layout_width="fill_parent" android:layout_height="fill_parent"
+  xmlns:android="http://schemas.android.com/apk/res/android">
+    <EditText android:id="@+id/editTextDialogUserInput" android:layout_width="fill_parent" android:layout_height="40dip" android:maxLength="28">
         <requestFocus />
     </EditText>
-</LinearLayout>
+</LinearLayout>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/layout/group_create_bubble.xml b/TMessagesProj/src/main/res/layout/group_create_bubble.xml
new file mode 100644
index 000000000..2f932acff
--- /dev/null
+++ b/TMessagesProj/src/main/res/layout/group_create_bubble.xml
@@ -0,0 +1,18 @@
+<?xml version="1.0" encoding="UTF-8"?>
+
+<FrameLayout
+        android:layout_width="wrap_content"
+        android:layout_height="41dp"
+        android:paddingTop="9dp"
+        xmlns:android="http://schemas.android.com/apk/res/android">
+
+    <TextView
+        android:layout_width="wrap_content"
+        android:layout_height="26dp"
+        android:textSize="16dp"
+        android:gravity="center"
+        android:textColor="#ff000000"
+        android:id="@+id/bubble_text_view"/>
+
+</FrameLayout>
+
diff --git a/TMessagesProj/src/main/res/layout/hockeyapp_activity_expiry_info.xml b/TMessagesProj/src/main/res/layout/hockeyapp_activity_expiry_info.xml
deleted file mode 100644
index a2cd94498..000000000
--- a/TMessagesProj/src/main/res/layout/hockeyapp_activity_expiry_info.xml
+++ /dev/null
@@ -1,4 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android" android:background="@color/hockeyapp_background_white" android:layout_width="match_parent" android:layout_height="match_parent">
-    <TextView android:textColor="@color/hockeyapp_text_black" android:gravity="top|bottom|left|right|center_vertical|fill_vertical|center_horizontal|fill_horizontal|center|fill|start|end" android:id="@id/label_message" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_margin="20dp" android:layout_centerInParent="true" />
-</RelativeLayout>
diff --git a/TMessagesProj/src/main/res/layout/hockeyapp_activity_feedback.xml b/TMessagesProj/src/main/res/layout/hockeyapp_activity_feedback.xml
deleted file mode 100644
index d34e3b3d3..000000000
--- a/TMessagesProj/src/main/res/layout/hockeyapp_activity_feedback.xml
+++ /dev/null
@@ -1,22 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:orientation="vertical" android:background="@color/hockeyapp_background_white" android:layout_width="match_parent" android:layout_height="match_parent">
-    <ScrollView android:layout_gravity="top|bottom|left|right|center_vertical|fill_vertical|center_horizontal|fill_horizontal|center|fill|start|end" android:id="@id/wrapper_feedback_scroll" android:paddingTop="10dp" android:paddingBottom="10dp" android:layout_width="match_parent" android:layout_height="match_parent">
-        <LinearLayout android:layout_gravity="top|bottom|center_vertical|fill_vertical|center|fill" android:orientation="vertical" android:id="@id/wrapper_feedback" android:padding="10dp" android:layout_width="match_parent" android:layout_height="wrap_content">
-            <EditText android:id="@id/input_name" android:layout_width="match_parent" android:layout_height="wrap_content" android:hint="@string/hockeyapp_feedback_name_hint" android:inputType="text|textCapCharacters|textCapWords|textCapSentences|textAutoCorrect|textAutoComplete|textMultiLine|textImeMultiLine|textNoSuggestions|textUri|textEmailAddress|textEmailSubject|textShortMessage|textLongMessage|textPersonName|textPostalAddress|textPassword|textVisiblePassword|textWebEditText|textFilter|textPhonetic|textWebEmailAddress|textWebPassword|phone" style="@style/HockeyApp.SingleLineInputStyle" />
-            <EditText android:id="@id/input_email" android:layout_width="match_parent" android:layout_height="wrap_content" android:hint="@string/hockeyapp_feedback_email_hint" android:inputType="text|textCapCharacters|textCapWords|textCapSentences|textAutoCorrect|textAutoComplete|textMultiLine|textImeMultiLine|textNoSuggestions|textUri|textEmailAddress|textEmailSubject|textShortMessage|textLongMessage|textPersonName|textPostalAddress|textPassword|textVisiblePassword|textWebEditText|textFilter|textPhonetic|textWebEmailAddress|textWebPassword|phone|time" style="@style/HockeyApp.SingleLineInputStyle" />
-            <EditText android:id="@id/input_subject" android:layout_width="match_parent" android:layout_height="wrap_content" android:hint="@string/hockeyapp_feedback_subject_hint" android:inputType="text|textCapCharacters|textCapWords|textCapSentences|textAutoCorrect|textAutoComplete|textMultiLine|textImeMultiLine|textNoSuggestions|textUri|textEmailAddress|textEmailSubject|textShortMessage|textLongMessage|textPersonName|textPostalAddress|textPassword|textVisiblePassword|textWebEditText|textFilter|textPhonetic|textWebEmailAddress|textWebPassword|numberPassword|phone|date|time" style="@style/HockeyApp.SingleLineInputStyle" />
-            <EditText android:id="@id/input_message" android:layout_width="match_parent" android:layout_height="wrap_content" android:minHeight="100dp" android:hint="@string/hockeyapp_feedback_message_hint" style="@style/HockeyApp.EditTextStyle" />
-            <net.hockeyapp.android.views.AttachmentListView android:layout_gravity="left|right|center_horizontal|fill_horizontal|center|fill|start|end" android:id="@id/wrapper_attachments" android:paddingBottom="10dp" android:layout_width="match_parent" android:layout_height="match_parent" />
-            <Button android:id="@id/button_attachment" android:layout_width="match_parent" android:layout_height="wrap_content" android:text="@string/hockeyapp_feedback_attachment_button_text" style="@style/HockeyApp.ButtonStyle" />
-            <Button android:id="@id/button_send" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_marginTop="10dp" android:text="@string/hockeyapp_feedback_send_button_text" style="@style/HockeyApp.ButtonStyle" />
-        </LinearLayout>
-    </ScrollView>
-    <LinearLayout android:layout_gravity="top|bottom|center_vertical|fill_vertical|center|fill" android:orientation="vertical" android:id="@id/wrapper_messages" android:padding="10dp" android:layout_width="match_parent" android:layout_height="match_parent">
-        <TextView android:textSize="15sp" android:typeface="normal" android:textColor="@color/hockeyapp_text_normal" android:ellipsize="end" android:id="@id/label_last_updated" android:paddingLeft="10dp" android:paddingRight="10dp" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_marginTop="10dp" android:layout_marginBottom="10dp" android:text="@string/hockeyapp_feedback_last_updated_text" android:singleLine="true" android:shadowColor="@color/hockeyapp_background_white" android:shadowDy="1.0" android:shadowRadius="1.0" />
-        <LinearLayout android:layout_gravity="left|right|center_horizontal|fill_horizontal|center|fill|start|end" android:orientation="horizontal" android:id="@id/wrapper_messages_buttons" android:paddingLeft="10dp" android:paddingRight="10dp" android:layout_width="match_parent" android:layout_height="wrap_content">
-            <Button android:gravity="top|bottom|left|right|center_vertical|fill_vertical|center_horizontal|fill_horizontal|center|fill|start|end" android:layout_gravity="left|right|center_horizontal|fill_horizontal|center|fill|start|end" android:id="@id/button_add_response" android:paddingLeft="10dp" android:paddingRight="10dp" android:layout_width="UNKNOWN_DATA_0x1" android:layout_height="wrap_content" android:layout_marginRight="5dp" android:layout_marginBottom="10dp" android:text="@string/hockeyapp_feedback_response_button_text" android:layout_weight="1.0" style="@style/HockeyApp.ButtonStyle" />
-            <Button android:gravity="top|bottom|left|right|center_vertical|fill_vertical|center_horizontal|fill_horizontal|center|fill|start|end" android:layout_gravity="left|right|center_horizontal|fill_horizontal|center|fill|start|end" android:id="@id/button_refresh" android:layout_width="UNKNOWN_DATA_0x1" android:layout_height="wrap_content" android:layout_marginLeft="5dp" android:layout_marginBottom="10dp" android:text="@string/hockeyapp_feedback_refresh_button_text" android:layout_weight="1.0" style="@style/HockeyApp.ButtonStyle" />
-        </LinearLayout>
-        <ListView android:id="@id/list_feedback_messages" android:paddingLeft="10dp" android:paddingRight="10dp" android:layout_width="match_parent" android:layout_height="match_parent" />
-    </LinearLayout>
-</LinearLayout>
diff --git a/TMessagesProj/src/main/res/layout/hockeyapp_activity_login.xml b/TMessagesProj/src/main/res/layout/hockeyapp_activity_login.xml
deleted file mode 100644
index ba3d3e308..000000000
--- a/TMessagesProj/src/main/res/layout/hockeyapp_activity_login.xml
+++ /dev/null
@@ -1,9 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<ScrollView xmlns:android="http://schemas.android.com/apk/res/android" android:background="@color/hockeyapp_background_white" android:layout_width="match_parent" android:layout_height="match_parent">
-    <LinearLayout android:gravity="top|bottom|left|right|center_vertical|fill_vertical|center_horizontal|fill_horizontal|center|fill|start|end" android:orientation="vertical" android:padding="20dp" android:layout_width="match_parent" android:layout_height="wrap_content">
-        <TextView android:textSize="18sp" android:typeface="normal" android:textColor="@color/hockeyapp_text_normal" android:id="@id/text_headline" android:padding="20dp" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_marginBottom="30dp" android:text="@string/hockeyapp_login_headline_text" />
-        <EditText android:textSize="15sp" android:typeface="normal" android:textColor="@color/hockeyapp_text_normal" android:textColorHint="@color/hockeyapp_text_light" android:id="@id/input_email" android:padding="20dp" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_marginBottom="30dp" android:hint="@string/hockeyapp_login_email_hint" android:inputType="text|textCapCharacters|textCapWords|textCapSentences|textAutoCorrect|textAutoComplete|textMultiLine|textImeMultiLine|textNoSuggestions|textUri|textEmailAddress|textEmailSubject|textShortMessage|textLongMessage|textPersonName|textPostalAddress|textPassword|textVisiblePassword|textWebEditText|textFilter|textPhonetic|textWebEmailAddress|textWebPassword|phone|time" android:imeOptions="actionNone|actionSearch|actionSend|actionNext|actionDone|actionPrevious" />
-        <EditText android:textSize="15sp" android:typeface="normal" android:textColor="@color/hockeyapp_text_normal" android:textColorHint="@color/hockeyapp_text_light" android:id="@id/input_password" android:padding="20dp" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_marginBottom="30dp" android:hint="@string/hockeyapp_login_password_hint" android:inputType="text|textCapCharacters|textCapWords|textCapSentences|textAutoCorrect|textAutoComplete|textMultiLine|textImeMultiLine|textNoSuggestions|textUri|textEmailAddress|textEmailSubject|textShortMessage|textLongMessage|textPersonName|textPostalAddress|textPassword|textVisiblePassword|textWebEditText|textFilter|textPhonetic|textWebEmailAddress|textWebPassword|phone" android:imeOptions="actionNone|actionSearch|actionSend|actionNext|actionDone|actionPrevious" />
-        <Button android:textSize="15sp" android:textColor="@color/hockeyapp_text_white" android:id="@id/button_login" android:background="@drawable/hockeyapp_btn_background" android:padding="20dp" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_marginBottom="30dp" android:text="@string/hockeyapp_login_login_button_text" />
-    </LinearLayout>
-</ScrollView>
diff --git a/TMessagesProj/src/main/res/layout/hockeyapp_activity_update.xml b/TMessagesProj/src/main/res/layout/hockeyapp_activity_update.xml
deleted file mode 100644
index 8381448e7..000000000
--- a/TMessagesProj/src/main/res/layout/hockeyapp_activity_update.xml
+++ /dev/null
@@ -1,9 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android" android:background="@color/hockeyapp_background_white" android:layout_width="match_parent" android:layout_height="match_parent"
-    <RelativeLayout android:id="@id/view_header" android:background="@color/hockeyapp_background_header" android:paddingLeft="0dp" android:paddingTop="0dp" android:paddingRight="0dp" android:paddingBottom="20dp" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_alignParentTop="true">
-        <TextView android:textSize="20sp" android:typeface="normal" android:textStyle="bold" android:textColor="@color/hockeyapp_text_black" android:ellipsize="end" android:id="@id/label_title" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginLeft="20dp" android:layout_marginTop="20dp" android:layout_marginRight="20dp" android:layout_marginBottom="0dp" android:singleLine="true" android:shadowColor="@color/hockeyapp_text_white" android:shadowDx="1.0" android:shadowRadius="1.0" />
-        <TextView android:textSize="16sp" android:typeface="normal" android:textStyle="bold" android:textColor="@color/hockeyapp_text_black" android:ellipsize="end" android:id="@id/label_version" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginLeft="20dp" android:layout_marginTop="10dp" android:layout_marginRight="20dp" android:layout_marginBottom="0dp" android:lines="2" android:shadowColor="@color/hockeyapp_text_white" android:shadowDx="1.0" android:shadowRadius="1.0" android:layout_below="@id/label_title" android:lineSpacingMultiplier="1.1" />
-        <Button android:textSize="16sp" android:textColor="@color/hockeyapp_text_white" android:id="@id/button_update" android:background="@drawable/hockeyapp_btn_background" android:paddingLeft="20dp" android:paddingTop="10dp" android:paddingRight="20dp" android:paddingBottom="10dp" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_margin="20dp" android:minWidth="120dp" android:text="@string/hockeyapp_update_button" android:layout_below="@id/label_version" android:layout_alignParentLeft="true" />
-    </RelativeLayout>
-    <WebView android:id="@id/web_update_details" android:background="@color/hockeyapp_background_white" android:layout_width="match_parent" android:layout_height="match_parent" android:layout_below="@id/view_header" />
-</RelativeLayout>
diff --git a/TMessagesProj/src/main/res/layout/hockeyapp_fragment_update.xml b/TMessagesProj/src/main/res/layout/hockeyapp_fragment_update.xml
deleted file mode 100644
index 7c4e8ec11..000000000
--- a/TMessagesProj/src/main/res/layout/hockeyapp_fragment_update.xml
+++ /dev/null
@@ -1,9 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android" android:background="@color/hockeyapp_background_white" android:layout_width="match_parent" android:layout_height="match_parent"
-    <RelativeLayout android:id="@id/view_header" android:background="@color/hockeyapp_background_header" android:paddingLeft="0dp" android:paddingTop="0dp" android:paddingRight="0dp" android:paddingBottom="20dp" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_alignParentTop="true">
-        <TextView android:textSize="20sp" android:typeface="normal" android:textStyle="bold" android:textColor="@color/hockeyapp_text_black" android:ellipsize="end" android:id="@id/label_title" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginLeft="20dp" android:layout_marginTop="20dp" android:layout_marginRight="20dp" android:layout_marginBottom="0dp" android:singleLine="true" android:shadowColor="@color/hockeyapp_text_white" android:shadowDx="1.0" android:shadowRadius="1.0" />
-        <TextView android:textSize="16sp" android:typeface="normal" android:textStyle="bold" android:textColor="@color/hockeyapp_text_black" android:ellipsize="end" android:id="@id/label_version" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginLeft="20dp" android:layout_marginTop="10dp" android:layout_marginRight="20dp" android:layout_marginBottom="0dp" android:lines="2" android:shadowColor="@color/hockeyapp_text_white" android:shadowDx="1.0" android:shadowRadius="1.0" android:layout_below="@id/label_title" android:lineSpacingMultiplier="1.1" />
-        <Button android:textSize="16sp" android:textColor="@color/hockeyapp_text_white" android:id="@id/button_update" android:background="@drawable/hockeyapp_btn_background" android:paddingLeft="20dp" android:paddingTop="10dp" android:paddingRight="20dp" android:paddingBottom="10dp" android:layout_width="UNKNOWN_DATA_0x7801" android:layout_height="wrap_content" android:layout_margin="20dp" android:text="@string/hockeyapp_update_button" android:layout_below="@id/label_version" android:layout_alignParentLeft="true" />
-    </RelativeLayout>
-    <WebView android:id="@id/web_update_details" android:background="@color/hockeyapp_background_white" android:layout_width="match_parent" android:layout_height="UNKNOWN_DATA_0x19001" android:layout_below="@id/view_header" />
-</RelativeLayout>
diff --git a/TMessagesProj/src/main/res/layout/hockeyapp_view_feedback_message.xml b/TMessagesProj/src/main/res/layout/hockeyapp_view_feedback_message.xml
deleted file mode 100644
index 2b8d0be43..000000000
--- a/TMessagesProj/src/main/res/layout/hockeyapp_view_feedback_message.xml
+++ /dev/null
@@ -1,7 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:gravity="left|right|center_horizontal|fill_horizontal|center|fill|start|end" android:orientation="vertical" android:layout_width="match_parent" android:layout_height="match_parent">
-    <TextView android:textSize="15sp" android:typeface="normal" android:textColor="@color/hockeyapp_text_white" android:id="@id/label_author" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginLeft="20dp" android:layout_marginTop="20dp" android:layout_marginRight="20dp" android:layout_marginBottom="0dp" android:singleLine="true" android:shadowColor="@color/hockeyapp_text_white" android:shadowDx="1.0" android:shadowRadius="1.0" />
-    <TextView android:textSize="15sp" android:typeface="normal" android:textStyle="italic" android:textColor="@color/hockeyapp_text_white" android:id="@id/label_date" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginLeft="20dp" android:layout_marginTop="0dp" android:layout_marginRight="20dp" android:layout_marginBottom="0dp" android:singleLine="true" android:shadowColor="@color/hockeyapp_text_white" android:shadowDx="1.0" android:shadowRadius="1.0" />
-    <TextView android:textSize="18sp" android:typeface="normal" android:textColor="@color/hockeyapp_text_black" android:id="@id/label_text" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginLeft="20dp" android:layout_marginTop="0dp" android:layout_marginRight="20dp" android:layout_marginBottom="20dp" android:singleLine="false" android:shadowColor="@color/hockeyapp_text_white" android:shadowDx="1.0" android:shadowRadius="1.0" />
-    <net.hockeyapp.android.views.AttachmentListView android:id="@id/list_attachments" android:layout_width="match_parent" android:layout_height="match_parent" android:layout_marginLeft="20dp" android:layout_marginTop="0dp" android:layout_marginRight="20dp" android:layout_marginBottom="20dp" />
-</LinearLayout>
diff --git a/TMessagesProj/src/main/res/layout/imagelist.xml b/TMessagesProj/src/main/res/layout/imagelist.xml
index 1c9ffc0e1..05025b71f 100644
--- a/TMessagesProj/src/main/res/layout/imagelist.xml
+++ b/TMessagesProj/src/main/res/layout/imagelist.xml
@@ -1,6 +1,40 @@
 <?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:orientation="horizontal" android:layout_width="match_parent" android:layout_height="UNKNOWN_DATA_0x5001">
-    <ImageView android:gravity="left|right|center_horizontal|fill_horizontal|center|fill|start|end" android:layout_gravity="top|bottom|center_vertical|fill_vertical|center|fill" android:id="@+id/bubble_in" android:padding="0dp" android:layout_width="UNKNOWN_DATA_0x4601" android:layout_height="UNKNOWN_DATA_0x4601" />
-    <ImageView android:gravity="left|right|center_horizontal|fill_horizontal|center|fill|start|end" android:layout_gravity="top|bottom|center_vertical|fill_vertical|center|fill" android:id="@+id/bubble_out" android:padding="0dp" android:layout_width="UNKNOWN_DATA_0x4601" android:layout_height="UNKNOWN_DATA_0x4601" />
-    <TextView android:textSize="18sp" android:gravity="top|bottom|left|right|center_vertical|fill_vertical|center_horizontal|fill_horizontal|center|fill|start|end" android:layout_gravity="top|bottom|left|right|center_vertical|fill_vertical|center_horizontal|fill_horizontal|center|fill|start|end" android:id="@+id/bubble_title" android:padding="2dp" android:layout_width="wrap_content" android:layout_height="match_parent" android:layout_marginLeft="10dp" />
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="fill_parent"
+    android:layout_height="80dip"
+    android:orientation="horizontal" >
+
+    <ImageView
+        android:id="@+id/bubble_in"
+        android:layout_width="70dip"
+        android:layout_height="70dip"
+        android:gravity="right"
+        android:layout_gravity="center_vertical"
+		android:padding="0dip" />
+
+    <ImageView
+        android:id="@+id/bubble_out"
+        android:layout_width="70dip"
+        android:layout_height="70dip"
+        android:gravity="left"
+        android:layout_gravity="center_vertical"
+        android:padding="0dip" />
+
+    <TextView
+        android:id="@+id/bubble_title"
+        android:layout_width="wrap_content"
+        android:layout_height="fill_parent"
+        android:layout_marginLeft="10dip"
+        android:gravity="center"
+        android:layout_gravity="center"
+        android:textSize="18sp"
+
+        android:padding="2dip" />
+        <!--
+    <TextView
+        android:id="@+id/textView1"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:text="TextView" 
+        android:layout_marginLeft="10dp"/>-->
 </LinearLayout>
diff --git a/TMessagesProj/src/main/res/layout/imagelistlayout.xml b/TMessagesProj/src/main/res/layout/imagelistlayout.xml
index d5fc2cbf0..3dbb71835 100644
--- a/TMessagesProj/src/main/res/layout/imagelistlayout.xml
+++ b/TMessagesProj/src/main/res/layout/imagelistlayout.xml
@@ -1,4 +1,13 @@
-<?xml version="1.0" encoding="utf-8"?>
-<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android" android:layout_width="match_parent" android:layout_height="match_parent">
-    <ListView android:id="@+id/list" android:layout_width="match_parent" android:layout_height="wrap_content" />
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    tools:context="${relativePackage}.${activityClass}" >
+
+    <ListView
+        android:id="@+id/list"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content" >
+    </ListView>
+
 </RelativeLayout>
diff --git a/TMessagesProj/src/main/res/layout/intro_layout_tablet.xml b/TMessagesProj/src/main/res/layout/intro_layout_tablet.xml
index 77c73d20f..d5aa085c6 100644
--- a/TMessagesProj/src/main/res/layout/intro_layout_tablet.xml
+++ b/TMessagesProj/src/main/res/layout/intro_layout_tablet.xml
@@ -3,10 +3,11 @@
     android:layout_width="match_parent"
     android:layout_height="match_parent">
 
-    <View
+    <ImageView
         android:layout_width="match_parent"
         android:layout_height="match_parent"
-        android:id="@+id/background_image_intro"/>
+        android:src="@drawable/cats"
+        android:scaleType="centerCrop"/>
 
     <FrameLayout
         android:layout_width="498dp"
diff --git a/TMessagesProj/src/main/res/layout/media_loading_layout.xml b/TMessagesProj/src/main/res/layout/media_loading_layout.xml
new file mode 100644
index 000000000..435491b6d
--- /dev/null
+++ b/TMessagesProj/src/main/res/layout/media_loading_layout.xml
@@ -0,0 +1,12 @@
+<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="100dp"
+    android:layout_height="100dp">
+
+    <ProgressBar
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_gravity="center"
+        android:paddingTop="6dp"
+        android:paddingBottom="6dp"/>
+
+</FrameLayout>
diff --git a/TMessagesProj/src/main/res/layout/popup_audio_layout.xml b/TMessagesProj/src/main/res/layout/popup_audio_layout.xml
new file mode 100644
index 000000000..cbd48a1f8
--- /dev/null
+++ b/TMessagesProj/src/main/res/layout/popup_audio_layout.xml
@@ -0,0 +1,17 @@
+<FrameLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:id="@+id/text_container"
+    android:background="@drawable/list_selector"
+    android:layout_gravity="top">
+
+    <FrameLayout
+        android:layout_height="wrap_content"
+        android:layout_width="match_parent"
+        android:layout_marginLeft="20dp"
+        android:layout_marginRight="20dp"
+        android:layout_gravity="center"
+        android:id="@+id/audio_container"/>
+
+</FrameLayout>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/layout/popup_count_layout.xml b/TMessagesProj/src/main/res/layout/popup_count_layout.xml
new file mode 100644
index 000000000..6011dc4cb
--- /dev/null
+++ b/TMessagesProj/src/main/res/layout/popup_count_layout.xml
@@ -0,0 +1,16 @@
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="wrap_content"
+    android:layout_height="wrap_content"
+    android:layout_alignParentRight="true">
+
+    <TextView
+        xmlns:android="http://schemas.android.com/apk/res/android"
+        android:layout_height="match_parent"
+        android:layout_width="56dp"
+        android:id="@+id/count_text"
+        android:textColor="#ffd7e8f7"
+        android:textSize="14dp"
+        android:gravity="center"
+        android:layout_centerInParent="true"/>
+
+</RelativeLayout>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/layout/popup_image_layout.xml b/TMessagesProj/src/main/res/layout/popup_image_layout.xml
new file mode 100644
index 000000000..e1fbaccd1
--- /dev/null
+++ b/TMessagesProj/src/main/res/layout/popup_image_layout.xml
@@ -0,0 +1,25 @@
+<FrameLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:layout_gravity="top"
+    android:id="@+id/text_container"
+    android:padding="10dp"
+    android:background="@drawable/list_selector">
+
+    <org.telegram.ui.Components.BackupImageView
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:id="@+id/message_image"
+        android:layout_gravity="center"/>
+
+    <TextView
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:textSize="16dp"
+        android:textColor="#ff000000"
+        android:id="@+id/message_text"
+        android:gravity="center"
+        android:layout_gravity="center"/>
+
+</FrameLayout>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/layout/popup_text_layout.xml b/TMessagesProj/src/main/res/layout/popup_text_layout.xml
new file mode 100644
index 000000000..02358aace
--- /dev/null
+++ b/TMessagesProj/src/main/res/layout/popup_text_layout.xml
@@ -0,0 +1,29 @@
+<ScrollView
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:fillViewport="true"
+    android:id="@+id/text_scroll">
+
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_gravity="center_horizontal"
+        android:padding="10dp"
+        android:id="@+id/text_container"
+        android:background="@drawable/list_selector"
+        android:orientation="horizontal">
+
+        <TextView
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:textSize="16dp"
+            android:textColor="#ff000000"
+            android:textColorLink="#ff000000"
+            android:id="@+id/message_text"
+            android:gravity="center"
+            android:layout_gravity="center"/>
+
+    </LinearLayout>
+
+</ScrollView>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/layout/seek_bar_preference.xml b/TMessagesProj/src/main/res/layout/seek_bar_preference.xml
index 5da00efe7..981fa2c98 100644
--- a/TMessagesProj/src/main/res/layout/seek_bar_preference.xml
+++ b/TMessagesProj/src/main/res/layout/seek_bar_preference.xml
@@ -1,9 +1,10 @@
 <?xml version="1.0" encoding="utf-8"?>
-<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android" android:id="0x1020018" android:paddingLeft="8dp" android:paddingTop="5dp" android:paddingRight="5dp" android:paddingBottom="5dp" android:layout_width="match_parent" android:layout_height="wrap_content">
-    <TextView android:textSize="17sp" android:id="0x1020016" android:layout_width="match_parent" android:layout_height="wrap_content" android:text="TITLE" android:layout_toLeftOf="@+id/seekBarPrefUnitsLeft" android:layout_alignParentLeft="true" android:layout_alignParentTop="true" />
-    <TextView android:id="@+id/seekBarPrefUnitsRight" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="SP" android:layout_alignParentRight="true" />
-    <TextView android:gravity="left|right|center_horizontal|fill_horizontal|center|fill|start|end" android:id="@+id/seekBarPrefValue" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="30" android:layout_toLeftOf="@+id/seekBarPrefUnitsRight" />
-    <TextView android:id="@+id/seekBarPrefUnitsLeft" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_toLeftOf="@+id/seekBarPrefValue" />
-    <TextView android:textSize="13sp" android:id="0x1020010" android:layout_width="match_parent" android:layout_height="wrap_content" android:text="SUMMARY" android:layout_toLeftOf="@+id/seekBarPrefUnitsLeft" android:layout_below="0x1020016" android:layout_alignParentLeft="true" />
-    <LinearLayout android:orientation="horizontal" android:id="@+id/seekBarPrefBarContainer" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_below="0x1020010" android:layout_alignParentLeft="true" android:layout_alignParentBottom="true" />
-</RelativeLayout>
+<RelativeLayout android:id="@android:id/widget_frame" android:paddingLeft="8.0dip" android:paddingTop="5.0dip" android:paddingRight="5.0dip" android:paddingBottom="5.0dip" android:layout_width="fill_parent" android:layout_height="wrap_content"
+  xmlns:android="http://schemas.android.com/apk/res/android">
+    <TextView android:textSize="17.0sp" android:text="TITLE" android:id="@android:id/title" android:layout_width="fill_parent" android:layout_height="wrap_content" android:layout_alignParentLeft="true" android:layout_alignParentTop="true" android:layout_toLeftOf="@+id/seekBarPrefUnitsLeft" />
+    <TextView android:id="@+id/seekBarPrefUnitsRight" android:text="SP" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_alignParentRight="true" />
+    <TextView android:gravity="right" android:id="@+id/seekBarPrefValue" android:text="30" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_toLeftOf="@id/seekBarPrefUnitsRight" />
+    <TextView android:id="@+id/seekBarPrefUnitsLeft" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_toLeftOf="@id/seekBarPrefValue" />
+    <TextView android:textSize="13.0sp" android:id="@android:id/summary" android:text="SUMMARY" android:layout_width="fill_parent" android:layout_height="wrap_content" android:layout_toLeftOf="@id/seekBarPrefUnitsLeft" android:layout_below="@android:id/title" android:layout_alignParentLeft="true" />
+    <LinearLayout android:orientation="horizontal" android:id="@+id/seekBarPrefBarContainer" android:layout_width="fill_parent" android:layout_height="wrap_content" android:layout_below="@android:id/summary" android:layout_alignParentLeft="true" android:layout_alignParentBottom="true" />
+</RelativeLayout>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/layout/tabs_bg.xml b/TMessagesProj/src/main/res/layout/tabs_bg.xml
index ec9f5c4be..0b422a728 100644
--- a/TMessagesProj/src/main/res/layout/tabs_bg.xml
+++ b/TMessagesProj/src/main/res/layout/tabs_bg.xml
@@ -1,4 +1,9 @@
 <?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:gravity="top|bottom|left|right|center_vertical|fill_vertical|center_horizontal|fill_horizontal|center|fill|start|end" android:orientation="vertical" android:id="@+id/tabsLayout" android:background="@drawable/tab_bg_selector" android:padding="10dp" android:layout_width="match_parent" android:layout_height="match_parent">
-    <TextView android:textSize="15dp" android:textColor="@drawable/tab_text_selector" android:id="@+id/tabsText" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Title" />
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	android:id="@+id/tabsLayout" android:layout_width="fill_parent"
+	android:layout_height="fill_parent" android:background="@drawable/tab_bg_selector"
+	android:padding="10dip" android:gravity="center" android:orientation="vertical">
+	<TextView android:id="@+id/tabsText" android:layout_width="wrap_content"
+		android:layout_height="wrap_content" android:text="Title"
+		android:textSize="15dip" android:textColor="@drawable/tab_text_selector" />
 </LinearLayout>
diff --git a/TMessagesProj/src/main/res/layout/video_editor_layout.xml b/TMessagesProj/src/main/res/layout/video_editor_layout.xml
new file mode 100644
index 000000000..81b675eaf
--- /dev/null
+++ b/TMessagesProj/src/main/res/layout/video_editor_layout.xml
@@ -0,0 +1,145 @@
+<FrameLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:background="#ff000000">
+
+    <FrameLayout
+        android:layout_height="match_parent"
+        android:layout_width="match_parent"
+        android:layout_marginTop="16dp"
+        android:layout_marginBottom="160dp"
+        android:id="@+id/video_container"
+        android:layout_gravity="top">
+
+        <TextureView
+            android:layout_height="wrap_content"
+            android:layout_width="wrap_content"
+            android:layout_gravity="center"
+            android:id="@+id/video_view"/>
+
+        <ImageView
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            android:scaleType="center"
+            android:src="@drawable/video_play"
+            android:layout_gravity="center"
+            android:id="@+id/play_button"/>
+
+    </FrameLayout>
+
+    <FrameLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:id="@+id/control_layout">
+
+        <org.telegram.ui.Components.VideoSeekBarView
+            android:layout_height="36dp"
+            android:layout_width="match_parent"
+            android:id="@+id/video_seekbar"
+            android:background="#77000000"
+            android:layout_marginLeft="8dp"
+            android:layout_marginRight="8dp"/>
+
+        <org.telegram.ui.Components.VideoTimelineView
+            android:layout_width="match_parent"
+            android:layout_height="74dp"
+            android:layout_marginTop="36dp"
+            android:id="@+id/video_timeline_view"/>
+
+    </FrameLayout>
+
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_gravity="bottom"
+        android:background="#ff2d2d2d"
+        android:layout_marginLeft="16dp"
+        android:layout_marginRight="16dp"
+        android:layout_marginBottom="16dp"
+        android:paddingTop="8dp"
+        android:paddingBottom="8dp"
+        android:id="@+id/info_container"
+        android:orientation="vertical">
+    
+        <TextView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:textColor="#f0f0f0"
+            android:textSize="15dp"
+            android:layout_marginLeft="13dp"
+            android:layout_marginRight="13dp"
+            android:id="@+id/original_title"/>
+
+        <TextView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:textColor="#bebebe"
+            android:textSize="15dp"
+            android:layout_marginLeft="13dp"
+            android:layout_marginRight="13dp"
+            android:id="@+id/original_size"/>
+
+        <TextView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:textColor="#f0f0f0"
+            android:textSize="15dp"
+            android:layout_marginTop="10dp"
+            android:layout_marginLeft="13dp"
+            android:layout_marginRight="13dp"
+            android:id="@+id/edited_title"/>
+
+        <TextView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:textColor="#bebebe"
+            android:textSize="15dp"
+            android:layout_marginLeft="13dp"
+            android:layout_marginRight="13dp"
+            android:id="@+id/edited_size"/>
+<!--
+        <CheckBox
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_marginLeft="8dp"
+            android:layout_marginRight="8dp"
+            android:layout_marginTop="6dp"
+            android:textColor="#f0f0f0"
+            android:textSize="15dp"
+            android:id="@+id/compress_video"/>-->
+
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_gravity="bottom"
+        android:background="#ff2d2d2d"
+        android:orientation="horizontal">
+
+        <CheckBox
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_marginLeft="8dp"
+            android:layout_marginRight="8dp"
+            android:layout_marginTop="6dp"
+            android:textColor="#f0f0f0"
+            android:textSize="15dp"
+            android:id="@+id/compress_video"/>
+
+        <SeekBar
+            android:id="@+id/seekBar"
+            android:max="16"
+            android:layout_width="fill_parent"
+            android:layout_height="wrap_content"
+
+            android:layout_marginLeft="8dp"
+            android:layout_marginRight="8dp"
+            android:layout_marginTop="6dp"
+
+            />
+
+    </LinearLayout>
+
+    </LinearLayout>
+
+</FrameLayout>
diff --git a/TMessagesProj/src/main/res/values-v14/bools.xml b/TMessagesProj/src/main/res/values-v14/bools.xml
deleted file mode 100644
index 639cedeac..000000000
--- a/TMessagesProj/src/main/res/values-v14/bools.xml
+++ /dev/null
@@ -1,5 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-
-<resources>
-    <bool name="useHardwareAcceleration">false</bool>
-</resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-v15/bools.xml b/TMessagesProj/src/main/res/values-v15/bools.xml
deleted file mode 100644
index 639cedeac..000000000
--- a/TMessagesProj/src/main/res/values-v15/bools.xml
+++ /dev/null
@@ -1,5 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-
-<resources>
-    <bool name="useHardwareAcceleration">false</bool>
-</resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-v16/bools.xml b/TMessagesProj/src/main/res/values-v16/bools.xml
deleted file mode 100644
index 9e9160ec0..000000000
--- a/TMessagesProj/src/main/res/values-v16/bools.xml
+++ /dev/null
@@ -1,5 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-
-<resources>
-    <bool name="useHardwareAcceleration">true</bool>
-</resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values/anims.xml b/TMessagesProj/src/main/res/values/anims.xml
deleted file mode 100644
index e3bff0424..000000000
--- a/TMessagesProj/src/main/res/values/anims.xml
+++ /dev/null
@@ -1,8 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<resources>
-    <anim name="icon_anim_fade_in">res/anim/icon_anim_fade_in.xml</anim>
-    <anim name="icon_anim_fade_out">res/anim/icon_anim_fade_out.xml</anim>
-    <anim name="no_animation">res/anim/no_animation.xml</anim>
-    <anim name="popup_in">res/anim/popup_in.xml</anim>
-    <anim name="popup_out">res/anim/popup_out.xml</anim>
-</resources>
diff --git a/TMessagesProj/src/main/res/values/arrays.xml b/TMessagesProj/src/main/res/values/arrays.xml
deleted file mode 100644
index 0cd560c54..000000000
--- a/TMessagesProj/src/main/res/values/arrays.xml
+++ /dev/null
@@ -1,6 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<resources>
-    <array name="android_wear_capabilities">
-        <item>telegram_full_app</item>
-    </array>
-</resources>
diff --git a/TMessagesProj/src/main/res/values/attrs.xml b/TMessagesProj/src/main/res/values/attrs.xml
deleted file mode 100644
index 36ed64fcd..000000000
--- a/TMessagesProj/src/main/res/values/attrs.xml
+++ /dev/null
@@ -1,104 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<resources>
-    <attr name="imageAspectRatioAdjust">
-        <item>65536</item>
-        <item>2</item>
-        <item>1</item>
-        <item>0</item>
-    </attr>
-    <attr name="imageAspectRatio">
-        <item>32</item>
-    </attr>
-    <attr name="circleCrop">
-        <item>8</item>
-    </attr>
-    <attr name="mapType">
-        <item>65536</item>
-        <item>0</item>
-        <item>4</item>
-        <item>1</item>
-        <item>2</item>
-        <item>3</item>
-    </attr>
-    <attr name="cameraBearing">
-        <item>32</item>
-    </attr>
-    <attr name="cameraTargetLat">
-        <item>32</item>
-    </attr>
-    <attr name="cameraTargetLng">
-        <item>32</item>
-    </attr>
-    <attr name="cameraTilt">
-        <item>32</item>
-    </attr>
-    <attr name="cameraZoom">
-        <item>32</item>
-    </attr>
-    <attr name="liteMode">
-        <item>8</item>
-    </attr>
-    <attr name="uiCompass">
-        <item>8</item>
-    </attr>
-    <attr name="uiRotateGestures">
-        <item>8</item>
-    </attr>
-    <attr name="uiScrollGestures">
-        <item>8</item>
-    </attr>
-    <attr name="uiTiltGestures">
-        <item>8</item>
-    </attr>
-    <attr name="uiZoomControls">
-        <item>8</item>
-    </attr>
-    <attr name="uiZoomGestures">
-        <item>8</item>
-    </attr>
-    <attr name="useViewLifecycle">
-        <item>8</item>
-    </attr>
-    <attr name="zOrderOnTop">
-        <item>8</item>
-    </attr>
-    <attr name="uiMapToolbar">
-        <item>8</item>
-    </attr>
-    <attr name="ambientEnabled">
-        <item>8</item>
-    </attr>
-    <attr name="cameraMinZoomPreference">
-        <item>32</item>
-    </attr>
-    <attr name="cameraMaxZoomPreference">
-        <item>32</item>
-    </attr>
-    <attr name="latLngBoundsSouthWestLatitude">
-        <item>32</item>
-    </attr>
-    <attr name="latLngBoundsSouthWestLongitude">
-        <item>32</item>
-    </attr>
-    <attr name="latLngBoundsNorthEastLatitude">
-        <item>32</item>
-    </attr>
-    <attr name="latLngBoundsNorthEastLongitude">
-        <item>32</item>
-    </attr>
-    <attr name="buttonSize">
-        <item>65537</item>
-        <item>2</item>
-        <item>0</item>
-        <item>1</item>
-    </attr>
-    <attr name="colorScheme">
-        <item>65537</item>
-        <item>2</item>
-        <item>0</item>
-        <item>1</item>
-    </attr>
-    <attr name="scopeUris">
-        <item>3</item>
-    </attr>
-</resources>
diff --git a/TMessagesProj/src/main/res/values/bools.xml b/TMessagesProj/src/main/res/values/bools.xml
index bd52df847..9e9160ec0 100644
--- a/TMessagesProj/src/main/res/values/bools.xml
+++ b/TMessagesProj/src/main/res/values/bools.xml
@@ -1,10 +1,5 @@
 <?xml version="1.0" encoding="utf-8"?>
+
 <resources>
-    <bool name="isTablet">false</bool>
-    <bool name="isTablet">true</bool>
-    <bool name="isTablet">true</bool>
     <bool name="useHardwareAcceleration">true</bool>
-    <bool name="useHardwareAcceleration">false</bool>
-    <bool name="useHardwareAcceleration">false</bool>
-    <bool name="useHardwareAcceleration">true</bool>
-</resources>
+</resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values/colors.xml b/TMessagesProj/src/main/res/values/colors.xml
index 0060276cc..cced77f4d 100755
--- a/TMessagesProj/src/main/res/values/colors.xml
+++ b/TMessagesProj/src/main/res/values/colors.xml
@@ -1,28 +1,8 @@
 <?xml version="1.0" encoding="utf-8"?>
 <resources>
-    <color name="common_google_signin_btn_text_dark_default">?unknown_ref: 106000b</color>
-    <color name="common_google_signin_btn_text_dark_disabled">#1f000000</color>
-    <color name="common_google_signin_btn_text_dark_focused">?unknown_ref: 106000c</color>
-    <color name="common_google_signin_btn_text_dark_pressed">?unknown_ref: 106000b</color>
-    <color name="common_google_signin_btn_text_light_default">#90000000</color>
-    <color name="common_google_signin_btn_text_light_disabled">#1f000000</color>
-    <color name="common_google_signin_btn_text_light_focused">#90000000</color>
-    <color name="common_google_signin_btn_text_light_pressed">#de000000</color>
-    <color name="divider">#dcdcdc</color>
-    <color name="header">#ff009688</color>
-    <color name="hockeyapp_background_header">#e6ecef</color>
-    <color name="hockeyapp_background_light">#cccccc</color>
-    <color name="hockeyapp_background_white">#ffffff</color>
-    <color name="hockeyapp_button_background">#000000</color>
-    <color name="hockeyapp_button_background_pressed">#888888</color>
-    <color name="hockeyapp_button_background_selected">#444444</color>
-    <color name="hockeyapp_text_black">#000000</color>
-    <color name="hockeyapp_text_light">#cccccc</color>
-    <color name="hockeyapp_text_normal">#888888</color>
-    <color name="hockeyapp_text_white">#ffffff</color>
-    <color name="primary_dark">#ff00695c</color>
-    <color name="primary_light">#ff26a69a</color>
-    <color name="common_google_signin_btn_text_dark">res/color/common_google_signin_btn_text_dark.xml</color>
-    <color name="common_google_signin_btn_text_light">res/color/common_google_signin_btn_text_light.xml</color>
-    <color name="common_google_signin_btn_tint">res/color/common_google_signin_btn_tint.xml</color>
-</resources>
+    <color name="divider">#dcdcdc</color><!--
+    <color name="header">#ff54759e</color>-->
+    <color name="header">#ff009688</color><!--58BCD5-->
+    <color name="primary_dark">#ff00695C</color><!--2C90A9-->
+    <color name="primary_light">#ff26A69A</color><!--6ED2E9-->
+</resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values/drawables.xml b/TMessagesProj/src/main/res/values/drawables.xml
deleted file mode 100644
index 407f43ef8..000000000
--- a/TMessagesProj/src/main/res/values/drawables.xml
+++ /dev/null
@@ -1,2404 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<resources>
-    <drawable name="ab_progress">res/drawable-mdpi-v4/ab_progress.png</drawable>
-    <drawable name="ab_progress">res/drawable-hdpi-v4/ab_progress.png</drawable>
-    <drawable name="ab_progress">res/drawable-xhdpi-v4/ab_progress.png</drawable>
-    <drawable name="ab_progress">res/drawable-xxhdpi-v4/ab_progress.png</drawable>
-    <drawable name="abc_ic_menu_share_mtrl_alpha">res/drawable-mdpi-v4/abc_ic_menu_share_mtrl_alpha.png</drawable>
-    <drawable name="abc_ic_menu_share_mtrl_alpha">res/drawable-hdpi-v4/abc_ic_menu_share_mtrl_alpha.png</drawable>
-    <drawable name="abc_ic_menu_share_mtrl_alpha">res/drawable-xhdpi-v4/abc_ic_menu_share_mtrl_alpha.png</drawable>
-    <drawable name="abc_ic_menu_share_mtrl_alpha">res/drawable-xxhdpi-v4/abc_ic_menu_share_mtrl_alpha.png</drawable>
-    <drawable name="add">res/drawable-mdpi-v4/add.png</drawable>
-    <drawable name="add">res/drawable-hdpi-v4/add.png</drawable>
-    <drawable name="add">res/drawable-xhdpi-v4/add.png</drawable>
-    <drawable name="add">res/drawable-xxhdpi-v4/add.png</drawable>
-    <drawable name="admin_star">res/drawable-mdpi-v4/admin_star.png</drawable>
-    <drawable name="admin_star">res/drawable-hdpi-v4/admin_star.png</drawable>
-    <drawable name="admin_star">res/drawable-xhdpi-v4/admin_star.png</drawable>
-    <drawable name="admin_star">res/drawable-xxhdpi-v4/admin_star.png</drawable>
-    <drawable name="attach_audio">res/drawable-mdpi-v4/attach_audio.png</drawable>
-    <drawable name="attach_audio">res/drawable-hdpi-v4/attach_audio.png</drawable>
-    <drawable name="attach_audio">res/drawable-xhdpi-v4/attach_audio.png</drawable>
-    <drawable name="attach_audio">res/drawable-xxhdpi-v4/attach_audio.png</drawable>
-    <drawable name="attach_audio_pressed">res/drawable-mdpi-v4/attach_audio_pressed.png</drawable>
-    <drawable name="attach_audio_pressed">res/drawable-hdpi-v4/attach_audio_pressed.png</drawable>
-    <drawable name="attach_audio_pressed">res/drawable-xhdpi-v4/attach_audio_pressed.png</drawable>
-    <drawable name="attach_audio_pressed">res/drawable-xxhdpi-v4/attach_audio_pressed.png</drawable>
-    <drawable name="attach_audio_states">res/drawable/attach_audio_states.xml</drawable>
-    <drawable name="attach_camera">res/drawable-mdpi-v4/attach_camera.png</drawable>
-    <drawable name="attach_camera">res/drawable-hdpi-v4/attach_camera.png</drawable>
-    <drawable name="attach_camera">res/drawable-xhdpi-v4/attach_camera.png</drawable>
-    <drawable name="attach_camera">res/drawable-xxhdpi-v4/attach_camera.png</drawable>
-    <drawable name="attach_camera_pressed">res/drawable-mdpi-v4/attach_camera_pressed.png</drawable>
-    <drawable name="attach_camera_pressed">res/drawable-hdpi-v4/attach_camera_pressed.png</drawable>
-    <drawable name="attach_camera_pressed">res/drawable-xhdpi-v4/attach_camera_pressed.png</drawable>
-    <drawable name="attach_camera_pressed">res/drawable-xxhdpi-v4/attach_camera_pressed.png</drawable>
-    <drawable name="attach_camera_states">res/drawable/attach_camera_states.xml</drawable>
-    <drawable name="attach_contact">res/drawable-mdpi-v4/attach_contact.png</drawable>
-    <drawable name="attach_contact">res/drawable-hdpi-v4/attach_contact.png</drawable>
-    <drawable name="attach_contact">res/drawable-xhdpi-v4/attach_contact.png</drawable>
-    <drawable name="attach_contact">res/drawable-xxhdpi-v4/attach_contact.png</drawable>
-    <drawable name="attach_contact_pressed">res/drawable-mdpi-v4/attach_contact_pressed.png</drawable>
-    <drawable name="attach_contact_pressed">res/drawable-hdpi-v4/attach_contact_pressed.png</drawable>
-    <drawable name="attach_contact_pressed">res/drawable-xhdpi-v4/attach_contact_pressed.png</drawable>
-    <drawable name="attach_contact_pressed">res/drawable-xxhdpi-v4/attach_contact_pressed.png</drawable>
-    <drawable name="attach_contact_states">res/drawable/attach_contact_states.xml</drawable>
-    <drawable name="attach_file">res/drawable-mdpi-v4/attach_file.png</drawable>
-    <drawable name="attach_file">res/drawable-hdpi-v4/attach_file.png</drawable>
-    <drawable name="attach_file">res/drawable-xhdpi-v4/attach_file.png</drawable>
-    <drawable name="attach_file">res/drawable-xxhdpi-v4/attach_file.png</drawable>
-    <drawable name="attach_file_pressed">res/drawable-mdpi-v4/attach_file_pressed.png</drawable>
-    <drawable name="attach_file_pressed">res/drawable-hdpi-v4/attach_file_pressed.png</drawable>
-    <drawable name="attach_file_pressed">res/drawable-xhdpi-v4/attach_file_pressed.png</drawable>
-    <drawable name="attach_file_pressed">res/drawable-xxhdpi-v4/attach_file_pressed.png</drawable>
-    <drawable name="attach_file_states">res/drawable/attach_file_states.xml</drawable>
-    <drawable name="attach_gallery">res/drawable-mdpi-v4/attach_gallery.png</drawable>
-    <drawable name="attach_gallery">res/drawable-hdpi-v4/attach_gallery.png</drawable>
-    <drawable name="attach_gallery">res/drawable-xhdpi-v4/attach_gallery.png</drawable>
-    <drawable name="attach_gallery">res/drawable-xxhdpi-v4/attach_gallery.png</drawable>
-    <drawable name="attach_gallery_pressed">res/drawable-mdpi-v4/attach_gallery_pressed.png</drawable>
-    <drawable name="attach_gallery_pressed">res/drawable-hdpi-v4/attach_gallery_pressed.png</drawable>
-    <drawable name="attach_gallery_pressed">res/drawable-xhdpi-v4/attach_gallery_pressed.png</drawable>
-    <drawable name="attach_gallery_pressed">res/drawable-xxhdpi-v4/attach_gallery_pressed.png</drawable>
-    <drawable name="attach_gallery_states">res/drawable/attach_gallery_states.xml</drawable>
-    <drawable name="attach_hide1">res/drawable-mdpi-v4/attach_hide1.png</drawable>
-    <drawable name="attach_hide1">res/drawable-hdpi-v4/attach_hide1.png</drawable>
-    <drawable name="attach_hide1">res/drawable-xhdpi-v4/attach_hide1.png</drawable>
-    <drawable name="attach_hide1">res/drawable-xxhdpi-v4/attach_hide1.png</drawable>
-    <drawable name="attach_hide1_pressed">res/drawable-mdpi-v4/attach_hide1_pressed.png</drawable>
-    <drawable name="attach_hide1_pressed">res/drawable-hdpi-v4/attach_hide1_pressed.png</drawable>
-    <drawable name="attach_hide1_pressed">res/drawable-xhdpi-v4/attach_hide1_pressed.png</drawable>
-    <drawable name="attach_hide1_pressed">res/drawable-xxhdpi-v4/attach_hide1_pressed.png</drawable>
-    <drawable name="attach_hide2">res/drawable-mdpi-v4/attach_hide2.png</drawable>
-    <drawable name="attach_hide2">res/drawable-hdpi-v4/attach_hide2.png</drawable>
-    <drawable name="attach_hide2">res/drawable-xhdpi-v4/attach_hide2.png</drawable>
-    <drawable name="attach_hide2">res/drawable-xxhdpi-v4/attach_hide2.png</drawable>
-    <drawable name="attach_hide_states">res/drawable/attach_hide_states.xml</drawable>
-    <drawable name="attach_location">res/drawable-mdpi-v4/attach_location.png</drawable>
-    <drawable name="attach_location">res/drawable-hdpi-v4/attach_location.png</drawable>
-    <drawable name="attach_location">res/drawable-xhdpi-v4/attach_location.png</drawable>
-    <drawable name="attach_location">res/drawable-xxhdpi-v4/attach_location.png</drawable>
-    <drawable name="attach_location_pressed">res/drawable-mdpi-v4/attach_location_pressed.png</drawable>
-    <drawable name="attach_location_pressed">res/drawable-hdpi-v4/attach_location_pressed.png</drawable>
-    <drawable name="attach_location_pressed">res/drawable-xhdpi-v4/attach_location_pressed.png</drawable>
-    <drawable name="attach_location_pressed">res/drawable-xxhdpi-v4/attach_location_pressed.png</drawable>
-    <drawable name="attach_location_states">res/drawable/attach_location_states.xml</drawable>
-    <drawable name="attach_send1">res/drawable-mdpi-v4/attach_send1.png</drawable>
-    <drawable name="attach_send1">res/drawable-hdpi-v4/attach_send1.png</drawable>
-    <drawable name="attach_send1">res/drawable-xhdpi-v4/attach_send1.png</drawable>
-    <drawable name="attach_send1">res/drawable-xxhdpi-v4/attach_send1.png</drawable>
-    <drawable name="attach_send1_pressed">res/drawable-mdpi-v4/attach_send1_pressed.png</drawable>
-    <drawable name="attach_send1_pressed">res/drawable-hdpi-v4/attach_send1_pressed.png</drawable>
-    <drawable name="attach_send1_pressed">res/drawable-xhdpi-v4/attach_send1_pressed.png</drawable>
-    <drawable name="attach_send1_pressed">res/drawable-xxhdpi-v4/attach_send1_pressed.png</drawable>
-    <drawable name="attach_send2">res/drawable-mdpi-v4/attach_send2.png</drawable>
-    <drawable name="attach_send2">res/drawable-hdpi-v4/attach_send2.png</drawable>
-    <drawable name="attach_send2">res/drawable-xhdpi-v4/attach_send2.png</drawable>
-    <drawable name="attach_send2">res/drawable-xxhdpi-v4/attach_send2.png</drawable>
-    <drawable name="attach_send_states">res/drawable/attach_send_states.xml</drawable>
-    <drawable name="attach_video">res/drawable-mdpi-v4/attach_video.png</drawable>
-    <drawable name="attach_video">res/drawable-hdpi-v4/attach_video.png</drawable>
-    <drawable name="attach_video">res/drawable-xhdpi-v4/attach_video.png</drawable>
-    <drawable name="attach_video">res/drawable-xxhdpi-v4/attach_video.png</drawable>
-    <drawable name="attach_video_pressed">res/drawable-mdpi-v4/attach_video_pressed.png</drawable>
-    <drawable name="attach_video_pressed">res/drawable-hdpi-v4/attach_video_pressed.png</drawable>
-    <drawable name="attach_video_pressed">res/drawable-xhdpi-v4/attach_video_pressed.png</drawable>
-    <drawable name="attach_video_pressed">res/drawable-xxhdpi-v4/attach_video_pressed.png</drawable>
-    <drawable name="attach_video_states">res/drawable/attach_video_states.xml</drawable>
-    <drawable name="audiosend_pause">res/drawable-mdpi-v4/audiosend_pause.png</drawable>
-    <drawable name="audiosend_pause">res/drawable-hdpi-v4/audiosend_pause.png</drawable>
-    <drawable name="audiosend_pause">res/drawable-xhdpi-v4/audiosend_pause.png</drawable>
-    <drawable name="audiosend_pause">res/drawable-xxhdpi-v4/audiosend_pause.png</drawable>
-    <drawable name="audiosend_play">res/drawable-mdpi-v4/audiosend_play.png</drawable>
-    <drawable name="audiosend_play">res/drawable-hdpi-v4/audiosend_play.png</drawable>
-    <drawable name="audiosend_play">res/drawable-xhdpi-v4/audiosend_play.png</drawable>
-    <drawable name="audiosend_play">res/drawable-xxhdpi-v4/audiosend_play.png</drawable>
-    <drawable name="background_hd">res/drawable-mdpi-v4/background_hd.jpg</drawable>
-    <drawable name="background_hd">res/drawable-hdpi-v4/background_hd.jpg</drawable>
-    <drawable name="background_hd">res/drawable-xhdpi-v4/background_hd.jpg</drawable>
-    <drawable name="background_hd">res/drawable-xxhdpi-v4/background_hd.jpg</drawable>
-    <drawable name="bar_selector_lock">res/drawable/bar_selector_lock.xml</drawable>
-    <drawable name="bar_selector_lock">res/drawable-v21/bar_selector_lock.xml</drawable>
-    <drawable name="bar_selector_style">res/drawable/bar_selector_style.xml</drawable>
-    <drawable name="bar_selector_style">res/drawable-v21/bar_selector_style.xml</drawable>
-    <drawable name="bar_selector_white">res/drawable/bar_selector_white.xml</drawable>
-    <drawable name="bar_selector_white">res/drawable-v21/bar_selector_white.xml</drawable>
-    <drawable name="bg_voip_icon_btn">res/drawable/bg_voip_icon_btn.xml</drawable>
-    <drawable name="blockpanel">res/drawable-mdpi-v4/blockpanel.png</drawable>
-    <drawable name="blockpanel">res/drawable-hdpi-v4/blockpanel.png</drawable>
-    <drawable name="blockpanel">res/drawable-xhdpi-v4/blockpanel.png</drawable>
-    <drawable name="blockpanel">res/drawable-xxhdpi-v4/blockpanel.png</drawable>
-    <drawable name="bluecounter">res/drawable-mdpi-v4/bluecounter.9.png</drawable>
-    <drawable name="bluecounter">res/drawable-hdpi-v4/bluecounter.9.png</drawable>
-    <drawable name="bluecounter">res/drawable-xhdpi-v4/bluecounter.9.png</drawable>
-    <drawable name="bluecounter">res/drawable-xxhdpi-v4/bluecounter.9.png</drawable>
-    <drawable name="blur_linear">res/drawable-mdpi-v4/blur_linear.png</drawable>
-    <drawable name="blur_linear">res/drawable-hdpi-v4/blur_linear.png</drawable>
-    <drawable name="blur_linear">res/drawable-xhdpi-v4/blur_linear.png</drawable>
-    <drawable name="blur_linear">res/drawable-xxhdpi-v4/blur_linear.png</drawable>
-    <drawable name="blur_linear_active">res/drawable-mdpi-v4/blur_linear_active.png</drawable>
-    <drawable name="blur_linear_active">res/drawable-hdpi-v4/blur_linear_active.png</drawable>
-    <drawable name="blur_linear_active">res/drawable-xhdpi-v4/blur_linear_active.png</drawable>
-    <drawable name="blur_linear_active">res/drawable-xxhdpi-v4/blur_linear_active.png</drawable>
-    <drawable name="blur_off">res/drawable-mdpi-v4/blur_off.png</drawable>
-    <drawable name="blur_off">res/drawable-hdpi-v4/blur_off.png</drawable>
-    <drawable name="blur_off">res/drawable-xhdpi-v4/blur_off.png</drawable>
-    <drawable name="blur_off">res/drawable-xxhdpi-v4/blur_off.png</drawable>
-    <drawable name="blur_off_active">res/drawable-mdpi-v4/blur_off_active.png</drawable>
-    <drawable name="blur_off_active">res/drawable-hdpi-v4/blur_off_active.png</drawable>
-    <drawable name="blur_off_active">res/drawable-xhdpi-v4/blur_off_active.png</drawable>
-    <drawable name="blur_off_active">res/drawable-xxhdpi-v4/blur_off_active.png</drawable>
-    <drawable name="blur_radial">res/drawable-mdpi-v4/blur_radial.png</drawable>
-    <drawable name="blur_radial">res/drawable-hdpi-v4/blur_radial.png</drawable>
-    <drawable name="blur_radial">res/drawable-xhdpi-v4/blur_radial.png</drawable>
-    <drawable name="blur_radial">res/drawable-xxhdpi-v4/blur_radial.png</drawable>
-    <drawable name="blur_radial_active">res/drawable-mdpi-v4/blur_radial_active.png</drawable>
-    <drawable name="blur_radial_active">res/drawable-hdpi-v4/blur_radial_active.png</drawable>
-    <drawable name="blur_radial_active">res/drawable-xhdpi-v4/blur_radial_active.png</drawable>
-    <drawable name="blur_radial_active">res/drawable-xxhdpi-v4/blur_radial_active.png</drawable>
-    <drawable name="boog_group">res/drawable-mdpi-v4/boog_group.png</drawable>
-    <drawable name="book_bot">res/drawable-mdpi-v4/book_bot.png</drawable>
-    <drawable name="book_bot">res/drawable-hdpi-v4/book_bot.png</drawable>
-    <drawable name="book_bot">res/drawable-xhdpi-v4/book_bot.png</drawable>
-    <drawable name="book_bot">res/drawable-xxhdpi-v4/book_bot.png</drawable>
-    <drawable name="book_channel">res/drawable-mdpi-v4/book_channel.png</drawable>
-    <drawable name="book_channel">res/drawable-hdpi-v4/book_channel.png</drawable>
-    <drawable name="book_channel">res/drawable-xhdpi-v4/book_channel.png</drawable>
-    <drawable name="book_channel">res/drawable-xxhdpi-v4/book_channel.png</drawable>
-    <drawable name="book_group">res/drawable-hdpi-v4/book_group.png</drawable>
-    <drawable name="book_group">res/drawable-xhdpi-v4/book_group.png</drawable>
-    <drawable name="book_group">res/drawable-xxhdpi-v4/book_group.png</drawable>
-    <drawable name="book_logo">res/drawable-mdpi-v4/book_logo.png</drawable>
-    <drawable name="book_logo">res/drawable-hdpi-v4/book_logo.png</drawable>
-    <drawable name="book_logo">res/drawable-xhdpi-v4/book_logo.png</drawable>
-    <drawable name="book_logo">res/drawable-xxhdpi-v4/book_logo.png</drawable>
-    <drawable name="book_logo">res/drawable-xxxhdpi-v4/book_logo.png</drawable>
-    <drawable name="book_user">res/drawable-mdpi-v4/book_user.png</drawable>
-    <drawable name="book_user">res/drawable-hdpi-v4/book_user.png</drawable>
-    <drawable name="book_user">res/drawable-xhdpi-v4/book_user.png</drawable>
-    <drawable name="book_user">res/drawable-xxhdpi-v4/book_user.png</drawable>
-    <drawable name="bot_file">res/drawable-mdpi-v4/bot_file.png</drawable>
-    <drawable name="bot_file">res/drawable-hdpi-v4/bot_file.png</drawable>
-    <drawable name="bot_file">res/drawable-xhdpi-v4/bot_file.png</drawable>
-    <drawable name="bot_file">res/drawable-xxhdpi-v4/bot_file.png</drawable>
-    <drawable name="bot_keyboard">res/drawable-mdpi-v4/bot_keyboard.png</drawable>
-    <drawable name="bot_keyboard">res/drawable-hdpi-v4/bot_keyboard.png</drawable>
-    <drawable name="bot_keyboard">res/drawable-xhdpi-v4/bot_keyboard.png</drawable>
-    <drawable name="bot_keyboard">res/drawable-xxhdpi-v4/bot_keyboard.png</drawable>
-    <drawable name="bot_keyboard2">res/drawable-mdpi-v4/bot_keyboard2.png</drawable>
-    <drawable name="bot_keyboard2">res/drawable-hdpi-v4/bot_keyboard2.png</drawable>
-    <drawable name="bot_keyboard2">res/drawable-xhdpi-v4/bot_keyboard2.png</drawable>
-    <drawable name="bot_keyboard2">res/drawable-xxhdpi-v4/bot_keyboard2.png</drawable>
-    <drawable name="bot_lines">res/drawable-mdpi-v4/bot_lines.png</drawable>
-    <drawable name="bot_lines">res/drawable-hdpi-v4/bot_lines.png</drawable>
-    <drawable name="bot_lines">res/drawable-xhdpi-v4/bot_lines.png</drawable>
-    <drawable name="bot_lines">res/drawable-xxhdpi-v4/bot_lines.png</drawable>
-    <drawable name="bot_link">res/drawable-mdpi-v4/bot_link.png</drawable>
-    <drawable name="bot_link">res/drawable-hdpi-v4/bot_link.png</drawable>
-    <drawable name="bot_link">res/drawable-xhdpi-v4/bot_link.png</drawable>
-    <drawable name="bot_link">res/drawable-xxhdpi-v4/bot_link.png</drawable>
-    <drawable name="bot_location">res/drawable-mdpi-v4/bot_location.png</drawable>
-    <drawable name="bot_location">res/drawable-hdpi-v4/bot_location.png</drawable>
-    <drawable name="bot_location">res/drawable-xhdpi-v4/bot_location.png</drawable>
-    <drawable name="bot_location">res/drawable-xxhdpi-v4/bot_location.png</drawable>
-    <drawable name="bot_music">res/drawable-mdpi-v4/bot_music.png</drawable>
-    <drawable name="bot_music">res/drawable-hdpi-v4/bot_music.png</drawable>
-    <drawable name="bot_music">res/drawable-xhdpi-v4/bot_music.png</drawable>
-    <drawable name="bot_music">res/drawable-xxhdpi-v4/bot_music.png</drawable>
-    <drawable name="bottom_shadow">res/drawable-mdpi-v4/bottom_shadow.png</drawable>
-    <drawable name="bottom_shadow">res/drawable-hdpi-v4/bottom_shadow.png</drawable>
-    <drawable name="bottom_shadow">res/drawable-xhdpi-v4/bottom_shadow.png</drawable>
-    <drawable name="bottom_shadow">res/drawable-xxhdpi-v4/bottom_shadow.png</drawable>
-    <drawable name="boxshadow">res/drawable-mdpi-v4/boxshadow.9.png</drawable>
-    <drawable name="boxshadow">res/drawable-hdpi-v4/boxshadow.9.png</drawable>
-    <drawable name="boxshadow">res/drawable-xhdpi-v4/boxshadow.9.png</drawable>
-    <drawable name="boxshadow">res/drawable-xxhdpi-v4/boxshadow.9.png</drawable>
-    <drawable name="broadcast3">res/drawable-mdpi-v4/broadcast3.png</drawable>
-    <drawable name="broadcast3">res/drawable-hdpi-v4/broadcast3.png</drawable>
-    <drawable name="broadcast3">res/drawable-xhdpi-v4/broadcast3.png</drawable>
-    <drawable name="broadcast3">res/drawable-xxhdpi-v4/broadcast3.png</drawable>
-    <drawable name="broadcast_w">res/drawable-mdpi-v4/broadcast_w.png</drawable>
-    <drawable name="broadcast_w">res/drawable-hdpi-v4/broadcast_w.png</drawable>
-    <drawable name="broadcast_w">res/drawable-xhdpi-v4/broadcast_w.png</drawable>
-    <drawable name="broadcast_w">res/drawable-xxhdpi-v4/broadcast_w.png</drawable>
-    <drawable name="btn_send_location_down">res/drawable-mdpi-v4/btn_send_location_down.9.png</drawable>
-    <drawable name="btn_send_location_down">res/drawable-hdpi-v4/btn_send_location_down.9.png</drawable>
-    <drawable name="btn_send_location_down">res/drawable-xhdpi-v4/btn_send_location_down.9.png</drawable>
-    <drawable name="btn_send_location_down">res/drawable-xxhdpi-v4/btn_send_location_down.9.png</drawable>
-    <drawable name="btn_send_location_up">res/drawable-mdpi-v4/btn_send_location_up.9.png</drawable>
-    <drawable name="btn_send_location_up">res/drawable-hdpi-v4/btn_send_location_up.9.png</drawable>
-    <drawable name="btn_send_location_up">res/drawable-xhdpi-v4/btn_send_location_up.9.png</drawable>
-    <drawable name="btn_send_location_up">res/drawable-xxhdpi-v4/btn_send_location_up.9.png</drawable>
-    <drawable name="btnshadow">res/drawable-mdpi-v4/btnshadow.9.png</drawable>
-    <drawable name="btnshadow">res/drawable-hdpi-v4/btnshadow.9.png</drawable>
-    <drawable name="btnshadow">res/drawable-xhdpi-v4/btnshadow.9.png</drawable>
-    <drawable name="btnshadow">res/drawable-xxhdpi-v4/btnshadow.9.png</drawable>
-    <drawable name="burn">res/drawable-mdpi-v4/burn.png</drawable>
-    <drawable name="burn">res/drawable-hdpi-v4/burn.png</drawable>
-    <drawable name="burn">res/drawable-xhdpi-v4/burn.png</drawable>
-    <drawable name="burn">res/drawable-xxhdpi-v4/burn.png</drawable>
-    <drawable name="camera_btn">res/drawable-mdpi-v4/camera_btn.png</drawable>
-    <drawable name="camera_btn">res/drawable-hdpi-v4/camera_btn.png</drawable>
-    <drawable name="camera_btn">res/drawable-xhdpi-v4/camera_btn.png</drawable>
-    <drawable name="camera_btn">res/drawable-xxhdpi-v4/camera_btn.png</drawable>
-    <drawable name="camera_revert1">res/drawable-mdpi-v4/camera_revert1.png</drawable>
-    <drawable name="camera_revert1">res/drawable-hdpi-v4/camera_revert1.png</drawable>
-    <drawable name="camera_revert1">res/drawable-xhdpi-v4/camera_revert1.png</drawable>
-    <drawable name="camera_revert1">res/drawable-xxhdpi-v4/camera_revert1.png</drawable>
-    <drawable name="camera_revert2">res/drawable-mdpi-v4/camera_revert2.png</drawable>
-    <drawable name="camera_revert2">res/drawable-hdpi-v4/camera_revert2.png</drawable>
-    <drawable name="camera_revert2">res/drawable-xhdpi-v4/camera_revert2.png</drawable>
-    <drawable name="camera_revert2">res/drawable-xxhdpi-v4/camera_revert2.png</drawable>
-    <drawable name="cancel_big">res/drawable-mdpi-v4/cancel_big.png</drawable>
-    <drawable name="cancel_big">res/drawable-hdpi-v4/cancel_big.png</drawable>
-    <drawable name="cancel_big">res/drawable-xhdpi-v4/cancel_big.png</drawable>
-    <drawable name="cancel_big">res/drawable-xxhdpi-v4/cancel_big.png</drawable>
-    <drawable name="catstile">res/drawable/catstile.jpg</drawable>
-    <drawable name="channelintro">res/drawable-mdpi-v4/channelintro.png</drawable>
-    <drawable name="channelintro">res/drawable-hdpi-v4/channelintro.png</drawable>
-    <drawable name="channelintro">res/drawable-xhdpi-v4/channelintro.png</drawable>
-    <drawable name="channelintro">res/drawable-xxhdpi-v4/channelintro.png</drawable>
-    <drawable name="chats_clear">res/drawable-mdpi-v4/chats_clear.png</drawable>
-    <drawable name="chats_clear">res/drawable-hdpi-v4/chats_clear.png</drawable>
-    <drawable name="chats_clear">res/drawable-xhdpi-v4/chats_clear.png</drawable>
-    <drawable name="chats_clear">res/drawable-xxhdpi-v4/chats_clear.png</drawable>
-    <drawable name="chats_delete">res/drawable-mdpi-v4/chats_delete.png</drawable>
-    <drawable name="chats_delete">res/drawable-hdpi-v4/chats_delete.png</drawable>
-    <drawable name="chats_delete">res/drawable-xhdpi-v4/chats_delete.png</drawable>
-    <drawable name="chats_delete">res/drawable-xxhdpi-v4/chats_delete.png</drawable>
-    <drawable name="chats_favs">res/drawable-mdpi-v4/chats_favs.png</drawable>
-    <drawable name="chats_favs">res/drawable-hdpi-v4/chats_favs.png</drawable>
-    <drawable name="chats_favs">res/drawable-xhdpi-v4/chats_favs.png</drawable>
-    <drawable name="chats_favs">res/drawable-xxhdpi-v4/chats_favs.png</drawable>
-    <drawable name="chats_leave">res/drawable-mdpi-v4/chats_leave.png</drawable>
-    <drawable name="chats_leave">res/drawable-hdpi-v4/chats_leave.png</drawable>
-    <drawable name="chats_leave">res/drawable-xhdpi-v4/chats_leave.png</drawable>
-    <drawable name="chats_leave">res/drawable-xxhdpi-v4/chats_leave.png</drawable>
-    <drawable name="chats_mute">res/drawable-mdpi-v4/chats_mute.png</drawable>
-    <drawable name="chats_mute">res/drawable-hdpi-v4/chats_mute.png</drawable>
-    <drawable name="chats_mute">res/drawable-xhdpi-v4/chats_mute.png</drawable>
-    <drawable name="chats_mute">res/drawable-xxhdpi-v4/chats_mute.png</drawable>
-    <drawable name="chats_nofavs">res/drawable-mdpi-v4/chats_nofavs.png</drawable>
-    <drawable name="chats_nofavs">res/drawable-hdpi-v4/chats_nofavs.png</drawable>
-    <drawable name="chats_nofavs">res/drawable-xhdpi-v4/chats_nofavs.png</drawable>
-    <drawable name="chats_nofavs">res/drawable-xxhdpi-v4/chats_nofavs.png</drawable>
-    <drawable name="chats_pin">res/drawable-mdpi-v4/chats_pin.png</drawable>
-    <drawable name="chats_pin">res/drawable-hdpi-v4/chats_pin.png</drawable>
-    <drawable name="chats_pin">res/drawable-xhdpi-v4/chats_pin.png</drawable>
-    <drawable name="chats_pin">res/drawable-xxhdpi-v4/chats_pin.png</drawable>
-    <drawable name="chats_read">res/drawable-mdpi-v4/chats_read.png</drawable>
-    <drawable name="chats_read">res/drawable-hdpi-v4/chats_read.png</drawable>
-    <drawable name="chats_read">res/drawable-xhdpi-v4/chats_read.png</drawable>
-    <drawable name="chats_read">res/drawable-xxhdpi-v4/chats_read.png</drawable>
-    <drawable name="chats_shortcut">res/drawable-mdpi-v4/chats_shortcut.png</drawable>
-    <drawable name="chats_shortcut">res/drawable-hdpi-v4/chats_shortcut.png</drawable>
-    <drawable name="chats_shortcut">res/drawable-xhdpi-v4/chats_shortcut.png</drawable>
-    <drawable name="chats_shortcut">res/drawable-xxhdpi-v4/chats_shortcut.png</drawable>
-    <drawable name="chats_unmute">res/drawable-mdpi-v4/chats_unmute.png</drawable>
-    <drawable name="chats_unmute">res/drawable-hdpi-v4/chats_unmute.png</drawable>
-    <drawable name="chats_unmute">res/drawable-xhdpi-v4/chats_unmute.png</drawable>
-    <drawable name="chats_unmute">res/drawable-xxhdpi-v4/chats_unmute.png</drawable>
-    <drawable name="chats_unpin">res/drawable-mdpi-v4/chats_unpin.png</drawable>
-    <drawable name="chats_unpin">res/drawable-hdpi-v4/chats_unpin.png</drawable>
-    <drawable name="chats_unpin">res/drawable-xhdpi-v4/chats_unpin.png</drawable>
-    <drawable name="chats_unpin">res/drawable-xxhdpi-v4/chats_unpin.png</drawable>
-    <drawable name="chats_unread">res/drawable-mdpi-v4/chats_unread.png</drawable>
-    <drawable name="chats_unread">res/drawable-hdpi-v4/chats_unread.png</drawable>
-    <drawable name="chats_unread">res/drawable-xhdpi-v4/chats_unread.png</drawable>
-    <drawable name="chats_unread">res/drawable-xxhdpi-v4/chats_unread.png</drawable>
-    <drawable name="checkbig">res/drawable-mdpi-v4/checkbig.png</drawable>
-    <drawable name="checkbig">res/drawable-hdpi-v4/checkbig.png</drawable>
-    <drawable name="checkbig">res/drawable-xhdpi-v4/checkbig.png</drawable>
-    <drawable name="checkbig">res/drawable-xxhdpi-v4/checkbig.png</drawable>
-    <drawable name="circle">res/drawable-mdpi-v4/circle.png</drawable>
-    <drawable name="circle">res/drawable-hdpi-v4/circle.png</drawable>
-    <drawable name="circle">res/drawable-xhdpi-v4/circle.png</drawable>
-    <drawable name="circle">res/drawable-xxhdpi-v4/circle.png</drawable>
-    <drawable name="circle1">res/drawable-mdpi-v4/circle1.png</drawable>
-    <drawable name="circle1">res/drawable-hdpi-v4/circle1.png</drawable>
-    <drawable name="circle1">res/drawable-xhdpi-v4/circle1.png</drawable>
-    <drawable name="circle1">res/drawable-xxhdpi-v4/circle1.png</drawable>
-    <drawable name="circle_big">res/drawable-mdpi-v4/circle_big.png</drawable>
-    <drawable name="circle_big">res/drawable-hdpi-v4/circle_big.png</drawable>
-    <drawable name="circle_big">res/drawable-xhdpi-v4/circle_big.png</drawable>
-    <drawable name="circle_big">res/drawable-xxhdpi-v4/circle_big.png</drawable>
-    <drawable name="cloud">res/drawable-mdpi-v4/cloud.png</drawable>
-    <drawable name="cloud">res/drawable-hdpi-v4/cloud.png</drawable>
-    <drawable name="cloud">res/drawable-xhdpi-v4/cloud.png</drawable>
-    <drawable name="cloud">res/drawable-xxhdpi-v4/cloud.png</drawable>
-    <drawable name="cloud_big">res/drawable-mdpi-v4/cloud_big.png</drawable>
-    <drawable name="cloud_big">res/drawable-hdpi-v4/cloud_big.png</drawable>
-    <drawable name="cloud_big">res/drawable-xhdpi-v4/cloud_big.png</drawable>
-    <drawable name="cloud_big">res/drawable-xxhdpi-v4/cloud_big.png</drawable>
-    <drawable name="color_hue">res/drawable-hdpi-v4/color_hue.png</drawable>
-    <drawable name="color_seekselector">res/drawable-hdpi-v4/color_seekselector.png</drawable>
-    <drawable name="color_selector">res/drawable-hdpi-v4/color_selector.png</drawable>
-    <drawable name="common_full_open_on_phone">res/drawable-hdpi-v4/common_full_open_on_phone.png</drawable>
-    <drawable name="common_full_open_on_phone">res/drawable-xhdpi-v4/common_full_open_on_phone.png</drawable>
-    <drawable name="common_google_signin_btn_icon_dark">res/drawable/common_google_signin_btn_icon_dark.xml</drawable>
-    <drawable name="common_google_signin_btn_icon_dark_focused">res/drawable/common_google_signin_btn_icon_dark_focused.xml</drawable>
-    <drawable name="common_google_signin_btn_icon_dark_normal">res/drawable/common_google_signin_btn_icon_dark_normal.xml</drawable>
-    <drawable name="common_google_signin_btn_icon_dark_normal_background">res/drawable-mdpi-v4/common_google_signin_btn_icon_dark_normal_background.9.png</drawable>
-    <drawable name="common_google_signin_btn_icon_dark_normal_background">res/drawable-hdpi-v4/common_google_signin_btn_icon_dark_normal_background.9.png</drawable>
-    <drawable name="common_google_signin_btn_icon_dark_normal_background">res/drawable-xhdpi-v4/common_google_signin_btn_icon_dark_normal_background.9.png</drawable>
-    <drawable name="common_google_signin_btn_icon_dark_normal_background">res/drawable-xxhdpi-v4/common_google_signin_btn_icon_dark_normal_background.9.png</drawable>
-    <drawable name="common_google_signin_btn_icon_disabled">res/drawable/common_google_signin_btn_icon_disabled.xml</drawable>
-    <drawable name="common_google_signin_btn_icon_light">res/drawable/common_google_signin_btn_icon_light.xml</drawable>
-    <drawable name="common_google_signin_btn_icon_light_focused">res/drawable/common_google_signin_btn_icon_light_focused.xml</drawable>
-    <drawable name="common_google_signin_btn_icon_light_normal">res/drawable/common_google_signin_btn_icon_light_normal.xml</drawable>
-    <drawable name="common_google_signin_btn_icon_light_normal_background">res/drawable-mdpi-v4/common_google_signin_btn_icon_light_normal_background.9.png</drawable>
-    <drawable name="common_google_signin_btn_icon_light_normal_background">res/drawable-hdpi-v4/common_google_signin_btn_icon_light_normal_background.9.png</drawable>
-    <drawable name="common_google_signin_btn_icon_light_normal_background">res/drawable-xhdpi-v4/common_google_signin_btn_icon_light_normal_background.9.png</drawable>
-    <drawable name="common_google_signin_btn_icon_light_normal_background">res/drawable-xxhdpi-v4/common_google_signin_btn_icon_light_normal_background.9.png</drawable>
-    <drawable name="common_google_signin_btn_text_dark">res/drawable/common_google_signin_btn_text_dark.xml</drawable>
-    <drawable name="common_google_signin_btn_text_dark_focused">res/drawable/common_google_signin_btn_text_dark_focused.xml</drawable>
-    <drawable name="common_google_signin_btn_text_dark_normal">res/drawable/common_google_signin_btn_text_dark_normal.xml</drawable>
-    <drawable name="common_google_signin_btn_text_dark_normal_background">res/drawable-mdpi-v4/common_google_signin_btn_text_dark_normal_background.9.png</drawable>
-    <drawable name="common_google_signin_btn_text_dark_normal_background">res/drawable-hdpi-v4/common_google_signin_btn_text_dark_normal_background.9.png</drawable>
-    <drawable name="common_google_signin_btn_text_dark_normal_background">res/drawable-xhdpi-v4/common_google_signin_btn_text_dark_normal_background.9.png</drawable>
-    <drawable name="common_google_signin_btn_text_dark_normal_background">res/drawable-xxhdpi-v4/common_google_signin_btn_text_dark_normal_background.9.png</drawable>
-    <drawable name="common_google_signin_btn_text_disabled">res/drawable/common_google_signin_btn_text_disabled.xml</drawable>
-    <drawable name="common_google_signin_btn_text_light">res/drawable/common_google_signin_btn_text_light.xml</drawable>
-    <drawable name="common_google_signin_btn_text_light_focused">res/drawable/common_google_signin_btn_text_light_focused.xml</drawable>
-    <drawable name="common_google_signin_btn_text_light_normal">res/drawable/common_google_signin_btn_text_light_normal.xml</drawable>
-    <drawable name="common_google_signin_btn_text_light_normal_background">res/drawable-mdpi-v4/common_google_signin_btn_text_light_normal_background.9.png</drawable>
-    <drawable name="common_google_signin_btn_text_light_normal_background">res/drawable-hdpi-v4/common_google_signin_btn_text_light_normal_background.9.png</drawable>
-    <drawable name="common_google_signin_btn_text_light_normal_background">res/drawable-xhdpi-v4/common_google_signin_btn_text_light_normal_background.9.png</drawable>
-    <drawable name="common_google_signin_btn_text_light_normal_background">res/drawable-xxhdpi-v4/common_google_signin_btn_text_light_normal_background.9.png</drawable>
-    <drawable name="compose_panel_shadow">res/drawable-mdpi-v4/compose_panel_shadow.png</drawable>
-    <drawable name="compose_panel_shadow">res/drawable-hdpi-v4/compose_panel_shadow.png</drawable>
-    <drawable name="compose_panel_shadow">res/drawable-xhdpi-v4/compose_panel_shadow.png</drawable>
-    <drawable name="compose_panel_shadow">res/drawable-xxhdpi-v4/compose_panel_shadow.png</drawable>
-    <drawable name="corner_in_bl">res/drawable-mdpi-v4/corner_in_bl.png</drawable>
-    <drawable name="corner_in_bl">res/drawable-hdpi-v4/corner_in_bl.png</drawable>
-    <drawable name="corner_in_bl">res/drawable-xhdpi-v4/corner_in_bl.png</drawable>
-    <drawable name="corner_in_bl">res/drawable-xxhdpi-v4/corner_in_bl.png</drawable>
-    <drawable name="corner_in_br">res/drawable-mdpi-v4/corner_in_br.png</drawable>
-    <drawable name="corner_in_br">res/drawable-hdpi-v4/corner_in_br.png</drawable>
-    <drawable name="corner_in_br">res/drawable-xhdpi-v4/corner_in_br.png</drawable>
-    <drawable name="corner_in_br">res/drawable-xxhdpi-v4/corner_in_br.png</drawable>
-    <drawable name="corner_in_tl">res/drawable-mdpi-v4/corner_in_tl.png</drawable>
-    <drawable name="corner_in_tl">res/drawable-hdpi-v4/corner_in_tl.png</drawable>
-    <drawable name="corner_in_tl">res/drawable-xhdpi-v4/corner_in_tl.png</drawable>
-    <drawable name="corner_in_tl">res/drawable-xxhdpi-v4/corner_in_tl.png</drawable>
-    <drawable name="corner_in_tr">res/drawable-mdpi-v4/corner_in_tr.png</drawable>
-    <drawable name="corner_in_tr">res/drawable-hdpi-v4/corner_in_tr.png</drawable>
-    <drawable name="corner_in_tr">res/drawable-xhdpi-v4/corner_in_tr.png</drawable>
-    <drawable name="corner_in_tr">res/drawable-xxhdpi-v4/corner_in_tr.png</drawable>
-    <drawable name="corner_out_bl">res/drawable-mdpi-v4/corner_out_bl.png</drawable>
-    <drawable name="corner_out_bl">res/drawable-hdpi-v4/corner_out_bl.png</drawable>
-    <drawable name="corner_out_bl">res/drawable-xhdpi-v4/corner_out_bl.png</drawable>
-    <drawable name="corner_out_bl">res/drawable-xxhdpi-v4/corner_out_bl.png</drawable>
-    <drawable name="corner_out_br">res/drawable-mdpi-v4/corner_out_br.png</drawable>
-    <drawable name="corner_out_br">res/drawable-hdpi-v4/corner_out_br.png</drawable>
-    <drawable name="corner_out_br">res/drawable-xhdpi-v4/corner_out_br.png</drawable>
-    <drawable name="corner_out_br">res/drawable-xxhdpi-v4/corner_out_br.png</drawable>
-    <drawable name="corner_out_tl">res/drawable-mdpi-v4/corner_out_tl.png</drawable>
-    <drawable name="corner_out_tl">res/drawable-hdpi-v4/corner_out_tl.png</drawable>
-    <drawable name="corner_out_tl">res/drawable-xhdpi-v4/corner_out_tl.png</drawable>
-    <drawable name="corner_out_tl">res/drawable-xxhdpi-v4/corner_out_tl.png</drawable>
-    <drawable name="corner_out_tr">res/drawable-mdpi-v4/corner_out_tr.png</drawable>
-    <drawable name="corner_out_tr">res/drawable-hdpi-v4/corner_out_tr.png</drawable>
-    <drawable name="corner_out_tr">res/drawable-xhdpi-v4/corner_out_tr.png</drawable>
-    <drawable name="corner_out_tr">res/drawable-xxhdpi-v4/corner_out_tr.png</drawable>
-    <drawable name="delete">res/drawable-mdpi-v4/delete.png</drawable>
-    <drawable name="delete">res/drawable-hdpi-v4/delete.png</drawable>
-    <drawable name="delete">res/drawable-xhdpi-v4/delete.png</drawable>
-    <drawable name="delete">res/drawable-xxhdpi-v4/delete.png</drawable>
-    <drawable name="devices">res/drawable-mdpi-v4/devices.png</drawable>
-    <drawable name="devices">res/drawable-hdpi-v4/devices.png</drawable>
-    <drawable name="devices">res/drawable-xhdpi-v4/devices.png</drawable>
-    <drawable name="devices">res/drawable-xxhdpi-v4/devices.png</drawable>
-    <drawable name="dialogbg">res/drawable-hdpi-v4/dialogbg.xml</drawable>
-    <drawable name="dialogs_check_10">res/drawable-mdpi-v4/dialogs_check_10.png</drawable>
-    <drawable name="dialogs_check_10">res/drawable-hdpi-v4/dialogs_check_10.png</drawable>
-    <drawable name="dialogs_check_10">res/drawable-xhdpi-v4/dialogs_check_10.png</drawable>
-    <drawable name="dialogs_check_10">res/drawable-xxhdpi-v4/dialogs_check_10.png</drawable>
-    <drawable name="dialogs_check_11">res/drawable-mdpi-v4/dialogs_check_11.png</drawable>
-    <drawable name="dialogs_check_11">res/drawable-hdpi-v4/dialogs_check_11.png</drawable>
-    <drawable name="dialogs_check_11">res/drawable-xhdpi-v4/dialogs_check_11.png</drawable>
-    <drawable name="dialogs_check_11">res/drawable-xxhdpi-v4/dialogs_check_11.png</drawable>
-    <drawable name="dialogs_check_12">res/drawable-mdpi-v4/dialogs_check_12.png</drawable>
-    <drawable name="dialogs_check_12">res/drawable-hdpi-v4/dialogs_check_12.png</drawable>
-    <drawable name="dialogs_check_12">res/drawable-xhdpi-v4/dialogs_check_12.png</drawable>
-    <drawable name="dialogs_check_12">res/drawable-xxhdpi-v4/dialogs_check_12.png</drawable>
-    <drawable name="dialogs_check_2">res/drawable-mdpi-v4/dialogs_check_2.png</drawable>
-    <drawable name="dialogs_check_2">res/drawable-hdpi-v4/dialogs_check_2.png</drawable>
-    <drawable name="dialogs_check_2">res/drawable-xhdpi-v4/dialogs_check_2.png</drawable>
-    <drawable name="dialogs_check_2">res/drawable-xxhdpi-v4/dialogs_check_2.png</drawable>
-    <drawable name="dialogs_check_3">res/drawable-mdpi-v4/dialogs_check_3.png</drawable>
-    <drawable name="dialogs_check_3">res/drawable-hdpi-v4/dialogs_check_3.png</drawable>
-    <drawable name="dialogs_check_3">res/drawable-xhdpi-v4/dialogs_check_3.png</drawable>
-    <drawable name="dialogs_check_3">res/drawable-xxhdpi-v4/dialogs_check_3.png</drawable>
-    <drawable name="dialogs_check_4">res/drawable-mdpi-v4/dialogs_check_4.png</drawable>
-    <drawable name="dialogs_check_4">res/drawable-hdpi-v4/dialogs_check_4.png</drawable>
-    <drawable name="dialogs_check_4">res/drawable-xhdpi-v4/dialogs_check_4.png</drawable>
-    <drawable name="dialogs_check_4">res/drawable-xxhdpi-v4/dialogs_check_4.png</drawable>
-    <drawable name="dialogs_check_5">res/drawable-mdpi-v4/dialogs_check_5.png</drawable>
-    <drawable name="dialogs_check_5">res/drawable-hdpi-v4/dialogs_check_5.png</drawable>
-    <drawable name="dialogs_check_5">res/drawable-xhdpi-v4/dialogs_check_5.png</drawable>
-    <drawable name="dialogs_check_5">res/drawable-xxhdpi-v4/dialogs_check_5.png</drawable>
-    <drawable name="dialogs_check_6">res/drawable-mdpi-v4/dialogs_check_6.png</drawable>
-    <drawable name="dialogs_check_6">res/drawable-hdpi-v4/dialogs_check_6.png</drawable>
-    <drawable name="dialogs_check_6">res/drawable-xhdpi-v4/dialogs_check_6.png</drawable>
-    <drawable name="dialogs_check_6">res/drawable-xxhdpi-v4/dialogs_check_6.png</drawable>
-    <drawable name="dialogs_check_7">res/drawable-mdpi-v4/dialogs_check_7.png</drawable>
-    <drawable name="dialogs_check_7">res/drawable-hdpi-v4/dialogs_check_7.png</drawable>
-    <drawable name="dialogs_check_7">res/drawable-xhdpi-v4/dialogs_check_7.png</drawable>
-    <drawable name="dialogs_check_7">res/drawable-xxhdpi-v4/dialogs_check_7.png</drawable>
-    <drawable name="dialogs_check_8">res/drawable-mdpi-v4/dialogs_check_8.png</drawable>
-    <drawable name="dialogs_check_8">res/drawable-hdpi-v4/dialogs_check_8.png</drawable>
-    <drawable name="dialogs_check_8">res/drawable-xhdpi-v4/dialogs_check_8.png</drawable>
-    <drawable name="dialogs_check_8">res/drawable-xxhdpi-v4/dialogs_check_8.png</drawable>
-    <drawable name="dialogs_check_9">res/drawable-mdpi-v4/dialogs_check_9.png</drawable>
-    <drawable name="dialogs_check_9">res/drawable-hdpi-v4/dialogs_check_9.png</drawable>
-    <drawable name="dialogs_check_9">res/drawable-xhdpi-v4/dialogs_check_9.png</drawable>
-    <drawable name="dialogs_check_9">res/drawable-xxhdpi-v4/dialogs_check_9.png</drawable>
-    <drawable name="dialogs_halfcheck_10">res/drawable-mdpi-v4/dialogs_halfcheck_10.png</drawable>
-    <drawable name="dialogs_halfcheck_10">res/drawable-hdpi-v4/dialogs_halfcheck_10.png</drawable>
-    <drawable name="dialogs_halfcheck_10">res/drawable-xhdpi-v4/dialogs_halfcheck_10.png</drawable>
-    <drawable name="dialogs_halfcheck_10">res/drawable-xxhdpi-v4/dialogs_halfcheck_10.png</drawable>
-    <drawable name="dialogs_halfcheck_11">res/drawable-mdpi-v4/dialogs_halfcheck_11.png</drawable>
-    <drawable name="dialogs_halfcheck_11">res/drawable-hdpi-v4/dialogs_halfcheck_11.png</drawable>
-    <drawable name="dialogs_halfcheck_11">res/drawable-xhdpi-v4/dialogs_halfcheck_11.png</drawable>
-    <drawable name="dialogs_halfcheck_11">res/drawable-xxhdpi-v4/dialogs_halfcheck_11.png</drawable>
-    <drawable name="dialogs_halfcheck_12">res/drawable-mdpi-v4/dialogs_halfcheck_12.png</drawable>
-    <drawable name="dialogs_halfcheck_12">res/drawable-hdpi-v4/dialogs_halfcheck_12.png</drawable>
-    <drawable name="dialogs_halfcheck_12">res/drawable-xhdpi-v4/dialogs_halfcheck_12.png</drawable>
-    <drawable name="dialogs_halfcheck_12">res/drawable-xxhdpi-v4/dialogs_halfcheck_12.png</drawable>
-    <drawable name="dialogs_halfcheck_2">res/drawable-mdpi-v4/dialogs_halfcheck_2.png</drawable>
-    <drawable name="dialogs_halfcheck_2">res/drawable-hdpi-v4/dialogs_halfcheck_2.png</drawable>
-    <drawable name="dialogs_halfcheck_2">res/drawable-xhdpi-v4/dialogs_halfcheck_2.png</drawable>
-    <drawable name="dialogs_halfcheck_2">res/drawable-xxhdpi-v4/dialogs_halfcheck_2.png</drawable>
-    <drawable name="dialogs_halfcheck_3">res/drawable-mdpi-v4/dialogs_halfcheck_3.png</drawable>
-    <drawable name="dialogs_halfcheck_3">res/drawable-hdpi-v4/dialogs_halfcheck_3.png</drawable>
-    <drawable name="dialogs_halfcheck_3">res/drawable-xhdpi-v4/dialogs_halfcheck_3.png</drawable>
-    <drawable name="dialogs_halfcheck_3">res/drawable-xxhdpi-v4/dialogs_halfcheck_3.png</drawable>
-    <drawable name="dialogs_halfcheck_4">res/drawable-mdpi-v4/dialogs_halfcheck_4.png</drawable>
-    <drawable name="dialogs_halfcheck_4">res/drawable-hdpi-v4/dialogs_halfcheck_4.png</drawable>
-    <drawable name="dialogs_halfcheck_4">res/drawable-xhdpi-v4/dialogs_halfcheck_4.png</drawable>
-    <drawable name="dialogs_halfcheck_4">res/drawable-xxhdpi-v4/dialogs_halfcheck_4.png</drawable>
-    <drawable name="dialogs_halfcheck_5">res/drawable-mdpi-v4/dialogs_halfcheck_5.png</drawable>
-    <drawable name="dialogs_halfcheck_5">res/drawable-hdpi-v4/dialogs_halfcheck_5.png</drawable>
-    <drawable name="dialogs_halfcheck_5">res/drawable-xhdpi-v4/dialogs_halfcheck_5.png</drawable>
-    <drawable name="dialogs_halfcheck_5">res/drawable-xxhdpi-v4/dialogs_halfcheck_5.png</drawable>
-    <drawable name="dialogs_halfcheck_6">res/drawable-mdpi-v4/dialogs_halfcheck_6.png</drawable>
-    <drawable name="dialogs_halfcheck_6">res/drawable-hdpi-v4/dialogs_halfcheck_6.png</drawable>
-    <drawable name="dialogs_halfcheck_6">res/drawable-xhdpi-v4/dialogs_halfcheck_6.png</drawable>
-    <drawable name="dialogs_halfcheck_6">res/drawable-xxhdpi-v4/dialogs_halfcheck_6.png</drawable>
-    <drawable name="dialogs_halfcheck_7">res/drawable-mdpi-v4/dialogs_halfcheck_7.png</drawable>
-    <drawable name="dialogs_halfcheck_7">res/drawable-hdpi-v4/dialogs_halfcheck_7.png</drawable>
-    <drawable name="dialogs_halfcheck_7">res/drawable-xhdpi-v4/dialogs_halfcheck_7.png</drawable>
-    <drawable name="dialogs_halfcheck_7">res/drawable-xxhdpi-v4/dialogs_halfcheck_7.png</drawable>
-    <drawable name="dialogs_halfcheck_8">res/drawable-mdpi-v4/dialogs_halfcheck_8.png</drawable>
-    <drawable name="dialogs_halfcheck_8">res/drawable-hdpi-v4/dialogs_halfcheck_8.png</drawable>
-    <drawable name="dialogs_halfcheck_8">res/drawable-xhdpi-v4/dialogs_halfcheck_8.png</drawable>
-    <drawable name="dialogs_halfcheck_8">res/drawable-xxhdpi-v4/dialogs_halfcheck_8.png</drawable>
-    <drawable name="dialogs_halfcheck_9">res/drawable-mdpi-v4/dialogs_halfcheck_9.png</drawable>
-    <drawable name="dialogs_halfcheck_9">res/drawable-hdpi-v4/dialogs_halfcheck_9.png</drawable>
-    <drawable name="dialogs_halfcheck_9">res/drawable-xhdpi-v4/dialogs_halfcheck_9.png</drawable>
-    <drawable name="dialogs_halfcheck_9">res/drawable-xxhdpi-v4/dialogs_halfcheck_9.png</drawable>
-    <drawable name="doc_actions_w">res/drawable-mdpi-v4/doc_actions_w.png</drawable>
-    <drawable name="doc_actions_w">res/drawable-hdpi-v4/doc_actions_w.png</drawable>
-    <drawable name="doc_actions_w">res/drawable-xhdpi-v4/doc_actions_w.png</drawable>
-    <drawable name="doc_actions_w">res/drawable-xxhdpi-v4/doc_actions_w.png</drawable>
-    <drawable name="doc_big">res/drawable-mdpi-v4/doc_big.png</drawable>
-    <drawable name="doc_big">res/drawable-hdpi-v4/doc_big.png</drawable>
-    <drawable name="doc_big">res/drawable-xhdpi-v4/doc_big.png</drawable>
-    <drawable name="doc_big">res/drawable-xxhdpi-v4/doc_big.png</drawable>
-    <drawable name="doc_white">res/drawable-mdpi-v4/doc_white.png</drawable>
-    <drawable name="doc_white">res/drawable-hdpi-v4/doc_white.png</drawable>
-    <drawable name="doc_white">res/drawable-xhdpi-v4/doc_white.png</drawable>
-    <drawable name="doc_white">res/drawable-xxhdpi-v4/doc_white.png</drawable>
-    <drawable name="doccancel_w">res/drawable-mdpi-v4/doccancel_w.png</drawable>
-    <drawable name="doccancel_w">res/drawable-hdpi-v4/doccancel_w.png</drawable>
-    <drawable name="doccancel_w">res/drawable-xhdpi-v4/doccancel_w.png</drawable>
-    <drawable name="doccancel_w">res/drawable-xxhdpi-v4/doccancel_w.png</drawable>
-    <drawable name="docload_w">res/drawable-mdpi-v4/docload_w.png</drawable>
-    <drawable name="docload_w">res/drawable-hdpi-v4/docload_w.png</drawable>
-    <drawable name="docload_w">res/drawable-xhdpi-v4/docload_w.png</drawable>
-    <drawable name="docload_w">res/drawable-xxhdpi-v4/docload_w.png</drawable>
-    <drawable name="docpause_w">res/drawable-mdpi-v4/docpause_w.png</drawable>
-    <drawable name="docpause_w">res/drawable-hdpi-v4/docpause_w.png</drawable>
-    <drawable name="docpause_w">res/drawable-xhdpi-v4/docpause_w.png</drawable>
-    <drawable name="docpause_w">res/drawable-xxhdpi-v4/docpause_w.png</drawable>
-    <drawable name="edit_cancel">res/drawable-mdpi-v4/edit_cancel.png</drawable>
-    <drawable name="edit_cancel">res/drawable-hdpi-v4/edit_cancel.png</drawable>
-    <drawable name="edit_cancel">res/drawable-xhdpi-v4/edit_cancel.png</drawable>
-    <drawable name="edit_cancel">res/drawable-xxhdpi-v4/edit_cancel.png</drawable>
-    <drawable name="edit_done">res/drawable-mdpi-v4/edit_done.png</drawable>
-    <drawable name="edit_done">res/drawable-hdpi-v4/edit_done.png</drawable>
-    <drawable name="edit_done">res/drawable-xhdpi-v4/edit_done.png</drawable>
-    <drawable name="edit_done">res/drawable-xxhdpi-v4/edit_done.png</drawable>
-    <drawable name="fab_highlight_dark">res/drawable/fab_highlight_dark.xml</drawable>
-    <drawable name="fab_highlight_dark">res/drawable-v21/fab_highlight_dark.xml</drawable>
-    <drawable name="field_carret">res/drawable/field_carret.xml</drawable>
-    <drawable name="field_carret_empty">res/drawable/field_carret_empty.xml</drawable>
-    <drawable name="flash_auto">res/drawable-mdpi-v4/flash_auto.png</drawable>
-    <drawable name="flash_auto">res/drawable-hdpi-v4/flash_auto.png</drawable>
-    <drawable name="flash_auto">res/drawable-xhdpi-v4/flash_auto.png</drawable>
-    <drawable name="flash_auto">res/drawable-xxhdpi-v4/flash_auto.png</drawable>
-    <drawable name="flash_off">res/drawable-mdpi-v4/flash_off.png</drawable>
-    <drawable name="flash_off">res/drawable-hdpi-v4/flash_off.png</drawable>
-    <drawable name="flash_off">res/drawable-xhdpi-v4/flash_off.png</drawable>
-    <drawable name="flash_off">res/drawable-xxhdpi-v4/flash_off.png</drawable>
-    <drawable name="flash_on">res/drawable-mdpi-v4/flash_on.png</drawable>
-    <drawable name="flash_on">res/drawable-hdpi-v4/flash_on.png</drawable>
-    <drawable name="flash_on">res/drawable-xhdpi-v4/flash_on.png</drawable>
-    <drawable name="flash_on">res/drawable-xxhdpi-v4/flash_on.png</drawable>
-    <drawable name="floating_camera">res/drawable-mdpi-v4/floating_camera.png</drawable>
-    <drawable name="floating_camera">res/drawable-hdpi-v4/floating_camera.png</drawable>
-    <drawable name="floating_camera">res/drawable-xhdpi-v4/floating_camera.png</drawable>
-    <drawable name="floating_camera">res/drawable-xxhdpi-v4/floating_camera.png</drawable>
-    <drawable name="floating_message">res/drawable-mdpi-v4/floating_message.png</drawable>
-    <drawable name="floating_message">res/drawable-hdpi-v4/floating_message.png</drawable>
-    <drawable name="floating_message">res/drawable-xhdpi-v4/floating_message.png</drawable>
-    <drawable name="floating_message">res/drawable-xxhdpi-v4/floating_message.png</drawable>
-    <drawable name="floating_pencil">res/drawable-mdpi-v4/floating_pencil.png</drawable>
-    <drawable name="floating_pencil">res/drawable-hdpi-v4/floating_pencil.png</drawable>
-    <drawable name="floating_pencil">res/drawable-xhdpi-v4/floating_pencil.png</drawable>
-    <drawable name="floating_pencil">res/drawable-xxhdpi-v4/floating_pencil.png</drawable>
-    <drawable name="floating_shadow">res/drawable-mdpi-v4/floating_shadow.png</drawable>
-    <drawable name="floating_shadow">res/drawable-hdpi-v4/floating_shadow.png</drawable>
-    <drawable name="floating_shadow">res/drawable-xhdpi-v4/floating_shadow.png</drawable>
-    <drawable name="floating_shadow">res/drawable-xxhdpi-v4/floating_shadow.png</drawable>
-    <drawable name="floating_shadow_profile">res/drawable-mdpi-v4/floating_shadow_profile.png</drawable>
-    <drawable name="floating_shadow_profile">res/drawable-hdpi-v4/floating_shadow_profile.png</drawable>
-    <drawable name="floating_shadow_profile">res/drawable-xhdpi-v4/floating_shadow_profile.png</drawable>
-    <drawable name="floating_shadow_profile">res/drawable-xxhdpi-v4/floating_shadow_profile.png</drawable>
-    <drawable name="floating_white">res/drawable-mdpi-v4/floating_white.png</drawable>
-    <drawable name="floating_white">res/drawable-hdpi-v4/floating_white.png</drawable>
-    <drawable name="floating_white">res/drawable-xhdpi-v4/floating_white.png</drawable>
-    <drawable name="floating_white">res/drawable-xxhdpi-v4/floating_white.png</drawable>
-    <drawable name="foursquare">res/drawable-mdpi-v4/foursquare.png</drawable>
-    <drawable name="foursquare">res/drawable-hdpi-v4/foursquare.png</drawable>
-    <drawable name="foursquare">res/drawable-xhdpi-v4/foursquare.png</drawable>
-    <drawable name="foursquare">res/drawable-xxhdpi-v4/foursquare.png</drawable>
-    <drawable name="googleg_disabled_color_18">res/drawable-mdpi-v4/googleg_disabled_color_18.png</drawable>
-    <drawable name="googleg_disabled_color_18">res/drawable-hdpi-v4/googleg_disabled_color_18.png</drawable>
-    <drawable name="googleg_disabled_color_18">res/drawable-xhdpi-v4/googleg_disabled_color_18.png</drawable>
-    <drawable name="googleg_disabled_color_18">res/drawable-xxhdpi-v4/googleg_disabled_color_18.png</drawable>
-    <drawable name="googleg_standard_color_18">res/drawable-mdpi-v4/googleg_standard_color_18.png</drawable>
-    <drawable name="googleg_standard_color_18">res/drawable-hdpi-v4/googleg_standard_color_18.png</drawable>
-    <drawable name="googleg_standard_color_18">res/drawable-xhdpi-v4/googleg_standard_color_18.png</drawable>
-    <drawable name="googleg_standard_color_18">res/drawable-xxhdpi-v4/googleg_standard_color_18.png</drawable>
-    <drawable name="gradient_bottom">res/drawable/gradient_bottom.png</drawable>
-    <drawable name="gradient_top">res/drawable/gradient_top.png</drawable>
-    <drawable name="greydivider">res/drawable-mdpi-v4/greydivider.9.png</drawable>
-    <drawable name="greydivider">res/drawable-hdpi-v4/greydivider.9.png</drawable>
-    <drawable name="greydivider">res/drawable-xhdpi-v4/greydivider.9.png</drawable>
-    <drawable name="greydivider">res/drawable-xxhdpi-v4/greydivider.9.png</drawable>
-    <drawable name="greydivider_bottom">res/drawable-mdpi-v4/greydivider_bottom.9.png</drawable>
-    <drawable name="greydivider_bottom">res/drawable-hdpi-v4/greydivider_bottom.9.png</drawable>
-    <drawable name="greydivider_bottom">res/drawable-xhdpi-v4/greydivider_bottom.9.png</drawable>
-    <drawable name="greydivider_bottom">res/drawable-xxhdpi-v4/greydivider_bottom.9.png</drawable>
-    <drawable name="greydivider_top">res/drawable-mdpi-v4/greydivider_top.9.png</drawable>
-    <drawable name="greydivider_top">res/drawable-hdpi-v4/greydivider_top.9.png</drawable>
-    <drawable name="greydivider_top">res/drawable-xhdpi-v4/greydivider_top.9.png</drawable>
-    <drawable name="greydivider_top">res/drawable-xxhdpi-v4/greydivider_top.9.png</drawable>
-    <drawable name="header_shadow">res/drawable-mdpi-v4/header_shadow.png</drawable>
-    <drawable name="header_shadow">res/drawable-hdpi-v4/header_shadow.png</drawable>
-    <drawable name="header_shadow">res/drawable-xhdpi-v4/header_shadow.png</drawable>
-    <drawable name="header_shadow">res/drawable-xxhdpi-v4/header_shadow.png</drawable>
-    <drawable name="header_shadow_reverse">res/drawable-mdpi-v4/header_shadow_reverse.png</drawable>
-    <drawable name="header_shadow_reverse">res/drawable-hdpi-v4/header_shadow_reverse.png</drawable>
-    <drawable name="header_shadow_reverse">res/drawable-xhdpi-v4/header_shadow_reverse.png</drawable>
-    <drawable name="header_shadow_reverse">res/drawable-xxhdpi-v4/header_shadow_reverse.png</drawable>
-    <drawable name="hockeyapp_btn_background">res/drawable/hockeyapp_btn_background.xml</drawable>
-    <drawable name="ic_ab_attach">res/drawable-mdpi-v4/ic_ab_attach.png</drawable>
-    <drawable name="ic_ab_attach">res/drawable-hdpi-v4/ic_ab_attach.png</drawable>
-    <drawable name="ic_ab_attach">res/drawable-xhdpi-v4/ic_ab_attach.png</drawable>
-    <drawable name="ic_ab_attach">res/drawable-xxhdpi-v4/ic_ab_attach.png</drawable>
-    <drawable name="ic_ab_attach_white">res/drawable-mdpi-v4/ic_ab_attach_white.png</drawable>
-    <drawable name="ic_ab_attach_white">res/drawable-hdpi-v4/ic_ab_attach_white.png</drawable>
-    <drawable name="ic_ab_attach_white">res/drawable-xhdpi-v4/ic_ab_attach_white.png</drawable>
-    <drawable name="ic_ab_back">res/drawable-mdpi-v4/ic_ab_back.png</drawable>
-    <drawable name="ic_ab_back">res/drawable-hdpi-v4/ic_ab_back.png</drawable>
-    <drawable name="ic_ab_back">res/drawable-xhdpi-v4/ic_ab_back.png</drawable>
-    <drawable name="ic_ab_back">res/drawable-xxhdpi-v4/ic_ab_back.png</drawable>
-    <drawable name="ic_ab_copy">res/drawable-mdpi-v4/ic_ab_copy.png</drawable>
-    <drawable name="ic_ab_copy">res/drawable-hdpi-v4/ic_ab_copy.png</drawable>
-    <drawable name="ic_ab_copy">res/drawable-xhdpi-v4/ic_ab_copy.png</drawable>
-    <drawable name="ic_ab_copy">res/drawable-xxhdpi-v4/ic_ab_copy.png</drawable>
-    <drawable name="ic_ab_delete">res/drawable-mdpi-v4/ic_ab_delete.png</drawable>
-    <drawable name="ic_ab_delete">res/drawable-hdpi-v4/ic_ab_delete.png</drawable>
-    <drawable name="ic_ab_delete">res/drawable-xhdpi-v4/ic_ab_delete.png</drawable>
-    <drawable name="ic_ab_delete">res/drawable-xxhdpi-v4/ic_ab_delete.png</drawable>
-    <drawable name="ic_ab_done">res/drawable-mdpi-v4/ic_ab_done.png</drawable>
-    <drawable name="ic_ab_done">res/drawable-hdpi-v4/ic_ab_done.png</drawable>
-    <drawable name="ic_ab_done">res/drawable-xhdpi-v4/ic_ab_done.png</drawable>
-    <drawable name="ic_ab_done">res/drawable-xxhdpi-v4/ic_ab_done.png</drawable>
-    <drawable name="ic_ab_forward">res/drawable-mdpi-v4/ic_ab_forward.png</drawable>
-    <drawable name="ic_ab_forward">res/drawable-hdpi-v4/ic_ab_forward.png</drawable>
-    <drawable name="ic_ab_forward">res/drawable-xhdpi-v4/ic_ab_forward.png</drawable>
-    <drawable name="ic_ab_forward">res/drawable-xxhdpi-v4/ic_ab_forward.png</drawable>
-    <drawable name="ic_ab_fwd_quoteforward">res/drawable-mdpi-v4/ic_ab_fwd_quoteforward.png</drawable>
-    <drawable name="ic_ab_fwd_quoteforward">res/drawable-hdpi-v4/ic_ab_fwd_quoteforward.png</drawable>
-    <drawable name="ic_ab_fwd_quoteforward">res/drawable-xhdpi-v4/ic_ab_fwd_quoteforward.png</drawable>
-    <drawable name="ic_ab_fwd_quoteforward">res/drawable-xxhdpi-v4/ic_ab_fwd_quoteforward.png</drawable>
-    <drawable name="ic_ab_new">res/drawable-mdpi-v4/ic_ab_new.png</drawable>
-    <drawable name="ic_ab_new">res/drawable-hdpi-v4/ic_ab_new.png</drawable>
-    <drawable name="ic_ab_new">res/drawable-xhdpi-v4/ic_ab_new.png</drawable>
-    <drawable name="ic_ab_new">res/drawable-xxhdpi-v4/ic_ab_new.png</drawable>
-    <drawable name="ic_ab_other">res/drawable-mdpi-v4/ic_ab_other.png</drawable>
-    <drawable name="ic_ab_other">res/drawable-hdpi-v4/ic_ab_other.png</drawable>
-    <drawable name="ic_ab_other">res/drawable-xhdpi-v4/ic_ab_other.png</drawable>
-    <drawable name="ic_ab_other">res/drawable-xxhdpi-v4/ic_ab_other.png</drawable>
-    <drawable name="ic_ab_reply">res/drawable-mdpi-v4/ic_ab_reply.png</drawable>
-    <drawable name="ic_ab_reply">res/drawable-hdpi-v4/ic_ab_reply.png</drawable>
-    <drawable name="ic_ab_reply">res/drawable-xhdpi-v4/ic_ab_reply.png</drawable>
-    <drawable name="ic_ab_reply">res/drawable-xxhdpi-v4/ic_ab_reply.png</drawable>
-    <drawable name="ic_ab_reply2">res/drawable-mdpi-v4/ic_ab_reply2.png</drawable>
-    <drawable name="ic_ab_reply2">res/drawable-hdpi-v4/ic_ab_reply2.png</drawable>
-    <drawable name="ic_ab_reply2">res/drawable-xhdpi-v4/ic_ab_reply2.png</drawable>
-    <drawable name="ic_ab_reply2">res/drawable-xxhdpi-v4/ic_ab_reply2.png</drawable>
-    <drawable name="ic_ab_search">res/drawable-mdpi-v4/ic_ab_search.png</drawable>
-    <drawable name="ic_ab_search">res/drawable-hdpi-v4/ic_ab_search.png</drawable>
-    <drawable name="ic_ab_search">res/drawable-xhdpi-v4/ic_ab_search.png</drawable>
-    <drawable name="ic_ab_search">res/drawable-xxhdpi-v4/ic_ab_search.png</drawable>
-    <drawable name="ic_action_next">res/drawable-mdpi-v4/ic_action_next.png</drawable>
-    <drawable name="ic_action_next">res/drawable-hdpi-v4/ic_action_next.png</drawable>
-    <drawable name="ic_action_next">res/drawable-xhdpi-v4/ic_action_next.png</drawable>
-    <drawable name="ic_action_next">res/drawable-xxhdpi-v4/ic_action_next.png</drawable>
-    <drawable name="ic_action_pause">res/drawable-mdpi-v4/ic_action_pause.png</drawable>
-    <drawable name="ic_action_pause">res/drawable-hdpi-v4/ic_action_pause.png</drawable>
-    <drawable name="ic_action_pause">res/drawable-xhdpi-v4/ic_action_pause.png</drawable>
-    <drawable name="ic_action_pause">res/drawable-xxhdpi-v4/ic_action_pause.png</drawable>
-    <drawable name="ic_action_play">res/drawable-mdpi-v4/ic_action_play.png</drawable>
-    <drawable name="ic_action_play">res/drawable-hdpi-v4/ic_action_play.png</drawable>
-    <drawable name="ic_action_play">res/drawable-xhdpi-v4/ic_action_play.png</drawable>
-    <drawable name="ic_action_play">res/drawable-xxhdpi-v4/ic_action_play.png</drawable>
-    <drawable name="ic_action_previous">res/drawable-mdpi-v4/ic_action_previous.png</drawable>
-    <drawable name="ic_action_previous">res/drawable-hdpi-v4/ic_action_previous.png</drawable>
-    <drawable name="ic_action_previous">res/drawable-xhdpi-v4/ic_action_previous.png</drawable>
-    <drawable name="ic_action_previous">res/drawable-xxhdpi-v4/ic_action_previous.png</drawable>
-    <drawable name="ic_again">res/drawable-mdpi-v4/ic_again.png</drawable>
-    <drawable name="ic_again">res/drawable-hdpi-v4/ic_again.png</drawable>
-    <drawable name="ic_again">res/drawable-xhdpi-v4/ic_again.png</drawable>
-    <drawable name="ic_again">res/drawable-xxhdpi-v4/ic_again.png</drawable>
-    <drawable name="ic_againinline">res/drawable-mdpi-v4/ic_againinline.png</drawable>
-    <drawable name="ic_againinline">res/drawable-hdpi-v4/ic_againinline.png</drawable>
-    <drawable name="ic_againinline">res/drawable-xhdpi-v4/ic_againinline.png</drawable>
-    <drawable name="ic_againinline">res/drawable-xxhdpi-v4/ic_againinline.png</drawable>
-    <drawable name="ic_arrow_drop_down">res/drawable-mdpi-v4/ic_arrow_drop_down.png</drawable>
-    <drawable name="ic_arrow_drop_down">res/drawable-hdpi-v4/ic_arrow_drop_down.png</drawable>
-    <drawable name="ic_arrow_drop_down">res/drawable-xhdpi-v4/ic_arrow_drop_down.png</drawable>
-    <drawable name="ic_arrow_drop_down">res/drawable-xxhdpi-v4/ic_arrow_drop_down.png</drawable>
-    <drawable name="ic_backup">res/drawable-mdpi-v4/ic_backup.png</drawable>
-    <drawable name="ic_backup">res/drawable-hdpi-v4/ic_backup.png</drawable>
-    <drawable name="ic_backup">res/drawable-xhdpi-v4/ic_backup.png</drawable>
-    <drawable name="ic_backup">res/drawable-xxhdpi-v4/ic_backup.png</drawable>
-    <drawable name="ic_backup_white_24dp">res/drawable-mdpi-v4/ic_backup_white_24dp.png</drawable>
-    <drawable name="ic_backup_white_24dp">res/drawable-hdpi-v4/ic_backup_white_24dp.png</drawable>
-    <drawable name="ic_backup_white_24dp">res/drawable-xhdpi-v4/ic_backup_white_24dp.png</drawable>
-    <drawable name="ic_backup_white_24dp">res/drawable-xxhdpi-v4/ic_backup_white_24dp.png</drawable>
-    <drawable name="ic_bar_bg">res/drawable-xxhdpi-v4/ic_bar_bg.png</drawable>
-    <drawable name="ic_bar_bg_v">res/drawable-xxhdpi-v4/ic_bar_bg_v.png</drawable>
-    <drawable name="ic_bar_close">res/drawable-xxhdpi-v4/ic_bar_close.png</drawable>
-    <drawable name="ic_bar_open">res/drawable-xxhdpi-v4/ic_bar_open.png</drawable>
-    <drawable name="ic_bluetooth_white_24dp">res/drawable-mdpi-v4/ic_bluetooth_white_24dp.png</drawable>
-    <drawable name="ic_bluetooth_white_24dp">res/drawable-hdpi-v4/ic_bluetooth_white_24dp.png</drawable>
-    <drawable name="ic_bluetooth_white_24dp">res/drawable-xhdpi-v4/ic_bluetooth_white_24dp.png</drawable>
-    <drawable name="ic_bluetooth_white_24dp">res/drawable-xxhdpi-v4/ic_bluetooth_white_24dp.png</drawable>
-    <drawable name="ic_call_end_white_24dp">res/drawable-mdpi-v4/ic_call_end_white_24dp.png</drawable>
-    <drawable name="ic_call_end_white_24dp">res/drawable-hdpi-v4/ic_call_end_white_24dp.png</drawable>
-    <drawable name="ic_call_end_white_24dp">res/drawable-xhdpi-v4/ic_call_end_white_24dp.png</drawable>
-    <drawable name="ic_call_end_white_24dp">res/drawable-xxhdpi-v4/ic_call_end_white_24dp.png</drawable>
-    <drawable name="ic_call_end_white_36dp">res/drawable-mdpi-v4/ic_call_end_white_36dp.png</drawable>
-    <drawable name="ic_call_end_white_36dp">res/drawable-hdpi-v4/ic_call_end_white_36dp.png</drawable>
-    <drawable name="ic_call_end_white_36dp">res/drawable-xhdpi-v4/ic_call_end_white_36dp.png</drawable>
-    <drawable name="ic_call_end_white_36dp">res/drawable-xxhdpi-v4/ic_call_end_white_36dp.png</drawable>
-    <drawable name="ic_call_made_green_18dp">res/drawable-mdpi-v4/ic_call_made_green_18dp.png</drawable>
-    <drawable name="ic_call_made_green_18dp">res/drawable-hdpi-v4/ic_call_made_green_18dp.png</drawable>
-    <drawable name="ic_call_made_green_18dp">res/drawable-xhdpi-v4/ic_call_made_green_18dp.png</drawable>
-    <drawable name="ic_call_made_green_18dp">res/drawable-xxhdpi-v4/ic_call_made_green_18dp.png</drawable>
-    <drawable name="ic_call_received_green_18dp">res/drawable-mdpi-v4/ic_call_received_green_18dp.png</drawable>
-    <drawable name="ic_call_received_green_18dp">res/drawable-hdpi-v4/ic_call_received_green_18dp.png</drawable>
-    <drawable name="ic_call_received_green_18dp">res/drawable-xhdpi-v4/ic_call_received_green_18dp.png</drawable>
-    <drawable name="ic_call_received_green_18dp">res/drawable-xxhdpi-v4/ic_call_received_green_18dp.png</drawable>
-    <drawable name="ic_call_white_18dp">res/drawable-xxhdpi-v4/ic_call_white_18dp.png</drawable>
-    <drawable name="ic_call_white_24dp">res/drawable-mdpi-v4/ic_call_white_24dp.png</drawable>
-    <drawable name="ic_call_white_24dp">res/drawable-hdpi-v4/ic_call_white_24dp.png</drawable>
-    <drawable name="ic_call_white_24dp">res/drawable-xhdpi-v4/ic_call_white_24dp.png</drawable>
-    <drawable name="ic_chat_bubble_white_24dp">res/drawable-mdpi-v4/ic_chat_bubble_white_24dp.png</drawable>
-    <drawable name="ic_chat_bubble_white_24dp">res/drawable-hdpi-v4/ic_chat_bubble_white_24dp.png</drawable>
-    <drawable name="ic_chat_bubble_white_24dp">res/drawable-xhdpi-v4/ic_chat_bubble_white_24dp.png</drawable>
-    <drawable name="ic_chat_bubble_white_24dp">res/drawable-xxhdpi-v4/ic_chat_bubble_white_24dp.png</drawable>
-    <drawable name="ic_close_white">res/drawable-mdpi-v4/ic_close_white.png</drawable>
-    <drawable name="ic_close_white">res/drawable-hdpi-v4/ic_close_white.png</drawable>
-    <drawable name="ic_close_white">res/drawable-xhdpi-v4/ic_close_white.png</drawable>
-    <drawable name="ic_close_white">res/drawable-xxhdpi-v4/ic_close_white.png</drawable>
-    <drawable name="ic_directory">res/drawable-mdpi-v4/ic_directory.png</drawable>
-    <drawable name="ic_directory">res/drawable-hdpi-v4/ic_directory.png</drawable>
-    <drawable name="ic_directory">res/drawable-xhdpi-v4/ic_directory.png</drawable>
-    <drawable name="ic_directory">res/drawable-xxhdpi-v4/ic_directory.png</drawable>
-    <drawable name="ic_done">res/drawable-mdpi-v4/ic_done.png</drawable>
-    <drawable name="ic_done">res/drawable-hdpi-v4/ic_done.png</drawable>
-    <drawable name="ic_done">res/drawable-xhdpi-v4/ic_done.png</drawable>
-    <drawable name="ic_done">res/drawable-xxhdpi-v4/ic_done.png</drawable>
-    <drawable name="ic_external_storage">res/drawable-mdpi-v4/ic_external_storage.png</drawable>
-    <drawable name="ic_external_storage">res/drawable-hdpi-v4/ic_external_storage.png</drawable>
-    <drawable name="ic_external_storage">res/drawable-xhdpi-v4/ic_external_storage.png</drawable>
-    <drawable name="ic_external_storage">res/drawable-xxhdpi-v4/ic_external_storage.png</drawable>
-    <drawable name="ic_fingerprint_error">res/drawable-anydpi-v21/ic_fingerprint_error.xml</drawable>
-    <drawable name="ic_fingerprint_error">res/drawable-ldpi-v4/ic_fingerprint_error.png</drawable>
-    <drawable name="ic_fingerprint_error">res/drawable-mdpi-v4/ic_fingerprint_error.png</drawable>
-    <drawable name="ic_fingerprint_error">res/drawable-hdpi-v4/ic_fingerprint_error.png</drawable>
-    <drawable name="ic_fingerprint_error">res/drawable-xhdpi-v4/ic_fingerprint_error.png</drawable>
-    <drawable name="ic_fingerprint_error">res/drawable-xxhdpi-v4/ic_fingerprint_error.png</drawable>
-    <drawable name="ic_fingerprint_error">res/drawable-xxxhdpi-v4/ic_fingerprint_error.png</drawable>
-    <drawable name="ic_fp_40px">res/drawable-mdpi-v4/ic_fp_40px.png</drawable>
-    <drawable name="ic_fp_40px">res/drawable-hdpi-v4/ic_fp_40px.png</drawable>
-    <drawable name="ic_fp_40px">res/drawable-xhdpi-v4/ic_fp_40px.png</drawable>
-    <drawable name="ic_fp_40px">res/drawable-xxhdpi-v4/ic_fp_40px.png</drawable>
-    <drawable name="ic_gallery_background">res/drawable-mdpi-v4/ic_gallery_background.png</drawable>
-    <drawable name="ic_gallery_background">res/drawable-hdpi-v4/ic_gallery_background.png</drawable>
-    <drawable name="ic_gallery_background">res/drawable-xhdpi-v4/ic_gallery_background.png</drawable>
-    <drawable name="ic_gallery_background">res/drawable-xxhdpi-v4/ic_gallery_background.png</drawable>
-    <drawable name="ic_gofullscreen">res/drawable-mdpi-v4/ic_gofullscreen.png</drawable>
-    <drawable name="ic_gofullscreen">res/drawable-hdpi-v4/ic_gofullscreen.png</drawable>
-    <drawable name="ic_gofullscreen">res/drawable-xhdpi-v4/ic_gofullscreen.png</drawable>
-    <drawable name="ic_gofullscreen">res/drawable-xxhdpi-v4/ic_gofullscreen.png</drawable>
-    <drawable name="ic_goinline">res/drawable-mdpi-v4/ic_goinline.png</drawable>
-    <drawable name="ic_goinline">res/drawable-hdpi-v4/ic_goinline.png</drawable>
-    <drawable name="ic_goinline">res/drawable-xhdpi-v4/ic_goinline.png</drawable>
-    <drawable name="ic_goinline">res/drawable-xxhdpi-v4/ic_goinline.png</drawable>
-    <drawable name="ic_keyboard_w">res/drawable-mdpi-v4/ic_keyboard_w.png</drawable>
-    <drawable name="ic_keyboard_w">res/drawable-hdpi-v4/ic_keyboard_w.png</drawable>
-    <drawable name="ic_keyboard_w">res/drawable-xhdpi-v4/ic_keyboard_w.png</drawable>
-    <drawable name="ic_keyboard_w">res/drawable-xxhdpi-v4/ic_keyboard_w.png</drawable>
-    <drawable name="ic_launcher">res/drawable-mdpi-v4/ic_launcher.png</drawable>
-    <drawable name="ic_launcher">res/drawable-hdpi-v4/ic_launcher.png</drawable>
-    <drawable name="ic_launcher">res/drawable-xhdpi-v4/ic_launcher.png</drawable>
-    <drawable name="ic_launcher">res/drawable-xxhdpi-v4/ic_launcher.png</drawable>
-    <drawable name="ic_launcher">res/drawable-xxxhdpi-v4/ic_launcher.png</drawable>
-    <drawable name="ic_launcher_beta">res/drawable-mdpi-v4/ic_launcher_beta.png</drawable>
-    <drawable name="ic_launcher_beta">res/drawable-hdpi-v4/ic_launcher_beta.png</drawable>
-    <drawable name="ic_launcher_beta">res/drawable-xhdpi-v4/ic_launcher_beta.png</drawable>
-    <drawable name="ic_launcher_beta">res/drawable-xxhdpi-v4/ic_launcher_beta.png</drawable>
-    <drawable name="ic_launcher_beta">res/drawable-xxxhdpi-v4/ic_launcher_beta.png</drawable>
-    <drawable name="ic_lock_header">res/drawable-mdpi-v4/ic_lock_header.png</drawable>
-    <drawable name="ic_lock_header">res/drawable-hdpi-v4/ic_lock_header.png</drawable>
-    <drawable name="ic_lock_header">res/drawable-xhdpi-v4/ic_lock_header.png</drawable>
-    <drawable name="ic_lock_header">res/drawable-xxhdpi-v4/ic_lock_header.png</drawable>
-    <drawable name="ic_lock_white">res/drawable-mdpi-v4/ic_lock_white.png</drawable>
-    <drawable name="ic_lock_white">res/drawable-hdpi-v4/ic_lock_white.png</drawable>
-    <drawable name="ic_lock_white">res/drawable-xhdpi-v4/ic_lock_white.png</drawable>
-    <drawable name="ic_lock_white">res/drawable-xxhdpi-v4/ic_lock_white.png</drawable>
-    <drawable name="ic_masks_msk1">res/drawable-mdpi-v4/ic_masks_msk1.png</drawable>
-    <drawable name="ic_masks_msk1">res/drawable-hdpi-v4/ic_masks_msk1.png</drawable>
-    <drawable name="ic_masks_msk1">res/drawable-xhdpi-v4/ic_masks_msk1.png</drawable>
-    <drawable name="ic_masks_msk1">res/drawable-xxhdpi-v4/ic_masks_msk1.png</drawable>
-    <drawable name="ic_masks_recent">res/drawable/ic_masks_recent.xml</drawable>
-    <drawable name="ic_masks_recent1">res/drawable-mdpi-v4/ic_masks_recent1.png</drawable>
-    <drawable name="ic_masks_recent1">res/drawable-hdpi-v4/ic_masks_recent1.png</drawable>
-    <drawable name="ic_masks_recent1">res/drawable-xhdpi-v4/ic_masks_recent1.png</drawable>
-    <drawable name="ic_masks_recent1">res/drawable-xxhdpi-v4/ic_masks_recent1.png</drawable>
-    <drawable name="ic_masks_recent2">res/drawable-mdpi-v4/ic_masks_recent2.png</drawable>
-    <drawable name="ic_masks_recent2">res/drawable-hdpi-v4/ic_masks_recent2.png</drawable>
-    <drawable name="ic_masks_recent2">res/drawable-xhdpi-v4/ic_masks_recent2.png</drawable>
-    <drawable name="ic_masks_recent2">res/drawable-xxhdpi-v4/ic_masks_recent2.png</drawable>
-    <drawable name="ic_masks_sticker1">res/drawable-mdpi-v4/ic_masks_sticker1.png</drawable>
-    <drawable name="ic_masks_sticker1">res/drawable-hdpi-v4/ic_masks_sticker1.png</drawable>
-    <drawable name="ic_masks_sticker1">res/drawable-xhdpi-v4/ic_masks_sticker1.png</drawable>
-    <drawable name="ic_masks_sticker2">res/drawable-xxhdpi-v4/ic_masks_sticker2.png</drawable>
-    <drawable name="ic_mic_off_white_24dp">res/drawable-mdpi-v4/ic_mic_off_white_24dp.png</drawable>
-    <drawable name="ic_mic_off_white_24dp">res/drawable-hdpi-v4/ic_mic_off_white_24dp.png</drawable>
-    <drawable name="ic_mic_off_white_24dp">res/drawable-xhdpi-v4/ic_mic_off_white_24dp.png</drawable>
-    <drawable name="ic_mic_off_white_24dp">res/drawable-xxhdpi-v4/ic_mic_off_white_24dp.png</drawable>
-    <drawable name="ic_more">res/drawable-mdpi-v4/ic_more.png</drawable>
-    <drawable name="ic_more">res/drawable-hdpi-v4/ic_more.png</drawable>
-    <drawable name="ic_more">res/drawable-xhdpi-v4/ic_more.png</drawable>
-    <drawable name="ic_more">res/drawable-xxhdpi-v4/ic_more.png</drawable>
-    <drawable name="ic_msg_panel_gif">res/drawable-mdpi-v4/ic_msg_panel_gif.png</drawable>
-    <drawable name="ic_msg_panel_gif">res/drawable-hdpi-v4/ic_msg_panel_gif.png</drawable>
-    <drawable name="ic_msg_panel_gif">res/drawable-xhdpi-v4/ic_msg_panel_gif.png</drawable>
-    <drawable name="ic_msg_panel_gif">res/drawable-xxhdpi-v4/ic_msg_panel_gif.png</drawable>
-    <drawable name="ic_msg_panel_kb">res/drawable-mdpi-v4/ic_msg_panel_kb.png</drawable>
-    <drawable name="ic_msg_panel_kb">res/drawable-hdpi-v4/ic_msg_panel_kb.png</drawable>
-    <drawable name="ic_msg_panel_kb">res/drawable-xhdpi-v4/ic_msg_panel_kb.png</drawable>
-    <drawable name="ic_msg_panel_kb">res/drawable-xxhdpi-v4/ic_msg_panel_kb.png</drawable>
-    <drawable name="ic_msg_panel_kb_white">res/drawable-mdpi-v4/ic_msg_panel_kb_white.png</drawable>
-    <drawable name="ic_msg_panel_kb_white">res/drawable-hdpi-v4/ic_msg_panel_kb_white.png</drawable>
-    <drawable name="ic_msg_panel_kb_white">res/drawable-xhdpi-v4/ic_msg_panel_kb_white.png</drawable>
-    <drawable name="ic_msg_panel_kb_white">res/drawable-xxhdpi-v4/ic_msg_panel_kb_white.png</drawable>
-    <drawable name="ic_msg_panel_smiles">res/drawable-mdpi-v4/ic_msg_panel_smiles.png</drawable>
-    <drawable name="ic_msg_panel_smiles">res/drawable-hdpi-v4/ic_msg_panel_smiles.png</drawable>
-    <drawable name="ic_msg_panel_smiles">res/drawable-xhdpi-v4/ic_msg_panel_smiles.png</drawable>
-    <drawable name="ic_msg_panel_smiles">res/drawable-xxhdpi-v4/ic_msg_panel_smiles.png</drawable>
-    <drawable name="ic_msg_panel_stickers">res/drawable-mdpi-v4/ic_msg_panel_stickers.png</drawable>
-    <drawable name="ic_msg_panel_stickers">res/drawable-hdpi-v4/ic_msg_panel_stickers.png</drawable>
-    <drawable name="ic_msg_panel_stickers">res/drawable-xhdpi-v4/ic_msg_panel_stickers.png</drawable>
-    <drawable name="ic_msg_panel_stickers">res/drawable-xxhdpi-v4/ic_msg_panel_stickers.png</drawable>
-    <drawable name="ic_msg_panel_video">res/drawable-mdpi-v4/ic_msg_panel_video.png</drawable>
-    <drawable name="ic_msg_panel_video">res/drawable-hdpi-v4/ic_msg_panel_video.png</drawable>
-    <drawable name="ic_msg_panel_video">res/drawable-xhdpi-v4/ic_msg_panel_video.png</drawable>
-    <drawable name="ic_msg_panel_video">res/drawable-xxhdpi-v4/ic_msg_panel_video.png</drawable>
-    <drawable name="ic_outfullscreen">res/drawable-mdpi-v4/ic_outfullscreen.png</drawable>
-    <drawable name="ic_outfullscreen">res/drawable-hdpi-v4/ic_outfullscreen.png</drawable>
-    <drawable name="ic_outfullscreen">res/drawable-xhdpi-v4/ic_outfullscreen.png</drawable>
-    <drawable name="ic_outfullscreen">res/drawable-xxhdpi-v4/ic_outfullscreen.png</drawable>
-    <drawable name="ic_outinline">res/drawable-mdpi-v4/ic_outinline.png</drawable>
-    <drawable name="ic_outinline">res/drawable-hdpi-v4/ic_outinline.png</drawable>
-    <drawable name="ic_outinline">res/drawable-xhdpi-v4/ic_outinline.png</drawable>
-    <drawable name="ic_outinline">res/drawable-xxhdpi-v4/ic_outinline.png</drawable>
-    <drawable name="ic_pause">res/drawable-mdpi-v4/ic_pause.png</drawable>
-    <drawable name="ic_pause">res/drawable-hdpi-v4/ic_pause.png</drawable>
-    <drawable name="ic_pause">res/drawable-xhdpi-v4/ic_pause.png</drawable>
-    <drawable name="ic_pause">res/drawable-xxhdpi-v4/ic_pause.png</drawable>
-    <drawable name="ic_pauseinline">res/drawable-mdpi-v4/ic_pauseinline.png</drawable>
-    <drawable name="ic_pauseinline">res/drawable-hdpi-v4/ic_pauseinline.png</drawable>
-    <drawable name="ic_pauseinline">res/drawable-xhdpi-v4/ic_pauseinline.png</drawable>
-    <drawable name="ic_pauseinline">res/drawable-xxhdpi-v4/ic_pauseinline.png</drawable>
-    <drawable name="ic_phone_in_talk_white_24dp">res/drawable-mdpi-v4/ic_phone_in_talk_white_24dp.png</drawable>
-    <drawable name="ic_phone_in_talk_white_24dp">res/drawable-xhdpi-v4/ic_phone_in_talk_white_24dp.png</drawable>
-    <drawable name="ic_phone_in_talk_white_24dp">res/drawable-xxhdpi-v4/ic_phone_in_talk_white_24dp.png</drawable>
-    <drawable name="ic_play">res/drawable-mdpi-v4/ic_play.png</drawable>
-    <drawable name="ic_play">res/drawable-hdpi-v4/ic_play.png</drawable>
-    <drawable name="ic_play">res/drawable-xhdpi-v4/ic_play.png</drawable>
-    <drawable name="ic_play">res/drawable-xxhdpi-v4/ic_play.png</drawable>
-    <drawable name="ic_player">res/drawable/ic_player.png</drawable>
-    <drawable name="ic_playinline">res/drawable-mdpi-v4/ic_playinline.png</drawable>
-    <drawable name="ic_playinline">res/drawable-hdpi-v4/ic_playinline.png</drawable>
-    <drawable name="ic_playinline">res/drawable-xhdpi-v4/ic_playinline.png</drawable>
-    <drawable name="ic_playinline">res/drawable-xxhdpi-v4/ic_playinline.png</drawable>
-    <drawable name="ic_rating_star">res/drawable-mdpi-v4/ic_rating_star.png</drawable>
-    <drawable name="ic_rating_star">res/drawable-hdpi-v4/ic_rating_star.png</drawable>
-    <drawable name="ic_rating_star">res/drawable-xhdpi-v4/ic_rating_star.png</drawable>
-    <drawable name="ic_rating_star">res/drawable-xxhdpi-v4/ic_rating_star.png</drawable>
-    <drawable name="ic_rating_star_filled">res/drawable-mdpi-v4/ic_rating_star_filled.png</drawable>
-    <drawable name="ic_rating_star_filled">res/drawable-hdpi-v4/ic_rating_star_filled.png</drawable>
-    <drawable name="ic_rating_star_filled">res/drawable-xhdpi-v4/ic_rating_star_filled.png</drawable>
-    <drawable name="ic_rating_star_filled">res/drawable-xxhdpi-v4/ic_rating_star_filled.png</drawable>
-    <drawable name="ic_reply_icon">res/drawable-mdpi-v4/ic_reply_icon.png</drawable>
-    <drawable name="ic_reply_icon">res/drawable-hdpi-v4/ic_reply_icon.png</drawable>
-    <drawable name="ic_reply_icon">res/drawable-xhdpi-v4/ic_reply_icon.png</drawable>
-    <drawable name="ic_send">res/drawable-mdpi-v4/ic_send.png</drawable>
-    <drawable name="ic_send">res/drawable-hdpi-v4/ic_send.png</drawable>
-    <drawable name="ic_send">res/drawable-xhdpi-v4/ic_send.png</drawable>
-    <drawable name="ic_send">res/drawable-xxhdpi-v4/ic_send.png</drawable>
-    <drawable name="ic_share_article">res/drawable-mdpi-v4/ic_share_article.png</drawable>
-    <drawable name="ic_share_article">res/drawable-hdpi-v4/ic_share_article.png</drawable>
-    <drawable name="ic_share_article">res/drawable-xhdpi-v4/ic_share_article.png</drawable>
-    <drawable name="ic_share_article">res/drawable-xxhdpi-v4/ic_share_article.png</drawable>
-    <drawable name="ic_share_video">res/drawable-mdpi-v4/ic_share_video.png</drawable>
-    <drawable name="ic_share_video">res/drawable-hdpi-v4/ic_share_video.png</drawable>
-    <drawable name="ic_share_video">res/drawable-xhdpi-v4/ic_share_video.png</drawable>
-    <drawable name="ic_share_video">res/drawable-xxhdpi-v4/ic_share_video.png</drawable>
-    <drawable name="ic_smile_w">res/drawable-mdpi-v4/ic_smile_w.png</drawable>
-    <drawable name="ic_smile_w">res/drawable-hdpi-v4/ic_smile_w.png</drawable>
-    <drawable name="ic_smile_w">res/drawable-xhdpi-v4/ic_smile_w.png</drawable>
-    <drawable name="ic_smile_w">res/drawable-xxhdpi-v4/ic_smile_w.png</drawable>
-    <drawable name="ic_smiles2_car">res/drawable-mdpi-v4/ic_smiles2_car.png</drawable>
-    <drawable name="ic_smiles2_car">res/drawable-hdpi-v4/ic_smiles2_car.png</drawable>
-    <drawable name="ic_smiles2_car">res/drawable-xhdpi-v4/ic_smiles2_car.png</drawable>
-    <drawable name="ic_smiles2_car">res/drawable-xxhdpi-v4/ic_smiles2_car.png</drawable>
-    <drawable name="ic_smiles2_food">res/drawable-mdpi-v4/ic_smiles2_food.png</drawable>
-    <drawable name="ic_smiles2_food">res/drawable-hdpi-v4/ic_smiles2_food.png</drawable>
-    <drawable name="ic_smiles2_food">res/drawable-xhdpi-v4/ic_smiles2_food.png</drawable>
-    <drawable name="ic_smiles2_food">res/drawable-xxhdpi-v4/ic_smiles2_food.png</drawable>
-    <drawable name="ic_smiles2_nature">res/drawable-mdpi-v4/ic_smiles2_nature.png</drawable>
-    <drawable name="ic_smiles2_nature">res/drawable-hdpi-v4/ic_smiles2_nature.png</drawable>
-    <drawable name="ic_smiles2_nature">res/drawable-xhdpi-v4/ic_smiles2_nature.png</drawable>
-    <drawable name="ic_smiles2_nature">res/drawable-xxhdpi-v4/ic_smiles2_nature.png</drawable>
-    <drawable name="ic_smiles2_objects">res/drawable-mdpi-v4/ic_smiles2_objects.png</drawable>
-    <drawable name="ic_smiles2_objects">res/drawable-hdpi-v4/ic_smiles2_objects.png</drawable>
-    <drawable name="ic_smiles2_objects">res/drawable-xhdpi-v4/ic_smiles2_objects.png</drawable>
-    <drawable name="ic_smiles2_objects">res/drawable-xxhdpi-v4/ic_smiles2_objects.png</drawable>
-    <drawable name="ic_smiles2_recent">res/drawable-mdpi-v4/ic_smiles2_recent.png</drawable>
-    <drawable name="ic_smiles2_recent">res/drawable-hdpi-v4/ic_smiles2_recent.png</drawable>
-    <drawable name="ic_smiles2_recent">res/drawable-xhdpi-v4/ic_smiles2_recent.png</drawable>
-    <drawable name="ic_smiles2_recent">res/drawable-xxhdpi-v4/ic_smiles2_recent.png</drawable>
-    <drawable name="ic_smiles2_smile">res/drawable-mdpi-v4/ic_smiles2_smile.png</drawable>
-    <drawable name="ic_smiles2_smile">res/drawable-hdpi-v4/ic_smiles2_smile.png</drawable>
-    <drawable name="ic_smiles2_smile">res/drawable-xhdpi-v4/ic_smiles2_smile.png</drawable>
-    <drawable name="ic_smiles2_smile">res/drawable-xxhdpi-v4/ic_smiles2_smile.png</drawable>
-    <drawable name="ic_smiles2_stickers">res/drawable-mdpi-v4/ic_smiles2_stickers.png</drawable>
-    <drawable name="ic_smiles2_stickers">res/drawable-hdpi-v4/ic_smiles2_stickers.png</drawable>
-    <drawable name="ic_smiles2_stickers">res/drawable-xhdpi-v4/ic_smiles2_stickers.png</drawable>
-    <drawable name="ic_smiles2_stickers">res/drawable-xxhdpi-v4/ic_smiles2_stickers.png</drawable>
-    <drawable name="ic_smiles_backspace">res/drawable-mdpi-v4/ic_smiles_backspace.png</drawable>
-    <drawable name="ic_smiles_backspace">res/drawable-hdpi-v4/ic_smiles_backspace.png</drawable>
-    <drawable name="ic_smiles_backspace">res/drawable-xhdpi-v4/ic_smiles_backspace.png</drawable>
-    <drawable name="ic_smiles_backspace">res/drawable-xxhdpi-v4/ic_smiles_backspace.png</drawable>
-    <drawable name="ic_smiles_backspace_active">res/drawable-mdpi-v4/ic_smiles_backspace_active.png</drawable>
-    <drawable name="ic_smiles_backspace_active">res/drawable-hdpi-v4/ic_smiles_backspace_active.png</drawable>
-    <drawable name="ic_smiles_gif">res/drawable-mdpi-v4/ic_smiles_gif.png</drawable>
-    <drawable name="ic_smiles_gif">res/drawable-hdpi-v4/ic_smiles_gif.png</drawable>
-    <drawable name="ic_smiles_gif">res/drawable-xhdpi-v4/ic_smiles_gif.png</drawable>
-    <drawable name="ic_smiles_gif">res/drawable-xxhdpi-v4/ic_smiles_gif.png</drawable>
-    <drawable name="ic_smiles_settings">res/drawable-mdpi-v4/ic_smiles_settings.png</drawable>
-    <drawable name="ic_smiles_settings">res/drawable-hdpi-v4/ic_smiles_settings.png</drawable>
-    <drawable name="ic_smiles_settings">res/drawable-xhdpi-v4/ic_smiles_settings.png</drawable>
-    <drawable name="ic_smiles_settings">res/drawable-xxhdpi-v4/ic_smiles_settings.png</drawable>
-    <drawable name="ic_smiles_trend">res/drawable-mdpi-v4/ic_smiles_trend.png</drawable>
-    <drawable name="ic_smiles_trend">res/drawable-hdpi-v4/ic_smiles_trend.png</drawable>
-    <drawable name="ic_smiles_trend">res/drawable-xhdpi-v4/ic_smiles_trend.png</drawable>
-    <drawable name="ic_smiles_trend">res/drawable-xxhdpi-v4/ic_smiles_trend.png</drawable>
-    <drawable name="ic_storage">res/drawable-mdpi-v4/ic_storage.png</drawable>
-    <drawable name="ic_storage">res/drawable-hdpi-v4/ic_storage.png</drawable>
-    <drawable name="ic_storage">res/drawable-xhdpi-v4/ic_storage.png</drawable>
-    <drawable name="ic_storage">res/drawable-xxhdpi-v4/ic_storage.png</drawable>
-    <drawable name="ic_storage_gallery">res/drawable-mdpi-v4/ic_storage_gallery.png</drawable>
-    <drawable name="ic_storage_gallery">res/drawable-hdpi-v4/ic_storage_gallery.png</drawable>
-    <drawable name="ic_storage_gallery">res/drawable-xhdpi-v4/ic_storage_gallery.png</drawable>
-    <drawable name="ic_storage_gallery">res/drawable-xxhdpi-v4/ic_storage_gallery.png</drawable>
-    <drawable name="ic_swap_vertical">res/drawable-mdpi-v4/ic_swap_vertical.png</drawable>
-    <drawable name="ic_swap_vertical">res/drawable-hdpi-v4/ic_swap_vertical.png</drawable>
-    <drawable name="ic_swap_vertical">res/drawable-xhdpi-v4/ic_swap_vertical.png</drawable>
-    <drawable name="ic_swap_vertical">res/drawable-xxhdpi-v4/ic_swap_vertical.png</drawable>
-    <drawable name="ic_video">res/drawable-mdpi-v4/ic_video.png</drawable>
-    <drawable name="ic_video">res/drawable-hdpi-v4/ic_video.png</drawable>
-    <drawable name="ic_video">res/drawable-xhdpi-v4/ic_video.png</drawable>
-    <drawable name="ic_video">res/drawable-xxhdpi-v4/ic_video.png</drawable>
-    <drawable name="ic_volume_up_white_24dp">res/drawable-mdpi-v4/ic_volume_up_white_24dp.png</drawable>
-    <drawable name="ic_volume_up_white_24dp">res/drawable-hdpi-v4/ic_volume_up_white_24dp.png</drawable>
-    <drawable name="ic_volume_up_white_24dp">res/drawable-xhdpi-v4/ic_volume_up_white_24dp.png</drawable>
-    <drawable name="ic_volume_up_white_24dp">res/drawable-xxhdpi-v4/ic_volume_up_white_24dp.png</drawable>
-    <drawable name="ic_vpn_key_white_24dp">res/drawable-mdpi-v4/ic_vpn_key_white_24dp.png</drawable>
-    <drawable name="ic_vpn_key_white_24dp">res/drawable-hdpi-v4/ic_vpn_key_white_24dp.png</drawable>
-    <drawable name="ic_vpn_key_white_24dp">res/drawable-xhdpi-v4/ic_vpn_key_white_24dp.png</drawable>
-    <drawable name="ic_vpn_key_white_24dp">res/drawable-xxhdpi-v4/ic_vpn_key_white_24dp.png</drawable>
-    <drawable name="inline_video_pause">res/drawable-mdpi-v4/inline_video_pause.png</drawable>
-    <drawable name="inline_video_pause">res/drawable-hdpi-v4/inline_video_pause.png</drawable>
-    <drawable name="inline_video_pause">res/drawable-xhdpi-v4/inline_video_pause.png</drawable>
-    <drawable name="inline_video_pause">res/drawable-xxhdpi-v4/inline_video_pause.png</drawable>
-    <drawable name="inline_video_play">res/drawable-mdpi-v4/inline_video_play.png</drawable>
-    <drawable name="inline_video_play">res/drawable-hdpi-v4/inline_video_play.png</drawable>
-    <drawable name="inline_video_play">res/drawable-xhdpi-v4/inline_video_play.png</drawable>
-    <drawable name="inline_video_play">res/drawable-xxhdpi-v4/inline_video_play.png</drawable>
-    <drawable name="instant_camera">res/drawable-mdpi-v4/instant_camera.png</drawable>
-    <drawable name="instant_camera">res/drawable-hdpi-v4/instant_camera.png</drawable>
-    <drawable name="instant_camera">res/drawable-xhdpi-v4/instant_camera.png</drawable>
-    <drawable name="instant_camera">res/drawable-xxhdpi-v4/instant_camera.png</drawable>
-    <drawable name="intro1">res/drawable-mdpi-v4/intro1.png</drawable>
-    <drawable name="intro1">res/drawable-hdpi-v4/intro1.png</drawable>
-    <drawable name="intro1">res/drawable-xhdpi-v4/intro1.png</drawable>
-    <drawable name="intro1">res/drawable-xxhdpi-v4/intro1.png</drawable>
-    <drawable name="intro2">res/drawable-mdpi-v4/intro2.png</drawable>
-    <drawable name="intro2">res/drawable-hdpi-v4/intro2.png</drawable>
-    <drawable name="intro2">res/drawable-xhdpi-v4/intro2.png</drawable>
-    <drawable name="intro2">res/drawable-xxhdpi-v4/intro2.png</drawable>
-    <drawable name="intro3">res/drawable-mdpi-v4/intro3.png</drawable>
-    <drawable name="intro3">res/drawable-hdpi-v4/intro3.png</drawable>
-    <drawable name="intro3">res/drawable-xhdpi-v4/intro3.png</drawable>
-    <drawable name="intro3">res/drawable-xxhdpi-v4/intro3.png</drawable>
-    <drawable name="intro4">res/drawable-mdpi-v4/intro4.png</drawable>
-    <drawable name="intro4">res/drawable-hdpi-v4/intro4.png</drawable>
-    <drawable name="intro4">res/drawable-xhdpi-v4/intro4.png</drawable>
-    <drawable name="intro4">res/drawable-xxhdpi-v4/intro4.png</drawable>
-    <drawable name="intro5">res/drawable-mdpi-v4/intro5.png</drawable>
-    <drawable name="intro5">res/drawable-hdpi-v4/intro5.png</drawable>
-    <drawable name="intro5">res/drawable-xhdpi-v4/intro5.png</drawable>
-    <drawable name="intro5">res/drawable-xxhdpi-v4/intro5.png</drawable>
-    <drawable name="intro6">res/drawable-mdpi-v4/intro6.png</drawable>
-    <drawable name="intro6">res/drawable-hdpi-v4/intro6.png</drawable>
-    <drawable name="intro6">res/drawable-xhdpi-v4/intro6.png</drawable>
-    <drawable name="intro6">res/drawable-xxhdpi-v4/intro6.png</drawable>
-    <drawable name="intro7">res/drawable-mdpi-v4/intro7.png</drawable>
-    <drawable name="intro7">res/drawable-hdpi-v4/intro7.png</drawable>
-    <drawable name="intro7">res/drawable-xhdpi-v4/intro7.png</drawable>
-    <drawable name="intro7">res/drawable-xxhdpi-v4/intro7.png</drawable>
-    <drawable name="knob_shadow">res/drawable-mdpi-v4/knob_shadow.png</drawable>
-    <drawable name="knob_shadow">res/drawable-hdpi-v4/knob_shadow.png</drawable>
-    <drawable name="knob_shadow">res/drawable-xhdpi-v4/knob_shadow.png</drawable>
-    <drawable name="knob_shadow">res/drawable-xxhdpi-v4/knob_shadow.png</drawable>
-    <drawable name="layer_shadow">res/drawable-mdpi-v4/layer_shadow.png</drawable>
-    <drawable name="layer_shadow">res/drawable-hdpi-v4/layer_shadow.png</drawable>
-    <drawable name="layer_shadow">res/drawable-xhdpi-v4/layer_shadow.png</drawable>
-    <drawable name="layer_shadow">res/drawable-xxhdpi-v4/layer_shadow.png</drawable>
-    <drawable name="list_bot">res/drawable-mdpi-v4/list_bot.png</drawable>
-    <drawable name="list_bot">res/drawable-hdpi-v4/list_bot.png</drawable>
-    <drawable name="list_bot">res/drawable-xhdpi-v4/list_bot.png</drawable>
-    <drawable name="list_bot">res/drawable-xxhdpi-v4/list_bot.png</drawable>
-    <drawable name="list_broadcast">res/drawable-mdpi-v4/list_broadcast.png</drawable>
-    <drawable name="list_broadcast">res/drawable-hdpi-v4/list_broadcast.png</drawable>
-    <drawable name="list_broadcast">res/drawable-xhdpi-v4/list_broadcast.png</drawable>
-    <drawable name="list_broadcast">res/drawable-xxhdpi-v4/list_broadcast.png</drawable>
-    <drawable name="list_check">res/drawable-mdpi-v4/list_check.png</drawable>
-    <drawable name="list_check">res/drawable-hdpi-v4/list_check.png</drawable>
-    <drawable name="list_check">res/drawable-xhdpi-v4/list_check.png</drawable>
-    <drawable name="list_check">res/drawable-xxhdpi-v4/list_check.png</drawable>
-    <drawable name="list_circle">res/drawable-mdpi-v4/list_circle.png</drawable>
-    <drawable name="list_circle">res/drawable-hdpi-v4/list_circle.png</drawable>
-    <drawable name="list_circle">res/drawable-xhdpi-v4/list_circle.png</drawable>
-    <drawable name="list_circle">res/drawable-xxhdpi-v4/list_circle.png</drawable>
-    <drawable name="list_focused_holo">res/drawable-mdpi-v4/list_focused_holo.9.png</drawable>
-    <drawable name="list_focused_holo">res/drawable-hdpi-v4/list_focused_holo.9.png</drawable>
-    <drawable name="list_focused_holo">res/drawable-xhdpi-v4/list_focused_holo.9.png</drawable>
-    <drawable name="list_focused_holo">res/drawable-xxhdpi-v4/list_focused_holo.9.png</drawable>
-    <drawable name="list_group">res/drawable-mdpi-v4/list_group.png</drawable>
-    <drawable name="list_group">res/drawable-hdpi-v4/list_group.png</drawable>
-    <drawable name="list_group">res/drawable-xhdpi-v4/list_group.png</drawable>
-    <drawable name="list_group">res/drawable-xxhdpi-v4/list_group.png</drawable>
-    <drawable name="list_halfcheck">res/drawable-mdpi-v4/list_halfcheck.png</drawable>
-    <drawable name="list_halfcheck">res/drawable-hdpi-v4/list_halfcheck.png</drawable>
-    <drawable name="list_halfcheck">res/drawable-xhdpi-v4/list_halfcheck.png</drawable>
-    <drawable name="list_halfcheck">res/drawable-xxhdpi-v4/list_halfcheck.png</drawable>
-    <drawable name="list_mute">res/drawable-mdpi-v4/list_mute.png</drawable>
-    <drawable name="list_mute">res/drawable-hdpi-v4/list_mute.png</drawable>
-    <drawable name="list_mute">res/drawable-xhdpi-v4/list_mute.png</drawable>
-    <drawable name="list_mute">res/drawable-xxhdpi-v4/list_mute.png</drawable>
-    <drawable name="list_pin">res/drawable-mdpi-v4/list_pin.png</drawable>
-    <drawable name="list_pin">res/drawable-hdpi-v4/list_pin.png</drawable>
-    <drawable name="list_pin">res/drawable-xhdpi-v4/list_pin.png</drawable>
-    <drawable name="list_pin">res/drawable-xxhdpi-v4/list_pin.png</drawable>
-    <drawable name="list_secret">res/drawable-mdpi-v4/list_secret.png</drawable>
-    <drawable name="list_secret">res/drawable-hdpi-v4/list_secret.png</drawable>
-    <drawable name="list_secret">res/drawable-xhdpi-v4/list_secret.png</drawable>
-    <drawable name="list_secret">res/drawable-xxhdpi-v4/list_secret.png</drawable>
-    <drawable name="list_selector_ex">res/drawable/list_selector_ex.xml</drawable>
-    <drawable name="list_selector_ex">res/drawable-v21/list_selector_ex.xml</drawable>
-    <drawable name="list_supergroup">res/drawable-mdpi-v4/list_supergroup.png</drawable>
-    <drawable name="list_supergroup">res/drawable-hdpi-v4/list_supergroup.png</drawable>
-    <drawable name="list_supergroup">res/drawable-xhdpi-v4/list_supergroup.png</drawable>
-    <drawable name="list_warning_sign">res/drawable-mdpi-v4/list_warning_sign.png</drawable>
-    <drawable name="list_warning_sign">res/drawable-hdpi-v4/list_warning_sign.png</drawable>
-    <drawable name="list_warning_sign">res/drawable-xhdpi-v4/list_warning_sign.png</drawable>
-    <drawable name="list_warning_sign">res/drawable-xxhdpi-v4/list_warning_sign.png</drawable>
-    <drawable name="load_big">res/drawable-mdpi-v4/load_big.png</drawable>
-    <drawable name="load_big">res/drawable-hdpi-v4/load_big.png</drawable>
-    <drawable name="load_big">res/drawable-xhdpi-v4/load_big.png</drawable>
-    <drawable name="load_big">res/drawable-xxhdpi-v4/load_big.png</drawable>
-    <drawable name="loading_animation">res/drawable/loading_animation.xml</drawable>
-    <drawable name="location_panel">res/drawable-mdpi-v4/location_panel.9.png</drawable>
-    <drawable name="location_panel">res/drawable-hdpi-v4/location_panel.9.png</drawable>
-    <drawable name="location_panel">res/drawable-xhdpi-v4/location_panel.9.png</drawable>
-    <drawable name="location_panel">res/drawable-xxhdpi-v4/location_panel.9.png</drawable>
-    <drawable name="location_send_button_states">res/drawable/location_send_button_states.xml</drawable>
-    <drawable name="lock_close">res/drawable-mdpi-v4/lock_close.png</drawable>
-    <drawable name="lock_close">res/drawable-hdpi-v4/lock_close.png</drawable>
-    <drawable name="lock_close">res/drawable-xhdpi-v4/lock_close.png</drawable>
-    <drawable name="lock_close">res/drawable-xxhdpi-v4/lock_close.png</drawable>
-    <drawable name="lock_open">res/drawable-mdpi-v4/lock_open.png</drawable>
-    <drawable name="lock_open">res/drawable-hdpi-v4/lock_open.png</drawable>
-    <drawable name="lock_open">res/drawable-xhdpi-v4/lock_open.png</drawable>
-    <drawable name="lock_open">res/drawable-xxhdpi-v4/lock_open.png</drawable>
-    <drawable name="logo_avatar">res/drawable-mdpi-v4/logo_avatar.png</drawable>
-    <drawable name="logo_avatar">res/drawable-hdpi-v4/logo_avatar.png</drawable>
-    <drawable name="logo_avatar">res/drawable-xhdpi-v4/logo_avatar.png</drawable>
-    <drawable name="logo_avatar">res/drawable-xxhdpi-v4/logo_avatar.png</drawable>
-    <drawable name="managers">res/drawable-mdpi-v4/managers.png</drawable>
-    <drawable name="managers">res/drawable-hdpi-v4/managers.png</drawable>
-    <drawable name="managers">res/drawable-xhdpi-v4/managers.png</drawable>
-    <drawable name="managers">res/drawable-xxhdpi-v4/managers.png</drawable>
-    <drawable name="map_pin">res/drawable-mdpi-v4/map_pin.png</drawable>
-    <drawable name="map_pin">res/drawable-hdpi-v4/map_pin.png</drawable>
-    <drawable name="map_pin">res/drawable-xhdpi-v4/map_pin.png</drawable>
-    <drawable name="map_pin">res/drawable-xxhdpi-v4/map_pin.png</drawable>
-    <drawable name="media_doc_blue">res/drawable-mdpi-v4/media_doc_blue.png</drawable>
-    <drawable name="media_doc_blue">res/drawable-hdpi-v4/media_doc_blue.png</drawable>
-    <drawable name="media_doc_blue">res/drawable-xhdpi-v4/media_doc_blue.png</drawable>
-    <drawable name="media_doc_blue">res/drawable-xxhdpi-v4/media_doc_blue.png</drawable>
-    <drawable name="media_doc_green">res/drawable-mdpi-v4/media_doc_green.png</drawable>
-    <drawable name="media_doc_green">res/drawable-hdpi-v4/media_doc_green.png</drawable>
-    <drawable name="media_doc_green">res/drawable-xhdpi-v4/media_doc_green.png</drawable>
-    <drawable name="media_doc_green">res/drawable-xxhdpi-v4/media_doc_green.png</drawable>
-    <drawable name="media_doc_load">res/drawable-mdpi-v4/media_doc_load.png</drawable>
-    <drawable name="media_doc_load">res/drawable-hdpi-v4/media_doc_load.png</drawable>
-    <drawable name="media_doc_load">res/drawable-xhdpi-v4/media_doc_load.png</drawable>
-    <drawable name="media_doc_load">res/drawable-xxhdpi-v4/media_doc_load.png</drawable>
-    <drawable name="media_doc_pause">res/drawable-mdpi-v4/media_doc_pause.png</drawable>
-    <drawable name="media_doc_pause">res/drawable-hdpi-v4/media_doc_pause.png</drawable>
-    <drawable name="media_doc_pause">res/drawable-xhdpi-v4/media_doc_pause.png</drawable>
-    <drawable name="media_doc_pause">res/drawable-xxhdpi-v4/media_doc_pause.png</drawable>
-    <drawable name="media_doc_red">res/drawable-mdpi-v4/media_doc_red.png</drawable>
-    <drawable name="media_doc_red">res/drawable-hdpi-v4/media_doc_red.png</drawable>
-    <drawable name="media_doc_red">res/drawable-xhdpi-v4/media_doc_red.png</drawable>
-    <drawable name="media_doc_red">res/drawable-xxhdpi-v4/media_doc_red.png</drawable>
-    <drawable name="media_doc_yellow">res/drawable-mdpi-v4/media_doc_yellow.png</drawable>
-    <drawable name="media_doc_yellow">res/drawable-hdpi-v4/media_doc_yellow.png</drawable>
-    <drawable name="media_doc_yellow">res/drawable-xhdpi-v4/media_doc_yellow.png</drawable>
-    <drawable name="media_doc_yellow">res/drawable-xxhdpi-v4/media_doc_yellow.png</drawable>
-    <drawable name="menu_admin">res/drawable-mdpi-v4/menu_admin.png</drawable>
-    <drawable name="menu_admin">res/drawable-hdpi-v4/menu_admin.png</drawable>
-    <drawable name="menu_admin">res/drawable-xhdpi-v4/menu_admin.png</drawable>
-    <drawable name="menu_admin">res/drawable-xxhdpi-v4/menu_admin.png</drawable>
-    <drawable name="menu_broadcast">res/drawable-mdpi-v4/menu_broadcast.png</drawable>
-    <drawable name="menu_broadcast">res/drawable-hdpi-v4/menu_broadcast.png</drawable>
-    <drawable name="menu_broadcast">res/drawable-xhdpi-v4/menu_broadcast.png</drawable>
-    <drawable name="menu_broadcast">res/drawable-xxhdpi-v4/menu_broadcast.png</drawable>
-    <drawable name="menu_calls">res/drawable-mdpi-v4/menu_calls.png</drawable>
-    <drawable name="menu_calls">res/drawable-hdpi-v4/menu_calls.png</drawable>
-    <drawable name="menu_calls">res/drawable-xhdpi-v4/menu_calls.png</drawable>
-    <drawable name="menu_calls">res/drawable-xxhdpi-v4/menu_calls.png</drawable>
-    <drawable name="menu_contacts">res/drawable-mdpi-v4/menu_contacts.png</drawable>
-    <drawable name="menu_contacts">res/drawable-hdpi-v4/menu_contacts.png</drawable>
-    <drawable name="menu_contacts">res/drawable-xhdpi-v4/menu_contacts.png</drawable>
-    <drawable name="menu_contacts">res/drawable-xxhdpi-v4/menu_contacts.png</drawable>
-    <drawable name="menu_forum">res/drawable-mdpi-v4/menu_forum.png</drawable>
-    <drawable name="menu_forum">res/drawable-hdpi-v4/menu_forum.png</drawable>
-    <drawable name="menu_forum">res/drawable-xhdpi-v4/menu_forum.png</drawable>
-    <drawable name="menu_forum">res/drawable-xxhdpi-v4/menu_forum.png</drawable>
-    <drawable name="menu_help">res/drawable-mdpi-v4/menu_help.png</drawable>
-    <drawable name="menu_help">res/drawable-hdpi-v4/menu_help.png</drawable>
-    <drawable name="menu_help">res/drawable-xhdpi-v4/menu_help.png</drawable>
-    <drawable name="menu_help">res/drawable-xxhdpi-v4/menu_help.png</drawable>
-    <drawable name="menu_invite">res/drawable-mdpi-v4/menu_invite.png</drawable>
-    <drawable name="menu_invite">res/drawable-hdpi-v4/menu_invite.png</drawable>
-    <drawable name="menu_invite">res/drawable-xhdpi-v4/menu_invite.png</drawable>
-    <drawable name="menu_invite">res/drawable-xxhdpi-v4/menu_invite.png</drawable>
-    <drawable name="menu_newgroup">res/drawable-mdpi-v4/menu_newgroup.png</drawable>
-    <drawable name="menu_newgroup">res/drawable-hdpi-v4/menu_newgroup.png</drawable>
-    <drawable name="menu_newgroup">res/drawable-xhdpi-v4/menu_newgroup.png</drawable>
-    <drawable name="menu_newgroup">res/drawable-xxhdpi-v4/menu_newgroup.png</drawable>
-    <drawable name="menu_plus">res/drawable-mdpi-v4/menu_plus.png</drawable>
-    <drawable name="menu_plus">res/drawable-hdpi-v4/menu_plus.png</drawable>
-    <drawable name="menu_plus">res/drawable-xhdpi-v4/menu_plus.png</drawable>
-    <drawable name="menu_plus">res/drawable-xxhdpi-v4/menu_plus.png</drawable>
-    <drawable name="menu_secret">res/drawable-mdpi-v4/menu_secret.png</drawable>
-    <drawable name="menu_secret">res/drawable-hdpi-v4/menu_secret.png</drawable>
-    <drawable name="menu_secret">res/drawable-xhdpi-v4/menu_secret.png</drawable>
-    <drawable name="menu_secret">res/drawable-xxhdpi-v4/menu_secret.png</drawable>
-    <drawable name="menu_settings">res/drawable-mdpi-v4/menu_settings.png</drawable>
-    <drawable name="menu_settings">res/drawable-hdpi-v4/menu_settings.png</drawable>
-    <drawable name="menu_settings">res/drawable-xhdpi-v4/menu_settings.png</drawable>
-    <drawable name="menu_settings">res/drawable-xxhdpi-v4/menu_settings.png</drawable>
-    <drawable name="menu_shadow">res/drawable-mdpi-v4/menu_shadow.png</drawable>
-    <drawable name="menu_shadow">res/drawable-hdpi-v4/menu_shadow.png</drawable>
-    <drawable name="menu_shadow">res/drawable-xhdpi-v4/menu_shadow.png</drawable>
-    <drawable name="menu_shadow">res/drawable-xxhdpi-v4/menu_shadow.png</drawable>
-    <drawable name="menu_themes">res/drawable-mdpi-v4/menu_themes.png</drawable>
-    <drawable name="menu_themes">res/drawable-hdpi-v4/menu_themes.png</drawable>
-    <drawable name="menu_themes">res/drawable-xhdpi-v4/menu_themes.png</drawable>
-    <drawable name="menu_themes">res/drawable-xxhdpi-v4/menu_themes.png</drawable>
-    <drawable name="menu_theming">res/drawable-mdpi-v4/menu_theming.png</drawable>
-    <drawable name="menu_theming">res/drawable-hdpi-v4/menu_theming.png</drawable>
-    <drawable name="menu_theming">res/drawable-xhdpi-v4/menu_theming.png</drawable>
-    <drawable name="menu_theming">res/drawable-xxhdpi-v4/menu_theming.png</drawable>
-    <drawable name="mic">res/drawable-mdpi-v4/mic.png</drawable>
-    <drawable name="mic">res/drawable-hdpi-v4/mic.png</drawable>
-    <drawable name="mic">res/drawable-xhdpi-v4/mic.png</drawable>
-    <drawable name="mic">res/drawable-xxhdpi-v4/mic.png</drawable>
-    <drawable name="mic_pressed_white">res/drawable-mdpi-v4/mic_pressed_white.png</drawable>
-    <drawable name="mic_white">res/drawable-hdpi-v4/mic_white.png</drawable>
-    <drawable name="mic_white">res/drawable-xhdpi-v4/mic_white.png</drawable>
-    <drawable name="mic_white">res/drawable-xxhdpi-v4/mic_white.png</drawable>
-    <drawable name="miniplayer_close">res/drawable-mdpi-v4/miniplayer_close.png</drawable>
-    <drawable name="miniplayer_close">res/drawable-hdpi-v4/miniplayer_close.png</drawable>
-    <drawable name="miniplayer_close">res/drawable-xhdpi-v4/miniplayer_close.png</drawable>
-    <drawable name="miniplayer_close">res/drawable-xxhdpi-v4/miniplayer_close.png</drawable>
-    <drawable name="miniplayer_pause">res/drawable-mdpi-v4/miniplayer_pause.png</drawable>
-    <drawable name="miniplayer_pause">res/drawable-hdpi-v4/miniplayer_pause.png</drawable>
-    <drawable name="miniplayer_pause">res/drawable-xhdpi-v4/miniplayer_pause.png</drawable>
-    <drawable name="miniplayer_pause">res/drawable-xxhdpi-v4/miniplayer_pause.png</drawable>
-    <drawable name="miniplayer_play">res/drawable-mdpi-v4/miniplayer_play.png</drawable>
-    <drawable name="miniplayer_play">res/drawable-hdpi-v4/miniplayer_play.png</drawable>
-    <drawable name="miniplayer_play">res/drawable-xhdpi-v4/miniplayer_play.png</drawable>
-    <drawable name="miniplayer_play">res/drawable-xxhdpi-v4/miniplayer_play.png</drawable>
-    <drawable name="msg_actions">res/drawable-mdpi-v4/msg_actions.png</drawable>
-    <drawable name="msg_actions">res/drawable-hdpi-v4/msg_actions.png</drawable>
-    <drawable name="msg_actions">res/drawable-xhdpi-v4/msg_actions.png</drawable>
-    <drawable name="msg_actions">res/drawable-xxhdpi-v4/msg_actions.png</drawable>
-    <drawable name="msg_check">res/drawable-mdpi-v4/msg_check.png</drawable>
-    <drawable name="msg_check">res/drawable-hdpi-v4/msg_check.png</drawable>
-    <drawable name="msg_check">res/drawable-xhdpi-v4/msg_check.png</drawable>
-    <drawable name="msg_check">res/drawable-xxhdpi-v4/msg_check.png</drawable>
-    <drawable name="msg_check_w">res/drawable-hdpi-v4/msg_check_w.png</drawable>
-    <drawable name="msg_check_w_10">res/drawable-mdpi-v4/msg_check_w_10.png</drawable>
-    <drawable name="msg_check_w_10">res/drawable-hdpi-v4/msg_check_w_10.png</drawable>
-    <drawable name="msg_check_w_10">res/drawable-xhdpi-v4/msg_check_w_10.png</drawable>
-    <drawable name="msg_check_w_10">res/drawable-xxhdpi-v4/msg_check_w_10.png</drawable>
-    <drawable name="msg_check_w_11">res/drawable-mdpi-v4/msg_check_w_11.png</drawable>
-    <drawable name="msg_check_w_11">res/drawable-hdpi-v4/msg_check_w_11.png</drawable>
-    <drawable name="msg_check_w_11">res/drawable-xhdpi-v4/msg_check_w_11.png</drawable>
-    <drawable name="msg_check_w_11">res/drawable-xxhdpi-v4/msg_check_w_11.png</drawable>
-    <drawable name="msg_check_w_12">res/drawable-mdpi-v4/msg_check_w_12.png</drawable>
-    <drawable name="msg_check_w_12">res/drawable-hdpi-v4/msg_check_w_12.png</drawable>
-    <drawable name="msg_check_w_12">res/drawable-xhdpi-v4/msg_check_w_12.png</drawable>
-    <drawable name="msg_check_w_12">res/drawable-xxhdpi-v4/msg_check_w_12.png</drawable>
-    <drawable name="msg_check_w_2">res/drawable-mdpi-v4/msg_check_w_2.png</drawable>
-    <drawable name="msg_check_w_2">res/drawable-hdpi-v4/msg_check_w_2.png</drawable>
-    <drawable name="msg_check_w_2">res/drawable-xhdpi-v4/msg_check_w_2.png</drawable>
-    <drawable name="msg_check_w_2">res/drawable-xxhdpi-v4/msg_check_w_2.png</drawable>
-    <drawable name="msg_check_w_3">res/drawable-mdpi-v4/msg_check_w_3.png</drawable>
-    <drawable name="msg_check_w_3">res/drawable-hdpi-v4/msg_check_w_3.png</drawable>
-    <drawable name="msg_check_w_3">res/drawable-xhdpi-v4/msg_check_w_3.png</drawable>
-    <drawable name="msg_check_w_3">res/drawable-xxhdpi-v4/msg_check_w_3.png</drawable>
-    <drawable name="msg_check_w_4">res/drawable-mdpi-v4/msg_check_w_4.png</drawable>
-    <drawable name="msg_check_w_4">res/drawable-hdpi-v4/msg_check_w_4.png</drawable>
-    <drawable name="msg_check_w_4">res/drawable-xhdpi-v4/msg_check_w_4.png</drawable>
-    <drawable name="msg_check_w_4">res/drawable-xxhdpi-v4/msg_check_w_4.png</drawable>
-    <drawable name="msg_check_w_5">res/drawable-mdpi-v4/msg_check_w_5.png</drawable>
-    <drawable name="msg_check_w_5">res/drawable-hdpi-v4/msg_check_w_5.png</drawable>
-    <drawable name="msg_check_w_5">res/drawable-xhdpi-v4/msg_check_w_5.png</drawable>
-    <drawable name="msg_check_w_5">res/drawable-xxhdpi-v4/msg_check_w_5.png</drawable>
-    <drawable name="msg_check_w_6">res/drawable-mdpi-v4/msg_check_w_6.png</drawable>
-    <drawable name="msg_check_w_6">res/drawable-hdpi-v4/msg_check_w_6.png</drawable>
-    <drawable name="msg_check_w_6">res/drawable-xhdpi-v4/msg_check_w_6.png</drawable>
-    <drawable name="msg_check_w_6">res/drawable-xxhdpi-v4/msg_check_w_6.png</drawable>
-    <drawable name="msg_check_w_7">res/drawable-mdpi-v4/msg_check_w_7.png</drawable>
-    <drawable name="msg_check_w_7">res/drawable-hdpi-v4/msg_check_w_7.png</drawable>
-    <drawable name="msg_check_w_7">res/drawable-xhdpi-v4/msg_check_w_7.png</drawable>
-    <drawable name="msg_check_w_7">res/drawable-xxhdpi-v4/msg_check_w_7.png</drawable>
-    <drawable name="msg_check_w_8">res/drawable-mdpi-v4/msg_check_w_8.png</drawable>
-    <drawable name="msg_check_w_8">res/drawable-hdpi-v4/msg_check_w_8.png</drawable>
-    <drawable name="msg_check_w_8">res/drawable-xhdpi-v4/msg_check_w_8.png</drawable>
-    <drawable name="msg_check_w_8">res/drawable-xxhdpi-v4/msg_check_w_8.png</drawable>
-    <drawable name="msg_check_w_9">res/drawable-mdpi-v4/msg_check_w_9.png</drawable>
-    <drawable name="msg_check_w_9">res/drawable-hdpi-v4/msg_check_w_9.png</drawable>
-    <drawable name="msg_check_w_9">res/drawable-xhdpi-v4/msg_check_w_9.png</drawable>
-    <drawable name="msg_check_w_9">res/drawable-xxhdpi-v4/msg_check_w_9.png</drawable>
-    <drawable name="msg_clock">res/drawable-mdpi-v4/msg_clock.png</drawable>
-    <drawable name="msg_clock">res/drawable-hdpi-v4/msg_clock.png</drawable>
-    <drawable name="msg_clock">res/drawable-xhdpi-v4/msg_clock.png</drawable>
-    <drawable name="msg_clock">res/drawable-xxhdpi-v4/msg_clock.png</drawable>
-    <drawable name="msg_contact">res/drawable-mdpi-v4/msg_contact.png</drawable>
-    <drawable name="msg_contact">res/drawable-hdpi-v4/msg_contact.png</drawable>
-    <drawable name="msg_contact">res/drawable-xhdpi-v4/msg_contact.png</drawable>
-    <drawable name="msg_contact">res/drawable-xxhdpi-v4/msg_contact.png</drawable>
-    <drawable name="msg_halfcheck">res/drawable-mdpi-v4/msg_halfcheck.png</drawable>
-    <drawable name="msg_halfcheck">res/drawable-hdpi-v4/msg_halfcheck.png</drawable>
-    <drawable name="msg_halfcheck">res/drawable-xhdpi-v4/msg_halfcheck.png</drawable>
-    <drawable name="msg_halfcheck">res/drawable-xxhdpi-v4/msg_halfcheck.png</drawable>
-    <drawable name="msg_halfcheck_w">res/drawable-mdpi-v4/msg_halfcheck_w.png</drawable>
-    <drawable name="msg_halfcheck_w_10">res/drawable-mdpi-v4/msg_halfcheck_w_10.png</drawable>
-    <drawable name="msg_halfcheck_w_10">res/drawable-hdpi-v4/msg_halfcheck_w_10.png</drawable>
-    <drawable name="msg_halfcheck_w_10">res/drawable-xhdpi-v4/msg_halfcheck_w_10.png</drawable>
-    <drawable name="msg_halfcheck_w_10">res/drawable-xxhdpi-v4/msg_halfcheck_w_10.png</drawable>
-    <drawable name="msg_halfcheck_w_11">res/drawable-mdpi-v4/msg_halfcheck_w_11.png</drawable>
-    <drawable name="msg_halfcheck_w_11">res/drawable-hdpi-v4/msg_halfcheck_w_11.png</drawable>
-    <drawable name="msg_halfcheck_w_11">res/drawable-xhdpi-v4/msg_halfcheck_w_11.png</drawable>
-    <drawable name="msg_halfcheck_w_11">res/drawable-xxhdpi-v4/msg_halfcheck_w_11.png</drawable>
-    <drawable name="msg_halfcheck_w_12">res/drawable-mdpi-v4/msg_halfcheck_w_12.png</drawable>
-    <drawable name="msg_halfcheck_w_12">res/drawable-hdpi-v4/msg_halfcheck_w_12.png</drawable>
-    <drawable name="msg_halfcheck_w_12">res/drawable-xhdpi-v4/msg_halfcheck_w_12.png</drawable>
-    <drawable name="msg_halfcheck_w_12">res/drawable-xxhdpi-v4/msg_halfcheck_w_12.png</drawable>
-    <drawable name="msg_halfcheck_w_13">res/drawable-hdpi-v4/msg_halfcheck_w_13.png</drawable>
-    <drawable name="msg_halfcheck_w_2">res/drawable-mdpi-v4/msg_halfcheck_w_2.png</drawable>
-    <drawable name="msg_halfcheck_w_2">res/drawable-hdpi-v4/msg_halfcheck_w_2.png</drawable>
-    <drawable name="msg_halfcheck_w_2">res/drawable-xhdpi-v4/msg_halfcheck_w_2.png</drawable>
-    <drawable name="msg_halfcheck_w_2">res/drawable-xxhdpi-v4/msg_halfcheck_w_2.png</drawable>
-    <drawable name="msg_halfcheck_w_3">res/drawable-mdpi-v4/msg_halfcheck_w_3.png</drawable>
-    <drawable name="msg_halfcheck_w_3">res/drawable-hdpi-v4/msg_halfcheck_w_3.png</drawable>
-    <drawable name="msg_halfcheck_w_3">res/drawable-xhdpi-v4/msg_halfcheck_w_3.png</drawable>
-    <drawable name="msg_halfcheck_w_3">res/drawable-xxhdpi-v4/msg_halfcheck_w_3.png</drawable>
-    <drawable name="msg_halfcheck_w_4">res/drawable-mdpi-v4/msg_halfcheck_w_4.png</drawable>
-    <drawable name="msg_halfcheck_w_4">res/drawable-hdpi-v4/msg_halfcheck_w_4.png</drawable>
-    <drawable name="msg_halfcheck_w_4">res/drawable-xhdpi-v4/msg_halfcheck_w_4.png</drawable>
-    <drawable name="msg_halfcheck_w_4">res/drawable-xxhdpi-v4/msg_halfcheck_w_4.png</drawable>
-    <drawable name="msg_halfcheck_w_5">res/drawable-mdpi-v4/msg_halfcheck_w_5.png</drawable>
-    <drawable name="msg_halfcheck_w_5">res/drawable-hdpi-v4/msg_halfcheck_w_5.png</drawable>
-    <drawable name="msg_halfcheck_w_5">res/drawable-xhdpi-v4/msg_halfcheck_w_5.png</drawable>
-    <drawable name="msg_halfcheck_w_5">res/drawable-xxhdpi-v4/msg_halfcheck_w_5.png</drawable>
-    <drawable name="msg_halfcheck_w_6">res/drawable-mdpi-v4/msg_halfcheck_w_6.png</drawable>
-    <drawable name="msg_halfcheck_w_6">res/drawable-hdpi-v4/msg_halfcheck_w_6.png</drawable>
-    <drawable name="msg_halfcheck_w_6">res/drawable-xhdpi-v4/msg_halfcheck_w_6.png</drawable>
-    <drawable name="msg_halfcheck_w_6">res/drawable-xxhdpi-v4/msg_halfcheck_w_6.png</drawable>
-    <drawable name="msg_halfcheck_w_7">res/drawable-mdpi-v4/msg_halfcheck_w_7.png</drawable>
-    <drawable name="msg_halfcheck_w_7">res/drawable-hdpi-v4/msg_halfcheck_w_7.png</drawable>
-    <drawable name="msg_halfcheck_w_7">res/drawable-xhdpi-v4/msg_halfcheck_w_7.png</drawable>
-    <drawable name="msg_halfcheck_w_7">res/drawable-xxhdpi-v4/msg_halfcheck_w_7.png</drawable>
-    <drawable name="msg_halfcheck_w_8">res/drawable-mdpi-v4/msg_halfcheck_w_8.png</drawable>
-    <drawable name="msg_halfcheck_w_8">res/drawable-hdpi-v4/msg_halfcheck_w_8.png</drawable>
-    <drawable name="msg_halfcheck_w_8">res/drawable-xhdpi-v4/msg_halfcheck_w_8.png</drawable>
-    <drawable name="msg_halfcheck_w_8">res/drawable-xxhdpi-v4/msg_halfcheck_w_8.png</drawable>
-    <drawable name="msg_halfcheck_w_9">res/drawable-mdpi-v4/msg_halfcheck_w_9.png</drawable>
-    <drawable name="msg_halfcheck_w_9">res/drawable-hdpi-v4/msg_halfcheck_w_9.png</drawable>
-    <drawable name="msg_halfcheck_w_9">res/drawable-xhdpi-v4/msg_halfcheck_w_9.png</drawable>
-    <drawable name="msg_halfcheck_w_9">res/drawable-xxhdpi-v4/msg_halfcheck_w_9.png</drawable>
-    <drawable name="msg_in">res/drawable-mdpi-v4/msg_in.9.png</drawable>
-    <drawable name="msg_in">res/drawable-hdpi-v4/msg_in.9.png</drawable>
-    <drawable name="msg_in">res/drawable-xhdpi-v4/msg_in.9.png</drawable>
-    <drawable name="msg_in">res/drawable-xxhdpi-v4/msg_in.9.png</drawable>
-    <drawable name="msg_in_10">res/drawable-mdpi-v4/msg_in_10.9.png</drawable>
-    <drawable name="msg_in_10">res/drawable-hdpi-v4/msg_in_10.9.png</drawable>
-    <drawable name="msg_in_10">res/drawable-xhdpi-v4/msg_in_10.9.png</drawable>
-    <drawable name="msg_in_10">res/drawable-xxhdpi-v4/msg_in_10.9.png</drawable>
-    <drawable name="msg_in_10_photo">res/drawable-mdpi-v4/msg_in_10_photo.9.png</drawable>
-    <drawable name="msg_in_10_photo">res/drawable-hdpi-v4/msg_in_10_photo.9.png</drawable>
-    <drawable name="msg_in_10_photo">res/drawable-xhdpi-v4/msg_in_10_photo.9.png</drawable>
-    <drawable name="msg_in_10_photo">res/drawable-xxhdpi-v4/msg_in_10_photo.9.png</drawable>
-    <drawable name="msg_in_10_photo_selected">res/drawable-mdpi-v4/msg_in_10_photo_selected.9.png</drawable>
-    <drawable name="msg_in_10_photo_selected">res/drawable-hdpi-v4/msg_in_10_photo_selected.9.png</drawable>
-    <drawable name="msg_in_10_photo_selected">res/drawable-xhdpi-v4/msg_in_10_photo_selected.9.png</drawable>
-    <drawable name="msg_in_10_photo_selected">res/drawable-xxhdpi-v4/msg_in_10_photo_selected.9.png</drawable>
-    <drawable name="msg_in_10_selected">res/drawable-mdpi-v4/msg_in_10_selected.9.png</drawable>
-    <drawable name="msg_in_10_selected">res/drawable-hdpi-v4/msg_in_10_selected.9.png</drawable>
-    <drawable name="msg_in_10_selected">res/drawable-xhdpi-v4/msg_in_10_selected.9.png</drawable>
-    <drawable name="msg_in_10_selected">res/drawable-xxhdpi-v4/msg_in_10_selected.9.png</drawable>
-    <drawable name="msg_in_11">res/drawable-mdpi-v4/msg_in_11.9.png</drawable>
-    <drawable name="msg_in_11">res/drawable-hdpi-v4/msg_in_11.9.png</drawable>
-    <drawable name="msg_in_11">res/drawable-xhdpi-v4/msg_in_11.9.png</drawable>
-    <drawable name="msg_in_11">res/drawable-xxhdpi-v4/msg_in_11.9.png</drawable>
-    <drawable name="msg_in_11_photo">res/drawable-mdpi-v4/msg_in_11_photo.9.png</drawable>
-    <drawable name="msg_in_11_photo">res/drawable-hdpi-v4/msg_in_11_photo.9.png</drawable>
-    <drawable name="msg_in_11_photo">res/drawable-xhdpi-v4/msg_in_11_photo.9.png</drawable>
-    <drawable name="msg_in_11_photo">res/drawable-xxhdpi-v4/msg_in_11_photo.9.png</drawable>
-    <drawable name="msg_in_11_photo_selected">res/drawable-mdpi-v4/msg_in_11_photo_selected.9.png</drawable>
-    <drawable name="msg_in_11_photo_selected">res/drawable-hdpi-v4/msg_in_11_photo_selected.9.png</drawable>
-    <drawable name="msg_in_11_photo_selected">res/drawable-xhdpi-v4/msg_in_11_photo_selected.9.png</drawable>
-    <drawable name="msg_in_11_photo_selected">res/drawable-xxhdpi-v4/msg_in_11_photo_selected.9.png</drawable>
-    <drawable name="msg_in_11_selected">res/drawable-mdpi-v4/msg_in_11_selected.9.png</drawable>
-    <drawable name="msg_in_11_selected">res/drawable-hdpi-v4/msg_in_11_selected.9.png</drawable>
-    <drawable name="msg_in_11_selected">res/drawable-xhdpi-v4/msg_in_11_selected.9.png</drawable>
-    <drawable name="msg_in_11_selected">res/drawable-xxhdpi-v4/msg_in_11_selected.9.png</drawable>
-    <drawable name="msg_in_12">res/drawable-mdpi-v4/msg_in_12.9.png</drawable>
-    <drawable name="msg_in_12">res/drawable-hdpi-v4/msg_in_12.9.png</drawable>
-    <drawable name="msg_in_12">res/drawable-xhdpi-v4/msg_in_12.9.png</drawable>
-    <drawable name="msg_in_12">res/drawable-xxhdpi-v4/msg_in_12.9.png</drawable>
-    <drawable name="msg_in_12_photo">res/drawable-mdpi-v4/msg_in_12_photo.9.png</drawable>
-    <drawable name="msg_in_12_photo">res/drawable-hdpi-v4/msg_in_12_photo.9.png</drawable>
-    <drawable name="msg_in_12_photo">res/drawable-xhdpi-v4/msg_in_12_photo.9.png</drawable>
-    <drawable name="msg_in_12_photo">res/drawable-xxhdpi-v4/msg_in_12_photo.9.png</drawable>
-    <drawable name="msg_in_12_photo_selected">res/drawable-mdpi-v4/msg_in_12_photo_selected.9.png</drawable>
-    <drawable name="msg_in_12_photo_selected">res/drawable-hdpi-v4/msg_in_12_photo_selected.9.png</drawable>
-    <drawable name="msg_in_12_photo_selected">res/drawable-xhdpi-v4/msg_in_12_photo_selected.9.png</drawable>
-    <drawable name="msg_in_12_photo_selected">res/drawable-xxhdpi-v4/msg_in_12_photo_selected.9.png</drawable>
-    <drawable name="msg_in_12_selected">res/drawable-mdpi-v4/msg_in_12_selected.9.png</drawable>
-    <drawable name="msg_in_12_selected">res/drawable-hdpi-v4/msg_in_12_selected.9.png</drawable>
-    <drawable name="msg_in_12_selected">res/drawable-xhdpi-v4/msg_in_12_selected.9.png</drawable>
-    <drawable name="msg_in_12_selected">res/drawable-xxhdpi-v4/msg_in_12_selected.9.png</drawable>
-    <drawable name="msg_in_13">res/drawable-mdpi-v4/msg_in_13.9.png</drawable>
-    <drawable name="msg_in_13">res/drawable-hdpi-v4/msg_in_13.9.png</drawable>
-    <drawable name="msg_in_13">res/drawable-xhdpi-v4/msg_in_13.9.png</drawable>
-    <drawable name="msg_in_13">res/drawable-xxhdpi-v4/msg_in_13.9.png</drawable>
-    <drawable name="msg_in_13_photo">res/drawable-mdpi-v4/msg_in_13_photo.9.png</drawable>
-    <drawable name="msg_in_13_photo">res/drawable-hdpi-v4/msg_in_13_photo.9.png</drawable>
-    <drawable name="msg_in_13_photo">res/drawable-xhdpi-v4/msg_in_13_photo.9.png</drawable>
-    <drawable name="msg_in_13_photo">res/drawable-xxhdpi-v4/msg_in_13_photo.9.png</drawable>
-    <drawable name="msg_in_13_photo_selected">res/drawable-mdpi-v4/msg_in_13_photo_selected.9.png</drawable>
-    <drawable name="msg_in_13_photo_selected">res/drawable-hdpi-v4/msg_in_13_photo_selected.9.png</drawable>
-    <drawable name="msg_in_13_photo_selected">res/drawable-xhdpi-v4/msg_in_13_photo_selected.9.png</drawable>
-    <drawable name="msg_in_13_photo_selected">res/drawable-xxhdpi-v4/msg_in_13_photo_selected.9.png</drawable>
-    <drawable name="msg_in_13_selected">res/drawable-mdpi-v4/msg_in_13_selected.9.png</drawable>
-    <drawable name="msg_in_13_selected">res/drawable-hdpi-v4/msg_in_13_selected.9.png</drawable>
-    <drawable name="msg_in_13_selected">res/drawable-xhdpi-v4/msg_in_13_selected.9.png</drawable>
-    <drawable name="msg_in_13_selected">res/drawable-xxhdpi-v4/msg_in_13_selected.9.png</drawable>
-    <drawable name="msg_in_2">res/drawable-mdpi-v4/msg_in_2.9.png</drawable>
-    <drawable name="msg_in_2">res/drawable-hdpi-v4/msg_in_2.9.png</drawable>
-    <drawable name="msg_in_2">res/drawable-xhdpi-v4/msg_in_2.9.png</drawable>
-    <drawable name="msg_in_2">res/drawable-xxhdpi-v4/msg_in_2.9.png</drawable>
-    <drawable name="msg_in_2_photo">res/drawable-mdpi-v4/msg_in_2_photo.9.png</drawable>
-    <drawable name="msg_in_2_photo">res/drawable-hdpi-v4/msg_in_2_photo.9.png</drawable>
-    <drawable name="msg_in_2_photo">res/drawable-xhdpi-v4/msg_in_2_photo.9.png</drawable>
-    <drawable name="msg_in_2_photo">res/drawable-xxhdpi-v4/msg_in_2_photo.9.png</drawable>
-    <drawable name="msg_in_2_photo_selected">res/drawable-mdpi-v4/msg_in_2_photo_selected.9.png</drawable>
-    <drawable name="msg_in_2_photo_selected">res/drawable-hdpi-v4/msg_in_2_photo_selected.9.png</drawable>
-    <drawable name="msg_in_2_photo_selected">res/drawable-xhdpi-v4/msg_in_2_photo_selected.9.png</drawable>
-    <drawable name="msg_in_2_photo_selected">res/drawable-xxhdpi-v4/msg_in_2_photo_selected.9.png</drawable>
-    <drawable name="msg_in_2_selected">res/drawable-mdpi-v4/msg_in_2_selected.9.png</drawable>
-    <drawable name="msg_in_2_selected">res/drawable-hdpi-v4/msg_in_2_selected.9.png</drawable>
-    <drawable name="msg_in_2_selected">res/drawable-xhdpi-v4/msg_in_2_selected.9.png</drawable>
-    <drawable name="msg_in_2_selected">res/drawable-xxhdpi-v4/msg_in_2_selected.9.png</drawable>
-    <drawable name="msg_in_3">res/drawable-mdpi-v4/msg_in_3.9.png</drawable>
-    <drawable name="msg_in_3">res/drawable-hdpi-v4/msg_in_3.9.png</drawable>
-    <drawable name="msg_in_3">res/drawable-xhdpi-v4/msg_in_3.9.png</drawable>
-    <drawable name="msg_in_3">res/drawable-xxhdpi-v4/msg_in_3.9.png</drawable>
-    <drawable name="msg_in_3_photo">res/drawable-mdpi-v4/msg_in_3_photo.9.png</drawable>
-    <drawable name="msg_in_3_photo">res/drawable-hdpi-v4/msg_in_3_photo.9.png</drawable>
-    <drawable name="msg_in_3_photo">res/drawable-xhdpi-v4/msg_in_3_photo.9.png</drawable>
-    <drawable name="msg_in_3_photo">res/drawable-xxhdpi-v4/msg_in_3_photo.9.png</drawable>
-    <drawable name="msg_in_3_photo_selected">res/drawable-mdpi-v4/msg_in_3_photo_selected.9.png</drawable>
-    <drawable name="msg_in_3_photo_selected">res/drawable-hdpi-v4/msg_in_3_photo_selected.9.png</drawable>
-    <drawable name="msg_in_3_photo_selected">res/drawable-xhdpi-v4/msg_in_3_photo_selected.9.png</drawable>
-    <drawable name="msg_in_3_photo_selected">res/drawable-xxhdpi-v4/msg_in_3_photo_selected.9.png</drawable>
-    <drawable name="msg_in_3_selected">res/drawable-mdpi-v4/msg_in_3_selected.9.png</drawable>
-    <drawable name="msg_in_3_selected">res/drawable-hdpi-v4/msg_in_3_selected.9.png</drawable>
-    <drawable name="msg_in_3_selected">res/drawable-xhdpi-v4/msg_in_3_selected.9.png</drawable>
-    <drawable name="msg_in_3_selected">res/drawable-xxhdpi-v4/msg_in_3_selected.9.png</drawable>
-    <drawable name="msg_in_4">res/drawable-mdpi-v4/msg_in_4.9.png</drawable>
-    <drawable name="msg_in_4">res/drawable-hdpi-v4/msg_in_4.9.png</drawable>
-    <drawable name="msg_in_4">res/drawable-xhdpi-v4/msg_in_4.9.png</drawable>
-    <drawable name="msg_in_4">res/drawable-xxhdpi-v4/msg_in_4.9.png</drawable>
-    <drawable name="msg_in_4_photo">res/drawable-mdpi-v4/msg_in_4_photo.9.png</drawable>
-    <drawable name="msg_in_4_photo">res/drawable-hdpi-v4/msg_in_4_photo.9.png</drawable>
-    <drawable name="msg_in_4_photo">res/drawable-xhdpi-v4/msg_in_4_photo.9.png</drawable>
-    <drawable name="msg_in_4_photo">res/drawable-xxhdpi-v4/msg_in_4_photo.9.png</drawable>
-    <drawable name="msg_in_4_photo_selected">res/drawable-mdpi-v4/msg_in_4_photo_selected.9.png</drawable>
-    <drawable name="msg_in_4_photo_selected">res/drawable-hdpi-v4/msg_in_4_photo_selected.9.png</drawable>
-    <drawable name="msg_in_4_photo_selected">res/drawable-xhdpi-v4/msg_in_4_photo_selected.9.png</drawable>
-    <drawable name="msg_in_4_photo_selected">res/drawable-xxhdpi-v4/msg_in_4_photo_selected.9.png</drawable>
-    <drawable name="msg_in_4_selected">res/drawable-mdpi-v4/msg_in_4_selected.9.png</drawable>
-    <drawable name="msg_in_4_selected">res/drawable-hdpi-v4/msg_in_4_selected.9.png</drawable>
-    <drawable name="msg_in_4_selected">res/drawable-xhdpi-v4/msg_in_4_selected.9.png</drawable>
-    <drawable name="msg_in_4_selected">res/drawable-xxhdpi-v4/msg_in_4_selected.9.png</drawable>
-    <drawable name="msg_in_5">res/drawable-mdpi-v4/msg_in_5.9.png</drawable>
-    <drawable name="msg_in_5">res/drawable-hdpi-v4/msg_in_5.9.png</drawable>
-    <drawable name="msg_in_5">res/drawable-xhdpi-v4/msg_in_5.9.png</drawable>
-    <drawable name="msg_in_5">res/drawable-xxhdpi-v4/msg_in_5.9.png</drawable>
-    <drawable name="msg_in_5_photo">res/drawable-mdpi-v4/msg_in_5_photo.9.png</drawable>
-    <drawable name="msg_in_5_photo">res/drawable-hdpi-v4/msg_in_5_photo.9.png</drawable>
-    <drawable name="msg_in_5_photo">res/drawable-xhdpi-v4/msg_in_5_photo.9.png</drawable>
-    <drawable name="msg_in_5_photo">res/drawable-xxhdpi-v4/msg_in_5_photo.9.png</drawable>
-    <drawable name="msg_in_5_photo_selected">res/drawable-mdpi-v4/msg_in_5_photo_selected.9.png</drawable>
-    <drawable name="msg_in_5_photo_selected">res/drawable-hdpi-v4/msg_in_5_photo_selected.9.png</drawable>
-    <drawable name="msg_in_5_photo_selected">res/drawable-xhdpi-v4/msg_in_5_photo_selected.9.png</drawable>
-    <drawable name="msg_in_5_photo_selected">res/drawable-xxhdpi-v4/msg_in_5_photo_selected.9.png</drawable>
-    <drawable name="msg_in_5_selected">res/drawable-mdpi-v4/msg_in_5_selected.9.png</drawable>
-    <drawable name="msg_in_5_selected">res/drawable-hdpi-v4/msg_in_5_selected.9.png</drawable>
-    <drawable name="msg_in_5_selected">res/drawable-xhdpi-v4/msg_in_5_selected.9.png</drawable>
-    <drawable name="msg_in_5_selected">res/drawable-xxhdpi-v4/msg_in_5_selected.9.png</drawable>
-    <drawable name="msg_in_6">res/drawable-mdpi-v4/msg_in_6.9.png</drawable>
-    <drawable name="msg_in_6">res/drawable-hdpi-v4/msg_in_6.9.png</drawable>
-    <drawable name="msg_in_6">res/drawable-xhdpi-v4/msg_in_6.9.png</drawable>
-    <drawable name="msg_in_6">res/drawable-xxhdpi-v4/msg_in_6.9.png</drawable>
-    <drawable name="msg_in_6_photo">res/drawable-mdpi-v4/msg_in_6_photo.9.png</drawable>
-    <drawable name="msg_in_6_photo">res/drawable-hdpi-v4/msg_in_6_photo.9.png</drawable>
-    <drawable name="msg_in_6_photo">res/drawable-xhdpi-v4/msg_in_6_photo.9.png</drawable>
-    <drawable name="msg_in_6_photo">res/drawable-xxhdpi-v4/msg_in_6_photo.9.png</drawable>
-    <drawable name="msg_in_6_photo_selected">res/drawable-mdpi-v4/msg_in_6_photo_selected.9.png</drawable>
-    <drawable name="msg_in_6_photo_selected">res/drawable-hdpi-v4/msg_in_6_photo_selected.9.png</drawable>
-    <drawable name="msg_in_6_photo_selected">res/drawable-xhdpi-v4/msg_in_6_photo_selected.9.png</drawable>
-    <drawable name="msg_in_6_photo_selected">res/drawable-xxhdpi-v4/msg_in_6_photo_selected.9.png</drawable>
-    <drawable name="msg_in_6_selected">res/drawable-mdpi-v4/msg_in_6_selected.9.png</drawable>
-    <drawable name="msg_in_6_selected">res/drawable-hdpi-v4/msg_in_6_selected.9.png</drawable>
-    <drawable name="msg_in_6_selected">res/drawable-xhdpi-v4/msg_in_6_selected.9.png</drawable>
-    <drawable name="msg_in_6_selected">res/drawable-xxhdpi-v4/msg_in_6_selected.9.png</drawable>
-    <drawable name="msg_in_7">res/drawable-mdpi-v4/msg_in_7.9.png</drawable>
-    <drawable name="msg_in_7">res/drawable-hdpi-v4/msg_in_7.9.png</drawable>
-    <drawable name="msg_in_7">res/drawable-xhdpi-v4/msg_in_7.9.png</drawable>
-    <drawable name="msg_in_7">res/drawable-xxhdpi-v4/msg_in_7.9.png</drawable>
-    <drawable name="msg_in_7_photo">res/drawable-mdpi-v4/msg_in_7_photo.9.png</drawable>
-    <drawable name="msg_in_7_photo">res/drawable-hdpi-v4/msg_in_7_photo.9.png</drawable>
-    <drawable name="msg_in_7_photo">res/drawable-xhdpi-v4/msg_in_7_photo.9.png</drawable>
-    <drawable name="msg_in_7_photo">res/drawable-xxhdpi-v4/msg_in_7_photo.9.png</drawable>
-    <drawable name="msg_in_7_photo_selected">res/drawable-mdpi-v4/msg_in_7_photo_selected.9.png</drawable>
-    <drawable name="msg_in_7_photo_selected">res/drawable-hdpi-v4/msg_in_7_photo_selected.9.png</drawable>
-    <drawable name="msg_in_7_photo_selected">res/drawable-xhdpi-v4/msg_in_7_photo_selected.9.png</drawable>
-    <drawable name="msg_in_7_photo_selected">res/drawable-xxhdpi-v4/msg_in_7_photo_selected.9.png</drawable>
-    <drawable name="msg_in_7_selected">res/drawable-mdpi-v4/msg_in_7_selected.9.png</drawable>
-    <drawable name="msg_in_7_selected">res/drawable-hdpi-v4/msg_in_7_selected.9.png</drawable>
-    <drawable name="msg_in_7_selected">res/drawable-xhdpi-v4/msg_in_7_selected.9.png</drawable>
-    <drawable name="msg_in_7_selected">res/drawable-xxhdpi-v4/msg_in_7_selected.9.png</drawable>
-    <drawable name="msg_in_8">res/drawable-mdpi-v4/msg_in_8.9.png</drawable>
-    <drawable name="msg_in_8">res/drawable-hdpi-v4/msg_in_8.9.png</drawable>
-    <drawable name="msg_in_8">res/drawable-xhdpi-v4/msg_in_8.9.png</drawable>
-    <drawable name="msg_in_8">res/drawable-xxhdpi-v4/msg_in_8.9.png</drawable>
-    <drawable name="msg_in_8_photo">res/drawable-mdpi-v4/msg_in_8_photo.9.png</drawable>
-    <drawable name="msg_in_8_photo">res/drawable-hdpi-v4/msg_in_8_photo.9.png</drawable>
-    <drawable name="msg_in_8_photo">res/drawable-xhdpi-v4/msg_in_8_photo.9.png</drawable>
-    <drawable name="msg_in_8_photo">res/drawable-xxhdpi-v4/msg_in_8_photo.9.png</drawable>
-    <drawable name="msg_in_8_photo_selected">res/drawable-mdpi-v4/msg_in_8_photo_selected.9.png</drawable>
-    <drawable name="msg_in_8_photo_selected">res/drawable-hdpi-v4/msg_in_8_photo_selected.9.png</drawable>
-    <drawable name="msg_in_8_photo_selected">res/drawable-xhdpi-v4/msg_in_8_photo_selected.9.png</drawable>
-    <drawable name="msg_in_8_photo_selected">res/drawable-xxhdpi-v4/msg_in_8_photo_selected.9.png</drawable>
-    <drawable name="msg_in_8_selected">res/drawable-mdpi-v4/msg_in_8_selected.9.png</drawable>
-    <drawable name="msg_in_8_selected">res/drawable-hdpi-v4/msg_in_8_selected.9.png</drawable>
-    <drawable name="msg_in_8_selected">res/drawable-xhdpi-v4/msg_in_8_selected.9.png</drawable>
-    <drawable name="msg_in_8_selected">res/drawable-xxhdpi-v4/msg_in_8_selected.9.png</drawable>
-    <drawable name="msg_in_9">res/drawable-mdpi-v4/msg_in_9.9.png</drawable>
-    <drawable name="msg_in_9">res/drawable-hdpi-v4/msg_in_9.9.png</drawable>
-    <drawable name="msg_in_9">res/drawable-xhdpi-v4/msg_in_9.9.png</drawable>
-    <drawable name="msg_in_9">res/drawable-xxhdpi-v4/msg_in_9.9.png</drawable>
-    <drawable name="msg_in_9_photo">res/drawable-mdpi-v4/msg_in_9_photo.9.png</drawable>
-    <drawable name="msg_in_9_photo">res/drawable-hdpi-v4/msg_in_9_photo.9.png</drawable>
-    <drawable name="msg_in_9_photo">res/drawable-xhdpi-v4/msg_in_9_photo.9.png</drawable>
-    <drawable name="msg_in_9_photo">res/drawable-xxhdpi-v4/msg_in_9_photo.9.png</drawable>
-    <drawable name="msg_in_9_photo_selected">res/drawable-mdpi-v4/msg_in_9_photo_selected.9.png</drawable>
-    <drawable name="msg_in_9_photo_selected">res/drawable-hdpi-v4/msg_in_9_photo_selected.9.png</drawable>
-    <drawable name="msg_in_9_photo_selected">res/drawable-xhdpi-v4/msg_in_9_photo_selected.9.png</drawable>
-    <drawable name="msg_in_9_photo_selected">res/drawable-xxhdpi-v4/msg_in_9_photo_selected.9.png</drawable>
-    <drawable name="msg_in_9_selected">res/drawable-mdpi-v4/msg_in_9_selected.9.png</drawable>
-    <drawable name="msg_in_9_selected">res/drawable-hdpi-v4/msg_in_9_selected.9.png</drawable>
-    <drawable name="msg_in_9_selected">res/drawable-xhdpi-v4/msg_in_9_selected.9.png</drawable>
-    <drawable name="msg_in_9_selected">res/drawable-xxhdpi-v4/msg_in_9_selected.9.png</drawable>
-    <drawable name="msg_in_shadow">res/drawable-mdpi-v4/msg_in_shadow.9.png</drawable>
-    <drawable name="msg_in_shadow">res/drawable-hdpi-v4/msg_in_shadow.9.png</drawable>
-    <drawable name="msg_in_shadow">res/drawable-xhdpi-v4/msg_in_shadow.9.png</drawable>
-    <drawable name="msg_in_shadow">res/drawable-xxhdpi-v4/msg_in_shadow.9.png</drawable>
-    <drawable name="msg_instant">res/drawable-mdpi-v4/msg_instant.png</drawable>
-    <drawable name="msg_instant">res/drawable-hdpi-v4/msg_instant.png</drawable>
-    <drawable name="msg_instant">res/drawable-xhdpi-v4/msg_instant.png</drawable>
-    <drawable name="msg_instant">res/drawable-xxhdpi-v4/msg_instant.png</drawable>
-    <drawable name="msg_location">res/drawable-mdpi-v4/msg_location.png</drawable>
-    <drawable name="msg_location">res/drawable-hdpi-v4/msg_location.png</drawable>
-    <drawable name="msg_location">res/drawable-xhdpi-v4/msg_location.png</drawable>
-    <drawable name="msg_location">res/drawable-xxhdpi-v4/msg_location.png</drawable>
-    <drawable name="msg_out">res/drawable-mdpi-v4/msg_out.9.png</drawable>
-    <drawable name="msg_out">res/drawable-hdpi-v4/msg_out.9.png</drawable>
-    <drawable name="msg_out">res/drawable-xhdpi-v4/msg_out.9.png</drawable>
-    <drawable name="msg_out">res/drawable-xxhdpi-v4/msg_out.9.png</drawable>
-    <drawable name="msg_out_10">res/drawable-mdpi-v4/msg_out_10.9.png</drawable>
-    <drawable name="msg_out_10">res/drawable-hdpi-v4/msg_out_10.9.png</drawable>
-    <drawable name="msg_out_10">res/drawable-xhdpi-v4/msg_out_10.9.png</drawable>
-    <drawable name="msg_out_10">res/drawable-xxhdpi-v4/msg_out_10.9.png</drawable>
-    <drawable name="msg_out_10_photo">res/drawable-mdpi-v4/msg_out_10_photo.9.png</drawable>
-    <drawable name="msg_out_10_photo">res/drawable-hdpi-v4/msg_out_10_photo.9.png</drawable>
-    <drawable name="msg_out_10_photo">res/drawable-xhdpi-v4/msg_out_10_photo.9.png</drawable>
-    <drawable name="msg_out_10_photo">res/drawable-xxhdpi-v4/msg_out_10_photo.9.png</drawable>
-    <drawable name="msg_out_10_photo_selected">res/drawable-mdpi-v4/msg_out_10_photo_selected.9.png</drawable>
-    <drawable name="msg_out_10_photo_selected">res/drawable-hdpi-v4/msg_out_10_photo_selected.9.png</drawable>
-    <drawable name="msg_out_10_photo_selected">res/drawable-xhdpi-v4/msg_out_10_photo_selected.9.png</drawable>
-    <drawable name="msg_out_10_photo_selected">res/drawable-xxhdpi-v4/msg_out_10_photo_selected.9.png</drawable>
-    <drawable name="msg_out_10_selected">res/drawable-mdpi-v4/msg_out_10_selected.9.png</drawable>
-    <drawable name="msg_out_10_selected">res/drawable-hdpi-v4/msg_out_10_selected.9.png</drawable>
-    <drawable name="msg_out_10_selected">res/drawable-xhdpi-v4/msg_out_10_selected.9.png</drawable>
-    <drawable name="msg_out_10_selected">res/drawable-xxhdpi-v4/msg_out_10_selected.9.png</drawable>
-    <drawable name="msg_out_11">res/drawable-mdpi-v4/msg_out_11.9.png</drawable>
-    <drawable name="msg_out_11">res/drawable-hdpi-v4/msg_out_11.9.png</drawable>
-    <drawable name="msg_out_11">res/drawable-xhdpi-v4/msg_out_11.9.png</drawable>
-    <drawable name="msg_out_11">res/drawable-xxhdpi-v4/msg_out_11.9.png</drawable>
-    <drawable name="msg_out_11_photo">res/drawable-mdpi-v4/msg_out_11_photo.9.png</drawable>
-    <drawable name="msg_out_11_photo">res/drawable-hdpi-v4/msg_out_11_photo.9.png</drawable>
-    <drawable name="msg_out_11_photo">res/drawable-xhdpi-v4/msg_out_11_photo.9.png</drawable>
-    <drawable name="msg_out_11_photo">res/drawable-xxhdpi-v4/msg_out_11_photo.9.png</drawable>
-    <drawable name="msg_out_11_photo_selected">res/drawable-mdpi-v4/msg_out_11_photo_selected.9.png</drawable>
-    <drawable name="msg_out_11_photo_selected">res/drawable-hdpi-v4/msg_out_11_photo_selected.9.png</drawable>
-    <drawable name="msg_out_11_photo_selected">res/drawable-xhdpi-v4/msg_out_11_photo_selected.9.png</drawable>
-    <drawable name="msg_out_11_photo_selected">res/drawable-xxhdpi-v4/msg_out_11_photo_selected.9.png</drawable>
-    <drawable name="msg_out_11_selected">res/drawable-mdpi-v4/msg_out_11_selected.9.png</drawable>
-    <drawable name="msg_out_11_selected">res/drawable-hdpi-v4/msg_out_11_selected.9.png</drawable>
-    <drawable name="msg_out_11_selected">res/drawable-xhdpi-v4/msg_out_11_selected.9.png</drawable>
-    <drawable name="msg_out_11_selected">res/drawable-xxhdpi-v4/msg_out_11_selected.9.png</drawable>
-    <drawable name="msg_out_12">res/drawable-mdpi-v4/msg_out_12.9.png</drawable>
-    <drawable name="msg_out_12">res/drawable-hdpi-v4/msg_out_12.9.png</drawable>
-    <drawable name="msg_out_12">res/drawable-xhdpi-v4/msg_out_12.9.png</drawable>
-    <drawable name="msg_out_12">res/drawable-xxhdpi-v4/msg_out_12.9.png</drawable>
-    <drawable name="msg_out_12_photo">res/drawable-mdpi-v4/msg_out_12_photo.9.png</drawable>
-    <drawable name="msg_out_12_photo">res/drawable-hdpi-v4/msg_out_12_photo.9.png</drawable>
-    <drawable name="msg_out_12_photo">res/drawable-xhdpi-v4/msg_out_12_photo.9.png</drawable>
-    <drawable name="msg_out_12_photo">res/drawable-xxhdpi-v4/msg_out_12_photo.9.png</drawable>
-    <drawable name="msg_out_12_photo_selected">res/drawable-mdpi-v4/msg_out_12_photo_selected.9.png</drawable>
-    <drawable name="msg_out_12_photo_selected">res/drawable-hdpi-v4/msg_out_12_photo_selected.9.png</drawable>
-    <drawable name="msg_out_12_photo_selected">res/drawable-xhdpi-v4/msg_out_12_photo_selected.9.png</drawable>
-    <drawable name="msg_out_12_photo_selected">res/drawable-xxhdpi-v4/msg_out_12_photo_selected.9.png</drawable>
-    <drawable name="msg_out_12_selected">res/drawable-mdpi-v4/msg_out_12_selected.9.png</drawable>
-    <drawable name="msg_out_12_selected">res/drawable-hdpi-v4/msg_out_12_selected.9.png</drawable>
-    <drawable name="msg_out_12_selected">res/drawable-xhdpi-v4/msg_out_12_selected.9.png</drawable>
-    <drawable name="msg_out_12_selected">res/drawable-xxhdpi-v4/msg_out_12_selected.9.png</drawable>
-    <drawable name="msg_out_13">res/drawable-mdpi-v4/msg_out_13.9.png</drawable>
-    <drawable name="msg_out_13">res/drawable-hdpi-v4/msg_out_13.9.png</drawable>
-    <drawable name="msg_out_13">res/drawable-xhdpi-v4/msg_out_13.9.png</drawable>
-    <drawable name="msg_out_13">res/drawable-xxhdpi-v4/msg_out_13.9.png</drawable>
-    <drawable name="msg_out_13_photo">res/drawable-mdpi-v4/msg_out_13_photo.9.png</drawable>
-    <drawable name="msg_out_13_photo">res/drawable-hdpi-v4/msg_out_13_photo.9.png</drawable>
-    <drawable name="msg_out_13_photo">res/drawable-xhdpi-v4/msg_out_13_photo.9.png</drawable>
-    <drawable name="msg_out_13_photo">res/drawable-xxhdpi-v4/msg_out_13_photo.9.png</drawable>
-    <drawable name="msg_out_13_photo_selected">res/drawable-mdpi-v4/msg_out_13_photo_selected.9.png</drawable>
-    <drawable name="msg_out_13_photo_selected">res/drawable-hdpi-v4/msg_out_13_photo_selected.9.png</drawable>
-    <drawable name="msg_out_13_photo_selected">res/drawable-xhdpi-v4/msg_out_13_photo_selected.9.png</drawable>
-    <drawable name="msg_out_13_photo_selected">res/drawable-xxhdpi-v4/msg_out_13_photo_selected.9.png</drawable>
-    <drawable name="msg_out_13_selected">res/drawable-mdpi-v4/msg_out_13_selected.9.png</drawable>
-    <drawable name="msg_out_13_selected">res/drawable-hdpi-v4/msg_out_13_selected.9.png</drawable>
-    <drawable name="msg_out_13_selected">res/drawable-xhdpi-v4/msg_out_13_selected.9.png</drawable>
-    <drawable name="msg_out_13_selected">res/drawable-xxhdpi-v4/msg_out_13_selected.9.png</drawable>
-    <drawable name="msg_out_2">res/drawable-mdpi-v4/msg_out_2.9.png</drawable>
-    <drawable name="msg_out_2">res/drawable-hdpi-v4/msg_out_2.9.png</drawable>
-    <drawable name="msg_out_2">res/drawable-xhdpi-v4/msg_out_2.9.png</drawable>
-    <drawable name="msg_out_2">res/drawable-xxhdpi-v4/msg_out_2.9.png</drawable>
-    <drawable name="msg_out_2_photo">res/drawable-mdpi-v4/msg_out_2_photo.9.png</drawable>
-    <drawable name="msg_out_2_photo">res/drawable-hdpi-v4/msg_out_2_photo.9.png</drawable>
-    <drawable name="msg_out_2_photo">res/drawable-xhdpi-v4/msg_out_2_photo.9.png</drawable>
-    <drawable name="msg_out_2_photo">res/drawable-xxhdpi-v4/msg_out_2_photo.9.png</drawable>
-    <drawable name="msg_out_2_photo_selected">res/drawable-mdpi-v4/msg_out_2_photo_selected.9.png</drawable>
-    <drawable name="msg_out_2_photo_selected">res/drawable-hdpi-v4/msg_out_2_photo_selected.9.png</drawable>
-    <drawable name="msg_out_2_photo_selected">res/drawable-xhdpi-v4/msg_out_2_photo_selected.9.png</drawable>
-    <drawable name="msg_out_2_photo_selected">res/drawable-xxhdpi-v4/msg_out_2_photo_selected.9.png</drawable>
-    <drawable name="msg_out_2_selected">res/drawable-mdpi-v4/msg_out_2_selected.9.png</drawable>
-    <drawable name="msg_out_2_selected">res/drawable-hdpi-v4/msg_out_2_selected.9.png</drawable>
-    <drawable name="msg_out_2_selected">res/drawable-xhdpi-v4/msg_out_2_selected.9.png</drawable>
-    <drawable name="msg_out_2_selected">res/drawable-xxhdpi-v4/msg_out_2_selected.9.png</drawable>
-    <drawable name="msg_out_3">res/drawable-mdpi-v4/msg_out_3.9.png</drawable>
-    <drawable name="msg_out_3">res/drawable-hdpi-v4/msg_out_3.9.png</drawable>
-    <drawable name="msg_out_3">res/drawable-xhdpi-v4/msg_out_3.9.png</drawable>
-    <drawable name="msg_out_3">res/drawable-xxhdpi-v4/msg_out_3.9.png</drawable>
-    <drawable name="msg_out_3_photo">res/drawable-mdpi-v4/msg_out_3_photo.9.png</drawable>
-    <drawable name="msg_out_3_photo">res/drawable-hdpi-v4/msg_out_3_photo.9.png</drawable>
-    <drawable name="msg_out_3_photo">res/drawable-xhdpi-v4/msg_out_3_photo.9.png</drawable>
-    <drawable name="msg_out_3_photo">res/drawable-xxhdpi-v4/msg_out_3_photo.9.png</drawable>
-    <drawable name="msg_out_3_photo_selected">res/drawable-mdpi-v4/msg_out_3_photo_selected.9.png</drawable>
-    <drawable name="msg_out_3_photo_selected">res/drawable-hdpi-v4/msg_out_3_photo_selected.9.png</drawable>
-    <drawable name="msg_out_3_photo_selected">res/drawable-xhdpi-v4/msg_out_3_photo_selected.9.png</drawable>
-    <drawable name="msg_out_3_photo_selected">res/drawable-xxhdpi-v4/msg_out_3_photo_selected.9.png</drawable>
-    <drawable name="msg_out_3_selected">res/drawable-mdpi-v4/msg_out_3_selected.9.png</drawable>
-    <drawable name="msg_out_3_selected">res/drawable-hdpi-v4/msg_out_3_selected.9.png</drawable>
-    <drawable name="msg_out_3_selected">res/drawable-xhdpi-v4/msg_out_3_selected.9.png</drawable>
-    <drawable name="msg_out_3_selected">res/drawable-xxhdpi-v4/msg_out_3_selected.9.png</drawable>
-    <drawable name="msg_out_4">res/drawable-mdpi-v4/msg_out_4.9.png</drawable>
-    <drawable name="msg_out_4">res/drawable-hdpi-v4/msg_out_4.9.png</drawable>
-    <drawable name="msg_out_4">res/drawable-xhdpi-v4/msg_out_4.9.png</drawable>
-    <drawable name="msg_out_4">res/drawable-xxhdpi-v4/msg_out_4.9.png</drawable>
-    <drawable name="msg_out_4_photo">res/drawable-mdpi-v4/msg_out_4_photo.9.png</drawable>
-    <drawable name="msg_out_4_photo">res/drawable-hdpi-v4/msg_out_4_photo.9.png</drawable>
-    <drawable name="msg_out_4_photo">res/drawable-xhdpi-v4/msg_out_4_photo.9.png</drawable>
-    <drawable name="msg_out_4_photo">res/drawable-xxhdpi-v4/msg_out_4_photo.9.png</drawable>
-    <drawable name="msg_out_4_photo_selected">res/drawable-mdpi-v4/msg_out_4_photo_selected.9.png</drawable>
-    <drawable name="msg_out_4_photo_selected">res/drawable-hdpi-v4/msg_out_4_photo_selected.9.png</drawable>
-    <drawable name="msg_out_4_photo_selected">res/drawable-xhdpi-v4/msg_out_4_photo_selected.9.png</drawable>
-    <drawable name="msg_out_4_photo_selected">res/drawable-xxhdpi-v4/msg_out_4_photo_selected.9.png</drawable>
-    <drawable name="msg_out_4_selected">res/drawable-mdpi-v4/msg_out_4_selected.9.png</drawable>
-    <drawable name="msg_out_4_selected">res/drawable-hdpi-v4/msg_out_4_selected.9.png</drawable>
-    <drawable name="msg_out_4_selected">res/drawable-xhdpi-v4/msg_out_4_selected.9.png</drawable>
-    <drawable name="msg_out_4_selected">res/drawable-xxhdpi-v4/msg_out_4_selected.9.png</drawable>
-    <drawable name="msg_out_5">res/drawable-mdpi-v4/msg_out_5.9.png</drawable>
-    <drawable name="msg_out_5">res/drawable-hdpi-v4/msg_out_5.9.png</drawable>
-    <drawable name="msg_out_5">res/drawable-xhdpi-v4/msg_out_5.9.png</drawable>
-    <drawable name="msg_out_5">res/drawable-xxhdpi-v4/msg_out_5.9.png</drawable>
-    <drawable name="msg_out_5_photo">res/drawable-mdpi-v4/msg_out_5_photo.9.png</drawable>
-    <drawable name="msg_out_5_photo">res/drawable-hdpi-v4/msg_out_5_photo.9.png</drawable>
-    <drawable name="msg_out_5_photo">res/drawable-xhdpi-v4/msg_out_5_photo.9.png</drawable>
-    <drawable name="msg_out_5_photo">res/drawable-xxhdpi-v4/msg_out_5_photo.9.png</drawable>
-    <drawable name="msg_out_5_photo_selected">res/drawable-mdpi-v4/msg_out_5_photo_selected.9.png</drawable>
-    <drawable name="msg_out_5_photo_selected">res/drawable-hdpi-v4/msg_out_5_photo_selected.9.png</drawable>
-    <drawable name="msg_out_5_photo_selected">res/drawable-xhdpi-v4/msg_out_5_photo_selected.9.png</drawable>
-    <drawable name="msg_out_5_photo_selected">res/drawable-xxhdpi-v4/msg_out_5_photo_selected.9.png</drawable>
-    <drawable name="msg_out_5_selected">res/drawable-mdpi-v4/msg_out_5_selected.9.png</drawable>
-    <drawable name="msg_out_5_selected">res/drawable-hdpi-v4/msg_out_5_selected.9.png</drawable>
-    <drawable name="msg_out_5_selected">res/drawable-xhdpi-v4/msg_out_5_selected.9.png</drawable>
-    <drawable name="msg_out_5_selected">res/drawable-xxhdpi-v4/msg_out_5_selected.9.png</drawable>
-    <drawable name="msg_out_6">res/drawable-mdpi-v4/msg_out_6.9.png</drawable>
-    <drawable name="msg_out_6">res/drawable-hdpi-v4/msg_out_6.9.png</drawable>
-    <drawable name="msg_out_6">res/drawable-xhdpi-v4/msg_out_6.9.png</drawable>
-    <drawable name="msg_out_6">res/drawable-xxhdpi-v4/msg_out_6.9.png</drawable>
-    <drawable name="msg_out_6_photo">res/drawable-mdpi-v4/msg_out_6_photo.9.png</drawable>
-    <drawable name="msg_out_6_photo">res/drawable-hdpi-v4/msg_out_6_photo.9.png</drawable>
-    <drawable name="msg_out_6_photo">res/drawable-xhdpi-v4/msg_out_6_photo.9.png</drawable>
-    <drawable name="msg_out_6_photo">res/drawable-xxhdpi-v4/msg_out_6_photo.9.png</drawable>
-    <drawable name="msg_out_6_photo_selected">res/drawable-mdpi-v4/msg_out_6_photo_selected.9.png</drawable>
-    <drawable name="msg_out_6_photo_selected">res/drawable-hdpi-v4/msg_out_6_photo_selected.9.png</drawable>
-    <drawable name="msg_out_6_photo_selected">res/drawable-xhdpi-v4/msg_out_6_photo_selected.9.png</drawable>
-    <drawable name="msg_out_6_photo_selected">res/drawable-xxhdpi-v4/msg_out_6_photo_selected.9.png</drawable>
-    <drawable name="msg_out_6_selected">res/drawable-mdpi-v4/msg_out_6_selected.9.png</drawable>
-    <drawable name="msg_out_6_selected">res/drawable-hdpi-v4/msg_out_6_selected.9.png</drawable>
-    <drawable name="msg_out_6_selected">res/drawable-xhdpi-v4/msg_out_6_selected.9.png</drawable>
-    <drawable name="msg_out_6_selected">res/drawable-xxhdpi-v4/msg_out_6_selected.9.png</drawable>
-    <drawable name="msg_out_7">res/drawable-mdpi-v4/msg_out_7.9.png</drawable>
-    <drawable name="msg_out_7">res/drawable-hdpi-v4/msg_out_7.9.png</drawable>
-    <drawable name="msg_out_7">res/drawable-xhdpi-v4/msg_out_7.9.png</drawable>
-    <drawable name="msg_out_7">res/drawable-xxhdpi-v4/msg_out_7.9.png</drawable>
-    <drawable name="msg_out_7_photo">res/drawable-mdpi-v4/msg_out_7_photo.9.png</drawable>
-    <drawable name="msg_out_7_photo">res/drawable-hdpi-v4/msg_out_7_photo.9.png</drawable>
-    <drawable name="msg_out_7_photo">res/drawable-xhdpi-v4/msg_out_7_photo.9.png</drawable>
-    <drawable name="msg_out_7_photo">res/drawable-xxhdpi-v4/msg_out_7_photo.9.png</drawable>
-    <drawable name="msg_out_7_photo_selected">res/drawable-mdpi-v4/msg_out_7_photo_selected.9.png</drawable>
-    <drawable name="msg_out_7_photo_selected">res/drawable-hdpi-v4/msg_out_7_photo_selected.9.png</drawable>
-    <drawable name="msg_out_7_photo_selected">res/drawable-xhdpi-v4/msg_out_7_photo_selected.9.png</drawable>
-    <drawable name="msg_out_7_photo_selected">res/drawable-xxhdpi-v4/msg_out_7_photo_selected.9.png</drawable>
-    <drawable name="msg_out_7_selected">res/drawable-mdpi-v4/msg_out_7_selected.9.png</drawable>
-    <drawable name="msg_out_7_selected">res/drawable-hdpi-v4/msg_out_7_selected.9.png</drawable>
-    <drawable name="msg_out_7_selected">res/drawable-xhdpi-v4/msg_out_7_selected.9.png</drawable>
-    <drawable name="msg_out_7_selected">res/drawable-xxhdpi-v4/msg_out_7_selected.9.png</drawable>
-    <drawable name="msg_out_8">res/drawable-mdpi-v4/msg_out_8.9.png</drawable>
-    <drawable name="msg_out_8">res/drawable-hdpi-v4/msg_out_8.9.png</drawable>
-    <drawable name="msg_out_8">res/drawable-xhdpi-v4/msg_out_8.9.png</drawable>
-    <drawable name="msg_out_8">res/drawable-xxhdpi-v4/msg_out_8.9.png</drawable>
-    <drawable name="msg_out_8_">res/drawable-mdpi-v4/msg_out_8_.9.png</drawable>
-    <drawable name="msg_out_8_photo">res/drawable-mdpi-v4/msg_out_8_photo.9.png</drawable>
-    <drawable name="msg_out_8_photo">res/drawable-hdpi-v4/msg_out_8_photo.9.png</drawable>
-    <drawable name="msg_out_8_photo">res/drawable-xhdpi-v4/msg_out_8_photo.9.png</drawable>
-    <drawable name="msg_out_8_photo">res/drawable-xxhdpi-v4/msg_out_8_photo.9.png</drawable>
-    <drawable name="msg_out_8_photo_selected">res/drawable-mdpi-v4/msg_out_8_photo_selected.9.png</drawable>
-    <drawable name="msg_out_8_photo_selected">res/drawable-hdpi-v4/msg_out_8_photo_selected.9.png</drawable>
-    <drawable name="msg_out_8_photo_selected">res/drawable-xhdpi-v4/msg_out_8_photo_selected.9.png</drawable>
-    <drawable name="msg_out_8_photo_selected">res/drawable-xxhdpi-v4/msg_out_8_photo_selected.9.png</drawable>
-    <drawable name="msg_out_8_selected">res/drawable-mdpi-v4/msg_out_8_selected.9.png</drawable>
-    <drawable name="msg_out_8_selected">res/drawable-hdpi-v4/msg_out_8_selected.9.png</drawable>
-    <drawable name="msg_out_8_selected">res/drawable-xhdpi-v4/msg_out_8_selected.9.png</drawable>
-    <drawable name="msg_out_8_selected">res/drawable-xxhdpi-v4/msg_out_8_selected.9.png</drawable>
-    <drawable name="msg_out_9">res/drawable-mdpi-v4/msg_out_9.9.png</drawable>
-    <drawable name="msg_out_9">res/drawable-hdpi-v4/msg_out_9.9.png</drawable>
-    <drawable name="msg_out_9">res/drawable-xhdpi-v4/msg_out_9.9.png</drawable>
-    <drawable name="msg_out_9">res/drawable-xxhdpi-v4/msg_out_9.9.png</drawable>
-    <drawable name="msg_out_9_photo">res/drawable-mdpi-v4/msg_out_9_photo.9.png</drawable>
-    <drawable name="msg_out_9_photo">res/drawable-hdpi-v4/msg_out_9_photo.9.png</drawable>
-    <drawable name="msg_out_9_photo">res/drawable-xhdpi-v4/msg_out_9_photo.9.png</drawable>
-    <drawable name="msg_out_9_photo">res/drawable-xxhdpi-v4/msg_out_9_photo.9.png</drawable>
-    <drawable name="msg_out_9_photo_selected">res/drawable-mdpi-v4/msg_out_9_photo_selected.9.png</drawable>
-    <drawable name="msg_out_9_photo_selected">res/drawable-hdpi-v4/msg_out_9_photo_selected.9.png</drawable>
-    <drawable name="msg_out_9_photo_selected">res/drawable-xhdpi-v4/msg_out_9_photo_selected.9.png</drawable>
-    <drawable name="msg_out_9_photo_selected">res/drawable-xxhdpi-v4/msg_out_9_photo_selected.9.png</drawable>
-    <drawable name="msg_out_9_selected">res/drawable-mdpi-v4/msg_out_9_selected.9.png</drawable>
-    <drawable name="msg_out_9_selected">res/drawable-hdpi-v4/msg_out_9_selected.9.png</drawable>
-    <drawable name="msg_out_9_selected">res/drawable-xhdpi-v4/msg_out_9_selected.9.png</drawable>
-    <drawable name="msg_out_9_selected">res/drawable-xxhdpi-v4/msg_out_9_selected.9.png</drawable>
-    <drawable name="msg_out_shadow">res/drawable-mdpi-v4/msg_out_shadow.9.png</drawable>
-    <drawable name="msg_out_shadow">res/drawable-hdpi-v4/msg_out_shadow.9.png</drawable>
-    <drawable name="msg_out_shadow">res/drawable-xhdpi-v4/msg_out_shadow.9.png</drawable>
-    <drawable name="msg_out_shadow">res/drawable-xxhdpi-v4/msg_out_shadow.9.png</drawable>
-    <drawable name="msg_panel_clear">res/drawable-mdpi-v4/msg_panel_clear.png</drawable>
-    <drawable name="msg_panel_clear">res/drawable-hdpi-v4/msg_panel_clear.png</drawable>
-    <drawable name="msg_panel_clear">res/drawable-xhdpi-v4/msg_panel_clear.png</drawable>
-    <drawable name="msg_panel_clear">res/drawable-xxhdpi-v4/msg_panel_clear.png</drawable>
-    <drawable name="msg_panel_forward">res/drawable-mdpi-v4/msg_panel_forward.png</drawable>
-    <drawable name="msg_panel_forward">res/drawable-hdpi-v4/msg_panel_forward.png</drawable>
-    <drawable name="msg_panel_forward">res/drawable-xhdpi-v4/msg_panel_forward.png</drawable>
-    <drawable name="msg_panel_forward">res/drawable-xxhdpi-v4/msg_panel_forward.png</drawable>
-    <drawable name="msg_panel_link">res/drawable-mdpi-v4/msg_panel_link.png</drawable>
-    <drawable name="msg_panel_link">res/drawable-hdpi-v4/msg_panel_link.png</drawable>
-    <drawable name="msg_panel_link">res/drawable-xhdpi-v4/msg_panel_link.png</drawable>
-    <drawable name="msg_panel_link">res/drawable-xxhdpi-v4/msg_panel_link.png</drawable>
-    <drawable name="msg_panel_reply">res/drawable-mdpi-v4/msg_panel_reply.png</drawable>
-    <drawable name="msg_panel_reply">res/drawable-hdpi-v4/msg_panel_reply.png</drawable>
-    <drawable name="msg_panel_reply">res/drawable-xhdpi-v4/msg_panel_reply.png</drawable>
-    <drawable name="msg_panel_reply">res/drawable-xxhdpi-v4/msg_panel_reply.png</drawable>
-    <drawable name="msg_photo">res/drawable-mdpi-v4/msg_photo.9.png</drawable>
-    <drawable name="msg_photo">res/drawable-hdpi-v4/msg_photo.9.png</drawable>
-    <drawable name="msg_photo">res/drawable-xhdpi-v4/msg_photo.9.png</drawable>
-    <drawable name="msg_photo">res/drawable-xxhdpi-v4/msg_photo.9.png</drawable>
-    <drawable name="msg_photo_shadow">res/drawable-mdpi-v4/msg_photo_shadow.9.png</drawable>
-    <drawable name="msg_photo_shadow">res/drawable-hdpi-v4/msg_photo_shadow.9.png</drawable>
-    <drawable name="msg_photo_shadow">res/drawable-xhdpi-v4/msg_photo_shadow.9.png</drawable>
-    <drawable name="msg_photo_shadow">res/drawable-xxhdpi-v4/msg_photo_shadow.9.png</drawable>
-    <drawable name="msg_round_cancel_l">res/drawable-mdpi-v4/msg_round_cancel_l.png</drawable>
-    <drawable name="msg_round_cancel_l">res/drawable-hdpi-v4/msg_round_cancel_l.png</drawable>
-    <drawable name="msg_round_cancel_l">res/drawable-xhdpi-v4/msg_round_cancel_l.png</drawable>
-    <drawable name="msg_round_cancel_l">res/drawable-xxhdpi-v4/msg_round_cancel_l.png</drawable>
-    <drawable name="msg_round_cancel_m">res/drawable-mdpi-v4/msg_round_cancel_m.png</drawable>
-    <drawable name="msg_round_cancel_m">res/drawable-hdpi-v4/msg_round_cancel_m.png</drawable>
-    <drawable name="msg_round_cancel_m">res/drawable-xhdpi-v4/msg_round_cancel_m.png</drawable>
-    <drawable name="msg_round_cancel_m">res/drawable-xxhdpi-v4/msg_round_cancel_m.png</drawable>
-    <drawable name="msg_round_cancel_s">res/drawable-mdpi-v4/msg_round_cancel_s.png</drawable>
-    <drawable name="msg_round_cancel_s">res/drawable-hdpi-v4/msg_round_cancel_s.png</drawable>
-    <drawable name="msg_round_cancel_s">res/drawable-xhdpi-v4/msg_round_cancel_s.png</drawable>
-    <drawable name="msg_round_cancel_s">res/drawable-xxhdpi-v4/msg_round_cancel_s.png</drawable>
-    <drawable name="msg_round_file_s">res/drawable-mdpi-v4/msg_round_file_s.png</drawable>
-    <drawable name="msg_round_file_s">res/drawable-hdpi-v4/msg_round_file_s.png</drawable>
-    <drawable name="msg_round_file_s">res/drawable-xhdpi-v4/msg_round_file_s.png</drawable>
-    <drawable name="msg_round_file_s">res/drawable-xxhdpi-v4/msg_round_file_s.png</drawable>
-    <drawable name="msg_round_gif_m">res/drawable-mdpi-v4/msg_round_gif_m.png</drawable>
-    <drawable name="msg_round_gif_m">res/drawable-hdpi-v4/msg_round_gif_m.png</drawable>
-    <drawable name="msg_round_gif_m">res/drawable-xhdpi-v4/msg_round_gif_m.png</drawable>
-    <drawable name="msg_round_gif_m">res/drawable-xxhdpi-v4/msg_round_gif_m.png</drawable>
-    <drawable name="msg_round_load_l">res/drawable-mdpi-v4/msg_round_load_l.png</drawable>
-    <drawable name="msg_round_load_l">res/drawable-hdpi-v4/msg_round_load_l.png</drawable>
-    <drawable name="msg_round_load_l">res/drawable-xhdpi-v4/msg_round_load_l.png</drawable>
-    <drawable name="msg_round_load_l">res/drawable-xxhdpi-v4/msg_round_load_l.png</drawable>
-    <drawable name="msg_round_load_m">res/drawable-mdpi-v4/msg_round_load_m.png</drawable>
-    <drawable name="msg_round_load_m">res/drawable-hdpi-v4/msg_round_load_m.png</drawable>
-    <drawable name="msg_round_load_m">res/drawable-xhdpi-v4/msg_round_load_m.png</drawable>
-    <drawable name="msg_round_load_m">res/drawable-xxhdpi-v4/msg_round_load_m.png</drawable>
-    <drawable name="msg_round_load_s">res/drawable-mdpi-v4/msg_round_load_s.png</drawable>
-    <drawable name="msg_round_load_s">res/drawable-hdpi-v4/msg_round_load_s.png</drawable>
-    <drawable name="msg_round_load_s">res/drawable-xhdpi-v4/msg_round_load_s.png</drawable>
-    <drawable name="msg_round_load_s">res/drawable-xxhdpi-v4/msg_round_load_s.png</drawable>
-    <drawable name="msg_round_pause_m">res/drawable-mdpi-v4/msg_round_pause_m.png</drawable>
-    <drawable name="msg_round_pause_m">res/drawable-hdpi-v4/msg_round_pause_m.png</drawable>
-    <drawable name="msg_round_pause_m">res/drawable-xhdpi-v4/msg_round_pause_m.png</drawable>
-    <drawable name="msg_round_pause_m">res/drawable-xxhdpi-v4/msg_round_pause_m.png</drawable>
-    <drawable name="msg_round_pause_s">res/drawable-mdpi-v4/msg_round_pause_s.png</drawable>
-    <drawable name="msg_round_pause_s">res/drawable-hdpi-v4/msg_round_pause_s.png</drawable>
-    <drawable name="msg_round_pause_s">res/drawable-xhdpi-v4/msg_round_pause_s.png</drawable>
-    <drawable name="msg_round_pause_s">res/drawable-xxhdpi-v4/msg_round_pause_s.png</drawable>
-    <drawable name="msg_round_play_l">res/drawable-mdpi-v4/msg_round_play_l.png</drawable>
-    <drawable name="msg_round_play_l">res/drawable-hdpi-v4/msg_round_play_l.png</drawable>
-    <drawable name="msg_round_play_l">res/drawable-xhdpi-v4/msg_round_play_l.png</drawable>
-    <drawable name="msg_round_play_l">res/drawable-xxhdpi-v4/msg_round_play_l.png</drawable>
-    <drawable name="msg_round_play_m">res/drawable-mdpi-v4/msg_round_play_m.png</drawable>
-    <drawable name="msg_round_play_m">res/drawable-hdpi-v4/msg_round_play_m.png</drawable>
-    <drawable name="msg_round_play_m">res/drawable-xhdpi-v4/msg_round_play_m.png</drawable>
-    <drawable name="msg_round_play_m">res/drawable-xxhdpi-v4/msg_round_play_m.png</drawable>
-    <drawable name="msg_round_play_s">res/drawable-mdpi-v4/msg_round_play_s.png</drawable>
-    <drawable name="msg_round_play_s">res/drawable-hdpi-v4/msg_round_play_s.png</drawable>
-    <drawable name="msg_round_play_s">res/drawable-xhdpi-v4/msg_round_play_s.png</drawable>
-    <drawable name="msg_round_play_s">res/drawable-xxhdpi-v4/msg_round_play_s.png</drawable>
-    <drawable name="msg_views">res/drawable-mdpi-v4/msg_views.png</drawable>
-    <drawable name="msg_views">res/drawable-hdpi-v4/msg_views.png</drawable>
-    <drawable name="msg_views">res/drawable-xhdpi-v4/msg_views.png</drawable>
-    <drawable name="msg_views">res/drawable-xxhdpi-v4/msg_views.png</drawable>
-    <drawable name="msg_warning">res/drawable-mdpi-v4/msg_warning.png</drawable>
-    <drawable name="msg_warning">res/drawable-hdpi-v4/msg_warning.png</drawable>
-    <drawable name="msg_warning">res/drawable-xhdpi-v4/msg_warning.png</drawable>
-    <drawable name="msg_warning">res/drawable-xxhdpi-v4/msg_warning.png</drawable>
-    <drawable name="myloc_on">res/drawable-mdpi-v4/myloc_on.png</drawable>
-    <drawable name="myloc_on">res/drawable-hdpi-v4/myloc_on.png</drawable>
-    <drawable name="myloc_on">res/drawable-xhdpi-v4/myloc_on.png</drawable>
-    <drawable name="myloc_on">res/drawable-xxhdpi-v4/myloc_on.png</drawable>
-    <drawable name="navigate">res/drawable-mdpi-v4/navigate.png</drawable>
-    <drawable name="navigate">res/drawable-hdpi-v4/navigate.png</drawable>
-    <drawable name="navigate">res/drawable-xhdpi-v4/navigate.png</drawable>
-    <drawable name="navigate">res/drawable-xxhdpi-v4/navigate.png</drawable>
-    <drawable name="newmsg_divider">res/drawable-mdpi-v4/newmsg_divider.png</drawable>
-    <drawable name="newmsg_divider">res/drawable-hdpi-v4/newmsg_divider.png</drawable>
-    <drawable name="newmsg_divider">res/drawable-xhdpi-v4/newmsg_divider.png</drawable>
-    <drawable name="newmsg_divider">res/drawable-xxhdpi-v4/newmsg_divider.png</drawable>
-    <drawable name="nocover">res/drawable-mdpi-v4/nocover.png</drawable>
-    <drawable name="nocover">res/drawable-hdpi-v4/nocover.png</drawable>
-    <drawable name="nocover">res/drawable-xhdpi-v4/nocover.png</drawable>
-    <drawable name="nocover">res/drawable-xxhdpi-v4/nocover.png</drawable>
-    <drawable name="nocover_big">res/drawable-mdpi-v4/nocover_big.9.png</drawable>
-    <drawable name="nocover_big">res/drawable-hdpi-v4/nocover_big.9.png</drawable>
-    <drawable name="nocover_big">res/drawable-xhdpi-v4/nocover_big.9.png</drawable>
-    <drawable name="nocover_big">res/drawable-xxhdpi-v4/nocover_big.9.png</drawable>
-    <drawable name="nocover_small">res/drawable-mdpi-v4/nocover_small.9.png</drawable>
-    <drawable name="nocover_small">res/drawable-hdpi-v4/nocover_small.9.png</drawable>
-    <drawable name="nocover_small">res/drawable-xhdpi-v4/nocover_small.9.png</drawable>
-    <drawable name="nocover_small">res/drawable-xxhdpi-v4/nocover_small.9.png</drawable>
-    <drawable name="nophotos">res/drawable-mdpi-v4/nophotos.9.png</drawable>
-    <drawable name="nophotos">res/drawable-hdpi-v4/nophotos.9.png</drawable>
-    <drawable name="nophotos">res/drawable-xhdpi-v4/nophotos.9.png</drawable>
-    <drawable name="nophotos">res/drawable-xxhdpi-v4/nophotos.9.png</drawable>
-    <drawable name="notification">res/drawable-mdpi-v4/notification.png</drawable>
-    <drawable name="notification">res/drawable-hdpi-v4/notification.png</drawable>
-    <drawable name="notification">res/drawable-xhdpi-v4/notification.png</drawable>
-    <drawable name="notification">res/drawable-xxhdpi-v4/notification.png</drawable>
-    <drawable name="notifications_s_1h">res/drawable-mdpi-v4/notifications_s_1h.png</drawable>
-    <drawable name="notifications_s_1h">res/drawable-hdpi-v4/notifications_s_1h.png</drawable>
-    <drawable name="notifications_s_1h">res/drawable-xhdpi-v4/notifications_s_1h.png</drawable>
-    <drawable name="notifications_s_1h">res/drawable-xxhdpi-v4/notifications_s_1h.png</drawable>
-    <drawable name="notifications_s_2d">res/drawable-mdpi-v4/notifications_s_2d.png</drawable>
-    <drawable name="notifications_s_2d">res/drawable-hdpi-v4/notifications_s_2d.png</drawable>
-    <drawable name="notifications_s_2d">res/drawable-xhdpi-v4/notifications_s_2d.png</drawable>
-    <drawable name="notifications_s_2d">res/drawable-xxhdpi-v4/notifications_s_2d.png</drawable>
-    <drawable name="notifications_s_custom">res/drawable-mdpi-v4/notifications_s_custom.png</drawable>
-    <drawable name="notifications_s_custom">res/drawable-hdpi-v4/notifications_s_custom.png</drawable>
-    <drawable name="notifications_s_custom">res/drawable-xhdpi-v4/notifications_s_custom.png</drawable>
-    <drawable name="notifications_s_custom">res/drawable-xxhdpi-v4/notifications_s_custom.png</drawable>
-    <drawable name="notifications_s_off">res/drawable-mdpi-v4/notifications_s_off.png</drawable>
-    <drawable name="notifications_s_off">res/drawable-hdpi-v4/notifications_s_off.png</drawable>
-    <drawable name="notifications_s_off">res/drawable-xhdpi-v4/notifications_s_off.png</drawable>
-    <drawable name="notifications_s_off">res/drawable-xxhdpi-v4/notifications_s_off.png</drawable>
-    <drawable name="notifications_s_on">res/drawable-mdpi-v4/notifications_s_on.png</drawable>
-    <drawable name="notifications_s_on">res/drawable-hdpi-v4/notifications_s_on.png</drawable>
-    <drawable name="notifications_s_on">res/drawable-xhdpi-v4/notifications_s_on.png</drawable>
-    <drawable name="notifications_s_on">res/drawable-xxhdpi-v4/notifications_s_on.png</drawable>
-    <drawable name="notify_members_off">res/drawable-mdpi-v4/notify_members_off.png</drawable>
-    <drawable name="notify_members_off">res/drawable-hdpi-v4/notify_members_off.png</drawable>
-    <drawable name="notify_members_off">res/drawable-xhdpi-v4/notify_members_off.png</drawable>
-    <drawable name="notify_members_off">res/drawable-xxhdpi-v4/notify_members_off.png</drawable>
-    <drawable name="notify_members_on">res/drawable-mdpi-v4/notify_members_on.png</drawable>
-    <drawable name="notify_members_on">res/drawable-hdpi-v4/notify_members_on.png</drawable>
-    <drawable name="notify_members_on">res/drawable-xhdpi-v4/notify_members_on.png</drawable>
-    <drawable name="notify_members_on">res/drawable-xxhdpi-v4/notify_members_on.png</drawable>
-    <drawable name="numberpicker_selection_divider_white">res/drawable-hdpi-v4/numberpicker_selection_divider_white.9.png</drawable>
-    <drawable name="pagedown">res/drawable-mdpi-v4/pagedown.png</drawable>
-    <drawable name="pagedown">res/drawable-hdpi-v4/pagedown.png</drawable>
-    <drawable name="pagedown">res/drawable-xhdpi-v4/pagedown.png</drawable>
-    <drawable name="pagedown">res/drawable-xxhdpi-v4/pagedown.png</drawable>
-    <drawable name="pagedown_shadow">res/drawable-mdpi-v4/pagedown_shadow.png</drawable>
-    <drawable name="pagedown_shadow">res/drawable-hdpi-v4/pagedown_shadow.png</drawable>
-    <drawable name="pagedown_shadow">res/drawable-xhdpi-v4/pagedown_shadow.png</drawable>
-    <drawable name="pagedown_shadow">res/drawable-xxhdpi-v4/pagedown_shadow.png</drawable>
-    <drawable name="paint_elliptical_brush">res/drawable/paint_elliptical_brush.png</drawable>
-    <drawable name="paint_elliptical_preview">res/drawable/paint_elliptical_preview.png</drawable>
-    <drawable name="paint_neon_brush">res/drawable/paint_neon_brush.png</drawable>
-    <drawable name="paint_neon_preview">res/drawable/paint_neon_preview.png</drawable>
-    <drawable name="paint_radial_brush">res/drawable/paint_radial_brush.png</drawable>
-    <drawable name="paint_radial_preview">res/drawable/paint_radial_preview.png</drawable>
-    <drawable name="passcode_check">res/drawable-mdpi-v4/passcode_check.png</drawable>
-    <drawable name="passcode_check">res/drawable-hdpi-v4/passcode_check.png</drawable>
-    <drawable name="passcode_check">res/drawable-xhdpi-v4/passcode_check.png</drawable>
-    <drawable name="passcode_check">res/drawable-xxhdpi-v4/passcode_check.png</drawable>
-    <drawable name="passcode_delete">res/drawable-mdpi-v4/passcode_delete.png</drawable>
-    <drawable name="passcode_delete">res/drawable-hdpi-v4/passcode_delete.png</drawable>
-    <drawable name="passcode_delete">res/drawable-xhdpi-v4/passcode_delete.png</drawable>
-    <drawable name="passcode_delete">res/drawable-xxhdpi-v4/passcode_delete.png</drawable>
-    <drawable name="passcode_logo">res/drawable-mdpi-v4/passcode_logo.png</drawable>
-    <drawable name="passcode_logo">res/drawable-hdpi-v4/passcode_logo.png</drawable>
-    <drawable name="passcode_logo">res/drawable-xhdpi-v4/passcode_logo.png</drawable>
-    <drawable name="passcode_logo">res/drawable-xxhdpi-v4/passcode_logo.png</drawable>
-    <drawable name="pause_w_pressed">res/drawable-mdpi-v4/pause_w_pressed.png</drawable>
-    <drawable name="phone_activate">res/drawable-mdpi-v4/phone_activate.png</drawable>
-    <drawable name="phone_activate">res/drawable-hdpi-v4/phone_activate.png</drawable>
-    <drawable name="phone_activate">res/drawable-xhdpi-v4/phone_activate.png</drawable>
-    <drawable name="phone_activate">res/drawable-xxhdpi-v4/phone_activate.png</drawable>
-    <drawable name="phone_change">res/drawable-mdpi-v4/phone_change.png</drawable>
-    <drawable name="phone_change">res/drawable-hdpi-v4/phone_change.png</drawable>
-    <drawable name="phone_change">res/drawable-xhdpi-v4/phone_change.png</drawable>
-    <drawable name="phone_change">res/drawable-xxhdpi-v4/phone_change.png</drawable>
-    <drawable name="photo_crop">res/drawable-mdpi-v4/photo_crop.png</drawable>
-    <drawable name="photo_crop">res/drawable-hdpi-v4/photo_crop.png</drawable>
-    <drawable name="photo_crop">res/drawable-xhdpi-v4/photo_crop.png</drawable>
-    <drawable name="photo_crop">res/drawable-xxhdpi-v4/photo_crop.png</drawable>
-    <drawable name="photo_flip">res/drawable-mdpi-v4/photo_flip.png</drawable>
-    <drawable name="photo_flip">res/drawable-hdpi-v4/photo_flip.png</drawable>
-    <drawable name="photo_flip">res/drawable-xhdpi-v4/photo_flip.png</drawable>
-    <drawable name="photo_flip">res/drawable-xxhdpi-v4/photo_flip.png</drawable>
-    <drawable name="photo_outline">res/drawable-mdpi-v4/photo_outline.png</drawable>
-    <drawable name="photo_outline">res/drawable-hdpi-v4/photo_outline.png</drawable>
-    <drawable name="photo_outline">res/drawable-xhdpi-v4/photo_outline.png</drawable>
-    <drawable name="photo_outline">res/drawable-xxhdpi-v4/photo_outline.png</drawable>
-    <drawable name="photo_paint">res/drawable-mdpi-v4/photo_paint.png</drawable>
-    <drawable name="photo_paint">res/drawable-hdpi-v4/photo_paint.png</drawable>
-    <drawable name="photo_paint">res/drawable-xhdpi-v4/photo_paint.png</drawable>
-    <drawable name="photo_paint">res/drawable-xxhdpi-v4/photo_paint.png</drawable>
-    <drawable name="photo_paint2">res/drawable-mdpi-v4/photo_paint2.png</drawable>
-    <drawable name="photo_paint2">res/drawable-hdpi-v4/photo_paint2.png</drawable>
-    <drawable name="photo_paint2">res/drawable-xhdpi-v4/photo_paint2.png</drawable>
-    <drawable name="photo_paint2">res/drawable-xxhdpi-v4/photo_paint2.png</drawable>
-    <drawable name="photo_paint_brush">res/drawable-mdpi-v4/photo_paint_brush.png</drawable>
-    <drawable name="photo_paint_brush">res/drawable-hdpi-v4/photo_paint_brush.png</drawable>
-    <drawable name="photo_paint_brush">res/drawable-xhdpi-v4/photo_paint_brush.png</drawable>
-    <drawable name="photo_paint_brush">res/drawable-xxhdpi-v4/photo_paint_brush.png</drawable>
-    <drawable name="photo_paint_text">res/drawable-mdpi-v4/photo_paint_text.png</drawable>
-    <drawable name="photo_paint_text">res/drawable-hdpi-v4/photo_paint_text.png</drawable>
-    <drawable name="photo_paint_text">res/drawable-xhdpi-v4/photo_paint_text.png</drawable>
-    <drawable name="photo_paint_text">res/drawable-xxhdpi-v4/photo_paint_text.png</drawable>
-    <drawable name="photo_placeholder_in">res/drawable/photo_placeholder_in.xml</drawable>
-    <drawable name="photo_sticker">res/drawable-mdpi-v4/photo_sticker.png</drawable>
-    <drawable name="photo_sticker">res/drawable-hdpi-v4/photo_sticker.png</drawable>
-    <drawable name="photo_sticker">res/drawable-xhdpi-v4/photo_sticker.png</drawable>
-    <drawable name="photo_sticker">res/drawable-xxhdpi-v4/photo_sticker.png</drawable>
-    <drawable name="photo_text">res/drawable-mdpi-v4/photo_text.png</drawable>
-    <drawable name="photo_text">res/drawable-hdpi-v4/photo_text.png</drawable>
-    <drawable name="photo_text">res/drawable-xhdpi-v4/photo_text.png</drawable>
-    <drawable name="photo_text">res/drawable-xxhdpi-v4/photo_text.png</drawable>
-    <drawable name="photo_text2">res/drawable-mdpi-v4/photo_text2.png</drawable>
-    <drawable name="photo_text2">res/drawable-hdpi-v4/photo_text2.png</drawable>
-    <drawable name="photo_text2">res/drawable-xhdpi-v4/photo_text2.png</drawable>
-    <drawable name="photo_text2">res/drawable-xxhdpi-v4/photo_text2.png</drawable>
-    <drawable name="photo_tools">res/drawable-mdpi-v4/photo_tools.png</drawable>
-    <drawable name="photo_tools">res/drawable-hdpi-v4/photo_tools.png</drawable>
-    <drawable name="photo_tools">res/drawable-xhdpi-v4/photo_tools.png</drawable>
-    <drawable name="photo_tools">res/drawable-xxhdpi-v4/photo_tools.png</drawable>
-    <drawable name="photo_undo">res/drawable-mdpi-v4/photo_undo.png</drawable>
-    <drawable name="photo_undo">res/drawable-hdpi-v4/photo_undo.png</drawable>
-    <drawable name="photo_undo">res/drawable-xhdpi-v4/photo_undo.png</drawable>
-    <drawable name="photo_undo">res/drawable-xxhdpi-v4/photo_undo.png</drawable>
-    <drawable name="photo_w">res/drawable-mdpi-v4/photo_w.png</drawable>
-    <drawable name="photo_w">res/drawable-hdpi-v4/photo_w.png</drawable>
-    <drawable name="photo_w">res/drawable-xhdpi-v4/photo_w.png</drawable>
-    <drawable name="photo_w">res/drawable-xxhdpi-v4/photo_w.png</drawable>
-    <drawable name="photobadge">res/drawable-mdpi-v4/photobadge.9.png</drawable>
-    <drawable name="photobadge">res/drawable-hdpi-v4/photobadge.9.png</drawable>
-    <drawable name="photobadge">res/drawable-xhdpi-v4/photobadge.9.png</drawable>
-    <drawable name="photobadge">res/drawable-xxhdpi-v4/photobadge.9.png</drawable>
-    <drawable name="photoborder">res/drawable-mdpi-v4/photoborder.9.png</drawable>
-    <drawable name="photoborder">res/drawable-hdpi-v4/photoborder.9.png</drawable>
-    <drawable name="photoborder">res/drawable-xhdpi-v4/photoborder.9.png</drawable>
-    <drawable name="photoborder">res/drawable-xxhdpi-v4/photoborder.9.png</drawable>
-    <drawable name="photocheck">res/drawable-mdpi-v4/photocheck.png</drawable>
-    <drawable name="photocheck">res/drawable-hdpi-v4/photocheck.png</drawable>
-    <drawable name="photocheck">res/drawable-xhdpi-v4/photocheck.png</drawable>
-    <drawable name="photocheck">res/drawable-xxhdpi-v4/photocheck.png</drawable>
-    <drawable name="phototime">res/drawable-mdpi-v4/phototime.9.png</drawable>
-    <drawable name="phototime">res/drawable-hdpi-v4/phototime.9.png</drawable>
-    <drawable name="phototime">res/drawable-xhdpi-v4/phototime.9.png</drawable>
-    <drawable name="phototime">res/drawable-xxhdpi-v4/phototime.9.png</drawable>
-    <drawable name="phototime2">res/drawable-mdpi-v4/phototime2.9.png</drawable>
-    <drawable name="phototime2">res/drawable-hdpi-v4/phototime2.9.png</drawable>
-    <drawable name="phototime2">res/drawable-xhdpi-v4/phototime2.9.png</drawable>
-    <drawable name="phototime2">res/drawable-xxhdpi-v4/phototime2.9.png</drawable>
-    <drawable name="phototime2_b">res/drawable-mdpi-v4/phototime2_b.9.png</drawable>
-    <drawable name="phototime2_b">res/drawable-hdpi-v4/phototime2_b.9.png</drawable>
-    <drawable name="phototime2_b">res/drawable-xhdpi-v4/phototime2_b.9.png</drawable>
-    <drawable name="phototime2_b">res/drawable-xxhdpi-v4/phototime2_b.9.png</drawable>
-    <drawable name="phototime_white">res/drawable-mdpi-v4/phototime_white.9.png</drawable>
-    <drawable name="phototime_white">res/drawable-hdpi-v4/phototime_white.9.png</drawable>
-    <drawable name="phototime_white">res/drawable-xhdpi-v4/phototime_white.9.png</drawable>
-    <drawable name="phototime_white">res/drawable-xxhdpi-v4/phototime_white.9.png</drawable>
-    <drawable name="photoview_placeholder">res/drawable/photoview_placeholder.png</drawable>
-    <drawable name="pin">res/drawable-mdpi-v4/pin.png</drawable>
-    <drawable name="pin">res/drawable-hdpi-v4/pin.png</drawable>
-    <drawable name="pin">res/drawable-xhdpi-v4/pin.png</drawable>
-    <drawable name="pin">res/drawable-xxhdpi-v4/pin.png</drawable>
-    <drawable name="pl_back">res/drawable-mdpi-v4/pl_back.png</drawable>
-    <drawable name="pl_back">res/drawable-hdpi-v4/pl_back.png</drawable>
-    <drawable name="pl_back">res/drawable-xhdpi-v4/pl_back.png</drawable>
-    <drawable name="pl_back">res/drawable-xxhdpi-v4/pl_back.png</drawable>
-    <drawable name="pl_next">res/drawable-mdpi-v4/pl_next.png</drawable>
-    <drawable name="pl_next">res/drawable-hdpi-v4/pl_next.png</drawable>
-    <drawable name="pl_next">res/drawable-xhdpi-v4/pl_next.png</drawable>
-    <drawable name="pl_next">res/drawable-xxhdpi-v4/pl_next.png</drawable>
-    <drawable name="pl_pause">res/drawable-mdpi-v4/pl_pause.png</drawable>
-    <drawable name="pl_pause">res/drawable-hdpi-v4/pl_pause.png</drawable>
-    <drawable name="pl_pause">res/drawable-xhdpi-v4/pl_pause.png</drawable>
-    <drawable name="pl_pause">res/drawable-xxhdpi-v4/pl_pause.png</drawable>
-    <drawable name="pl_play">res/drawable-mdpi-v4/pl_play.png</drawable>
-    <drawable name="pl_play">res/drawable-hdpi-v4/pl_play.png</drawable>
-    <drawable name="pl_play">res/drawable-xhdpi-v4/pl_play.png</drawable>
-    <drawable name="pl_play">res/drawable-xxhdpi-v4/pl_play.png</drawable>
-    <drawable name="pl_previous">res/drawable-mdpi-v4/pl_previous.png</drawable>
-    <drawable name="pl_previous">res/drawable-hdpi-v4/pl_previous.png</drawable>
-    <drawable name="pl_previous">res/drawable-xhdpi-v4/pl_previous.png</drawable>
-    <drawable name="pl_previous">res/drawable-xxhdpi-v4/pl_previous.png</drawable>
-    <drawable name="pl_repeat">res/drawable-mdpi-v4/pl_repeat.png</drawable>
-    <drawable name="pl_repeat">res/drawable-hdpi-v4/pl_repeat.png</drawable>
-    <drawable name="pl_repeat">res/drawable-xhdpi-v4/pl_repeat.png</drawable>
-    <drawable name="pl_repeat">res/drawable-xxhdpi-v4/pl_repeat.png</drawable>
-    <drawable name="pl_repeat1">res/drawable-mdpi-v4/pl_repeat1.png</drawable>
-    <drawable name="pl_repeat1">res/drawable-hdpi-v4/pl_repeat1.png</drawable>
-    <drawable name="pl_repeat1">res/drawable-xhdpi-v4/pl_repeat1.png</drawable>
-    <drawable name="pl_repeat1">res/drawable-xxhdpi-v4/pl_repeat1.png</drawable>
-    <drawable name="pl_shuffle">res/drawable-mdpi-v4/pl_shuffle.png</drawable>
-    <drawable name="pl_shuffle">res/drawable-hdpi-v4/pl_shuffle.png</drawable>
-    <drawable name="pl_shuffle">res/drawable-xhdpi-v4/pl_shuffle.png</drawable>
-    <drawable name="pl_shuffle">res/drawable-xxhdpi-v4/pl_shuffle.png</drawable>
-    <drawable name="pl_shuffle_active">res/drawable-xxhdpi-v4/pl_shuffle_active.png</drawable>
-    <drawable name="place_x">res/drawable-mdpi-v4/place_x.png</drawable>
-    <drawable name="place_x">res/drawable-hdpi-v4/place_x.png</drawable>
-    <drawable name="place_x">res/drawable-xhdpi-v4/place_x.png</drawable>
-    <drawable name="place_x">res/drawable-xxhdpi-v4/place_x.png</drawable>
-    <drawable name="play_big">res/drawable-mdpi-v4/play_big.png</drawable>
-    <drawable name="play_big">res/drawable-hdpi-v4/play_big.png</drawable>
-    <drawable name="play_big">res/drawable-xhdpi-v4/play_big.png</drawable>
-    <drawable name="play_big">res/drawable-xxhdpi-v4/play_big.png</drawable>
-    <drawable name="player">res/drawable-mdpi-v4/player.png</drawable>
-    <drawable name="player">res/drawable-hdpi-v4/player.png</drawable>
-    <drawable name="player">res/drawable-xhdpi-v4/player.png</drawable>
-    <drawable name="player">res/drawable-xxhdpi-v4/player.png</drawable>
-    <drawable name="plus">res/drawable-mdpi-v4/plus.png</drawable>
-    <drawable name="plus">res/drawable-hdpi-v4/plus.png</drawable>
-    <drawable name="plus">res/drawable-xhdpi-v4/plus.png</drawable>
-    <drawable name="plus">res/drawable-xxhdpi-v4/plus.png</drawable>
-    <drawable name="popup_fixed">res/drawable-mdpi-v4/popup_fixed.9.png</drawable>
-    <drawable name="popup_fixed">res/drawable-hdpi-v4/popup_fixed.9.png</drawable>
-    <drawable name="popup_fixed">res/drawable-xhdpi-v4/popup_fixed.9.png</drawable>
-    <drawable name="popup_fixed">res/drawable-xxhdpi-v4/popup_fixed.9.png</drawable>
-    <drawable name="profile_info">res/drawable-mdpi-v4/profile_info.png</drawable>
-    <drawable name="profile_info">res/drawable-hdpi-v4/profile_info.png</drawable>
-    <drawable name="profile_info">res/drawable-xhdpi-v4/profile_info.png</drawable>
-    <drawable name="profile_info">res/drawable-xxhdpi-v4/profile_info.png</drawable>
-    <drawable name="profile_list">res/drawable-mdpi-v4/profile_list.png</drawable>
-    <drawable name="profile_list">res/drawable-hdpi-v4/profile_list.png</drawable>
-    <drawable name="profile_list">res/drawable-xhdpi-v4/profile_list.png</drawable>
-    <drawable name="profile_list">res/drawable-xxhdpi-v4/profile_list.png</drawable>
-    <drawable name="profile_phone">res/drawable-mdpi-v4/profile_phone.png</drawable>
-    <drawable name="profile_phone">res/drawable-hdpi-v4/profile_phone.png</drawable>
-    <drawable name="profile_phone">res/drawable-xhdpi-v4/profile_phone.png</drawable>
-    <drawable name="profile_phone">res/drawable-xxhdpi-v4/profile_phone.png</drawable>
-    <drawable name="rec">res/drawable-mdpi-v4/rec.png</drawable>
-    <drawable name="rec">res/drawable-hdpi-v4/rec.png</drawable>
-    <drawable name="rec">res/drawable-xhdpi-v4/rec.png</drawable>
-    <drawable name="rec">res/drawable-xxhdpi-v4/rec.png</drawable>
-    <drawable name="redcircle">res/drawable-mdpi-v4/redcircle.png</drawable>
-    <drawable name="redcircle">res/drawable-hdpi-v4/redcircle.png</drawable>
-    <drawable name="redcircle">res/drawable-xhdpi-v4/redcircle.png</drawable>
-    <drawable name="redcircle">res/drawable-xxhdpi-v4/redcircle.png</drawable>
-    <drawable name="regbtn2">res/drawable-mdpi-v4/regbtn2.9.png</drawable>
-    <drawable name="regbtn2">res/drawable-hdpi-v4/regbtn2.9.png</drawable>
-    <drawable name="regbtn2">res/drawable-xhdpi-v4/regbtn2.9.png</drawable>
-    <drawable name="regbtn2">res/drawable-xxhdpi-v4/regbtn2.9.png</drawable>
-    <drawable name="regbtn2_pressed">res/drawable-mdpi-v4/regbtn2_pressed.9.png</drawable>
-    <drawable name="regbtn2_pressed">res/drawable-hdpi-v4/regbtn2_pressed.9.png</drawable>
-    <drawable name="regbtn2_pressed">res/drawable-xhdpi-v4/regbtn2_pressed.9.png</drawable>
-    <drawable name="regbtn2_pressed">res/drawable-xxhdpi-v4/regbtn2_pressed.9.png</drawable>
-    <drawable name="regbtn_states">res/drawable/regbtn_states.xml</drawable>
-    <drawable name="regbtn_states">res/drawable-v21/regbtn_states.xml</drawable>
-    <drawable name="round_check2">res/drawable-mdpi-v4/round_check2.png</drawable>
-    <drawable name="round_check2">res/drawable-hdpi-v4/round_check2.png</drawable>
-    <drawable name="round_check2">res/drawable-xhdpi-v4/round_check2.png</drawable>
-    <drawable name="round_check2">res/drawable-xxhdpi-v4/round_check2.png</drawable>
-    <drawable name="round_grey">res/drawable-mdpi-v4/round_grey.png</drawable>
-    <drawable name="round_grey">res/drawable-hdpi-v4/round_grey.png</drawable>
-    <drawable name="round_grey">res/drawable-xhdpi-v4/round_grey.png</drawable>
-    <drawable name="round_grey">res/drawable-xxhdpi-v4/round_grey.png</drawable>
-    <drawable name="s_pause">res/drawable-mdpi-v4/s_pause.png</drawable>
-    <drawable name="s_pause">res/drawable-hdpi-v4/s_pause.png</drawable>
-    <drawable name="s_pause">res/drawable-xhdpi-v4/s_pause.png</drawable>
-    <drawable name="s_pause">res/drawable-xxhdpi-v4/s_pause.png</drawable>
-    <drawable name="s_play">res/drawable-mdpi-v4/s_play.png</drawable>
-    <drawable name="s_play">res/drawable-hdpi-v4/s_play.png</drawable>
-    <drawable name="s_play">res/drawable-xhdpi-v4/s_play.png</drawable>
-    <drawable name="s_play">res/drawable-xxhdpi-v4/s_play.png</drawable>
-    <drawable name="scroll_tip">res/drawable-mdpi-v4/scroll_tip.png</drawable>
-    <drawable name="scroll_tip">res/drawable-hdpi-v4/scroll_tip.png</drawable>
-    <drawable name="scroll_tip">res/drawable-xhdpi-v4/scroll_tip.png</drawable>
-    <drawable name="scroll_tip">res/drawable-xxhdpi-v4/scroll_tip.png</drawable>
-    <drawable name="search_calendar">res/drawable-mdpi-v4/search_calendar.png</drawable>
-    <drawable name="search_calendar">res/drawable-hdpi-v4/search_calendar.png</drawable>
-    <drawable name="search_calendar">res/drawable-xhdpi-v4/search_calendar.png</drawable>
-    <drawable name="search_calendar">res/drawable-xxhdpi-v4/search_calendar.png</drawable>
-    <drawable name="search_carret">res/drawable/search_carret.xml</drawable>
-    <drawable name="search_dark">res/drawable-mdpi-v4/search_dark.9.png</drawable>
-    <drawable name="search_dark">res/drawable-hdpi-v4/search_dark.9.png</drawable>
-    <drawable name="search_dark">res/drawable-xhdpi-v4/search_dark.9.png</drawable>
-    <drawable name="search_dark">res/drawable-xxhdpi-v4/search_dark.9.png</drawable>
-    <drawable name="search_dark_activated">res/drawable-mdpi-v4/search_dark_activated.9.png</drawable>
-    <drawable name="search_dark_activated">res/drawable-hdpi-v4/search_dark_activated.9.png</drawable>
-    <drawable name="search_dark_activated">res/drawable-xhdpi-v4/search_dark_activated.9.png</drawable>
-    <drawable name="search_dark_activated">res/drawable-xxhdpi-v4/search_dark_activated.9.png</drawable>
-    <drawable name="search_down">res/drawable-mdpi-v4/search_down.png</drawable>
-    <drawable name="search_down">res/drawable-hdpi-v4/search_down.png</drawable>
-    <drawable name="search_down">res/drawable-xhdpi-v4/search_down.png</drawable>
-    <drawable name="search_down">res/drawable-xxhdpi-v4/search_down.png</drawable>
-    <drawable name="search_gif">res/drawable-mdpi-v4/search_gif.png</drawable>
-    <drawable name="search_gif">res/drawable-hdpi-v4/search_gif.png</drawable>
-    <drawable name="search_gif">res/drawable-xhdpi-v4/search_gif.png</drawable>
-    <drawable name="search_gif">res/drawable-xxhdpi-v4/search_gif.png</drawable>
-    <drawable name="search_light">res/drawable-mdpi-v4/search_light.9.png</drawable>
-    <drawable name="search_light">res/drawable-hdpi-v4/search_light.9.png</drawable>
-    <drawable name="search_light">res/drawable-xhdpi-v4/search_light.9.png</drawable>
-    <drawable name="search_light">res/drawable-xxhdpi-v4/search_light.9.png</drawable>
-    <drawable name="search_light_activated">res/drawable-mdpi-v4/search_light_activated.9.png</drawable>
-    <drawable name="search_light_activated">res/drawable-hdpi-v4/search_light_activated.9.png</drawable>
-    <drawable name="search_light_activated">res/drawable-xhdpi-v4/search_light_activated.9.png</drawable>
-    <drawable name="search_light_activated">res/drawable-xxhdpi-v4/search_light_activated.9.png</drawable>
-    <drawable name="search_up">res/drawable-mdpi-v4/search_up.png</drawable>
-    <drawable name="search_up">res/drawable-hdpi-v4/search_up.png</drawable>
-    <drawable name="search_up">res/drawable-xhdpi-v4/search_up.png</drawable>
-    <drawable name="search_up">res/drawable-xxhdpi-v4/search_up.png</drawable>
-    <drawable name="search_web">res/drawable-mdpi-v4/search_web.png</drawable>
-    <drawable name="search_web">res/drawable-hdpi-v4/search_web.png</drawable>
-    <drawable name="search_web">res/drawable-xhdpi-v4/search_web.png</drawable>
-    <drawable name="search_web">res/drawable-xxhdpi-v4/search_web.png</drawable>
-    <drawable name="selectphoto_large">res/drawable-mdpi-v4/selectphoto_large.png</drawable>
-    <drawable name="selectphoto_large">res/drawable-hdpi-v4/selectphoto_large.png</drawable>
-    <drawable name="selectphoto_large">res/drawable-xhdpi-v4/selectphoto_large.png</drawable>
-    <drawable name="selectphoto_large">res/drawable-xxhdpi-v4/selectphoto_large.png</drawable>
-    <drawable name="shadowdown">res/drawable-mdpi-v4/shadowdown.png</drawable>
-    <drawable name="shadowdown">res/drawable-hdpi-v4/shadowdown.png</drawable>
-    <drawable name="shadowdown">res/drawable-xhdpi-v4/shadowdown.png</drawable>
-    <drawable name="shadowdown">res/drawable-xxhdpi-v4/shadowdown.png</drawable>
-    <drawable name="share">res/drawable-mdpi-v4/share.png</drawable>
-    <drawable name="share">res/drawable-hdpi-v4/share.png</drawable>
-    <drawable name="share">res/drawable-xhdpi-v4/share.png</drawable>
-    <drawable name="share">res/drawable-xxhdpi-v4/share.png</drawable>
-    <drawable name="share_arrow">res/drawable-mdpi-v4/share_arrow.png</drawable>
-    <drawable name="share_arrow">res/drawable-hdpi-v4/share_arrow.png</drawable>
-    <drawable name="share_arrow">res/drawable-xhdpi-v4/share_arrow.png</drawable>
-    <drawable name="share_arrow">res/drawable-xxhdpi-v4/share_arrow.png</drawable>
-    <drawable name="share_round">res/drawable-mdpi-v4/share_round.png</drawable>
-    <drawable name="share_round">res/drawable-hdpi-v4/share_round.png</drawable>
-    <drawable name="share_round">res/drawable-xhdpi-v4/share_round.png</drawable>
-    <drawable name="share_round">res/drawable-xxhdpi-v4/share_round.png</drawable>
-    <drawable name="sharedmedia">res/drawable-mdpi-v4/sharedmedia.png</drawable>
-    <drawable name="sharedmedia">res/drawable-hdpi-v4/sharedmedia.png</drawable>
-    <drawable name="sharedmedia">res/drawable-xhdpi-v4/sharedmedia.png</drawable>
-    <drawable name="sharedmedia">res/drawable-xxhdpi-v4/sharedmedia.png</drawable>
-    <drawable name="sheet_shadow">res/drawable-mdpi-v4/sheet_shadow.9.png</drawable>
-    <drawable name="sheet_shadow">res/drawable-hdpi-v4/sheet_shadow.9.png</drawable>
-    <drawable name="sheet_shadow">res/drawable-xhdpi-v4/sheet_shadow.9.png</drawable>
-    <drawable name="sheet_shadow">res/drawable-xxhdpi-v4/sheet_shadow.9.png</drawable>
-    <drawable name="sheet_shadow">res/drawable-xxxhdpi-v4/sheet_shadow.9.png</drawable>
-    <drawable name="shortcut_compose">res/drawable-mdpi-v4/shortcut_compose.png</drawable>
-    <drawable name="shortcut_compose">res/drawable-hdpi-v4/shortcut_compose.png</drawable>
-    <drawable name="shortcut_compose">res/drawable-xhdpi-v4/shortcut_compose.png</drawable>
-    <drawable name="shortcut_compose">res/drawable-xxhdpi-v4/shortcut_compose.png</drawable>
-    <drawable name="shortcut_user">res/drawable-mdpi-v4/shortcut_user.png</drawable>
-    <drawable name="shortcut_user">res/drawable-hdpi-v4/shortcut_user.png</drawable>
-    <drawable name="shortcut_user">res/drawable-xhdpi-v4/shortcut_user.png</drawable>
-    <drawable name="shortcut_user">res/drawable-xxhdpi-v4/shortcut_user.png</drawable>
-    <drawable name="slide_dot_big">res/drawable-mdpi-v4/slide_dot_big.png</drawable>
-    <drawable name="slide_dot_big">res/drawable-hdpi-v4/slide_dot_big.png</drawable>
-    <drawable name="slide_dot_big">res/drawable-xhdpi-v4/slide_dot_big.png</drawable>
-    <drawable name="slide_dot_big">res/drawable-xxhdpi-v4/slide_dot_big.png</drawable>
-    <drawable name="slide_dot_small">res/drawable-mdpi-v4/slide_dot_small.png</drawable>
-    <drawable name="slide_dot_small">res/drawable-hdpi-v4/slide_dot_small.png</drawable>
-    <drawable name="slide_dot_small">res/drawable-xhdpi-v4/slide_dot_small.png</drawable>
-    <drawable name="slide_dot_small">res/drawable-xxhdpi-v4/slide_dot_small.png</drawable>
-    <drawable name="slidearrow">res/drawable-mdpi-v4/slidearrow.png</drawable>
-    <drawable name="slidearrow">res/drawable-hdpi-v4/slidearrow.png</drawable>
-    <drawable name="slidearrow">res/drawable-xhdpi-v4/slidearrow.png</drawable>
-    <drawable name="slidearrow">res/drawable-xxhdpi-v4/slidearrow.png</drawable>
-    <drawable name="smiles_popup">res/drawable-mdpi-v4/smiles_popup.9.png</drawable>
-    <drawable name="smiles_popup">res/drawable-hdpi-v4/smiles_popup.9.png</drawable>
-    <drawable name="smiles_popup">res/drawable-xhdpi-v4/smiles_popup.9.png</drawable>
-    <drawable name="smiles_popup">res/drawable-xxhdpi-v4/smiles_popup.9.png</drawable>
-    <drawable name="spinner_states">res/drawable/spinner_states.xml</drawable>
-    <drawable name="sticker_added">res/drawable-mdpi-v4/sticker_added.png</drawable>
-    <drawable name="sticker_added">res/drawable-hdpi-v4/sticker_added.png</drawable>
-    <drawable name="sticker_added">res/drawable-xhdpi-v4/sticker_added.png</drawable>
-    <drawable name="sticker_added">res/drawable-xxhdpi-v4/sticker_added.png</drawable>
-    <drawable name="sticker_badge">res/drawable-mdpi-v4/sticker_badge.9.png</drawable>
-    <drawable name="sticker_badge">res/drawable-hdpi-v4/sticker_badge.9.png</drawable>
-    <drawable name="sticker_badge">res/drawable-xhdpi-v4/sticker_badge.9.png</drawable>
-    <drawable name="sticker_badge">res/drawable-xxhdpi-v4/sticker_badge.9.png</drawable>
-    <drawable name="stickers_back_all">res/drawable-mdpi-v4/stickers_back_all.9.png</drawable>
-    <drawable name="stickers_back_all">res/drawable-hdpi-v4/stickers_back_all.9.png</drawable>
-    <drawable name="stickers_back_all">res/drawable-xhdpi-v4/stickers_back_all.9.png</drawable>
-    <drawable name="stickers_back_all">res/drawable-xxhdpi-v4/stickers_back_all.9.png</drawable>
-    <drawable name="stickers_back_arrow">res/drawable-mdpi-v4/stickers_back_arrow.png</drawable>
-    <drawable name="stickers_back_arrow">res/drawable-hdpi-v4/stickers_back_arrow.png</drawable>
-    <drawable name="stickers_back_arrow">res/drawable-xhdpi-v4/stickers_back_arrow.png</drawable>
-    <drawable name="stickers_back_arrow">res/drawable-xxhdpi-v4/stickers_back_arrow.png</drawable>
-    <drawable name="stickers_back_center">res/drawable-mdpi-v4/stickers_back_center.9.png</drawable>
-    <drawable name="stickers_back_center">res/drawable-hdpi-v4/stickers_back_center.9.png</drawable>
-    <drawable name="stickers_back_center">res/drawable-xhdpi-v4/stickers_back_center.9.png</drawable>
-    <drawable name="stickers_back_center">res/drawable-xxhdpi-v4/stickers_back_center.9.png</drawable>
-    <drawable name="stickers_back_left">res/drawable-mdpi-v4/stickers_back_left.9.png</drawable>
-    <drawable name="stickers_back_left">res/drawable-hdpi-v4/stickers_back_left.9.png</drawable>
-    <drawable name="stickers_back_left">res/drawable-xhdpi-v4/stickers_back_left.9.png</drawable>
-    <drawable name="stickers_back_left">res/drawable-xxhdpi-v4/stickers_back_left.9.png</drawable>
-    <drawable name="stickers_back_right">res/drawable-mdpi-v4/stickers_back_right.9.png</drawable>
-    <drawable name="stickers_back_right">res/drawable-hdpi-v4/stickers_back_right.9.png</drawable>
-    <drawable name="stickers_back_right">res/drawable-xhdpi-v4/stickers_back_right.9.png</drawable>
-    <drawable name="stickers_back_right">res/drawable-xxhdpi-v4/stickers_back_right.9.png</drawable>
-    <drawable name="switch_thumb">res/drawable/switch_thumb.xml</drawable>
-    <drawable name="switch_to_on1">res/drawable-mdpi-v4/switch_to_on1.9.png</drawable>
-    <drawable name="switch_to_on1">res/drawable-hdpi-v4/switch_to_on1.9.png</drawable>
-    <drawable name="switch_to_on1">res/drawable-xhdpi-v4/switch_to_on1.9.png</drawable>
-    <drawable name="switch_to_on1">res/drawable-xxhdpi-v4/switch_to_on1.9.png</drawable>
-    <drawable name="switch_to_on2">res/drawable-mdpi-v4/switch_to_on2.9.png</drawable>
-    <drawable name="switch_to_on2">res/drawable-hdpi-v4/switch_to_on2.9.png</drawable>
-    <drawable name="switch_to_on2">res/drawable-xhdpi-v4/switch_to_on2.9.png</drawable>
-    <drawable name="switch_to_on2">res/drawable-xxhdpi-v4/switch_to_on2.9.png</drawable>
-    <drawable name="switch_to_on3">res/drawable-xxhdpi-v4/switch_to_on3.9.png</drawable>
-    <drawable name="switch_track">res/drawable-mdpi-v4/switch_track.9.png</drawable>
-    <drawable name="switch_track">res/drawable-hdpi-v4/switch_track.9.png</drawable>
-    <drawable name="switch_track">res/drawable-xhdpi-v4/switch_track.9.png</drawable>
-    <drawable name="switch_track">res/drawable-xxhdpi-v4/switch_track.9.png</drawable>
-    <drawable name="system">res/drawable-mdpi-v4/system.9.png</drawable>
-    <drawable name="system">res/drawable-hdpi-v4/system.9.png</drawable>
-    <drawable name="system">res/drawable-xhdpi-v4/system.9.png</drawable>
-    <drawable name="system">res/drawable-xxhdpi-v4/system.9.png</drawable>
-    <drawable name="system_loader">res/drawable-mdpi-v4/system_loader.png</drawable>
-    <drawable name="system_loader">res/drawable-hdpi-v4/system_loader.png</drawable>
-    <drawable name="system_loader">res/drawable-xhdpi-v4/system_loader.png</drawable>
-    <drawable name="system_loader">res/drawable-xxhdpi-v4/system_loader.png</drawable>
-    <drawable name="tab_all">res/drawable-mdpi-v4/tab_all.png</drawable>
-    <drawable name="tab_all">res/drawable-hdpi-v4/tab_all.png</drawable>
-    <drawable name="tab_all">res/drawable-xhdpi-v4/tab_all.png</drawable>
-    <drawable name="tab_all">res/drawable-xxhdpi-v4/tab_all.png</drawable>
-    <drawable name="tab_bg_selected">res/drawable-hdpi-v4/tab_bg_selected.xml</drawable>
-    <drawable name="tab_bg_selector">res/drawable-hdpi-v4/tab_bg_selector.xml</drawable>
-    <drawable name="tab_bg_unselected">res/drawable-hdpi-v4/tab_bg_unselected.xml</drawable>
-    <drawable name="tab_bot">res/drawable-mdpi-v4/tab_bot.png</drawable>
-    <drawable name="tab_bot">res/drawable-hdpi-v4/tab_bot.png</drawable>
-    <drawable name="tab_bot">res/drawable-xhdpi-v4/tab_bot.png</drawable>
-    <drawable name="tab_bot">res/drawable-xxhdpi-v4/tab_bot.png</drawable>
-    <drawable name="tab_channel">res/drawable-mdpi-v4/tab_channel.png</drawable>
-    <drawable name="tab_channel">res/drawable-hdpi-v4/tab_channel.png</drawable>
-    <drawable name="tab_channel">res/drawable-xhdpi-v4/tab_channel.png</drawable>
-    <drawable name="tab_channel">res/drawable-xxhdpi-v4/tab_channel.png</drawable>
-    <drawable name="tab_favs">res/drawable-mdpi-v4/tab_favs.png</drawable>
-    <drawable name="tab_favs">res/drawable-hdpi-v4/tab_favs.png</drawable>
-    <drawable name="tab_favs">res/drawable-xhdpi-v4/tab_favs.png</drawable>
-    <drawable name="tab_favs">res/drawable-xxhdpi-v4/tab_favs.png</drawable>
-    <drawable name="tab_group">res/drawable-mdpi-v4/tab_group.png</drawable>
-    <drawable name="tab_group">res/drawable-hdpi-v4/tab_group.png</drawable>
-    <drawable name="tab_group">res/drawable-xhdpi-v4/tab_group.png</drawable>
-    <drawable name="tab_group">res/drawable-xxhdpi-v4/tab_group.png</drawable>
-    <drawable name="tab_selected">res/drawable-hdpi-v4/tab_selected.9.png</drawable>
-    <drawable name="tab_supergroup">res/drawable-mdpi-v4/tab_supergroup.png</drawable>
-    <drawable name="tab_supergroup">res/drawable-hdpi-v4/tab_supergroup.png</drawable>
-    <drawable name="tab_supergroup">res/drawable-xhdpi-v4/tab_supergroup.png</drawable>
-    <drawable name="tab_supergroup">res/drawable-xxhdpi-v4/tab_supergroup.png</drawable>
-    <drawable name="tab_text_selector">res/drawable-hdpi-v4/tab_text_selector.xml</drawable>
-    <drawable name="tab_user">res/drawable-mdpi-v4/tab_user.png</drawable>
-    <drawable name="tab_user">res/drawable-hdpi-v4/tab_user.png</drawable>
-    <drawable name="tab_user">res/drawable-xhdpi-v4/tab_user.png</drawable>
-    <drawable name="tab_user">res/drawable-xxhdpi-v4/tab_user.png</drawable>
-    <drawable name="theme_picker">res/drawable-mdpi-v4/theme_picker.png</drawable>
-    <drawable name="theme_picker">res/drawable-hdpi-v4/theme_picker.png</drawable>
-    <drawable name="theme_picker">res/drawable-xhdpi-v4/theme_picker.png</drawable>
-    <drawable name="theme_picker">res/drawable-xxhdpi-v4/theme_picker.png</drawable>
-    <drawable name="theme_preview_image">res/drawable/theme_preview_image.jpg</drawable>
-    <drawable name="tip1">res/drawable-mdpi-v4/tip1.png</drawable>
-    <drawable name="tip1">res/drawable-hdpi-v4/tip1.png</drawable>
-    <drawable name="tip1">res/drawable-xhdpi-v4/tip1.png</drawable>
-    <drawable name="tip1">res/drawable-xxhdpi-v4/tip1.png</drawable>
-    <drawable name="tip2">res/drawable-mdpi-v4/tip2.png</drawable>
-    <drawable name="tip2">res/drawable-hdpi-v4/tip2.png</drawable>
-    <drawable name="tip2">res/drawable-xhdpi-v4/tip2.png</drawable>
-    <drawable name="tip2">res/drawable-xxhdpi-v4/tip2.png</drawable>
-    <drawable name="tip3">res/drawable-mdpi-v4/tip3.png</drawable>
-    <drawable name="tip3">res/drawable-hdpi-v4/tip3.png</drawable>
-    <drawable name="tip3">res/drawable-xhdpi-v4/tip3.png</drawable>
-    <drawable name="tip3">res/drawable-xxhdpi-v4/tip3.png</drawable>
-    <drawable name="tip4">res/drawable-mdpi-v4/tip4.png</drawable>
-    <drawable name="tip4">res/drawable-hdpi-v4/tip4.png</drawable>
-    <drawable name="tip4">res/drawable-xhdpi-v4/tip4.png</drawable>
-    <drawable name="tip4">res/drawable-xxhdpi-v4/tip4.png</drawable>
-    <drawable name="tool_blur">res/drawable-mdpi-v4/tool_blur.png</drawable>
-    <drawable name="tool_blur">res/drawable-hdpi-v4/tool_blur.png</drawable>
-    <drawable name="tool_blur">res/drawable-xhdpi-v4/tool_blur.png</drawable>
-    <drawable name="tool_blur">res/drawable-xxhdpi-v4/tool_blur.png</drawable>
-    <drawable name="tool_brightness">res/drawable-mdpi-v4/tool_brightness.png</drawable>
-    <drawable name="tool_brightness">res/drawable-hdpi-v4/tool_brightness.png</drawable>
-    <drawable name="tool_brightness">res/drawable-xhdpi-v4/tool_brightness.png</drawable>
-    <drawable name="tool_brightness">res/drawable-xxhdpi-v4/tool_brightness.png</drawable>
-    <drawable name="tool_contrast">res/drawable-mdpi-v4/tool_contrast.png</drawable>
-    <drawable name="tool_contrast">res/drawable-hdpi-v4/tool_contrast.png</drawable>
-    <drawable name="tool_contrast">res/drawable-xhdpi-v4/tool_contrast.png</drawable>
-    <drawable name="tool_contrast">res/drawable-xxhdpi-v4/tool_contrast.png</drawable>
-    <drawable name="tool_cropfix">res/drawable-mdpi-v4/tool_cropfix.png</drawable>
-    <drawable name="tool_cropfix">res/drawable-hdpi-v4/tool_cropfix.png</drawable>
-    <drawable name="tool_cropfix">res/drawable-xhdpi-v4/tool_cropfix.png</drawable>
-    <drawable name="tool_cropfix">res/drawable-xxhdpi-v4/tool_cropfix.png</drawable>
-    <drawable name="tool_cropfix_active">res/drawable-mdpi-v4/tool_cropfix_active.png</drawable>
-    <drawable name="tool_cropfix_active">res/drawable-hdpi-v4/tool_cropfix_active.png</drawable>
-    <drawable name="tool_cropfix_active">res/drawable-xhdpi-v4/tool_cropfix_active.png</drawable>
-    <drawable name="tool_cropfix_active">res/drawable-xxhdpi-v4/tool_cropfix_active.png</drawable>
-    <drawable name="tool_curve">res/drawable-mdpi-v4/tool_curve.png</drawable>
-    <drawable name="tool_curve">res/drawable-hdpi-v4/tool_curve.png</drawable>
-    <drawable name="tool_curve">res/drawable-xhdpi-v4/tool_curve.png</drawable>
-    <drawable name="tool_curve">res/drawable-xxhdpi-v4/tool_curve.png</drawable>
-    <drawable name="tool_details">res/drawable-mdpi-v4/tool_details.png</drawable>
-    <drawable name="tool_details">res/drawable-hdpi-v4/tool_details.png</drawable>
-    <drawable name="tool_details">res/drawable-xhdpi-v4/tool_details.png</drawable>
-    <drawable name="tool_details">res/drawable-xxhdpi-v4/tool_details.png</drawable>
-    <drawable name="tool_enhance">res/drawable-mdpi-v4/tool_enhance.png</drawable>
-    <drawable name="tool_enhance">res/drawable-hdpi-v4/tool_enhance.png</drawable>
-    <drawable name="tool_enhance">res/drawable-xhdpi-v4/tool_enhance.png</drawable>
-    <drawable name="tool_enhance">res/drawable-xxhdpi-v4/tool_enhance.png</drawable>
-    <drawable name="tool_fade">res/drawable-mdpi-v4/tool_fade.png</drawable>
-    <drawable name="tool_fade">res/drawable-hdpi-v4/tool_fade.png</drawable>
-    <drawable name="tool_fade">res/drawable-xhdpi-v4/tool_fade.png</drawable>
-    <drawable name="tool_fade">res/drawable-xxhdpi-v4/tool_fade.png</drawable>
-    <drawable name="tool_grain">res/drawable-mdpi-v4/tool_grain.png</drawable>
-    <drawable name="tool_grain">res/drawable-hdpi-v4/tool_grain.png</drawable>
-    <drawable name="tool_grain">res/drawable-xhdpi-v4/tool_grain.png</drawable>
-    <drawable name="tool_grain">res/drawable-xxhdpi-v4/tool_grain.png</drawable>
-    <drawable name="tool_highlights">res/drawable-mdpi-v4/tool_highlights.png</drawable>
-    <drawable name="tool_highlights">res/drawable-hdpi-v4/tool_highlights.png</drawable>
-    <drawable name="tool_highlights">res/drawable-xhdpi-v4/tool_highlights.png</drawable>
-    <drawable name="tool_highlights">res/drawable-xxhdpi-v4/tool_highlights.png</drawable>
-    <drawable name="tool_rotate">res/drawable-mdpi-v4/tool_rotate.png</drawable>
-    <drawable name="tool_rotate">res/drawable-hdpi-v4/tool_rotate.png</drawable>
-    <drawable name="tool_rotate">res/drawable-xhdpi-v4/tool_rotate.png</drawable>
-    <drawable name="tool_rotate">res/drawable-xxhdpi-v4/tool_rotate.png</drawable>
-    <drawable name="tool_saturation">res/drawable-mdpi-v4/tool_saturation.png</drawable>
-    <drawable name="tool_saturation">res/drawable-hdpi-v4/tool_saturation.png</drawable>
-    <drawable name="tool_saturation">res/drawable-xhdpi-v4/tool_saturation.png</drawable>
-    <drawable name="tool_saturation">res/drawable-xxhdpi-v4/tool_saturation.png</drawable>
-    <drawable name="tool_shadows">res/drawable-mdpi-v4/tool_shadows.png</drawable>
-    <drawable name="tool_shadows">res/drawable-hdpi-v4/tool_shadows.png</drawable>
-    <drawable name="tool_shadows">res/drawable-xhdpi-v4/tool_shadows.png</drawable>
-    <drawable name="tool_shadows">res/drawable-xxhdpi-v4/tool_shadows.png</drawable>
-    <drawable name="tool_tint">res/drawable-mdpi-v4/tool_tint.png</drawable>
-    <drawable name="tool_tint">res/drawable-hdpi-v4/tool_tint.png</drawable>
-    <drawable name="tool_tint">res/drawable-xhdpi-v4/tool_tint.png</drawable>
-    <drawable name="tool_tint">res/drawable-xxhdpi-v4/tool_tint.png</drawable>
-    <drawable name="tool_vignette">res/drawable-mdpi-v4/tool_vignette.png</drawable>
-    <drawable name="tool_vignette">res/drawable-hdpi-v4/tool_vignette.png</drawable>
-    <drawable name="tool_vignette">res/drawable-xhdpi-v4/tool_vignette.png</drawable>
-    <drawable name="tool_vignette">res/drawable-xxhdpi-v4/tool_vignette.png</drawable>
-    <drawable name="tool_warmth">res/drawable-mdpi-v4/tool_warmth.png</drawable>
-    <drawable name="tool_warmth">res/drawable-hdpi-v4/tool_warmth.png</drawable>
-    <drawable name="tool_warmth">res/drawable-xhdpi-v4/tool_warmth.png</drawable>
-    <drawable name="tool_warmth">res/drawable-xxhdpi-v4/tool_warmth.png</drawable>
-    <drawable name="transparent">res/drawable/transparent.xml</drawable>
-    <drawable name="transparentback">res/drawable-hdpi-v4/transparentback.png</drawable>
-    <drawable name="transparentbackrepeat">res/drawable-hdpi-v4/transparentbackrepeat.xml</drawable>
-    <drawable name="verified_area">res/drawable-mdpi-v4/verified_area.png</drawable>
-    <drawable name="verified_area">res/drawable-hdpi-v4/verified_area.png</drawable>
-    <drawable name="verified_area">res/drawable-xhdpi-v4/verified_area.png</drawable>
-    <drawable name="verified_area">res/drawable-xxhdpi-v4/verified_area.png</drawable>
-    <drawable name="verified_check">res/drawable-mdpi-v4/verified_check.png</drawable>
-    <drawable name="verified_check">res/drawable-hdpi-v4/verified_check.png</drawable>
-    <drawable name="verified_check">res/drawable-xhdpi-v4/verified_check.png</drawable>
-    <drawable name="verified_check">res/drawable-xxhdpi-v4/verified_check.png</drawable>
-    <drawable name="video_1080">res/drawable-mdpi-v4/video_1080.png</drawable>
-    <drawable name="video_1080">res/drawable-hdpi-v4/video_1080.png</drawable>
-    <drawable name="video_1080">res/drawable-xhdpi-v4/video_1080.png</drawable>
-    <drawable name="video_1080">res/drawable-xxhdpi-v4/video_1080.png</drawable>
-    <drawable name="video_240">res/drawable-mdpi-v4/video_240.png</drawable>
-    <drawable name="video_240">res/drawable-hdpi-v4/video_240.png</drawable>
-    <drawable name="video_240">res/drawable-xhdpi-v4/video_240.png</drawable>
-    <drawable name="video_240">res/drawable-xxhdpi-v4/video_240.png</drawable>
-    <drawable name="video_360">res/drawable-mdpi-v4/video_360.png</drawable>
-    <drawable name="video_360">res/drawable-hdpi-v4/video_360.png</drawable>
-    <drawable name="video_360">res/drawable-xhdpi-v4/video_360.png</drawable>
-    <drawable name="video_360">res/drawable-xxhdpi-v4/video_360.png</drawable>
-    <drawable name="video_480">res/drawable-mdpi-v4/video_480.png</drawable>
-    <drawable name="video_480">res/drawable-hdpi-v4/video_480.png</drawable>
-    <drawable name="video_480">res/drawable-xhdpi-v4/video_480.png</drawable>
-    <drawable name="video_480">res/drawable-xxhdpi-v4/video_480.png</drawable>
-    <drawable name="video_720">res/drawable-mdpi-v4/video_720.png</drawable>
-    <drawable name="video_720">res/drawable-hdpi-v4/video_720.png</drawable>
-    <drawable name="video_720">res/drawable-xhdpi-v4/video_720.png</drawable>
-    <drawable name="video_720">res/drawable-xxhdpi-v4/video_720.png</drawable>
-    <drawable name="video_actions">res/drawable-mdpi-v4/video_actions.png</drawable>
-    <drawable name="video_actions">res/drawable-hdpi-v4/video_actions.png</drawable>
-    <drawable name="video_actions">res/drawable-xhdpi-v4/video_actions.png</drawable>
-    <drawable name="video_actions">res/drawable-xxhdpi-v4/video_actions.png</drawable>
-    <drawable name="video_edit_play">res/drawable-mdpi-v4/video_edit_play.png</drawable>
-    <drawable name="video_edit_play">res/drawable-hdpi-v4/video_edit_play.png</drawable>
-    <drawable name="video_edit_play">res/drawable-xhdpi-v4/video_edit_play.png</drawable>
-    <drawable name="video_edit_play">res/drawable-xxhdpi-v4/video_edit_play.png</drawable>
-    <drawable name="video_play">res/drawable-mdpi-v4/video_play.png</drawable>
-    <drawable name="video_play">res/drawable-hdpi-v4/video_play.png</drawable>
-    <drawable name="video_play">res/drawable-xhdpi-v4/video_play.png</drawable>
-    <drawable name="video_play">res/drawable-xxhdpi-v4/video_play.png</drawable>
-    <drawable name="video_time_l">res/drawable-mdpi-v4/video_time_l.png</drawable>
-    <drawable name="video_time_l">res/drawable-hdpi-v4/video_time_l.png</drawable>
-    <drawable name="video_time_l">res/drawable-xhdpi-v4/video_time_l.png</drawable>
-    <drawable name="video_time_l">res/drawable-xxhdpi-v4/video_time_l.png</drawable>
-    <drawable name="video_time_r">res/drawable-mdpi-v4/video_time_r.png</drawable>
-    <drawable name="video_time_r">res/drawable-hdpi-v4/video_time_r.png</drawable>
-    <drawable name="video_time_r">res/drawable-xhdpi-v4/video_time_r.png</drawable>
-    <drawable name="video_time_r">res/drawable-xxhdpi-v4/video_time_r.png</drawable>
-    <drawable name="volume_off">res/drawable-mdpi-v4/volume_off.png</drawable>
-    <drawable name="volume_off">res/drawable-hdpi-v4/volume_off.png</drawable>
-    <drawable name="volume_off">res/drawable-xhdpi-v4/volume_off.png</drawable>
-    <drawable name="volume_off">res/drawable-xxhdpi-v4/volume_off.png</drawable>
-    <drawable name="volume_on">res/drawable-mdpi-v4/volume_on.png</drawable>
-    <drawable name="volume_on">res/drawable-hdpi-v4/volume_on.png</drawable>
-    <drawable name="volume_on">res/drawable-xhdpi-v4/volume_on.png</drawable>
-    <drawable name="volume_on">res/drawable-xxhdpi-v4/volume_on.png</drawable>
-    <drawable name="wall_selection">res/drawable-mdpi-v4/wall_selection.9.png</drawable>
-    <drawable name="wall_selection">res/drawable-hdpi-v4/wall_selection.9.png</drawable>
-    <drawable name="wall_selection">res/drawable-xhdpi-v4/wall_selection.9.png</drawable>
-    <drawable name="wall_selection">res/drawable-xxhdpi-v4/wall_selection.9.png</drawable>
-</resources>
diff --git a/TMessagesProj/src/main/res/values/ids.xml b/TMessagesProj/src/main/res/values/ids.xml
index a0c490c75..df229c746 100644
--- a/TMessagesProj/src/main/res/values/ids.xml
+++ b/TMessagesProj/src/main/res/values/ids.xml
@@ -1,6 +1,91 @@
 <resources>
-    <item name="menu_regular" type="id"/>
-    <item name="menu_bold" type="id"/>
-    <item name="menu_italic" type="id"/>
-    <item name="menu_groupbolditalic" type="id"/>
+    <item type="id" name="menu_bold" />
+    <item type="id" name="menu_groupbolditalic" />
+    <item type="id" name="menu_italic" />
+    <item type="id" name="menu_regular" />
+    <item type="id" name="colorview_tabColors">false</item>
+    <item type="id" name="color_hex_edit">false</item>
+    <item type="id" name="color_hex_btnSave">false</item>
+    <item type="id" name="color_hex_txtError">false</item>
+    <item type="id" name="colorlistscroll">false</item>
+    <item type="id" name="colorlist">false</item>
+    <item type="id" name="nocolors">false</item>
+    <item type="id" name="colorbox">false</item>
+    <item type="id" name="color_hsv_alpha">false</item>
+    <item type="id" name="color_hsv_value">false</item>
+    <item type="id" name="color_hsv_hue">false</item>
+    <item type="id" name="color_rgb_imgpreview">false</item>
+    <item type="id" name="color_rgb_tvRed">false</item>
+    <item type="id" name="color_rgb_seekRed">false</item>
+    <item type="id" name="color_rgb_tvRed_value">false</item>
+    <item type="id" name="color_rgb_tvGreen">false</item>
+    <item type="id" name="color_rgb_seekGreen">false</item>
+    <item type="id" name="color_rgb_tvGreen_value">false</item>
+    <item type="id" name="color_rgb_tvBlue">false</item>
+    <item type="id" name="color_rgb_seekBlue">false</item>
+    <item type="id" name="color_rgb_tvBlue_value">false</item>
+    <item type="id" name="color_rgb_tvAlpha">false</item>
+    <item type="id" name="color_rgb_seekAlpha">false</item>
+    <item type="id" name="color_rgb_tvAlpha_value">false</item>
+    <item type="id" name="popupbox">false</item>
+    <item type="id" name="content">false</item>
+    <item type="id" name="historyselector">false</item>
+    <item type="id" name="button_old">false</item>
+    <item type="id" name="button_new">false</item>
+    <item type="id" name="editTextDialogUserInput">false</item>
+    <item type="id" name="label_message">false</item>
+    <item type="id" name="wrapper_feedback_scroll">false</item>
+    <item type="id" name="wrapper_feedback">false</item>
+    <item type="id" name="input_name">false</item>
+    <item type="id" name="input_email">false</item>
+    <item type="id" name="input_subject">false</item>
+    <item type="id" name="input_message">false</item>
+    <item type="id" name="wrapper_attachments">false</item>
+    <item type="id" name="button_attachment">false</item>
+    <item type="id" name="button_send">false</item>
+    <item type="id" name="wrapper_messages">false</item>
+    <item type="id" name="label_last_updated">false</item>
+    <item type="id" name="wrapper_messages_buttons">false</item>
+    <item type="id" name="button_add_response">false</item>
+    <item type="id" name="button_refresh">false</item>
+    <item type="id" name="list_feedback_messages">false</item>
+    <item type="id" name="text_headline">false</item>
+    <item type="id" name="input_password">false</item>
+    <item type="id" name="button_login">false</item>
+    <item type="id" name="view_header">false</item>
+    <item type="id" name="label_title">false</item>
+    <item type="id" name="label_version">false</item>
+    <item type="id" name="button_update">false</item>
+    <item type="id" name="web_update_details">false</item>
+    <item type="id" name="label_author">false</item>
+    <item type="id" name="label_date">false</item>
+    <item type="id" name="label_text">false</item>
+    <item type="id" name="list_attachments">false</item>
+    <item type="id" name="bubble_in">false</item>
+    <item type="id" name="bubble_out">false</item>
+    <item type="id" name="bubble_title">false</item>
+    <item type="id" name="list">false</item>
+    <item type="id" name="icon_image1">false</item>
+    <item type="id" name="icon_image2">false</item>
+    <item type="id" name="intro_view_pager">false</item>
+    <item type="id" name="start_messaging_button">false</item>
+    <item type="id" name="bottom_pages">false</item>
+    <item type="id" name="background_image_intro">false</item>
+    <item type="id" name="header_text">false</item>
+    <item type="id" name="message_text">false</item>
+    <item type="id" name="player_album_art">false</item>
+    <item type="id" name="player_song_name">false</item>
+    <item type="id" name="player_close">false</item>
+    <item type="id" name="player_author_name">false</item>
+    <item type="id" name="player_progress_bar">false</item>
+    <item type="id" name="player_previous">false</item>
+    <item type="id" name="player_pause">false</item>
+    <item type="id" name="player_play">false</item>
+    <item type="id" name="player_next">false</item>
+    <item type="id" name="seekBarPrefUnitsLeft">false</item>
+    <item type="id" name="seekBarPrefUnitsRight">false</item>
+    <item type="id" name="seekBarPrefValue">false</item>
+    <item type="id" name="seekBarPrefBarContainer">false</item>
+    <item type="id" name="tabsLayout">false</item>
+    <item type="id" name="tabsText">false</item>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values/integers.xml b/TMessagesProj/src/main/res/values/integers.xml
deleted file mode 100644
index 16e43fd7f..000000000
--- a/TMessagesProj/src/main/res/values/integers.xml
+++ /dev/null
@@ -1,4 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<resources>
-    <integer name="google_play_services_version">10298000</integer>
-</resources>
diff --git a/TMessagesProj/src/main/res/values/raws.xml b/TMessagesProj/src/main/res/values/raws.xml
deleted file mode 100644
index 57ce4537b..000000000
--- a/TMessagesProj/src/main/res/values/raws.xml
+++ /dev/null
@@ -1,10 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<resources>
-    <raw name="sound_in">res/raw/sound_in.wav</raw>
-    <raw name="sound_out">res/raw/sound_out.wav</raw>
-    <raw name="voip_busy">res/raw/voip_busy.mp3</raw>
-    <raw name="voip_connecting">res/raw/voip_connecting.mp3</raw>
-    <raw name="voip_end">res/raw/voip_end.mp3</raw>
-    <raw name="voip_failed">res/raw/voip_failed.mp3</raw>
-    <raw name="voip_ringback">res/raw/voip_ringback.mp3</raw>
-</resources>
diff --git a/TMessagesProj/src/main/res/values/strings.xml b/TMessagesProj/src/main/res/values/strings.xml
index 1773fd3fa..301651916 100644
--- a/TMessagesProj/src/main/res/values/strings.xml
+++ b/TMessagesProj/src/main/res/values/strings.xml
@@ -2,7 +2,7 @@
 <resources>
     <!--multi-->
     <string name="Themes">Themes</string>
-    <string name="ThemesAppMsg">Would you like to check some themes created by other Plus Messenger users?</string>
+    <string name="ThemesAppMsg">Would you like to check some themes created by other Multi Messenger users?</string>
     <string name="SavedTo">%1$s saved to %2$s</string>
     <string name="SaveErrorMsg0">Theme not created yet. Apply any MOD first, please</string>
     <string name="NoMediaMessage">No SD card found.</string>
@@ -14,10 +14,10 @@
     <string name="Channels">Channels</string>
     <string name="Bots">Bots</string>
     <string name="Favorites">Favorites</string>
-    <string name="TelegramForAndroid">Plus Messenger for Android</string>
+    <string name="TelegramForAndroid">Multi Messenger for Android</string>
     <string name="DownloadThemes">Download themes</string>
     <string name="Theming">Theming</string>
-    <string name="PlusSettings">Plus Settings</string>
+    <string name="PlusSettings">Multi Settings</string>
     <string name="OfficialChannel">Official channel</string>
     <string name="Community">G+ community</string>
     <string name="ChatsCounters">Chats Counters</string>
@@ -32,6 +32,371 @@
     <string name="MessageSaved">Message saved to cloud</string>
     <string name="MessageSize">Message size</string>
     <string name="MessagesSaved">%s messages saved to cloud</string>
+    <string name="updatePlusText">New in version 3.18.0.3 \n\n- Increased max pinned chats to 10 (Last 5 only locally, cant be synchronized with Telegram servers) \n- Now pinned chats will be always on top when sorting by unread \n- Added recent colors view to Telegram theming dialog (as in Plus) \n- Added decimal values to RGB tab in Plus theming (easier to compare colors with Telegram themes) \n- New mod for pinned chat background color (1.2.4) \n- Swipe to reply now also works with voice messages \n- New mod to move Plus version from menu to settings (P3.2) \n- When pressing Call option user can choose between mobile or VoIP call \n- Bug fixes \n- Now Plus is able to apply Telegram themes (.attheme) directly from Plus themes app. Share your Telegram themes with all Plus users: http://plusmessenger.org/plus/uploader.php</string>
+    <string name="colorHexInvalid">Invalid color hex code!</string>
+    <string name="DeleteFromFavorites">Delete from favorites</string>
+    <string name="AddToFavorites">Add to favorites</string>
+    <string name="LeaveWithoutDelete">Leave with return option</string>
+    <string name="GoToFirstMessage">Go to first message</string>
+    <string name="ReturnToThisGroupMsg">If you return to group, you can\'t leave it after a while. Are you sure?</string>
+    <string name="ForwardNoQuote">Forward without quoting</string>
+    <string name="SaveToCloud">Save to my cloud</string>
+    <string name="Edited">edited</string>
+    <string name="ThemeApplied">Theme applied!</string>
+    <string name="ClickOkToRestart">Click OK to restart app</string>
+    <string name="Copied">%s copied to clipboard</string>
+    <string name="Screens">Screens</string>
+    <string name="MainScreen">Main screen</string>
+    <string name="ChatScreen">Chat screen</string>
+    <string name="ContactsScreen">Contacts screen</string>
+    <string name="NavigationDrawer">Navigation drawer</string>
+    <string name="ProfileScreen">Profile</string>
+    <string name="SettingsScreen">Settings/Theming screen</string>
+    <string name="SaveThemeSum">Save your theme to Telegram/Themes folder</string>
+    <string name="ResetThemeSettings">Reset theme settings</string>
+    <string name="themeColor">Theme color</string>
+    <string name="DialogColor">Dialog title/button color</string>
+    <string name="UsePlusTheme">Use Plus theming</string>
+    <string name="EnterName">Enter name</string>
+    <string name="NameTooShort">Error: Name too short</string>
+    <string name="ResetThemeToastText">Reset theme settings to default!</string>
+    <string name="AppWillRestart">Plus Messenger will restart</string>
+    <string name="ApplyThemeSum">Apply xml theme from local folder</string>
+    <string name="ResetThemeSettingsSum">Undo all theme settings</string>
+    <string name="Header">Header</string>
+    <string name="HeaderColor">Header color</string>
+    <string name="ChatList">Chat list</string>
+    <string name="AvatarRadius">Avatar radius</string>
+    <string name="AvatarSize">Avatar size</string>
+    <string name="AvatarMarginLeft">Avatar margin</string>
+    <string name="NameSize">Name size</string>
+    <string name="StatusSize">Status size</string>
+    <string name="TimeSize">Time size</string>
+    <string name="DateSize">Date size</string>
+    <string name="EditTextSize">Text input size</string>
+    <string name="BubbleStyle">Bubble style</string>
+    <string name="CheckStyle">Check style</string>
+    <string name="SetSolidBGColor">Set background color</string>
+    <string name="common_google_play_services_enable_button">Enable</string>
+    <string name="common_google_play_services_enable_text">%1$s won\'t work unless you enable Google Play services.</string>
+    <string name="common_google_play_services_enable_title">Enable Google Play services</string>
+    <string name="common_google_play_services_install_button">Install</string>
+    <string name="common_google_play_services_install_text">%1$s won\'t run without Google Play services, which are missing from your device.</string>
+    <string name="common_google_play_services_install_title">Get Google Play services</string>
+    <string name="common_google_play_services_notification_ticker">Google Play services error</string>
+    <string name="common_google_play_services_unknown_issue">%1$s is having trouble with Google Play services. Please try again.</string>
+    <string name="common_google_play_services_unsupported_text">%1$s won\'t run without Google Play services, which are not supported by your device.</string>
+    <string name="common_google_play_services_update_button">Update</string>
+    <string name="common_google_play_services_update_text">%1$s won\'t run unless you update Google Play services.</string>
+    <string name="common_google_play_services_update_title">Update Google Play services</string>
+    <string name="common_google_play_services_updating_text">%1$s won\'t run without Google Play services, which are currently updating.</string>
+    <string name="common_google_play_services_wear_update_text">New version of Google Play services needed. It will update itself shortly.</string>
+    <string name="common_open_on_phone">Open on phone</string>
+    <string name="common_signin_button_text">Sign in</string>
+    <string name="common_signin_button_text_long">Sign in with Google</string>
+    <string name="AdminStarColor">Admin star color</string>
+    <string name="Administrator">Administrator</string>
+    <string name="AlsoFavorites">also favorites</string>
+    <string name="AlwaysBackToMain">Always back to main screen</string>
+    <string name="AttachBGColor">Attach background color</string>
+    <string name="AttachTextColor">Attach text color</string>
+    <string name="AvatarAlignTop">Align contact avatar to top</string>
+    <string name="AvatarColor">Avatar color</string>
+    <string name="BackgroundColor">Background Color</string>
+    <string name="Bio">Bio</string>
+    <string name="Cancelled">Cancelled</string>
+    <string name="Center">Center</string>
+    <string name="CenterAvatar">Center avatar, name and phone</string>
+    <string name="CenterQuickBarButton">Center quick bar button</string>
+    <string name="ChannelLink">https://telegram.me/tgmulti</string>
+    <string name="ChatMusic">Music</string>
+    <string name="ChatsList">Chats list</string>
+    <string name="ChecksColor">Ticks color</string>
+    <string name="ClearLogs">Clear logs</string>
+    <string name="ClearLogsMsg">logs deleted</string>
+    <string name="ClickOnContactPic">Click on contact pic</string>
+    <string name="ClickOnGroupPic">Click on group pic</string>
+    <string name="CommandColor">Bot command color</string>
+    <string name="CommandColorCheck">Bot command color check</string>
+    <string name="ContactsList">Contacts list</string>
+    <string name="CountBGColor">Count background color</string>
+    <string name="CountColor">Count color</string>
+    <string name="CountSilentBGColor">Count silent background color</string>
+    <string name="CountSize">Count size</string>
+    <string name="CreatorStarColor">Creator star color</string>
+    <string name="DateBubbleColor">Date bubble color</string>
+    <string name="DateColor">Date color</string>
+    <string name="DialogsSettings">Dialogs</string>
+    <string name="DirectShareReplies">Direct share replies (except channels)</string>
+    <string name="DirectShareShowFavsFirst">Favorites first when direct sharing</string>
+    <string name="DirectShareToMenu">Add \'direct share\' to pop-up menu</string>
+    <string name="DisableAudioStop">Don\'t stop audio</string>
+    <string name="DisableMessageClick">Disable pop-up on click</string>
+    <string name="DisableTabsAnimation">Don\'t hide tabs on scroll</string>
+    <string name="DisableTabsScrolling">Disable tabs scrolling</string>
+    <string name="DividerColor">Divider color</string>
+    <string name="DoNotCloseQuickBar">Don\'t close quick bar</string>
+    <string name="DoNotHideStickersTab">Don\'t hide stickers tab</string>
+    <string name="Download">Download</string>
+    <string name="EditTextBGColor">Text input background color</string>
+    <string name="EditTextColor">Text input color</string>
+    <string name="EditTextIconsColor">Text input icons color</string>
+    <string name="EmojiPopupSize">Emoji Popup size</string>
+    <string name="EmojiViewBGColor">Emoji background color</string>
+    <string name="EmojiViewTabColor">Emoji selected tab color</string>
+    <string name="EmojiViewTabIconColor">Emoji tab icon color</string>
+    <string name="EnableDirectReply">Enable direct reply</string>
+    <string name="EnableGoToMessage">Enable \'Go to Message\'</string>
+    <string name="EncryptedChat">Secret chat</string>
+    <string name="FavIndicatorColor">Fav indicator color</string>
+    <string name="FitTabsToScreen">Fit tabs to screen</string>
+    <string name="FloatingBGColor">Floating background color</string>
+    <string name="FloatingPencilColor">Floating pencil color</string>
+    <string name="ForwardLeftNameColor">Forward left bubble name color</string>
+    <string name="ForwardNameColor">Forward name color</string>
+    <string name="ForwardRightNameColor">Forward right bubble name color</string>
+    <string name="GoToMessage">Go to message</string>
+    <string name="GroupIconColor">Group icon color</string>
+    <string name="GroupNameColor">Group name color</string>
+    <string name="GroupNameSize">Group name size</string>
+    <string name="HeaderIconsColor">Header icons color</string>
+    <string name="HeaderTabCounterBGColor">Tab counter background color</string>
+    <string name="HeaderTabCounterColor">Tab counter color</string>
+    <string name="HeaderTabCounterCountChats">Count chats instead of messages</string>
+    <string name="HeaderTabCounterCountNotMuted">Count only not muted messages</string>
+    <string name="HeaderTabIconColor">Tab icon color</string>
+    <string name="HeaderTabUnselectedIconColor">Tab unselected icon color</string>
+    <string name="HeaderTitle">Header title</string>
+    <string name="HeaderTitleColor">Header title color</string>
+    <string name="HideBackground">Hide custom background</string>
+    <string name="HideBackgroundShadow">Hide custom background shadow</string>
+    <string name="HideBotKeyboard">Hide bot keyboard by default</string>
+    <string name="HideInstantCamera">Hide instant camera button</string>
+    <string name="HideJoinedGroup">Hide \'joined group\' message</string>
+    <string name="HideLeftGroup">Hide \'left group\' message</string>
+    <string name="HideMobile">Hide mobile number from menu</string>
+    <string name="HidePinnedMsgAlert">Do you want to hide pinned message?</string>
+    <string name="HideQuickBarOnScroll">Hide quick bar on scroll</string>
+    <string name="HideSelectedTabIndicator">Hide selected tab indicator</string>
+    <string name="HideShowTabs">Hide/Show Tabs</string>
+    <string name="HideStatusBar">Hide status bar in photo viewer (android +4.1)</string>
+    <string name="HideStatusIndicator">Hide user status indicator</string>
+    <string name="HideSuperGroupsTab">Hide supergroups tab</string>
+    <string name="HideTabs">Hide Tabs</string>
+    <string name="HideTabsCounters">Hide tabs counters</string>
+    <string name="HighlightSearchColor">Highlight search color</string>
+    <string name="IconColor">Option icon color</string>
+    <string name="IconsColor">Icons color</string>
+    <string name="InfiniteSwipe">Infinite swipe between tabs</string>
+    <string name="InvertMessageOrder">Invert messages order</string>
+    <string name="JoinChannel">\n\nJoin Multi Messenger official channel:</string>
+    <string name="KeepOriginalFilename">Keep original filename</string>
+    <string name="KeepOriginalFilenameHelp">Instead of just numbers files will be saved using name_date format</string>
+    <string name="LBubbleColor">Left bubble color</string>
+    <string name="LLinkColor">Left link color</string>
+    <string name="LTextColor">Left text color</string>
+    <string name="LTimeColor">Left time color</string>
+    <string name="Left">Left</string>
+    <string name="LimitTabsCounter">Limit tabs counters</string>
+    <string name="ListColor">List color</string>
+    <string name="ListDividerColor">List divider color</string>
+    <string name="MarkAllAsRead">Mark all dialogs as read</string>
+    <string name="MarkAsRead">Mark as read</string>
+    <string name="MarkAsUnread">Mark as unread</string>
+    <string name="Markdown">Markdown</string>
+    <string name="MediaColor">\'Photo/Sticker\' text color</string>
+    <string name="MemberColor">Member color</string>
+    <string name="MessageColor">Message color</string>
+    <string name="MuteColor">Mute color</string>
+    <string name="MuteNewChats">Mute new chats</string>
+    <string name="NameColor">Name color</string>
+    <string name="Offline">offline</string>
+    <string name="OnlineColor">Online color</string>
+    <string name="OnlineToastHelp">Must be a contact and both \'Last Seen\' set to \'My Contacts\' or \'Everybody\'</string>
+    <string name="OptionColor">Option color</string>
+    <string name="OptionSize">Option size</string>
+    <string name="OptionsList">Options list</string>
+    <string name="OverrideNotificationsIfPlaying">Override notifications if playing</string>
+    <string name="OwnAvatarAlignTop">Align own avatar to top</string>
+    <string name="OwnNameSize">Name size</string>
+    <string name="PhoneColor">Phone color</string>
+    <string name="PhoneSize">Phone size</string>
+    <string name="PhotoQuality">Quality of sent photos(%)</string>
+    <string name="Quality">Quality: %1$s%%</string>
+    <string name="QuickBarColor">Quick bar color</string>
+    <string name="QuickBarNamesColor">Quick bar names color</string>
+    <string name="Quote">QUOTE</string>
+    <string name="RBubbleColor">Right bubble color</string>
+    <string name="RLinkColor">Right link color</string>
+    <string name="RTextColor">Right text color</string>
+    <string name="RTimeColor">Right time color</string>
+    <string name="ResetDefaultTab">Reset default tab</string>
+    <string name="ResetSettings">Reset settings</string>
+    <string name="ResetSettingsSum">Set default settings values</string>
+    <string name="RestoreSettings">Restore settings</string>
+    <string name="RestoreSettingsSum">Restore settings from local folder</string>
+    <string name="ReturnToThisGroup">Return to group</string>
+    <string name="Right">Right</string>
+    <string name="RowColor">Row color</string>
+    <string name="RowGradient">Gradient</string>
+    <string name="RowGradientBLTR">Bottom-Left Top-Right</string>
+    <string name="RowGradientColor">Gradient color</string>
+    <string name="RowGradientDisabled">Disabled</string>
+    <string name="RowGradientLeftRight">Left Right</string>
+    <string name="RowGradientList">Apply gradient to list background</string>
+    <string name="RowGradientTLBR">Top-Left Bottom-Right</string>
+    <string name="RowGradientTopBottom">Top Bottom</string>
+    <string name="Rows">Rows</string>
+    <string name="SaveSettings">Save settings</string>
+    <string name="SaveSettingsSum">Save settings to \'Telegram\' folder</string>0
+    <string name="SaveThemeToastText">Theme saved!</string>
+    <string name="SaveToCloudQuote">Quote when saving to cloud</string>
+    <string name="SearchUserOnTwitter">Search username on Twitter</string>
+    <string name="SectionColor">Section Color</string>
+    <string name="SelectedMsgBGColor">Selected message background color</string>
+    <string name="SendIcon">Send Icon</string>
+    <string name="SendLogs">Send logs</string>
+    <string name="SendLogsEmpty">There aren\'t logs</string>
+    <string name="SetAsDefaultTab">Set as default tab</string>
+    <string name="SetMemberColor">Set member color</string>
+    <string name="ShadowColor">Shadow Color</string>
+    <string name="SharedContactNameColor">Shared contact name color</string>
+    <string name="ShortcutError">Error adding %s to home screen</string>
+    <string name="ShowAndroidEmoji">Show phone emoji</string>
+    <string name="ShowContactAvatar">Show contact avatar in chat screen</string>
+    <string name="ShowDateToast">Show date toast on top</string>
+    <string name="ShowDirectShareButton">Show \'direct share\' button</string>
+    <string name="ShowEditedMark">Show edited message mark</string>
+    <string name="ShowMembersOnQuickBar">Show members in groups</string>
+    <string name="ShowOfflineToast">Show \'offline\' toast</string>
+    <string name="ShowOnlineToast">Show \'online\' toast</string>
+    <string name="ShowOnlyIfContactFav">Notify \'online\' if contact/favorite</string>
+    <string name="ShowOwnAvatar">Show own avatar in chat screen</string>
+    <string name="ShowOwnAvatarGroup">Show own avatar in group screen</string>
+    <string name="ShowPhotoQualityBar">Show photo quality bar</string>
+    <string name="ShowPics">Profile pics</string>
+    <string name="ShowQuickBar">Show quick bar</string>
+    <string name="ShowSuperGroupsTab">Show supergroups tab</string>
+    <string name="ShowTabTitle">Show tab title</string>
+    <string name="ShowTypingToast">Show \'typing\' toast</string>
+    <string name="ShowUsername">Show username with member name</string>
+    <string name="ShowUsernameInMenu">Show username instead of mobile</string>
+    <string name="SolidBGColor">Background color</string>
+    <string name="SortByLastMessage">Sort by last message</string>
+    <string name="SortByStatus">Sort by status</string>
+    <string name="SortByUnreadCount">Sort by unread messages</string>
+    <string name="SortTabs">Sort Tabs</string>
+    <string name="StatusColor">Status color</string>
+    <string name="SummaryColor">Summary/Subtitle Color</string>
+
+    <string name="SwipeToReply">Swipe to reply</string>
+
+    <string name="Tabs">Tabs</string>
+    <string name="TabsBGColor">Tabs background color</string>
+    <string name="TabsHeight">Tabs height</string>
+    <string name="TabsTextSize">Tabs text size</string>
+    <string name="TabsToBottom">Show tabs on bottom</string>
+
+    <string name="ThemeUpdated">%s has been updated</string>
+    <string name="TimeDateColor">Time/Date color</string>
+    <string name="TimeDateSize">Time/Date size</string>
+    <string name="TitleColor">Title Color</string>
+    <string name="ToastNotification">Toast notification</string>
+    <string name="ToastNotificationPadding">Toast notification padding</string>
+    <string name="ToastNotificationPosition">Toast notification position</string>
+    <string name="ToastNotificationSize">Toast notification size</string>
+    <string name="ToastNotificationToBottom">Toast notification to bottom</string>
+    <string name="Total">Total</string>
+    <string name="TypingColor">Typing color</string>
+    <string name="UnknownNameColor">Name color (unknown number)</string>
+    <string name="UseDeviceFont">Use device font</string>
+    <string name="VersionColor">Version color</string>
+    <string name="VersionSize">Version size</string>
+    <string name="VerticalQuickBar">Vertical quick bar</string>
+    <string name="restoreOkMsg">Preferences restored from sdcard</string>
+    <string name="Created">Created</string>
+    <string name="DoNotChangeHeaderTitle">Don\'t change header title</string>
+    <string name="EmojiBigSizeInfo">Not available if showing system emojis (P0.1)</string>
+    <string name="HideHeaderShadow">Hide header shadow</string>
+    <string name="LastAccess">Last access:</string>
+    <string name="MoveVersionToSettings">Move version to Settings screen</string>
+    <string name="PinnedMsgBgColor">Pinned msg background color</string>
+    <string name="TabsScreenInfo"> Uncheck any tab to hide it \n Long click to change tab position \n If Supergroups tab is hidden all supergroups will appear in groups tab \n To make tabs visible at least 2 tabs must be shown</string>
+    <string name="hockeyapp_crash_dialog_app_name_fallback">This app</string>
+    <string name="hockeyapp_crash_dialog_message">Would you like to send an anonymous report so we can fix the problem?</string>
+    <string name="hockeyapp_crash_dialog_negative_button">Don\'t Send</string>
+    <string name="hockeyapp_crash_dialog_neutral_button">Always Send</string>
+    <string name="hockeyapp_crash_dialog_positive_button">Send Report</string>
+    <string name="hockeyapp_crash_dialog_title">%s Unexpectedly Quit</string>
+    <string name="hockeyapp_dialog_error_message">An error has occurred</string>
+    <string name="hockeyapp_dialog_error_title">Error</string>
+    <string name="hockeyapp_dialog_negative_button">Cancel</string>
+    <string name="hockeyapp_dialog_positive_button">OK</string>
+    <string name="hockeyapp_download_failed_dialog_message">The update could not be downloaded. Would you like to try again?</string>
+    <string name="hockeyapp_download_failed_dialog_negative_button">Cancel</string>
+    <string name="hockeyapp_download_failed_dialog_positive_button">Retry</string>
+    <string name="hockeyapp_download_failed_dialog_title">Download Failed</string>
+    <string name="hockeyapp_error_no_network_message">Your device is not connected to the internet. Please resolve connectivity issues and try again.</string>
+    <string name="hockeyapp_expiry_info_text">%s has expired. Please check HockeyApp for any updates.</string>
+    <string name="hockeyapp_expiry_info_title">Build Expired</string>
+    <string name="hockeyapp_feedback_attach_file">Attach File</string>
+    <string name="hockeyapp_feedback_attach_picture">Attach Picture</string>
+    <string name="hockeyapp_feedback_attachment_button_text">Add Attachment</string>
+    <string name="hockeyapp_feedback_attachment_error">Error</string>
+    <string name="hockeyapp_feedback_attachment_loading">Loading</string>
+    <string name="hockeyapp_feedback_email_hint">Email</string>
+    <string name="hockeyapp_feedback_failed_text">Would you like to send your feedback again?</string>
+    <string name="hockeyapp_feedback_failed_title">Pending</string>
+    <string name="hockeyapp_feedback_fetching_feedback_text">Retrieving discussions</string>
+    <string name="hockeyapp_feedback_generic_error">An error has occurred</string>
+    <string name="hockeyapp_feedback_last_updated_text">Last Updated: %s</string>
+    <string name="hockeyapp_feedback_max_attachments_allowed">Only %s attachments allowed.</string>
+    <string name="hockeyapp_feedback_message_hint">Message</string>
+    <string name="hockeyapp_feedback_name_hint">Name</string>
+    <string name="hockeyapp_feedback_refresh_button_text">Refresh</string>
+    <string name="hockeyapp_feedback_response_button_text">Add a Response</string>
+    <string name="hockeyapp_feedback_select_file">Select File</string>
+    <string name="hockeyapp_feedback_select_picture">Select Picture</string>
+    <string name="hockeyapp_feedback_send_button_text">Send Feedback</string>
+    <string name="hockeyapp_feedback_send_generic_error">Message couldn\'t be posted. Please check your input values and your connection, then try again.</string>
+    <string name="hockeyapp_feedback_send_network_error">No response from server. Please check your connection, then try again.</string>
+    <string name="hockeyapp_feedback_sending_feedback_text">Sending feedback</string>
+    <string name="hockeyapp_feedback_subject_hint">Subject</string>
+    <string name="hockeyapp_feedback_title">Feedback</string>
+    <string name="hockeyapp_feedback_validate_email_empty">Please enter an email address</string>
+    <string name="hockeyapp_feedback_validate_email_error">Please enter a valid email address</string>
+    <string name="hockeyapp_feedback_validate_name_error">Please enter your name</string>
+    <string name="hockeyapp_feedback_validate_subject_error">Please enter a subject</string>
+    <string name="hockeyapp_feedback_validate_text_error">Message couldn\'t be posted. Please enter a feedback text</string>
+    <string name="hockeyapp_login_email_hint">Email</string>
+    <string name="hockeyapp_login_headline_text">Please enter your HockeyApp account\'s email address and password to authorize access to this app.</string>
+    <string name="hockeyapp_login_headline_text_email_only">Please enter your HockeyApp account\'s email address to authorize access to this app.</string>
+    <string name="hockeyapp_login_login_button_text">Login</string>
+    <string name="hockeyapp_login_missing_credentials_toast">Please fill in the missing account credentials.</string>
+    <string name="hockeyapp_login_password_hint">Password</string>
+    <string name="hockeyapp_paint_dialog_message">Do you want to save your drawings?</string>
+    <string name="hockeyapp_paint_dialog_negative_button">Discard</string>
+    <string name="hockeyapp_paint_dialog_neutral_button">Cancel</string>
+    <string name="hockeyapp_paint_dialog_positive_button">Save</string>
+    <string name="hockeyapp_paint_indicator_toast">Draw something!</string>
+    <string name="hockeyapp_paint_menu_clear">Clear</string>
+    <string name="hockeyapp_paint_menu_save">Save</string>
+    <string name="hockeyapp_paint_menu_undo">Undo</string>
+    <string name="hockeyapp_permission_dialog_negative_button">Cancel</string>
+    <string name="hockeyapp_permission_dialog_positive_button">Retry</string>
+    <string name="hockeyapp_permission_update_message">In order to download and install app updates you will have to allow the app to access your device storage.</string>
+    <string name="hockeyapp_permission_update_title">Need storage access</string>
+    <string name="hockeyapp_update_button">Update</string>
+    <string name="hockeyapp_update_dialog_message">Show information about the new update?</string>
+    <string name="hockeyapp_update_dialog_negative_button">Ignore</string>
+    <string name="hockeyapp_update_dialog_positive_button">Show</string>
+    <string name="hockeyapp_update_dialog_title">Update Available</string>
+    <string name="hockeyapp_update_mandatory_toast">%s is available and is a mandatory update!</string>
+
+    <string name="PlusVersion">Multi Version</string>
+
+    <string name="ShowMySettings">Show my settings</string>
+    <string name="hockeyapp_update_version_details_label">%1$s\n%2$s - %3$s</string>
     <!--app-->
     <string name="AppName">Telegram Multi</string>
     <string name="AppNameBeta">Telegram Multi Beta</string>
diff --git a/TMessagesProj/src/main/res/values/styles.xml b/TMessagesProj/src/main/res/values/styles.xml
index 24ee7f4a6..2ed59aa66 100644
--- a/TMessagesProj/src/main/res/values/styles.xml
+++ b/TMessagesProj/src/main/res/values/styles.xml
@@ -1,238 +1,89 @@
-<?xml version="1.0" encoding="utf-8"?>
-<resources>
-    <style name="myBackgroundStyle">
-        <item>?unknown_ref: 106000d</item>
-        <item>true</item>
-        <item>true</item>
-        <item>true</item>
-        <item>?unknown_ref: 0</item>
-        <item>false</item>
-    </style>
-    <style name="myBackgroundStyle">
-        <item>?unknown_ref: 106000d</item>
-        <item>true</item>
-        <item>true</item>
-        <item>true</item>
-        <item>?unknown_ref: 0</item>
-        <item>false</item>
-    </style>
-    <style name="HockeyApp.ButtonStyle">
-        <item>15sp</item>
-        <item>@color/hockeyapp_text_white</item>
-        <item>11</item>
-        <item>@drawable/hockeyapp_btn_background</item>
-    </style>
-    <style name="HockeyApp.ButtonStyle">
-        <item>15sp</item>
-        <item>@color/hockeyapp_text_white</item>
-        <item>11</item>
-        <item>@drawable/hockeyapp_btn_background</item>
-        <item>true</item>
-    </style>
-    <style name="HockeyApp.EditTextStyle">
-        <item>15sp</item>
-        <item>0</item>
-        <item>@color/hockeyapp_text_normal</item>
-        <item>@color/hockeyapp_text_light</item>
-        <item>20dp</item>
-        <item>10dp</item>
-        <item>20dp</item>
-        <item>10dp</item>
-        <item>5</item>
-    </style>
-    <style name="HockeyApp.EditTextStyle">
-        <item>15sp</item>
-        <item>0</item>
-        <item>@color/hockeyapp_text_normal</item>
-        <item>@color/hockeyapp_text_light</item>
-        <item>20dp</item>
-        <item>10dp</item>
-        <item>20dp</item>
-        <item>10dp</item>
-        <item>5</item>
-    </style>
-    <style name="HockeyApp.SingleLineInputStyle">
-        <item>true</item>
-    </style>
-    <style name="HockeyApp.SingleLineInputStyle">
-        <item>true</item>
-    </style>
-    <style name="ActionBar.Transparent.TMessages.Item">
-        <item>18sp</item>
-        <item>#000000</item>
-    </style>
-    <style name="ActionBar.Transparent.TMessages.Item">
-        <item>18sp</item>
-        <item>#000000</item>
-    </style>
-    <style name="ActionBar.Transparent.TMessages.Start">
-        <item>@color/header</item>
-        <item></item>
-        <item>@drawable/transparent</item>
-    </style>
-    <style name="ActionBar.Transparent.TMessages.Start">
-        <item>@color/header</item>
-        <item></item>
-        <item>@drawable/transparent</item>
-    </style>
-    <style name="DialogNoAnimation">
-        <item>@anim/no_animation</item>
-        <item>@anim/no_animation</item>
-    </style>
+<resources
+    xmlns:android="http://schemas.android.com/apk/res/android">
+
+    <!--THEMES-->
+
+    <style name="Theme.TMessages.Start" parent="@android:style/Theme.Holo.Light">
+        <item name="android:actionBarStyle">@style/ActionBar.Transparent.TMessages.Start</item>
+        <item name="android:colorBackground">@android:color/white</item>
+        <item name="android:windowBackground">@android:color/white</item>
+        <item name="android:windowContentOverlay">@null</item>
+    </style>
+
+    <style name="Theme.TMessages" parent="@android:style/Theme.Holo.Light">
+        <item name="android:windowActionBar">false</item>
+        <item name="android:windowNoTitle">true</item>
+        <item name="android:windowActionBarOverlay">false</item>
+        <item name="android:windowContentOverlay">@null</item>
+        <item name="android:colorBackground">@android:color/white</item>
+        <item name="android:windowBackground">@android:color/white</item>
+        <item name="android:itemTextAppearance">@style/ActionBar.Transparent.TMessages.Item</item>
+        <item name="android:listViewStyle">@style/Theme.TMessages.ListView</item>
+        <item name="android:listChoiceBackgroundIndicator">@drawable/list_selector</item>
+        <item name="android:editTextStyle">@style/Theme.TMessages.EditText</item>
+        <item name="android:actionBarItemBackground">@drawable/bar_selector_style</item>
+    </style>
+
+    <style name="Theme.TMessages.PopupNotification" parent="Theme.TMessages">
+        <item name="android:windowBackground">@android:color/transparent</item>
+        <item name="android:windowIsTranslucent">true</item>
+        <item name="android:windowAnimationStyle">@null</item>
+        <item name="android:windowActionBar">false</item>
+        <item name="android:windowNoTitle">true</item>
+    </style>
+
+    <!-- POPUP -->
+
+    <style name="PopupAnimation" parent="android:Animation" mce_bogus="1">
+        <item name="android:windowEnterAnimation">@anim/popup_in</item>
+        <item name="android:windowExitAnimation">@anim/popup_out</item>
+    </style>
+
+    <!--ACTION BAR-->
+
+    <style name="ActionBar.Transparent.TMessages.Start" parent="android:style/Widget.Holo.Light.ActionBar">
+        <item name="android:background">@color/header</item>
+        <item name="android:logo">@drawable/transparent</item>
+        <item name="android:title">""</item>
+    </style>
+
+    <!--ACTION BAR ITEMS-->
+
+    <style name="ActionBar.Transparent.TMessages.Item" parent="android:TextAppearance.Widget.IconMenu.Item">
+        <item name="android:textColor">#000000</item>
+        <item name="android:textSize">18sp</item>
+    </style>
+
+    <!--LIST VIEW-->
+
+    <style name="Theme.TMessages.ListView" parent="@android:style/Widget.ListView">
+        <item name="android:listSelector">@drawable/list_selector</item>
+        <item name="android:fadingEdge">none</item>
+        <item name="android:dividerHeight">1dp</item>
+        <item name="android:divider">@color/divider</item>
+    </style>
+
+    <!--EDIT TEXT-->
+
+    <style name="Theme.TMessages.EditText" parent="android:Widget.EditText">
+        <item name="android:background">@drawable/edit_text</item>
+        <item name="android:textColor">#000000</item>
+    </style>
+
+    <!--ALERT DIALOG-->
+
     <style name="DialogNoAnimation">
-        <item>?unknown_ref: 0</item>
-        <item>?unknown_ref: 0</item>
-    </style>
-    <style name="Theme.TMessages">
-        <item>?unknown_ref: 106000b</item>
-        <item>?unknown_ref: 106000b</item>
-        <item>true</item>
-        <item>?unknown_ref: 0</item>
-        <item>@style/Theme.TMessages.ListView</item>
-        <item>@style/ActionBar.Transparent.TMessages.Item</item>
-        <item>false</item>
-        <item>false</item>
-        <item>@drawable/list_selector_ex</item>
-        <item>@drawable/bar_selector_style</item>
-    </style>
-    <style name="Theme.TMessages">
-        <item>?unknown_ref: 106000b</item>
-        <item>?unknown_ref: 106000b</item>
-        <item>true</item>
-        <item>?unknown_ref: 0</item>
-        <item>@style/Theme.TMessages.ListView</item>
-        <item>@style/ActionBar.Transparent.TMessages.Item</item>
-        <item>false</item>
-        <item>false</item>
-        <item>@drawable/list_selector_ex</item>
-        <item>@style/Theme.TMessages.Dialog.Alert</item>
-        <item>@style/Theme.TMessages.DatePicker</item>
-        <item>@style/Theme.TMessages.CalendarView</item>
-        <item>@drawable/bar_selector_style</item>
-        <item>@color/primary_light</item>
-        <item>@color/header</item>
-        <item>#33000000</item>
-        <item>@style/Theme.TMessages.Dialog.Alert</item>
-    </style>
-    <style name="Theme.TMessages.BorderLessButton">
-        <item>@color/primary_dark</item>
-    </style>
-    <style name="Theme.TMessages.CalendarView">
-        <item>@style/Theme.TMessages.DayOfWeek</item>
-    </style>
-    <style name="Theme.TMessages.DatePicker">
-        <item>#408bc8</item>
-    </style>
-    <style name="Theme.TMessages.DayOfWeek">
-        <item>0dp</item>
-        <item>#00000000</item>
-    </style>
-    <style name="Theme.TMessages.Dialog.Alert">
-        <item>@color/primary_light</item>
-    </style>
-    <style name="Theme.TMessages.ListView">
-        <item>0</item>
-        <item>@drawable/list_selector_ex</item>
-        <item>@color/divider</item>
-        <item>1dp</item>
-    </style>
-    <style name="Theme.TMessages.ListView">
-        <item>0</item>
-        <item>@color/divider</item>
-        <item>1dp</item>
-    </style>
-    <style name="Theme.TMessages.PopupNotification">
-        <item>?unknown_ref: 106000d</item>
-        <item>true</item>
-        <item>true</item>
-        <item>?unknown_ref: 0</item>
-        <item>false</item>
-    </style>
-    <style name="Theme.TMessages.PopupNotification">
-        <item>?unknown_ref: 106000d</item>
-        <item>true</item>
-        <item>true</item>
-        <item>?unknown_ref: 0</item>
-        <item>false</item>
-        <item>#99000000</item>
-    </style>
-    <style name="Theme.TMessages.Start">
-        <item>?unknown_ref: 106000b</item>
-        <item>?unknown_ref: 106000b</item>
-        <item>?unknown_ref: 0</item>
-        <item>@style/ActionBar.Transparent.TMessages.Start</item>
-    </style>
-    <style name="Theme.TMessages.Start">
-        <item>?unknown_ref: 106000b</item>
-        <item>?unknown_ref: 106000b</item>
-        <item>?unknown_ref: 0</item>
-        <item>@style/ActionBar.Transparent.TMessages.Start</item>
-        <item>@color/header</item>
-        <item>@color/primary_dark</item>
-    </style>
-    <style name="Theme.TMessages.Transparent">
-        <item>?unknown_ref: 106000d</item>
-        <item>true</item>
-        <item>true</item>
-        <item>true</item>
-        <item>?unknown_ref: 0</item>
-        <item>?unknown_ref: 0</item>
-        <item>false</item>
-        <item>?unknown_ref: 0</item>
-        <item>false</item>
-        <item>false</item>
-    </style>
-    <style name="Theme.TMessages.Transparent">
-        <item>?unknown_ref: 106000d</item>
-        <item>true</item>
-        <item>true</item>
-        <item>true</item>
-        <item>?unknown_ref: 0</item>
-        <item>?unknown_ref: 0</item>
-        <item>false</item>
-        <item>?unknown_ref: 0</item>
-        <item>false</item>
-        <item>false</item>
-    </style>
-    <style name="Theme.TMessages.TransparentWithAlerts">
-        <item>?unknown_ref: 106000d</item>
-        <item>true</item>
-        <item>true</item>
-        <item>?unknown_ref: 0</item>
-        <item>?unknown_ref: 0</item>
-        <item>false</item>
-    </style>
-    <style name="Theme.TMessages.TransparentWithAlerts">
-        <item>?unknown_ref: 106000d</item>
-        <item>true</item>
-        <item>true</item>
-        <item>?unknown_ref: 0</item>
-        <item>?unknown_ref: 0</item>
-        <item>false</item>
-    </style>
-    <style name="TransparentDialog">
-        <item>?unknown_ref: 106000d</item>
-        <item>true</item>
-        <item>true</item>
-        <item>true</item>
-        <item>?unknown_ref: 0</item>
-        <item>?unknown_ref: 0</item>
-        <item>false</item>
-    </style>
-    <style name="TransparentDialog">
-        <item>?unknown_ref: 106000d</item>
-        <item>?unknown_ref: 0</item>
-        <item>true</item>
-        <item>true</item>
-        <item>true</item>
-        <item>?unknown_ref: 0</item>
-        <item>?unknown_ref: 0</item>
-        <item>false</item>
-        <item>false</item>
-        <item>?unknown_ref: 0</item>
-    </style>
-    <style name="PopupAnimation">
-        <item>@anim/popup_in</item>
-        <item>@anim/popup_out</item>
-    </style>
-</resources>
+        <item name="android:windowEnterAnimation">@anim/no_animation</item>
+        <item name="android:windowExitAnimation">@anim/no_animation</item>
+    </style>
+
+
+    <style name="myBackgroundStyle" parent="@android:style/Theme.Dialog">
+        <item name="android:windowBackground">@android:color/transparent</item>
+        <item name="android:windowNoTitle">true</item>
+        <item name="android:windowIsFloating">true</item>
+        <item name="android:windowIsTranslucent">true</item>
+        <item name="android:windowContentOverlay">@null</item>
+        <item name="android:backgroundDimEnabled">false</item>
+    </style>
+</resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values/xmls.xml b/TMessagesProj/src/main/res/values/xmls.xml
deleted file mode 100644
index 49857cd5b..000000000
--- a/TMessagesProj/src/main/res/values/xmls.xml
+++ /dev/null
@@ -1,9 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<resources>
-    <xml name="auth">res/xml/auth.xml</xml>
-    <xml name="auth_menu">res/xml/auth_menu.xml</xml>
-    <xml name="automotive_app_desc">res/xml/automotive_app_desc.xml</xml>
-    <xml name="contacts">res/xml/contacts.xml</xml>
-    <xml name="provider_paths">res/xml/provider_paths.xml</xml>
-    <xml name="sync_contacts">res/xml/sync_contacts.xml</xml>
-</resources>
